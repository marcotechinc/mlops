--
-- PostgreSQL database dump
--

\restrict 2u0mefWHqlvwmVfsrj11jXLe2FwieRqJFMMYs2IgKdxv8RCyUvQg9z1aXveaJFB

-- Dumped from database version 16.11 (Debian 16.11-1.pgdg13+1)
-- Dumped by pg_dump version 18.0

-- Started on 2025-12-10 19:22:10

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 2 (class 3079 OID 24577)
-- Name: uuid-ossp; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS "uuid-ossp" WITH SCHEMA public;


--
-- TOC entry 3958 (class 0 OID 0)
-- Dependencies: 2
-- Name: EXTENSION "uuid-ossp"; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION "uuid-ossp" IS 'generate universally unique identifiers (UUIDs)';


--
-- TOC entry 295 (class 1255 OID 57662)
-- Name: increment_workflow_version(); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public.increment_workflow_version() RETURNS trigger
    LANGUAGE plpgsql
    AS $$
			BEGIN
				IF NEW."versionCounter" IS NOT DISTINCT FROM OLD."versionCounter" THEN
					NEW."versionCounter" = OLD."versionCounter" + 1;
				END IF;
				RETURN NEW;
			END;
			$$;


ALTER FUNCTION public.increment_workflow_version() OWNER TO postgres;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 252 (class 1259 OID 25356)
-- Name: annotation_tag_entity; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.annotation_tag_entity (
    id character varying(16) NOT NULL,
    name character varying(24) NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL
);


ALTER TABLE public.annotation_tag_entity OWNER TO postgres;

--
-- TOC entry 237 (class 1259 OID 24883)
-- Name: auth_identity; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.auth_identity (
    "userId" uuid,
    "providerId" character varying(64) NOT NULL,
    "providerType" character varying(32) NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL
);


ALTER TABLE public.auth_identity OWNER TO postgres;

--
-- TOC entry 239 (class 1259 OID 24896)
-- Name: auth_provider_sync_history; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.auth_provider_sync_history (
    id integer NOT NULL,
    "providerType" character varying(32) NOT NULL,
    "runMode" text NOT NULL,
    status text NOT NULL,
    "startedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    "endedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    scanned integer NOT NULL,
    created integer NOT NULL,
    updated integer NOT NULL,
    disabled integer NOT NULL,
    error text
);


ALTER TABLE public.auth_provider_sync_history OWNER TO postgres;

--
-- TOC entry 238 (class 1259 OID 24895)
-- Name: auth_provider_sync_history_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.auth_provider_sync_history_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.auth_provider_sync_history_id_seq OWNER TO postgres;

--
-- TOC entry 3959 (class 0 OID 0)
-- Dependencies: 238
-- Name: auth_provider_sync_history_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.auth_provider_sync_history_id_seq OWNED BY public.auth_provider_sync_history.id;


--
-- TOC entry 282 (class 1259 OID 57709)
-- Name: binary_data; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.binary_data (
    "fileId" uuid NOT NULL,
    "sourceType" character varying(50) NOT NULL,
    "sourceId" character varying(255) NOT NULL,
    data bytea NOT NULL,
    "mimeType" character varying(255),
    "fileName" character varying(255),
    "fileSize" integer NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    CONSTRAINT "CHK_binary_data_sourceType" CHECK ((("sourceType")::text = ANY ((ARRAY['execution'::character varying, 'chat_message_attachment'::character varying])::text[])))
);


ALTER TABLE public.binary_data OWNER TO postgres;

--
-- TOC entry 3960 (class 0 OID 0)
-- Dependencies: 282
-- Name: COLUMN binary_data."sourceType"; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.binary_data."sourceType" IS 'Source the file belongs to, e.g. ''execution''';


--
-- TOC entry 3961 (class 0 OID 0)
-- Dependencies: 282
-- Name: COLUMN binary_data."sourceId"; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.binary_data."sourceId" IS 'ID of the source, e.g. execution ID';


--
-- TOC entry 3962 (class 0 OID 0)
-- Dependencies: 282
-- Name: COLUMN binary_data.data; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.binary_data.data IS 'Raw, not base64 encoded';


--
-- TOC entry 3963 (class 0 OID 0)
-- Dependencies: 282
-- Name: COLUMN binary_data."fileSize"; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.binary_data."fileSize" IS 'In bytes';


--
-- TOC entry 273 (class 1259 OID 57534)
-- Name: chat_hub_agents; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.chat_hub_agents (
    id uuid NOT NULL,
    name character varying(256) NOT NULL,
    description character varying(512),
    "systemPrompt" text NOT NULL,
    "ownerId" uuid NOT NULL,
    "credentialId" character varying(36),
    provider character varying(16) NOT NULL,
    model character varying(64) NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    tools json DEFAULT '[]'::json NOT NULL
);


ALTER TABLE public.chat_hub_agents OWNER TO postgres;

--
-- TOC entry 3964 (class 0 OID 0)
-- Dependencies: 273
-- Name: COLUMN chat_hub_agents.provider; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.chat_hub_agents.provider IS 'ChatHubProvider enum: "openai", "anthropic", "google", "n8n"';


--
-- TOC entry 3965 (class 0 OID 0)
-- Dependencies: 273
-- Name: COLUMN chat_hub_agents.model; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.chat_hub_agents.model IS 'Model name used at the respective Model node, ie. "gpt-4"';


--
-- TOC entry 3966 (class 0 OID 0)
-- Dependencies: 273
-- Name: COLUMN chat_hub_agents.tools; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.chat_hub_agents.tools IS 'Tools available to the agent as JSON node definitions';


--
-- TOC entry 272 (class 1259 OID 57488)
-- Name: chat_hub_messages; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.chat_hub_messages (
    id uuid NOT NULL,
    "sessionId" uuid NOT NULL,
    "previousMessageId" uuid,
    "revisionOfMessageId" uuid,
    "retryOfMessageId" uuid,
    type character varying(16) NOT NULL,
    name character varying(128) NOT NULL,
    content text NOT NULL,
    provider character varying(16),
    model character varying(64),
    "workflowId" character varying(36),
    "executionId" integer,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "agentId" character varying(36),
    status character varying(16) DEFAULT 'success'::character varying NOT NULL,
    attachments json
);


ALTER TABLE public.chat_hub_messages OWNER TO postgres;

--
-- TOC entry 3967 (class 0 OID 0)
-- Dependencies: 272
-- Name: COLUMN chat_hub_messages.type; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.chat_hub_messages.type IS 'ChatHubMessageType enum: "human", "ai", "system", "tool", "generic"';


--
-- TOC entry 3968 (class 0 OID 0)
-- Dependencies: 272
-- Name: COLUMN chat_hub_messages.provider; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.chat_hub_messages.provider IS 'ChatHubProvider enum: "openai", "anthropic", "google", "n8n"';


--
-- TOC entry 3969 (class 0 OID 0)
-- Dependencies: 272
-- Name: COLUMN chat_hub_messages.model; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.chat_hub_messages.model IS 'Model name used at the respective Model node, ie. "gpt-4"';


--
-- TOC entry 3970 (class 0 OID 0)
-- Dependencies: 272
-- Name: COLUMN chat_hub_messages."agentId"; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.chat_hub_messages."agentId" IS 'ID of the custom agent (if provider is "custom-agent")';


--
-- TOC entry 3971 (class 0 OID 0)
-- Dependencies: 272
-- Name: COLUMN chat_hub_messages.status; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.chat_hub_messages.status IS 'ChatHubMessageStatus enum, eg. "success", "error", "running", "cancelled"';


--
-- TOC entry 3972 (class 0 OID 0)
-- Dependencies: 272
-- Name: COLUMN chat_hub_messages.attachments; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.chat_hub_messages.attachments IS 'File attachments for the message (if any), stored as JSON. Files are stored as base64-encoded data URLs.';


--
-- TOC entry 271 (class 1259 OID 57466)
-- Name: chat_hub_sessions; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.chat_hub_sessions (
    id uuid NOT NULL,
    title character varying(256) NOT NULL,
    "ownerId" uuid NOT NULL,
    "lastMessageAt" timestamp(3) with time zone,
    "credentialId" character varying(36),
    provider character varying(16),
    model character varying(64),
    "workflowId" character varying(36),
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "agentId" character varying(36),
    "agentName" character varying(128),
    tools json DEFAULT '[]'::json NOT NULL
);


ALTER TABLE public.chat_hub_sessions OWNER TO postgres;

--
-- TOC entry 3973 (class 0 OID 0)
-- Dependencies: 271
-- Name: COLUMN chat_hub_sessions.provider; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.chat_hub_sessions.provider IS 'ChatHubProvider enum: "openai", "anthropic", "google", "n8n"';


--
-- TOC entry 3974 (class 0 OID 0)
-- Dependencies: 271
-- Name: COLUMN chat_hub_sessions.model; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.chat_hub_sessions.model IS 'Model name used at the respective Model node, ie. "gpt-4"';


--
-- TOC entry 3975 (class 0 OID 0)
-- Dependencies: 271
-- Name: COLUMN chat_hub_sessions."agentId"; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.chat_hub_sessions."agentId" IS 'ID of the custom agent (if provider is "custom-agent")';


--
-- TOC entry 3976 (class 0 OID 0)
-- Dependencies: 271
-- Name: COLUMN chat_hub_sessions."agentName"; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.chat_hub_sessions."agentName" IS 'Cached name of the custom agent (if provider is "custom-agent")';


--
-- TOC entry 3977 (class 0 OID 0)
-- Dependencies: 271
-- Name: COLUMN chat_hub_sessions.tools; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.chat_hub_sessions.tools IS 'Tools available to the agent as JSON node definitions';


--
-- TOC entry 224 (class 1259 OID 24598)
-- Name: credentials_entity; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.credentials_entity (
    name character varying(128) NOT NULL,
    data text NOT NULL,
    type character varying(128) NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    id character varying(36) NOT NULL,
    "isManaged" boolean DEFAULT false NOT NULL,
    "isGlobal" boolean DEFAULT false NOT NULL
);


ALTER TABLE public.credentials_entity OWNER TO postgres;

--
-- TOC entry 269 (class 1259 OID 57416)
-- Name: data_table; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.data_table (
    id character varying(36) NOT NULL,
    name character varying(128) NOT NULL,
    "projectId" character varying(36) NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL
);


ALTER TABLE public.data_table OWNER TO postgres;

--
-- TOC entry 270 (class 1259 OID 57430)
-- Name: data_table_column; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.data_table_column (
    id character varying(36) NOT NULL,
    name character varying(128) NOT NULL,
    type character varying(32) NOT NULL,
    index integer NOT NULL,
    "dataTableId" character varying(36) NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL
);


ALTER TABLE public.data_table_column OWNER TO postgres;

--
-- TOC entry 3978 (class 0 OID 0)
-- Dependencies: 270
-- Name: COLUMN data_table_column.type; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.data_table_column.type IS 'Expected: string, number, boolean, or date (not enforced as a constraint)';


--
-- TOC entry 3979 (class 0 OID 0)
-- Dependencies: 270
-- Name: COLUMN data_table_column.index; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.data_table_column.index IS 'Column order, starting from 0 (0 = first column)';


--
-- TOC entry 236 (class 1259 OID 24852)
-- Name: event_destinations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.event_destinations (
    id uuid NOT NULL,
    destination jsonb NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL
);


ALTER TABLE public.event_destinations OWNER TO postgres;

--
-- TOC entry 253 (class 1259 OID 25364)
-- Name: execution_annotation_tags; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.execution_annotation_tags (
    "annotationId" integer NOT NULL,
    "tagId" character varying(24) NOT NULL
);


ALTER TABLE public.execution_annotation_tags OWNER TO postgres;

--
-- TOC entry 251 (class 1259 OID 25340)
-- Name: execution_annotations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.execution_annotations (
    id integer NOT NULL,
    "executionId" integer NOT NULL,
    vote character varying(6),
    note text,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL
);


ALTER TABLE public.execution_annotations OWNER TO postgres;

--
-- TOC entry 250 (class 1259 OID 25339)
-- Name: execution_annotations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.execution_annotations_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.execution_annotations_id_seq OWNER TO postgres;

--
-- TOC entry 3980 (class 0 OID 0)
-- Dependencies: 250
-- Name: execution_annotations_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.execution_annotations_id_seq OWNED BY public.execution_annotations.id;


--
-- TOC entry 241 (class 1259 OID 24991)
-- Name: execution_data; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.execution_data (
    "executionId" integer NOT NULL,
    "workflowData" json NOT NULL,
    data text NOT NULL
);


ALTER TABLE public.execution_data OWNER TO postgres;

--
-- TOC entry 226 (class 1259 OID 24608)
-- Name: execution_entity; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.execution_entity (
    id integer NOT NULL,
    finished boolean NOT NULL,
    mode character varying NOT NULL,
    "retryOf" character varying,
    "retrySuccessId" character varying,
    "startedAt" timestamp(3) with time zone,
    "stoppedAt" timestamp(3) with time zone,
    "waitTill" timestamp(3) with time zone,
    status character varying NOT NULL,
    "workflowId" character varying(36) NOT NULL,
    "deletedAt" timestamp(3) with time zone,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL
);


ALTER TABLE public.execution_entity OWNER TO postgres;

--
-- TOC entry 225 (class 1259 OID 24607)
-- Name: execution_entity_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.execution_entity_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.execution_entity_id_seq OWNER TO postgres;

--
-- TOC entry 3981 (class 0 OID 0)
-- Dependencies: 225
-- Name: execution_entity_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.execution_entity_id_seq OWNED BY public.execution_entity.id;


--
-- TOC entry 248 (class 1259 OID 25315)
-- Name: execution_metadata; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.execution_metadata (
    id integer NOT NULL,
    "executionId" integer NOT NULL,
    key character varying(255) NOT NULL,
    value text NOT NULL
);


ALTER TABLE public.execution_metadata OWNER TO postgres;

--
-- TOC entry 247 (class 1259 OID 25314)
-- Name: execution_metadata_temp_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.execution_metadata_temp_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.execution_metadata_temp_id_seq OWNER TO postgres;

--
-- TOC entry 3982 (class 0 OID 0)
-- Dependencies: 247
-- Name: execution_metadata_temp_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.execution_metadata_temp_id_seq OWNED BY public.execution_metadata.id;


--
-- TOC entry 256 (class 1259 OID 25508)
-- Name: folder; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.folder (
    id character varying(36) NOT NULL,
    name character varying(128) NOT NULL,
    "parentFolderId" character varying(36),
    "projectId" character varying(36) NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL
);


ALTER TABLE public.folder OWNER TO postgres;

--
-- TOC entry 257 (class 1259 OID 25526)
-- Name: folder_tag; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.folder_tag (
    "folderId" character varying(36) NOT NULL,
    "tagId" character varying(36) NOT NULL
);


ALTER TABLE public.folder_tag OWNER TO postgres;

--
-- TOC entry 263 (class 1259 OID 25622)
-- Name: insights_by_period; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.insights_by_period (
    id integer NOT NULL,
    "metaId" integer NOT NULL,
    type integer NOT NULL,
    value bigint NOT NULL,
    "periodUnit" integer NOT NULL,
    "periodStart" timestamp(0) with time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.insights_by_period OWNER TO postgres;

--
-- TOC entry 3983 (class 0 OID 0)
-- Dependencies: 263
-- Name: COLUMN insights_by_period.type; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.insights_by_period.type IS '0: time_saved_minutes, 1: runtime_milliseconds, 2: success, 3: failure';


--
-- TOC entry 3984 (class 0 OID 0)
-- Dependencies: 263
-- Name: COLUMN insights_by_period."periodUnit"; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.insights_by_period."periodUnit" IS '0: hour, 1: day, 2: week';


--
-- TOC entry 262 (class 1259 OID 25621)
-- Name: insights_by_period_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.insights_by_period ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.insights_by_period_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 259 (class 1259 OID 25593)
-- Name: insights_metadata; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.insights_metadata (
    "metaId" integer NOT NULL,
    "workflowId" character varying(16),
    "projectId" character varying(36),
    "workflowName" character varying(128) NOT NULL,
    "projectName" character varying(255) NOT NULL
);


ALTER TABLE public.insights_metadata OWNER TO postgres;

--
-- TOC entry 258 (class 1259 OID 25592)
-- Name: insights_metadata_metaId_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.insights_metadata ALTER COLUMN "metaId" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."insights_metadata_metaId_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 261 (class 1259 OID 25610)
-- Name: insights_raw; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.insights_raw (
    id integer NOT NULL,
    "metaId" integer NOT NULL,
    type integer NOT NULL,
    value bigint NOT NULL,
    "timestamp" timestamp(0) with time zone DEFAULT CURRENT_TIMESTAMP NOT NULL
);


ALTER TABLE public.insights_raw OWNER TO postgres;

--
-- TOC entry 3985 (class 0 OID 0)
-- Dependencies: 261
-- Name: COLUMN insights_raw.type; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.insights_raw.type IS '0: time_saved_minutes, 1: runtime_milliseconds, 2: success, 3: failure';


--
-- TOC entry 260 (class 1259 OID 25609)
-- Name: insights_raw_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.insights_raw ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.insights_raw_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 234 (class 1259 OID 24801)
-- Name: installed_nodes; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.installed_nodes (
    name character varying(200) NOT NULL,
    type character varying(200) NOT NULL,
    "latestVersion" integer DEFAULT 1 NOT NULL,
    package character varying(241) NOT NULL
);


ALTER TABLE public.installed_nodes OWNER TO postgres;

--
-- TOC entry 233 (class 1259 OID 24794)
-- Name: installed_packages; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.installed_packages (
    "packageName" character varying(214) NOT NULL,
    "installedVersion" character varying(50) NOT NULL,
    "authorName" character varying(70),
    "authorEmail" character varying(70),
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL
);


ALTER TABLE public.installed_packages OWNER TO postgres;

--
-- TOC entry 249 (class 1259 OID 25329)
-- Name: invalid_auth_token; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.invalid_auth_token (
    token character varying(512) NOT NULL,
    "expiresAt" timestamp(3) with time zone NOT NULL
);


ALTER TABLE public.invalid_auth_token OWNER TO postgres;

--
-- TOC entry 223 (class 1259 OID 24589)
-- Name: migrations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.migrations (
    id integer NOT NULL,
    "timestamp" bigint NOT NULL,
    name character varying NOT NULL
);


ALTER TABLE public.migrations OWNER TO postgres;

--
-- TOC entry 222 (class 1259 OID 24588)
-- Name: migrations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.migrations_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.migrations_id_seq OWNER TO postgres;

--
-- TOC entry 3986 (class 0 OID 0)
-- Dependencies: 222
-- Name: migrations_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.migrations_id_seq OWNED BY public.migrations.id;


--
-- TOC entry 276 (class 1259 OID 57586)
-- Name: oauth_access_tokens; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.oauth_access_tokens (
    token character varying NOT NULL,
    "clientId" character varying NOT NULL,
    "userId" uuid NOT NULL
);


ALTER TABLE public.oauth_access_tokens OWNER TO postgres;

--
-- TOC entry 275 (class 1259 OID 57566)
-- Name: oauth_authorization_codes; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.oauth_authorization_codes (
    code character varying(255) NOT NULL,
    "clientId" character varying NOT NULL,
    "userId" uuid NOT NULL,
    "redirectUri" character varying NOT NULL,
    "codeChallenge" character varying NOT NULL,
    "codeChallengeMethod" character varying(255) NOT NULL,
    "expiresAt" bigint NOT NULL,
    state character varying,
    used boolean DEFAULT false NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL
);


ALTER TABLE public.oauth_authorization_codes OWNER TO postgres;

--
-- TOC entry 3987 (class 0 OID 0)
-- Dependencies: 275
-- Name: COLUMN oauth_authorization_codes."expiresAt"; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.oauth_authorization_codes."expiresAt" IS 'Unix timestamp in milliseconds';


--
-- TOC entry 274 (class 1259 OID 57556)
-- Name: oauth_clients; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.oauth_clients (
    id character varying NOT NULL,
    name character varying(255) NOT NULL,
    "redirectUris" json NOT NULL,
    "grantTypes" json NOT NULL,
    "clientSecret" character varying(255),
    "clientSecretExpiresAt" bigint,
    "tokenEndpointAuthMethod" character varying(255) DEFAULT 'none'::character varying NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL
);


ALTER TABLE public.oauth_clients OWNER TO postgres;

--
-- TOC entry 3988 (class 0 OID 0)
-- Dependencies: 274
-- Name: COLUMN oauth_clients."tokenEndpointAuthMethod"; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.oauth_clients."tokenEndpointAuthMethod" IS 'Possible values: none, client_secret_basic or client_secret_post';


--
-- TOC entry 277 (class 1259 OID 57603)
-- Name: oauth_refresh_tokens; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.oauth_refresh_tokens (
    token character varying(255) NOT NULL,
    "clientId" character varying NOT NULL,
    "userId" uuid NOT NULL,
    "expiresAt" bigint NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL
);


ALTER TABLE public.oauth_refresh_tokens OWNER TO postgres;

--
-- TOC entry 3989 (class 0 OID 0)
-- Dependencies: 277
-- Name: COLUMN oauth_refresh_tokens."expiresAt"; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.oauth_refresh_tokens."expiresAt" IS 'Unix timestamp in milliseconds';


--
-- TOC entry 279 (class 1259 OID 57623)
-- Name: oauth_user_consents; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.oauth_user_consents (
    id integer NOT NULL,
    "userId" uuid NOT NULL,
    "clientId" character varying NOT NULL,
    "grantedAt" bigint NOT NULL
);


ALTER TABLE public.oauth_user_consents OWNER TO postgres;

--
-- TOC entry 3990 (class 0 OID 0)
-- Dependencies: 279
-- Name: COLUMN oauth_user_consents."grantedAt"; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.oauth_user_consents."grantedAt" IS 'Unix timestamp in milliseconds';


--
-- TOC entry 278 (class 1259 OID 57622)
-- Name: oauth_user_consents_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.oauth_user_consents ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.oauth_user_consents_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 255 (class 1259 OID 25397)
-- Name: processed_data; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.processed_data (
    "workflowId" character varying(36) NOT NULL,
    context character varying(255) NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    value text NOT NULL
);


ALTER TABLE public.processed_data OWNER TO postgres;

--
-- TOC entry 243 (class 1259 OID 25234)
-- Name: project; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.project (
    id character varying(36) NOT NULL,
    name character varying(255) NOT NULL,
    type character varying(36) NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    icon json,
    description character varying(512)
);


ALTER TABLE public.project OWNER TO postgres;

--
-- TOC entry 244 (class 1259 OID 25241)
-- Name: project_relation; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.project_relation (
    "projectId" character varying(36) NOT NULL,
    "userId" uuid NOT NULL,
    role character varying NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL
);


ALTER TABLE public.project_relation OWNER TO postgres;

--
-- TOC entry 267 (class 1259 OID 57352)
-- Name: role; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.role (
    slug character varying(128) NOT NULL,
    "displayName" text,
    description text,
    "roleType" text,
    "systemRole" boolean DEFAULT false NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL
);


ALTER TABLE public.role OWNER TO postgres;

--
-- TOC entry 3991 (class 0 OID 0)
-- Dependencies: 267
-- Name: COLUMN role.slug; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.role.slug IS 'Unique identifier of the role for example: "global:owner"';


--
-- TOC entry 3992 (class 0 OID 0)
-- Dependencies: 267
-- Name: COLUMN role."displayName"; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.role."displayName" IS 'Name used to display in the UI';


--
-- TOC entry 3993 (class 0 OID 0)
-- Dependencies: 267
-- Name: COLUMN role.description; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.role.description IS 'Text describing the scope in more detail of users';


--
-- TOC entry 3994 (class 0 OID 0)
-- Dependencies: 267
-- Name: COLUMN role."roleType"; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.role."roleType" IS 'Type of the role, e.g., global, project, or workflow';


--
-- TOC entry 3995 (class 0 OID 0)
-- Dependencies: 267
-- Name: COLUMN role."systemRole"; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.role."systemRole" IS 'Indicates if the role is managed by the system and cannot be edited';


--
-- TOC entry 268 (class 1259 OID 57360)
-- Name: role_scope; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.role_scope (
    "roleSlug" character varying(128) NOT NULL,
    "scopeSlug" character varying(128) NOT NULL
);


ALTER TABLE public.role_scope OWNER TO postgres;

--
-- TOC entry 266 (class 1259 OID 57345)
-- Name: scope; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.scope (
    slug character varying(128) NOT NULL,
    "displayName" text,
    description text
);


ALTER TABLE public.scope OWNER TO postgres;

--
-- TOC entry 3996 (class 0 OID 0)
-- Dependencies: 266
-- Name: COLUMN scope.slug; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.scope.slug IS 'Unique identifier of the scope for example: "project:create"';


--
-- TOC entry 3997 (class 0 OID 0)
-- Dependencies: 266
-- Name: COLUMN scope."displayName"; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.scope."displayName" IS 'Name used to display in the UI';


--
-- TOC entry 3998 (class 0 OID 0)
-- Dependencies: 266
-- Name: COLUMN scope.description; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.scope.description IS 'Text describing the scope in more detail of users';


--
-- TOC entry 232 (class 1259 OID 24785)
-- Name: settings; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.settings (
    key character varying(255) NOT NULL,
    value text NOT NULL,
    "loadOnStartup" boolean DEFAULT false NOT NULL
);


ALTER TABLE public.settings OWNER TO postgres;

--
-- TOC entry 245 (class 1259 OID 25269)
-- Name: shared_credentials; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.shared_credentials (
    "credentialsId" character varying(36) NOT NULL,
    "projectId" character varying(36) NOT NULL,
    role text NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL
);


ALTER TABLE public.shared_credentials OWNER TO postgres;

--
-- TOC entry 246 (class 1259 OID 25295)
-- Name: shared_workflow; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.shared_workflow (
    "workflowId" character varying(36) NOT NULL,
    "projectId" character varying(36) NOT NULL,
    role text NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL
);


ALTER TABLE public.shared_workflow OWNER TO postgres;

--
-- TOC entry 229 (class 1259 OID 24636)
-- Name: tag_entity; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tag_entity (
    name character varying(24) NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    id character varying(36) NOT NULL
);


ALTER TABLE public.tag_entity OWNER TO postgres;

--
-- TOC entry 265 (class 1259 OID 35122)
-- Name: test_case_execution; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.test_case_execution (
    id character varying(36) NOT NULL,
    "testRunId" character varying(36) NOT NULL,
    "executionId" integer,
    status character varying NOT NULL,
    "runAt" timestamp(3) with time zone,
    "completedAt" timestamp(3) with time zone,
    "errorCode" character varying,
    "errorDetails" json,
    metrics json,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    inputs json,
    outputs json
);


ALTER TABLE public.test_case_execution OWNER TO postgres;

--
-- TOC entry 264 (class 1259 OID 35107)
-- Name: test_run; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.test_run (
    id character varying(36) NOT NULL,
    "workflowId" character varying(36) NOT NULL,
    status character varying NOT NULL,
    "errorCode" character varying,
    "errorDetails" json,
    "runAt" timestamp(3) with time zone,
    "completedAt" timestamp(3) with time zone,
    metrics json,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL
);


ALTER TABLE public.test_run OWNER TO postgres;

--
-- TOC entry 231 (class 1259 OID 24722)
-- Name: user; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."user" (
    id uuid DEFAULT gen_random_uuid() NOT NULL,
    email character varying(255),
    "firstName" character varying(32),
    "lastName" character varying(32),
    password character varying(255),
    "personalizationAnswers" json,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    settings json,
    disabled boolean DEFAULT false NOT NULL,
    "mfaEnabled" boolean DEFAULT false NOT NULL,
    "mfaSecret" text,
    "mfaRecoveryCodes" text,
    "lastActiveAt" date,
    "roleSlug" character varying(128) DEFAULT 'global:member'::character varying NOT NULL
);


ALTER TABLE public."user" OWNER TO postgres;

--
-- TOC entry 254 (class 1259 OID 25381)
-- Name: user_api_keys; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.user_api_keys (
    id character varying(36) NOT NULL,
    "userId" uuid NOT NULL,
    label character varying(100) NOT NULL,
    "apiKey" character varying NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    scopes json,
    audience character varying DEFAULT 'public-api'::character varying NOT NULL
);


ALTER TABLE public.user_api_keys OWNER TO postgres;

--
-- TOC entry 240 (class 1259 OID 24907)
-- Name: variables; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.variables (
    key character varying(50) NOT NULL,
    type character varying(50) DEFAULT 'string'::character varying NOT NULL,
    value character varying(255),
    id character varying(36) NOT NULL,
    "projectId" character varying(36)
);


ALTER TABLE public.variables OWNER TO postgres;

--
-- TOC entry 228 (class 1259 OID 24626)
-- Name: webhook_entity; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.webhook_entity (
    "webhookPath" character varying NOT NULL,
    method character varying NOT NULL,
    node character varying NOT NULL,
    "webhookId" character varying,
    "pathLength" integer,
    "workflowId" character varying(36) NOT NULL
);


ALTER TABLE public.webhook_entity OWNER TO postgres;

--
-- TOC entry 281 (class 1259 OID 57643)
-- Name: workflow_dependency; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.workflow_dependency (
    id integer NOT NULL,
    "workflowId" character varying(36) NOT NULL,
    "workflowVersionId" integer NOT NULL,
    "dependencyType" character varying(32) NOT NULL,
    "dependencyKey" character varying(255) NOT NULL,
    "dependencyInfo" json,
    "indexVersionId" smallint DEFAULT 1 NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL
);


ALTER TABLE public.workflow_dependency OWNER TO postgres;

--
-- TOC entry 3999 (class 0 OID 0)
-- Dependencies: 281
-- Name: COLUMN workflow_dependency."workflowVersionId"; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.workflow_dependency."workflowVersionId" IS 'Version of the workflow';


--
-- TOC entry 4000 (class 0 OID 0)
-- Dependencies: 281
-- Name: COLUMN workflow_dependency."dependencyType"; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.workflow_dependency."dependencyType" IS 'Type of dependency: "credential", "nodeType", "webhookPath", or "workflowCall"';


--
-- TOC entry 4001 (class 0 OID 0)
-- Dependencies: 281
-- Name: COLUMN workflow_dependency."dependencyKey"; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.workflow_dependency."dependencyKey" IS 'ID or name of the dependency';


--
-- TOC entry 4002 (class 0 OID 0)
-- Dependencies: 281
-- Name: COLUMN workflow_dependency."dependencyInfo"; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.workflow_dependency."dependencyInfo" IS 'Additional info about the dependency, interpreted based on type';


--
-- TOC entry 4003 (class 0 OID 0)
-- Dependencies: 281
-- Name: COLUMN workflow_dependency."indexVersionId"; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.workflow_dependency."indexVersionId" IS 'Version of the index structure';


--
-- TOC entry 280 (class 1259 OID 57642)
-- Name: workflow_dependency_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.workflow_dependency ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.workflow_dependency_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 227 (class 1259 OID 24618)
-- Name: workflow_entity; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.workflow_entity (
    name character varying(128) NOT NULL,
    active boolean NOT NULL,
    nodes json NOT NULL,
    connections json NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    settings json,
    "staticData" json,
    "pinData" json,
    "versionId" character(36) NOT NULL,
    "triggerCount" integer DEFAULT 0 NOT NULL,
    id character varying(36) NOT NULL,
    meta json,
    "parentFolderId" character varying(36) DEFAULT NULL::character varying,
    "isArchived" boolean DEFAULT false NOT NULL,
    "versionCounter" integer DEFAULT 1 NOT NULL,
    description text,
    "activeVersionId" character varying(36)
);


ALTER TABLE public.workflow_entity OWNER TO postgres;

--
-- TOC entry 242 (class 1259 OID 25005)
-- Name: workflow_history; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.workflow_history (
    "versionId" character varying(36) NOT NULL,
    "workflowId" character varying(36) NOT NULL,
    authors character varying(255) NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    nodes json NOT NULL,
    connections json NOT NULL,
    name character varying(128),
    autosaved boolean DEFAULT false NOT NULL,
    description text
);


ALTER TABLE public.workflow_history OWNER TO postgres;

--
-- TOC entry 284 (class 1259 OID 57721)
-- Name: workflow_publish_history; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.workflow_publish_history (
    id integer NOT NULL,
    "workflowId" character varying(36) NOT NULL,
    "versionId" character varying(36) NOT NULL,
    event character varying(36) NOT NULL,
    "userId" uuid,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    CONSTRAINT "CHK_workflow_publish_history_event" CHECK (((event)::text = ANY ((ARRAY['activated'::character varying, 'deactivated'::character varying])::text[])))
);


ALTER TABLE public.workflow_publish_history OWNER TO postgres;

--
-- TOC entry 4004 (class 0 OID 0)
-- Dependencies: 284
-- Name: COLUMN workflow_publish_history.event; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.workflow_publish_history.event IS 'Type of history record: activated (workflow is now active), deactivated (workflow is now inactive)';


--
-- TOC entry 283 (class 1259 OID 57720)
-- Name: workflow_publish_history_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.workflow_publish_history ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.workflow_publish_history_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 235 (class 1259 OID 24822)
-- Name: workflow_statistics; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.workflow_statistics (
    count integer DEFAULT 0,
    "latestEvent" timestamp(3) with time zone,
    name character varying(128) NOT NULL,
    "workflowId" character varying(36) NOT NULL,
    "rootCount" integer DEFAULT 0
);


ALTER TABLE public.workflow_statistics OWNER TO postgres;

--
-- TOC entry 230 (class 1259 OID 24643)
-- Name: workflows_tags; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.workflows_tags (
    "workflowId" character varying(36) NOT NULL,
    "tagId" character varying(36) NOT NULL
);


ALTER TABLE public.workflows_tags OWNER TO postgres;

--
-- TOC entry 3466 (class 2604 OID 24899)
-- Name: auth_provider_sync_history id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_provider_sync_history ALTER COLUMN id SET DEFAULT nextval('public.auth_provider_sync_history_id_seq'::regclass);


--
-- TOC entry 3482 (class 2604 OID 25343)
-- Name: execution_annotations id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.execution_annotations ALTER COLUMN id SET DEFAULT nextval('public.execution_annotations_id_seq'::regclass);


--
-- TOC entry 3440 (class 2604 OID 24611)
-- Name: execution_entity id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.execution_entity ALTER COLUMN id SET DEFAULT nextval('public.execution_entity_id_seq'::regclass);


--
-- TOC entry 3481 (class 2604 OID 25318)
-- Name: execution_metadata id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.execution_metadata ALTER COLUMN id SET DEFAULT nextval('public.execution_metadata_temp_id_seq'::regclass);


--
-- TOC entry 3435 (class 2604 OID 24592)
-- Name: migrations id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.migrations ALTER COLUMN id SET DEFAULT nextval('public.migrations_id_seq'::regclass);


--
-- TOC entry 3920 (class 0 OID 25356)
-- Dependencies: 252
-- Data for Name: annotation_tag_entity; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.annotation_tag_entity (id, name, "createdAt", "updatedAt") FROM stdin;
\.


--
-- TOC entry 3905 (class 0 OID 24883)
-- Dependencies: 237
-- Data for Name: auth_identity; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.auth_identity ("userId", "providerId", "providerType", "createdAt", "updatedAt") FROM stdin;
\.


--
-- TOC entry 3907 (class 0 OID 24896)
-- Dependencies: 239
-- Data for Name: auth_provider_sync_history; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.auth_provider_sync_history (id, "providerType", "runMode", status, "startedAt", "endedAt", scanned, created, updated, disabled, error) FROM stdin;
\.


--
-- TOC entry 3950 (class 0 OID 57709)
-- Dependencies: 282
-- Data for Name: binary_data; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.binary_data ("fileId", "sourceType", "sourceId", data, "mimeType", "fileName", "fileSize", "createdAt", "updatedAt") FROM stdin;
\.


--
-- TOC entry 3941 (class 0 OID 57534)
-- Dependencies: 273
-- Data for Name: chat_hub_agents; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.chat_hub_agents (id, name, description, "systemPrompt", "ownerId", "credentialId", provider, model, "createdAt", "updatedAt", tools) FROM stdin;
\.


--
-- TOC entry 3940 (class 0 OID 57488)
-- Dependencies: 272
-- Data for Name: chat_hub_messages; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.chat_hub_messages (id, "sessionId", "previousMessageId", "revisionOfMessageId", "retryOfMessageId", type, name, content, provider, model, "workflowId", "executionId", "createdAt", "updatedAt", "agentId", status, attachments) FROM stdin;
\.


--
-- TOC entry 3939 (class 0 OID 57466)
-- Dependencies: 271
-- Data for Name: chat_hub_sessions; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.chat_hub_sessions (id, title, "ownerId", "lastMessageAt", "credentialId", provider, model, "workflowId", "createdAt", "updatedAt", "agentId", "agentName", tools) FROM stdin;
\.


--
-- TOC entry 3892 (class 0 OID 24598)
-- Dependencies: 224
-- Data for Name: credentials_entity; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.credentials_entity (name, data, type, "createdAt", "updatedAt", id, "isManaged", "isGlobal") FROM stdin;
OpenAi account	U2FsdGVkX18+MpkcaBa9qG/LGw7goDw0wFL0IFi5al6nF4HyvT36t+k9WzDp5Cx3/NbsaG7ahzK4w/S70XNqVvqtRvZvIt+3PKS1NCIRQkiHrywLU9QOzPXDC4CIx0XP8u1KCeinlvvfSxjja2NwSp8hD4Twa9qjhuDB/XlWe/ShxZ6aX6cDY368HEIAQQwVZUcZocEXEk5o1kOQesD6fu33+tB+Gva67H/CAfU1I+Ks4xGfZ96LLrSsukdbH+GJTtJTeeBWb26EAERdg4OFtA==	openAiApi	2025-05-14 02:03:13.397+00	2025-05-14 02:53:13.088+00	KRyyaKtkymLK3YpM	f	f
Google Drive account	U2FsdGVkX19jPHGBomyse5NRJChRy/wmoaphWZst6FzkITESNhybFXw2J2e2n1tLb3WAaXxEhqpFGPHeQHRDeI15fJV+EazjXlXGQQvidvi6b1gvmN4m/ivsOQirBmkj7ZsTjA7HJMJAFf9gsJA7ce2Q2N3HKIkm7Q4JOuow0fW+m3MaHAfdLLCm7xIa376t9DNqlpMoiX1Y00Dx/zqkd5pOM6zzLC2AgsQCubMxVGydxZCueW0XGt25vhOKIekQgOxT8fQ0+021NEWNpSrrWjVrD0hsKpYa0VjHFCp/9nMrGnlFxnxaoLjSe77H3sXBZy2i6v8lD412agFVUXFWS1DdcvIuQwPqZiAyJSW8kpAIRMIlBPU1FW1wytmDhf9uiQXGO58oug9h1z2gwG3f7Jexj0PltQtlB2v57ootiN3N+l40XSGZp0xIz+oBUU2iUeEYsyNAMlFBGuAoCLEvl33BrDqoNTZjmPsqnrDckGEcZKKHbjR6ABkXor3vTJPOfU8cOMlIizbnNbpED+L4xdKc6PSIcLC/+agllWuZkssN4S54hkPQhPPiBVX1daIOBKHS+dVhXDtNg9Gl+MMh8rVO33o9NbQb+zFC3+5WqP4wSXmI4v6AVXR8vq/3/uudmYmX13sM3ZHG+iWu6OehELWaKVRCtDUzJoqbH2VNbVo9CNM21/Rz2A7AkszXYZaWCI5/QNtb6PRRqtc7q8RUV4Fz5cNQNtClipvQhDNw3bTu+LHHWVmOuMTerVKHyFSLEc8Sg/CRC42n3671UYyzsrlI42NsCaEXI5Ajfm1b+mkb1gCsUSTIDC21k2EPBV4imq3dArijwxuajqvXvb1IAlC0InE6vFaPisO/YI9FrsGfUlGYBFWnj6X85ruWh/v/A4rbFUynkss9nWH3RtTXmnjtIKII8GsydGvxqqeV82mU2KBJ4NyDlkLuibp/QZOagUqUNcnnUt1tgDYETFq/Qqfaz5w3DsWnvQtb4gvh9J+mHD88R1Haxuo7inHB3ZCzj+zZc8/QtqbpK2jo90NRRYj6iE5ZkzJfBfGAM5bFpvRZ9VDSal4BYxB4A2e+cJnXAFh7UrZZ9Z5plmRQhpxlxclowRxmIVfSTnW8d+b7HAI4oxa47BTyiqVkTzXGluN84kBO6llMGZ65reyEL2kkAOedYco7VET+07NwrQK++gq17IpVXQtVNleYooaQ9L8vpzq10ntxNQ8q1Q8zWOd76A==	googleDriveOAuth2Api	2025-05-18 21:40:00.184+00	2025-06-10 23:20:51.818+00	4lEBy7qEfA2UCGII	f	f
Google Docs account	U2FsdGVkX196HlqbIsLyKTgrBwnNqgRcccj8F9Zpv54yBqN4WLqEOHfJGyXcpGwDoKiIvINLxpI2BOKk1CmAJhdigvswoD7p9J15HlXHYnsvRV+WgBekB5kmJg12qZFvnrIMDOqXxdTmxiuTUTL4w7k3FRVhT5HCT6ZXhTJRBEt5RiTbxK/lvw8H4MKlM3ot73zF+ZHSHckHOVNWURw4q6pb4JlHRkqJWPzrg94QCcbQmYZClpJb3n80E/TtN0KSXWTK9ZQO5iiHYEYnmh9LEdB7ZwFWusA/GdNAcCfZpNsxh2u0702/vgTHpd7Mx8S6n74FSRORTuvm/WDAfFMaD+B78EOZPBqWWfzvOXgIoE8UL2FCaxb5VkPuKT59OvKUn2sPPF/AR44HaP2jCfhZ4Mt5qe/1rF8uRE0vmVIIhUMZ6vYVEIBZGWbU8llnNagxKM8IMBpCPaia8SoSYKnAEbp2kWr4Ld+3QWjgdgYzHykVC/gP5sJMWBQeMQOQqiaBDTG3huC2T1IrnjWjXiUlrFefexx3r1ypYbTkC6G9DkjDT/jbAVv97/Q5CMdvI/RQ2sYyAS7LgGHC3xW/SQ1maX8993U/teqFZ7mxHmI+Ak1ouGGEvOfrKKQIUbT/8fzrxXbcz5ii9WBEDay0Cv2G2mv4CeIwpi+HdUW84/ZV2E00lZYdCasYUyUD2tEONAeAsUsQGfMVbX6DqM4FkL0khvnNcvBEYtTVUWtwqthn2SH55S25HbpD7wfC8YPQ5bZA9pSqRf7xoyfHd2s0L4qpt3SMgEbRaEmbgq4NtyZCAtRTKblQrwRkeebSoZToTODqIPwNL7ONNE3NX4Kja3OqCFahVVkp5B3zmRiq3DJQWRimOVCPSDJxGRZT6KaAOeieu8OW/jBp0j581qBouAzPw+aaYxizsdTeCSqiinn1ZJjqFn8C7FDHCLi/I3RCKB3p6e3zBR592RaB1KvXTovjrW+TfCxNyysPV1Rm9d2tjl+7J23GW3flQDNdY8RFW952HITBYoneezwvSmoHRj1cH+p/Ji3QS1Wx0L+nBBUWmY/s1FCHDtcsXPz2g6tZ74Uc	googleDocsOAuth2Api	2025-05-18 22:54:55.558+00	2025-05-18 22:55:05.244+00	SUw5GeVuSJfyIK9V	f	f
Supabase account - SGPT	U2FsdGVkX1/c6R9PVYtjwy/hckIB7TZRGmSp1vVgxoxd3KPiOcvzMoLnPEMGteZGTpzfmCqhSBmbUVRgVtQc4Vcg2K3G4is/zkhZLx9+HGyk4+mWxFPf158FV3qmpuquLQgDMzBjEcJqKhsBFk8IccAjKzq8aNXwfb2nzPqWWV6blkjTyfXnIx0kmXKWZ5tXk3b6zfIUuF9mRzLRK01Zy3rLv972XdkUXgzSXDkruglUMcqktS6pltsv+rC372S7znlQZGHYj4kqptsz+gsWkpMQC/TQ7UI/lTyf5kuuHP9NywJT+CFGIU1QipdjTTWzNrDY9vsLaS6WM0w89IRiFAmd6ofLeqE+FWg6Ms+eeXZaRyY8K0BjgZmQXcWj2V3OgnM3cLtqquUIARwqlS3iVA==	supabaseApi	2025-05-28 23:19:51.807+00	2025-06-11 23:46:33.197+00	yeyfgM2GRQTJScoM	f	f
FireCrawl account	U2FsdGVkX1+hMW9Jmf7678WCBg72XmZO1c0/T6RLKB6zGI7+uc/taQuJAfH+tHZR5CeS9YTfI6Tx19FO7wA2n7Z5VwkNhUrCtxEsqKhy9X4=	fireCrawlApi	2025-06-05 23:17:58.845+00	2025-06-05 23:17:58.847+00	kEVBU6maOxRfSKdj	f	f
Google Slides account	U2FsdGVkX19+xMOe38Q3uU0qg2jdlYFGvZuP5kh5VYBfhosoJSmjHWmZ9hnjFs0IUBwjUWsZphsGyjBViZ6SAXtq++5n1YH7edB4yvEUfovqDoiAZOeb63G4xRzqXuTAT3MxonlS4o0EZ98ojMp3ZQ+qMglS38eu6pt1pa4yvaufco45CH9vLKxPCxd2zu59ZzI3eVVG3Gi21IATl/F2sUZ7WbzKCRQxqf+rbHxjz978s6mHOR01/brSfZQAdMzwLTE09SDNXcj3mFTfjwrJ2wexKiUrEDv2/77lt3dgOGHQ0EfPu9WPE+7NolY3ScAnZi6v9JW3TutVzO3EchpV8iiXQjYAzVDdYuBTjH3Js9mdsiGPnLcTLjZ5VZlWBEklbiVo9BmeF97isO7SNT0gfS07DA103fo4FjZca4Bp6/2CJjr0k9kzlDBCGTurQ0i3hld3ccGNiuLoqRWfEjOM3MotXIcMdiOPGy0AeXmJx3GD0RYqoxOzNavhKEs0EklAda81NWb7hAl7j1ZUghf2LLw+6t4DIVg1VFo5m1gOfP4saMzjahJbXYhpSpJ7Pj6AHBikgc8f+U8/XOtdQFxap4PxK9Er5QDeBt0A8CozL8ONmFObDGfoiW5jfmvhnpZ+UUzsxJmsiO/5188DP8FzzdUnUSoOxLmOLco2QtOBaYpJK1SX7kI4erbgRY60BRAhqbfq3Xnr8Ar+ysyUpLLxcZcZH8adlwtuxD+j5vRqrJQRo9RE9esaRmdllO04nv+HbM0FHH86zQJDdyDrBfjX9jpqY2NvsMFv878syBwa8xXVa231nBhnVuizer5mRP035QZF3RTepGmXeKwW64Es8hlC4Ib0Biy4AUkp8DdD2opBDFUDMRf1QU+xrFTiSzPW0L/bpoTfCTNjl/hbCwOUIKVECYCfOwQBnDJb2kYWYfmyFf6Jgk4H8art7OzAyqd8cX89flxcFQjgXaldDJ2Wq126wiYBOZ7vnltq4SfPe0TrQ1LTBIM1HUp+KwNMXuosZwV8AiUmua1haci3kmqnvR22enGABRDEpWy7Wav5ksl0ZMho5nCJeHwmDEjpMoJqBiskhrwzTRoyO4UOS5tcsXNi54J6W2/235EHl7pAXqFviMSRb6vV4jd8QOE10f8aaqLglnESSQpA61yQ0FvGsxm0eK59PpLBkkGOcRyuEZ5yiV2R21vg6SQhVOgQQq44DVrfgOyq6qw2cee7w1DdLpyRSYRqGCnvMIM/sDpPg7w=	googleSlidesOAuth2Api	2025-05-18 22:34:48.023+00	2025-06-10 23:17:15.692+00	3ALxij02ZK5ZvDbM	f	f
Tavily account	U2FsdGVkX1+D/sJwvoyhqfwvon1ZWOgIj0V3jNx5i7kxvV5dUPEE3Wfm6h6/nRtVeAcMv993A5iBozmyqj/JxizOyCu5cQnLv5anbHvea5E=	tavilyApi	2025-06-11 23:12:09.019+00	2025-06-11 23:12:09.016+00	vsot3gBI1jI0kEsa	f	f
Supabase - Misc	U2FsdGVkX1+BDc3pcvkFLMiljX15r93PqagVooPsIkatx83AvU5TgDxQTdR+cyQUmHSc31jcrDg9Lgkibl4R0j9IE9S6l4KDBsto7cLYy/MovoFwSWcctCdZRvL4o8rt1OtPqCTH4VLbkGzz86Oma/0Ah3U7lc4jsEx/QItm4svSqvSrBbS5LzMkK27PSXH5EerF8s5IkicLsM4ZS76Z8FNCGXdviqmUfiECBn0ZHUeFHnAKg7Z+OsYkoVPd7C/XlgwvmjeAX/XMpD/Kc+oVB8Ih0XL52eetiDBZhfsixLQw4RIzRbRVGxwwm0bq9N9iY0lKu9DCoKIuJ0zoUrc1mOVIuLXJWal55A7E5JnCK+GmJipwioAtFUmbQ9QJL9AmSUJXCXbt5F8p4M3kijCPRw==	supabaseApi	2025-06-11 23:46:22.551+00	2025-06-11 23:55:31.375+00	sv022Yz8rJXZ7Fty	f	f
Google Service Account account	U2FsdGVkX1+9ZX/aLkQVs1mhfSjHLH12BHV8nSdIiIf8Cqf57YKuPJcH5BIIL/Fg0G4BiP75tVSO0xoOMHibOQVTQK8YHPUPkZIxNeFLVuZGJ0r2p3NROFnUOAAxIJykMMe/w3KeJMbBlTeGMr5Nfx3W2J0RfwhykacRUCpllGYitb5PSUT38yQDBqyvpYu/hIToizNYncP+zxWv0InOFKDtNQpqlAEk5YCQJISq926AwsMyJv6+6+sdx+YUUFU5k7be9vL4///l9RmaFyiaHj4Qllb0vyAhEX0tJfHe41MIam5oxLzJem7MmBAXCOAzBOpKvciX/gYesnAFsxLQvw+PlvePsU9HOE8KjN5/bL7rJTO5MQ5HxkLgsDAPDFRje8HI65z+SuNsbPWqn0rwBpHtbb2GOC5NY0GJfnU5V3XMrcS06V5Dxs8eBs1znXw12EeHBnbLe/MYHxBJ74P2wSQmFp/MQ+tNX7R/dG4IyGR8zt6AMD45ldedgTd5nx2NoQQjrlyJppHc+sligXQt6x/s5cyeGuAfPnI4sG5qTNk6YYkb2kSy4G+mL1ApFXrg1ZQZPEemvy7YCrmcfhzfBXVlOt6w4XqHJ68qRjIv2LYJ/Z8WCHLJCz6RL2jhuR9g3jT6LdqgwHo3gEscYm6jLpAs+ZGe2Gf1iT/nNNCuG91fs1GAWNPnNt+4i0iMGsOYt5uzLw5YWQKd54XwnCBvjT1UBP+jdusWnExGrAM5mVARYciiDIsAuWfBHV9pRzdq++SgSPTaaTFygaGBThOrz40JqXOLEKpwSQxWibECK75NUYCWRaDIpuIjl7kwOMXObeZRB0ZvHz+VbtqZpSxiwuQ6qlz9kliydwAP7hXniDMPz09xqWZhPwTpnTRq2oHTZ+PvHQI+nNX13A0Ej4bChWN93BUQ0iLMGZJcFzx0nfQ1f+raVqn5auk3hMQtXb0mUWFAbjZwj4kKYLUk7/lUrRFICrSgAnl5FxVNAwiy3drCMhSfimXxAONLBykSvPIUMF05MzSrxO9DMIWyqPFjBSpPQE2PArCeN41/NuJW6rzcV50YrqrsZ4ccEkd6+DSt0fU0QqmvtPwSwK1/ZFQlglQrUjrag/b5/+TKikEZf51Zcj/g/mf65Lz6jR/N+6Vr0ZkqH2x07HTak2b8ZpTXzFgpXSsbW2kB2o1bEvpUgDCXUz5y+ULlPo0pDdYDiR607HLlOjf0N5yMEggbKjHtKXHOyTPTkI4D5opCPEwCvH4Am3nrobntV0DrDuzQnBjAk5k7RJSrRf1Uk5by5WxOpvUDmqYd0ud+KKGAq0G8JtnwzChAaZ9v2tJGqCqTX0I50pFq77UO2j25EZ1vXzf6VrfFE/2M6QJPDrsybOc1E+oQtvtxoYQAEkZ88SVs7o5WHmvq/n/ghCRJWTU2EGZ1I1d55TLDtD6BeXIL9nHN0jkpQoBOuTf5zwF0bqPEAt8mlaqH4Jk5WcVfTN7lkXgdXpTREaZZHp0VBDTTt3yAWsPfrXpqNtXiAo7IVs30Sfs2dCciUGAWI6KawXWY4wOhdZyNHMXQKng38n+J/J8Ezk/NG081m06nZ2fm+U3Gxz3NPRxIbQRwqoWCFKy8qTWXIAGW6h2mU+ilgUCZYs8ROzT9fW1hlG5E0/owkdG3fDZOZky+G7EY199tLMkWtNXkgO76p+qSrW7a1njkRpnUUAFlILJLLCLhQUcyIkAxkxb+oW+tCgrmvkqkGpg93zMrYLVeCd3JgR5lHX7g2Gps7aPu33c6sQ6J84ibiuasPSZ3ZhGr6d3OI6hIEof1H5hVdPy6rVJKHvPxypLwnQbH44gJ/wMeVUYn/yPA3HmnwptCsHFUftv+Z2FNZywfhgLu7KhSxuLSBLqylcQxr+vd6pIEt8lX3NM/64WOkMhsQvzVb3gUyiIfF9vsCWb8K6YlJ3qUXjpz/NEAF1aBauXoKSoGUZaR2sRkRDWy4pUlCKFEXERae/Gs8t9V9OZwbhlfoaeqrSysNg1UCsRPWa8a3WguAR2rpr7OlIbympn5TJyHtxZJ4npibUGe+QDyboU1Ov1VPkQyfkW3mYKuo70FiTi8sBMxfPYbYdkAcO/wv53kbeMo5RNBIyYrfp/moEW/+8vCvLbyr3puiO+uWa2Ep3Ni0rsXcHe6ZfRDb7Jec5eIxZ70ntXo3ETOMX4G9L2p09Cr+dx8si174PwlP+E+oLE29aEgTZ8OAvc4/Bc36jfwoSNmk5K+YfYtTI/c6Zfl+t5z3jur1MPov9eoMiRl8+JBQ6lZcV5RdTZtXuLXwX126P6O+NJwxwLaOcOsqiHiGJQyep5X5mdij0RxQ1RI/XTF201XjU9Dln6CU1WVnKFBgb8YO/YhFInRYpNpMerf08by2uR/Ew6aijYPkk69zds/UzMZeNTP5FRixgULHRKeqYFMyoz+p8uKSGlqrJ7+MbqtdrNZ8wkRNTkb4Eo7eOAqlsO7AFDjOUZskB7mKEUHnaCHqtcZkEGvEPsLlG7R6tTwRePc9mnvgJx0NnFyg4wJXV89yJFVOt/PbVz1nyJOfTBV16ymMwwI2YMCCrV4pKkrBOH/hhljpw0705KVgNjEoN1YOrDSumsDYW9Ke1L4	googleApi	2025-06-12 00:30:47.276+00	2025-06-12 00:45:44.423+00	tVnURnENQ5tiqndD	f	f
Gmail account (2)	U2FsdGVkX19Y9wCae+P2Pk1sMMNFC67bCwB4/dAQVUgxSmrRAuoHAI6f1ZnTFjcVoja2Zf40ga80vX/r0Z7XCOfdacFV50hGBU4GXqxob+pkVOmWkJ7DL3KBhhdLDKY44QeoF2+MtJXsgC/AVefoNHTQ/DasN55vpbg8xbQc3ovv+nxMh9fM/lq4+1+OeQuzHoHlGvxFHV4I8PUPMyvVoxf2A299PaA277yqHqWJEY1xJ4GcC9KeQBW4uUj14Cb3bmP8UaALW8fdltAY3X3MbdVMz5uSClcaZjDNTUXDF0WVmlq2AFa/pLnAEvMHezeJwq90jjoCaDDuRYNiBL8MUJR4K62LfP1TCg2aEzJFkoG/luEnH8h++IHFv+jRCLRlji+AUSfngfNpkSON6fdFLbOxUxYYmclp/MQlH0NiTdSj91yhVODv4Fbqb4mPwifhFzyPL/8keO04mv3ql9rU9Hpxo/LWjgCifI5zl1Hef00qG9p6GAh0R82pqcp/5PX5Bx0M27XoB1PAYZ3oDdzo1/1ZnoSyxQkedVICSm2FoJF8/9Z1SQTj8rRbMMjYjUKJSvFNWmoN5gCbQiCQvsII1Ok5FPWk6RgzbDlqrgvN9dKaeVVCwzjjcqU/QC/vCaDzIhux1BHxr6+urYGZ8v27IhfhZ+3OWOZcTrQ65M+W98zaODtFPptFUQUDeWpvKm95WlU2TU8oH+oQdZrhl8YBKsVH50MId6nGqVVsa0SO7jxcqzjNCYdWSLByjc4NUb77WvQvJ4/zIPuUWzIBefokgtNAE764hzmH9C5l3sW4zKuPPFb3YUxfokYWHX/HcvTEjiQpCeyie7xxHmcpkhHuOJw3O7vw05lKFcVoSgb9Cd9uSKeYyhNs6LiZuFnIvxAXy4uJZFZK4tVNchBw8fYaEiPkFVJ9xKg4sRk/bU3V9Ou8Joya3ljTS5BqybJB50lZ7nB59gKNLvQIukk7PhlFdqN2LpvaKWZnpMl0AkXKojnDp8kSVLyGh3GrDGfZ66ucagrgHsdY+X8s7UBZd4SrConXmuqqlntxwEW6obZjkosoAe/RektSA6IpV3XTyAZ20a3fhlibj7LX5xqOxOgkP59Yf8gh9L7t4jULrCKVzhOX8BoGf6WMLXGmsb1OlUE+b/CI9v60M1RXUJuzPsADIkuvFqFndgPPL+jQEVpY7zjh1J3rF71gVxhY1YDfNsC0Fb/55ohUVs89XsRb9LRvFW2+ZCk+nIH0RjVqtaTMGhGuDjAujLaSR6mozcMQSBleJm6P3eXoK8T28h5nr8JrfvjQE4cSVDbYbpIVojTRYg8PIsrCPrnNyk7agJof0HcmORQNJDtd+zbt/+mmED473bytZxyyjz3JkKPOH65qVN73NfKMwkle+qa/s8lkMiSWGjnykxkTo0aI2p05XZVAev3uKhqn7OckCAFepKGAI/VUe4Ht/bK74mzHEB+ZcP4uLx/pKjpJfYoz8iUaM+J6exXoVNgo8I4e6WoafdIrLZE2nDwQUnoBr8LqZFOnLvf3OiT+CIZZ4lXpCAXAGd6+Siz4GBcKgaToA/uQME4jeMg+gvTRqUXKrQenjZySg8oKJeHvkRfki4CpzoWdQqEn9F4vvEjvOEP74Zh5eNmpF3PK+OWQwb1KcXqsnC9Ku0d1BkAKn0g94We2FfLhMBK5gA==	gmailOAuth2	2025-06-12 23:19:00.686+00	2025-06-13 00:31:28.147+00	IG7DVyVFauVNumq4	f	f
Anthropic account	U2FsdGVkX1+FV5gABAZh2HCS16IBmkIqvSoekxa5aQSc2Ju+4VzYLAryS9rb3CERb4hXyNAWZECqY4R4g4uohmvgJctFPH6t/snX1HUViEUo9AOpRXb/gp4jQgISyYDsHoy7BzRNZA8TkT3A9nzNYdZ73uLMOmMFNHKIFCS2Oq5PRAxgzAupFYrBB0bGEk6I	anthropicApi	2025-06-13 01:06:16.768+00	2025-06-13 01:06:16.77+00	Wmz3AO5pPNbuodMG	f	f
Supabase - PromptOS	U2FsdGVkX1/llNmCy1FJ+d+eE5U+PI0qvbt5vY3B8f2J1wvCBEjMo0AtlGwzRBL8S92e+qrZHuIULHMAbE2DgcaQqiKE/3oETjbYAngT7Hly5daWLMwVKDtYnjzmSRhTNBiCYGt91Ka7UtMvHY48KXU1WL45HwWwgTGoH4w4dolFOkzG05Sljber/Aj6uImgQ98KOtWbMoQ1W8q98rByb6upCLQptmzXWoh9r2BiebYMfNhZeSsW8Mn8fNF7JuSK7kt4mCzu6td0n/cigI4LdhFArr3R6G9cKYLgJa+necGUsLRM85M6JIbgadwBS/vPkREyFogFMsRaX7MWVxWtOX1COIdXnkP6IN+OCTXRlmADYpS8UklCq0XiSP6MJIWhHQqtG/6V3jjJoRAC75YNqQ==	supabaseApi	2025-06-22 23:24:42.333+00	2025-06-22 23:24:42.338+00	LDhBmd2aeXNRoFRh	f	f
CohereApi account	U2FsdGVkX19LihMeOVUU9/podgL/SEycV+u1tpUCNdLK7HWUqijcviRMTNo+h7I63QMXdaYf3fzwnbbjmr1np3JdqyBrX1/HNGMf3VufRoU=	cohereApi	2025-06-28 17:56:14.248+00	2025-06-28 17:56:14.255+00	t5C5629l3ApBhaVm	f	f
Supabase - Reset	U2FsdGVkX193puLOJ8r44VX9SWj3ykQqII7hLPlhz1gKtv+eCPesiCwBViceORZG0tZIPGljKAiVw6ZYdRTcojIxt6MFBkue8FPILsaYF0uuV6dL8jBE9u1NllhUkfoWhmvIqWPD9WqkkcZ7R128i97yn4Y2By7tUVEB2YOkGQfmiQJ5e1rYVXw2saV4xzT4Q99rGmiJ8Qrgo2OvF8v6TsnvGTvgWPPwaBdJVfa5JeidxFhGwDQiXrDH5NeAgaAbPRfz6dlusF5+1cZ5BJidROhiPz75M1YjkZ8sK/fVys2aHxKoW1hCxa/GiDLM4I/M5BhFSC6HICt+kAiU1DK1MvLuWIF4xLSdgjosc9n9zWNSraRQMe8g49QCLQEHfXvOibvtsDVbz7zdhUBUp/cEPA==	supabaseApi	2025-12-10 03:52:51.585+00	2025-12-10 03:54:00.482+00	k6NMY19byioyMjUc	f	f
\.


--
-- TOC entry 3937 (class 0 OID 57416)
-- Dependencies: 269
-- Data for Name: data_table; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.data_table (id, name, "projectId", "createdAt", "updatedAt") FROM stdin;
\.


--
-- TOC entry 3938 (class 0 OID 57430)
-- Dependencies: 270
-- Data for Name: data_table_column; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.data_table_column (id, name, type, index, "dataTableId", "createdAt", "updatedAt") FROM stdin;
\.


--
-- TOC entry 3904 (class 0 OID 24852)
-- Dependencies: 236
-- Data for Name: event_destinations; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.event_destinations (id, destination, "createdAt", "updatedAt") FROM stdin;
\.


--
-- TOC entry 3921 (class 0 OID 25364)
-- Dependencies: 253
-- Data for Name: execution_annotation_tags; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.execution_annotation_tags ("annotationId", "tagId") FROM stdin;
\.


--
-- TOC entry 3919 (class 0 OID 25340)
-- Dependencies: 251
-- Data for Name: execution_annotations; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.execution_annotations (id, "executionId", vote, note, "createdAt", "updatedAt") FROM stdin;
\.


--
-- TOC entry 3909 (class 0 OID 24991)
-- Dependencies: 241
-- Data for Name: execution_data; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.execution_data ("executionId", "workflowData", data) FROM stdin;
1843	{"id":"Z0ojzknuXKQpTzD2","name":"ingest_feeds_main","nodes":[{"parameters":{"notice":""},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[-256,80],"id":"9434f09f-bbd3-48ce-98ed-dfbe82cab90c","name":"When clicking Execute workflow"},{"parameters":{"operation":"call_workflow","source":"database","workflowId":{"__rl":true,"value":"cQcM3sMKq4QNECYI","mode":"list","cachedResultUrl":"/workflow/cQcM3sMKq4QNECYI","cachedResultName":"ingest_feeds_hn"},"workflowInputs":{"mappingMode":"defineBelow","value":{},"matchingColumns":[],"schema":[],"attemptToConvertTypes":false,"convertFieldsToString":true},"mode":"once","options":{"waitForSubWorkflow":false}},"type":"n8n-nodes-base.executeWorkflow","typeVersion":1.3,"position":[0,208],"id":"fd891e9e-30ed-4d5d-9af0-d4420075a9a4","name":"Call 'ingest_feeds_hn'"},{"parameters":{"operation":"call_workflow","source":"database","workflowId":{"__rl":true,"value":"49G9gWHlvrwH99Sp","mode":"list","cachedResultUrl":"/workflow/49G9gWHlvrwH99Sp","cachedResultName":"ingest_feeds_rss"},"workflowInputs":{"mappingMode":"defineBelow","value":{},"matchingColumns":[],"schema":[],"attemptToConvertTypes":false,"convertFieldsToString":true},"mode":"once","options":{"waitForSubWorkflow":false}},"type":"n8n-nodes-base.executeWorkflow","typeVersion":1.3,"position":[0,0],"id":"d1b826b7-2d34-47b0-8abf-24bf9677a561","name":"Call 'ingest_feeds_rss'"}],"connections":{"When clicking Execute workflow":{"main":[[{"node":"Call 'ingest_feeds_hn'","type":"main","index":0},{"node":"Call 'ingest_feeds_rss'","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"}}	[{"version":1,"startData":"1","resultData":"2","executionData":"3"},{},{"error":"4","runData":"5","pinData":"6","lastNodeExecuted":"7"},{"contextData":"8","nodeExecutionStack":"9","metadata":"10","waitingExecution":"11","waitingExecutionSource":"12","runtimeData":"13"},{"level":"14","shouldReport":true,"tags":"15","extra":"16","message":"17","stack":"18"},{"When clicking Execute workflow":"19","Call 'ingest_feeds_rss'":"20"},{},"Call 'ingest_feeds_rss'",{},["21","22"],{},{},{},{"version":1,"establishedAt":1765338881102,"source":"23"},"error",{},{"workflowId":"24"},"Workflow does not exist.","Error: Workflow does not exist.\\n    at getWorkflowData (/usr/local/lib/node_modules/n8n/src/workflow-execute-additional-data.ts:123:10)\\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\\n    at Object.executeWorkflow (/usr/local/lib/node_modules/n8n/src/workflow-execute-additional-data.ts:163:4)\\n    at ExecuteContext.executeWorkflow (/usr/local/lib/node_modules/n8n/node_modules/.pnpm/n8n-core@file+packages+core_@opentelemetry+api@1.9.0_@opentelemetry+sdk-trace-base@1.30_ec37920eb95917b28efaa783206b20f3/node_modules/n8n-core/src/execution-engine/node-execution-context/base-execute-context.ts:142:18)\\n    at ExecuteContext.execute (/usr/local/lib/node_modules/n8n/node_modules/.pnpm/n8n-nodes-base@file+packages+nodes-base_@aws-sdk+credential-providers@3.808.0_asn1.js@5_8da18263ca0574b0db58d4fefd8173ce/node_modules/n8n-nodes-base/nodes/ExecuteWorkflow/ExecuteWorkflow/ExecuteWorkflow.node.ts:412:50)\\n    at WorkflowExecute.executeNode (/usr/local/lib/node_modules/n8n/node_modules/.pnpm/n8n-core@file+packages+core_@opentelemetry+api@1.9.0_@opentelemetry+sdk-trace-base@1.30_ec37920eb95917b28efaa783206b20f3/node_modules/n8n-core/src/execution-engine/workflow-execute.ts:1045:8)\\n    at WorkflowExecute.runNode (/usr/local/lib/node_modules/n8n/node_modules/.pnpm/n8n-core@file+packages+core_@opentelemetry+api@1.9.0_@opentelemetry+sdk-trace-base@1.30_ec37920eb95917b28efaa783206b20f3/node_modules/n8n-core/src/execution-engine/workflow-execute.ts:1226:11)\\n    at /usr/local/lib/node_modules/n8n/node_modules/.pnpm/n8n-core@file+packages+core_@opentelemetry+api@1.9.0_@opentelemetry+sdk-trace-base@1.30_ec37920eb95917b28efaa783206b20f3/node_modules/n8n-core/src/execution-engine/workflow-execute.ts:1662:27\\n    at /usr/local/lib/node_modules/n8n/node_modules/.pnpm/n8n-core@file+packages+core_@opentelemetry+api@1.9.0_@opentelemetry+sdk-trace-base@1.30_ec37920eb95917b28efaa783206b20f3/node_modules/n8n-core/src/execution-engine/workflow-execute.ts:2274:11",["25"],["26"],{"node":"27","data":"28","source":"29"},{"node":"30","data":"31","source":"32"},"manual","49G9gWHlvrwH99Sp",{"startTime":1765338881103,"executionIndex":0,"source":"33","hints":"34","executionTime":4,"executionStatus":"35","data":"36"},{"startTime":1765338881109,"executionIndex":1,"source":"37","hints":"38","executionTime":57,"executionStatus":"14","error":"39"},{"parameters":"40","type":"41","typeVersion":1.3,"position":"42","id":"43","name":"7"},{"main":"44"},{"main":"37"},{"parameters":"45","type":"41","typeVersion":1.3,"position":"46","id":"47","name":"48"},{"main":"49"},{"main":"50"},[],[],"success",{"main":"51"},["52"],[],{"level":"14","shouldReport":true,"tags":"15","extra":"16","message":"17","stack":"18"},{"operation":"53","source":"54","workflowId":"55","workflowInputs":"56","mode":"57","options":"58"},"n8n-nodes-base.executeWorkflow",[0,0],"d1b826b7-2d34-47b0-8abf-24bf9677a561",["59"],{"operation":"53","source":"54","workflowId":"60","workflowInputs":"61","mode":"57","options":"62"},[0,208],"fd891e9e-30ed-4d5d-9af0-d4420075a9a4","Call 'ingest_feeds_hn'",["63"],["64"],["63"],{"previousNode":"65"},"call_workflow","database",{"__rl":true,"value":"24","mode":"66","cachedResultUrl":"67","cachedResultName":"68"},{"mappingMode":"69","value":"70","matchingColumns":"71","schema":"72","attemptToConvertTypes":false,"convertFieldsToString":true},"once",{"waitForSubWorkflow":false},["73"],{"__rl":true,"value":"74","mode":"66","cachedResultUrl":"75","cachedResultName":"76"},{"mappingMode":"69","value":"77","matchingColumns":"78","schema":"79","attemptToConvertTypes":false,"convertFieldsToString":true},{"waitForSubWorkflow":false},["80"],{"previousNode":"65"},"When clicking Execute workflow","list","/workflow/49G9gWHlvrwH99Sp","ingest_feeds_rss","defineBelow",{},[],[],{"json":"81","pairedItem":"82"},"cQcM3sMKq4QNECYI","/workflow/cQcM3sMKq4QNECYI","ingest_feeds_hn",{},[],[],{"json":"81","pairedItem":"83"},{},{"item":0},{"item":0}]
1844	{"id":"z52Sow2ZiWhoxNmU","name":"ingest_feeds_rss","nodes":[{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const items = $json[\\"rss\\"][\\"channel\\"][\\"item\\"];\\n\\nreturn items.map(entry => ({\\n  json: {\\n    title: entry.title,\\n    url: entry.link,\\n    date: entry.pubDate,\\n    source: \\"TechCrunch\\",\\n    content: entry.description,\\n  }\\n}));\\n","notice":""},"type":"n8n-nodes-base.code","typeVersion":2,"position":[416,0],"id":"9e367941-bb93-4e35-9056-c5cb4cdb2c2b","name":"TechCrunch: Normalize Feed"},{"parameters":{"preBuiltAgentsCalloutHttpRequest":"","curlImport":"","method":"GET","url":"https://techcrunch.com/feed/","authentication":"none","provideSslCertificates":false,"sendQuery":false,"sendHeaders":false,"sendBody":false,"options":{"response":{"response":{"fullResponse":false,"neverError":false,"responseFormat":"text","outputPropertyName":"data"}}},"infoMessage":""},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[0,0],"id":"b28c1b00-760d-4a7b-85ae-b48b7e84d410","name":"TechCrunch: Fetch RSS"},{"parameters":{"mode":"xmlToJson","xmlNotice":"","dataPropertyName":"data","options":{}},"type":"n8n-nodes-base.xml","typeVersion":1,"position":[208,0],"id":"49c56d00-2735-47d8-aeac-0529a32131d9","name":"TechCrunch: Convert to XML"},{"parameters":{"preBuiltAgentsCalloutHttpRequest":"","curlImport":"","method":"GET","url":"https://www.ft.com/rss/technology","authentication":"none","provideSslCertificates":false,"sendQuery":false,"sendHeaders":false,"sendBody":false,"options":{"response":{"response":{"fullResponse":false,"neverError":false,"responseFormat":"text","outputPropertyName":"data"}}},"infoMessage":""},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[0,240],"id":"e5141129-db50-4a85-acdb-8c1a11926949","name":"FT Tech: Fetch RSS"},{"parameters":{"mode":"xmlToJson","xmlNotice":"","dataPropertyName":"data","options":{}},"type":"n8n-nodes-base.xml","typeVersion":1,"position":[208,240],"id":"2a4300b8-4cad-414d-af05-8031835e92d4","name":"FT Tech: Convert to XML"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const items = $json[\\"rss\\"][\\"channel\\"][\\"item\\"];\\nreturn items.map(entry => ({\\n  json: {\\n    title: entry.title,\\n    date: entry.pubDate,\\n    url: entry.link,\\n    source: \\"FT Tech\\",\\n    content: entry.description,\\n  }\\n}));","notice":""},"type":"n8n-nodes-base.code","typeVersion":2,"position":[416,240],"id":"82246dc8-da70-4a3e-abf7-1eeae374839e","name":"FT Tech: Normalize Feed"},{"parameters":{"preBuiltAgentsCalloutHttpRequest":"","curlImport":"","method":"GET","url":"https://www.coindesk.com/arc/outboundfeeds/rss/","authentication":"none","provideSslCertificates":false,"sendQuery":false,"sendHeaders":false,"sendBody":false,"options":{"response":{"response":{"fullResponse":false,"neverError":false,"responseFormat":"text","outputPropertyName":"data"}}},"infoMessage":""},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[0,448],"id":"67d3b660-bbc5-4979-be3e-12134b958cc2","name":"CoinDesk: Fetch RSS"},{"parameters":{"mode":"xmlToJson","xmlNotice":"","dataPropertyName":"data","options":{}},"type":"n8n-nodes-base.xml","typeVersion":1,"position":[192,448],"id":"0142ea4a-81e8-45b9-8a3e-0390e4760341","name":"CoinDesk: Convert to XML"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const items = $json[\\"rss\\"][\\"channel\\"][\\"item\\"];\\nreturn items.map(entry => ({\\n  json: {\\n    title: entry.title,\\n    date: entry.pubDate,\\n    url: entry.link,\\n    source: \\"CoinDesk\\",\\n    content: entry.description,\\n  }\\n}));","notice":""},"type":"n8n-nodes-base.code","typeVersion":2,"position":[400,448],"id":"29981cdb-3757-4973-904c-a713935413c1","name":"CoinDesk: Normalize Feed"},{"parameters":{"useCustomSchema":false,"resource":"row","operation":"create","tableId":"feeds","dataToSend":"defineBelow","fieldsUi":{"fieldValues":[{"fieldId":"title","fieldValue":"={{ $json.output.title }}"},{"fieldId":"date","fieldValue":"={{ $json.output.url }}"},{"fieldId":"source","fieldValue":"={{ $json.output.source }}"},{"fieldId":"content","fieldValue":"={{ $json.output.content }}"},{"fieldId":"topic","fieldValue":"={{ $json.output.topic }}"},{"fieldId":"tone","fieldValue":"={{ $json.output.tone }}"},{"fieldId":"category","fieldValue":"={{ $json.output.category }}"},{"fieldId":"date","fieldValue":"={{ $json.output.date }}"}]}},"type":"n8n-nodes-base.supabase","typeVersion":1,"position":[1120,240],"id":"fbc48c42-911d-415f-ac22-2dcc03fe480e","name":"Insert feed into DB","credentials":{"supabaseApi":{"id":"k6NMY19byioyMjUc","name":"Supabase - Reset"}}},{"parameters":{"notice":"","model":{"__rl":true,"value":"gpt-4.1-mini","mode":"list","cachedResultName":"gpt-4.1-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[768,512],"id":"84d56aea-71e7-4653-9db9-89efd9850712","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"notice":"","schemaType":"fromJson","jsonSchemaExample":"{\\n  \\"title\\": \\"OpenAI launches new agent platform\\",\\n  \\"url\\": \\"https://techcrunch.com/example\\",\\n  \\"date\\": \\"2025-10-06\\",\\n  \\"source\\": \\"TechCrunch\\",\\n  \\"content\\": \\"OpenAI announced AgentKit, a toolkit to help developers build and deploy AI agents.\\",\\n  \\"topic\\": \\"AI\\",\\n  \\"tone\\": \\"positive\\",\\n  \\"category\\": \\"Product Launch\\"\\n}","autoFix":false},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.3,"position":[912,512],"id":"27c5dd10-5cf1-4b95-9d33-8eea2284fcbd","name":"Structured Output Parser"},{"parameters":{"notice":"","promptType":"define","text":"=Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: {{$json[\\"title\\"]}}\\nDate: {{$json[\\"date\\"]}}\\nSource: {{$json[\\"source\\"]}}\\nURL: {{$json[\\"url\\"]}}\\nContent: {{$json[\\"content\\"]}}\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"{{$json[\\"title\\"]}}\\",\\n  \\"date\\": \\"{{$json[\\"date\\"]}}\\",\\n  \\"source\\": \\"{{$json[\\"source\\"]}}\\",\\n  \\"content\\": \\"{{$json[\\"content\\"]}}\\",\\n  \\"url\\": \\"{{$json[\\"url\\"]}}\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}","hasOutputParser":true,"needsFallback":false,"messages":{"messageValues":[{"type":"SystemMessagePromptTemplate","message":"You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields."}]},"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[784,240],"id":"fc1ee4c3-3542-4eee-b584-ddb95dd19504","name":"Enrich Signal"},{"parameters":{"events":"worklfow_call","inputSource":"passthrough"},"type":"n8n-nodes-base.executeWorkflowTrigger","typeVersion":1.1,"position":[-368,240],"id":"338bdf61-ebf9-4e29-ae56-b0203f7d9c25","name":"When Executed by Another Workflow"}],"connections":{"TechCrunch: Fetch RSS":{"main":[[{"node":"TechCrunch: Convert to XML","type":"main","index":0}]]},"TechCrunch: Convert to XML":{"main":[[{"node":"TechCrunch: Normalize Feed","type":"main","index":0}]]},"TechCrunch: Normalize Feed":{"main":[[{"node":"Enrich Signal","type":"main","index":0}]]},"FT Tech: Fetch RSS":{"main":[[{"node":"FT Tech: Convert to XML","type":"main","index":0}]]},"FT Tech: Convert to XML":{"main":[[{"node":"FT Tech: Normalize Feed","type":"main","index":0}]]},"FT Tech: Normalize Feed":{"main":[[{"node":"Enrich Signal","type":"main","index":0}]]},"CoinDesk: Fetch RSS":{"main":[[{"node":"CoinDesk: Convert to XML","type":"main","index":0}]]},"CoinDesk: Convert to XML":{"main":[[{"node":"CoinDesk: Normalize Feed","type":"main","index":0}]]},"CoinDesk: Normalize Feed":{"main":[[{"node":"Enrich Signal","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"Enrich Signal","type":"ai_languageModel","index":0}]]},"Structured Output Parser":{"ai_outputParser":[[{"node":"Enrich Signal","type":"ai_outputParser","index":0}]]},"Enrich Signal":{"main":[[{"node":"Insert feed into DB","type":"main","index":0}]]},"When Executed by Another Workflow":{"main":[[{"node":"TechCrunch: Fetch RSS","type":"main","index":0},{"node":"FT Tech: Fetch RSS","type":"main","index":0},{"node":"CoinDesk: Fetch RSS","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"}}	[{"version":1,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","pinData":"5","lastNodeExecuted":"6"},{"contextData":"7","nodeExecutionStack":"8","metadata":"9","waitingExecution":"10","waitingExecutionSource":"11","runtimeData":"12"},{"When Executed by Another Workflow":"13","TechCrunch: Fetch RSS":"14","TechCrunch: Convert to XML":"15","TechCrunch: Normalize Feed":"16","OpenAI Chat Model":"17","Structured Output Parser":"18","Enrich Signal":"19","Insert feed into DB":"20","FT Tech: Fetch RSS":"21","FT Tech: Convert to XML":"22","FT Tech: Normalize Feed":"23","CoinDesk: Fetch RSS":"24","CoinDesk: Convert to XML":"25","CoinDesk: Normalize Feed":"26"},{},"Insert feed into DB",{"node:TechCrunch: Fetch RSS":"27","node:FT Tech: Fetch RSS":"28","node:CoinDesk: Fetch RSS":"29"},[],{"OpenAI Chat Model":"30","Structured Output Parser":"31"},{},{},{"version":1,"establishedAt":1765339072600,"source":"32"},["33"],["34"],["35"],["36"],["37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106"],["107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176"],["177","178","179"],["180","181","182"],["183"],["184"],["185"],["186"],["187"],["188"],{"response":"189"},{"response":"190"},{"response":"191"},["192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261"],["262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","327","328","329","330","331"],"manual",{"startTime":1765339072601,"executionIndex":0,"source":"332","hints":"333","executionTime":1,"executionStatus":"334","data":"335"},{"startTime":1765339072603,"executionIndex":1,"source":"336","hints":"337","executionTime":79,"executionStatus":"334","data":"338"},{"startTime":1765339072683,"executionIndex":2,"source":"339","hints":"340","executionTime":14,"executionStatus":"334","data":"341"},{"startTime":1765339072698,"executionIndex":3,"source":"342","hints":"343","executionTime":60,"executionStatus":"334","data":"344"},{"startTime":1765339073790,"executionTime":3901,"executionIndex":5,"executionStatus":"334","source":"345","data":"346","inputOverride":"347","metadata":"348"},{"startTime":1765339073791,"executionTime":3962,"executionIndex":6,"executionStatus":"334","source":"349","data":"350","inputOverride":"351","metadata":"352"},{"startTime":1765339073791,"executionTime":3781,"executionIndex":7,"executionStatus":"334","source":"353","data":"354","inputOverride":"355","metadata":"356"},{"startTime":1765339073828,"executionTime":3618,"executionIndex":8,"executionStatus":"334","source":"357","data":"358","inputOverride":"359","metadata":"360"},{"startTime":1765339073850,"executionTime":3635,"executionIndex":9,"executionStatus":"334","source":"361","data":"362","inputOverride":"363","metadata":"364"},{"startTime":1765339077775,"executionTime":3197,"executionIndex":15,"executionStatus":"334","source":"365","data":"366","inputOverride":"367","metadata":"368"},{"startTime":1765339077776,"executionTime":3588,"executionIndex":16,"executionStatus":"334","source":"369","data":"370","inputOverride":"371","metadata":"372"},{"startTime":1765339077789,"executionTime":3497,"executionIndex":17,"executionStatus":"334","source":"373","data":"374","inputOverride":"375","metadata":"376"},{"startTime":1765339077801,"executionTime":3177,"executionIndex":18,"executionStatus":"334","source":"377","data":"378","inputOverride":"379","metadata":"380"},{"startTime":1765339077816,"executionTime":3201,"executionIndex":19,"executionStatus":"334","source":"381","data":"382","inputOverride":"383","metadata":"384"},{"startTime":1765339081384,"executionTime":3194,"executionIndex":25,"executionStatus":"334","source":"385","data":"386","inputOverride":"387","metadata":"388"},{"startTime":1765339081401,"executionTime":2466,"executionIndex":26,"executionStatus":"334","source":"389","data":"390","inputOverride":"391","metadata":"392"},{"startTime":1765339081402,"executionTime":2709,"executionIndex":27,"executionStatus":"334","source":"393","data":"394","inputOverride":"395","metadata":"396"},{"startTime":1765339081415,"executionTime":4080,"executionIndex":28,"executionStatus":"334","source":"397","data":"398","inputOverride":"399","metadata":"400"},{"startTime":1765339081427,"executionTime":2460,"executionIndex":29,"executionStatus":"334","source":"401","data":"402","inputOverride":"403","metadata":"404"},{"startTime":1765339085512,"executionTime":4943,"executionIndex":35,"executionStatus":"334","source":"405","data":"406","inputOverride":"407","metadata":"408"},{"startTime":1765339085533,"executionTime":2736,"executionIndex":36,"executionStatus":"334","source":"409","data":"410","inputOverride":"411","metadata":"412"},{"startTime":1765339085534,"executionTime":2358,"executionIndex":37,"executionStatus":"334","source":"413","data":"414","inputOverride":"415","metadata":"416"},{"startTime":1765339085550,"executionTime":3003,"executionIndex":38,"executionStatus":"334","source":"417","data":"418","inputOverride":"419","metadata":"420"},{"startTime":1765339085562,"executionTime":2418,"executionIndex":39,"executionStatus":"334","source":"421","data":"422","inputOverride":"423","metadata":"424"},{"startTime":1765339091526,"executionTime":2113,"executionIndex":50,"executionStatus":"334","source":"425","data":"426","inputOverride":"427","metadata":"428"},{"startTime":1765339091526,"executionTime":2074,"executionIndex":51,"executionStatus":"334","source":"429","data":"430","inputOverride":"431","metadata":"432"},{"startTime":1765339091534,"executionTime":2328,"executionIndex":52,"executionStatus":"334","source":"433","data":"434","inputOverride":"435","metadata":"436"},{"startTime":1765339091541,"executionTime":2178,"executionIndex":53,"executionStatus":"334","source":"437","data":"438","inputOverride":"439","metadata":"440"},{"startTime":1765339091546,"executionTime":3021,"executionIndex":54,"executionStatus":"334","source":"441","data":"442","inputOverride":"443","metadata":"444"},{"startTime":1765339094580,"executionTime":2220,"executionIndex":60,"executionStatus":"334","source":"445","data":"446","inputOverride":"447","metadata":"448"},{"startTime":1765339094588,"executionTime":2162,"executionIndex":61,"executionStatus":"334","source":"449","data":"450","inputOverride":"451","metadata":"452"},{"startTime":1765339094598,"executionTime":2085,"executionIndex":62,"executionStatus":"334","source":"453","data":"454","inputOverride":"455","metadata":"456"},{"startTime":1765339094608,"executionTime":2206,"executionIndex":63,"executionStatus":"334","source":"457","data":"458","inputOverride":"459","metadata":"460"},{"startTime":1765339094615,"executionTime":2698,"executionIndex":64,"executionStatus":"334","source":"461","data":"462","inputOverride":"463","metadata":"464"},{"startTime":1765339097338,"executionTime":2620,"executionIndex":70,"executionStatus":"334","source":"465","data":"466","inputOverride":"467","metadata":"468"},{"startTime":1765339097338,"executionTime":2161,"executionIndex":71,"executionStatus":"334","source":"469","data":"470","inputOverride":"471","metadata":"472"},{"startTime":1765339097348,"executionTime":1980,"executionIndex":72,"executionStatus":"334","source":"473","data":"474","inputOverride":"475","metadata":"476"},{"startTime":1765339097359,"executionTime":2446,"executionIndex":73,"executionStatus":"334","source":"477","data":"478","inputOverride":"479","metadata":"480"},{"startTime":1765339097367,"executionTime":2075,"executionIndex":74,"executionStatus":"334","source":"481","data":"482","inputOverride":"483","metadata":"484"},{"startTime":1765339099977,"executionTime":2710,"executionIndex":80,"executionStatus":"334","source":"485","data":"486","inputOverride":"487","metadata":"488"},{"startTime":1765339099977,"executionTime":2165,"executionIndex":81,"executionStatus":"334","source":"489","data":"490","inputOverride":"491","metadata":"492"},{"startTime":1765339099991,"executionTime":2064,"executionIndex":82,"executionStatus":"334","source":"493","data":"494","inputOverride":"495","metadata":"496"},{"startTime":1765339100003,"executionTime":2297,"executionIndex":83,"executionStatus":"334","source":"497","data":"498","inputOverride":"499","metadata":"500"},{"startTime":1765339100015,"executionTime":1933,"executionIndex":84,"executionStatus":"334","source":"501","data":"502","inputOverride":"503","metadata":"504"},{"startTime":1765339102713,"executionTime":2626,"executionIndex":90,"executionStatus":"334","source":"505","data":"506","inputOverride":"507","metadata":"508"},{"startTime":1765339102713,"executionTime":2300,"executionIndex":91,"executionStatus":"334","source":"509","data":"510","inputOverride":"511","metadata":"512"},{"startTime":1765339102722,"executionTime":2423,"executionIndex":92,"executionStatus":"334","source":"513","data":"514","inputOverride":"515","metadata":"516"},{"startTime":1765339102735,"executionTime":2468,"executionIndex":93,"executionStatus":"334","source":"517","data":"518","inputOverride":"519","metadata":"520"},{"startTime":1765339102742,"executionTime":3019,"executionIndex":94,"executionStatus":"334","source":"521","data":"522","inputOverride":"523","metadata":"524"},{"startTime":1765339106280,"executionTime":4181,"executionIndex":105,"executionStatus":"334","source":"525","data":"526","inputOverride":"527","metadata":"528"},{"startTime":1765339106280,"executionTime":4035,"executionIndex":106,"executionStatus":"334","source":"529","data":"530","inputOverride":"531","metadata":"532"},{"startTime":1765339106290,"executionTime":4446,"executionIndex":107,"executionStatus":"334","source":"533","data":"534","inputOverride":"535","metadata":"536"},{"startTime":1765339106299,"executionTime":3801,"executionIndex":108,"executionStatus":"334","source":"537","data":"538","inputOverride":"539","metadata":"540"},{"startTime":1765339106308,"executionTime":2312,"executionIndex":109,"executionStatus":"334","source":"541","data":"542","inputOverride":"543","metadata":"544"},{"startTime":1765339110766,"executionTime":2175,"executionIndex":115,"executionStatus":"334","source":"545","data":"546","inputOverride":"547","metadata":"548"},{"startTime":1765339110767,"executionTime":2909,"executionIndex":116,"executionStatus":"334","source":"549","data":"550","inputOverride":"551","metadata":"552"},{"startTime":1765339110784,"executionTime":2094,"executionIndex":117,"executionStatus":"334","source":"553","data":"554","inputOverride":"555","metadata":"556"},{"startTime":1765339110796,"executionTime":3713,"executionIndex":118,"executionStatus":"334","source":"557","data":"558","inputOverride":"559","metadata":"560"},{"startTime":1765339110812,"executionTime":3018,"executionIndex":119,"executionStatus":"334","source":"561","data":"562","inputOverride":"563","metadata":"564"},{"startTime":1765339114521,"executionTime":3170,"executionIndex":125,"executionStatus":"334","source":"565","data":"566","inputOverride":"567","metadata":"568"},{"startTime":1765339114530,"executionTime":2404,"executionIndex":126,"executionStatus":"334","source":"569","data":"570","inputOverride":"571","metadata":"572"},{"startTime":1765339114541,"executionTime":3263,"executionIndex":127,"executionStatus":"334","source":"573","data":"574","inputOverride":"575","metadata":"576"},{"startTime":1765339114548,"executionTime":3562,"executionIndex":128,"executionStatus":"334","source":"577","data":"578","inputOverride":"579","metadata":"580"},{"startTime":1765339114559,"executionTime":2696,"executionIndex":129,"executionStatus":"334","source":"581","data":"582","inputOverride":"583","metadata":"584"},{"startTime":1765339118124,"executionTime":4114,"executionIndex":135,"executionStatus":"334","source":"585","data":"586","inputOverride":"587","metadata":"588"},{"startTime":1765339118133,"executionTime":3352,"executionIndex":136,"executionStatus":"334","source":"589","data":"590","inputOverride":"591","metadata":"592"},{"startTime":1765339118143,"executionTime":2486,"executionIndex":137,"executionStatus":"334","source":"593","data":"594","inputOverride":"595","metadata":"596"},{"startTime":1765339118150,"executionTime":2453,"executionIndex":138,"executionStatus":"334","source":"597","data":"598","inputOverride":"599","metadata":"600"},{"startTime":1765339118163,"executionTime":2150,"executionIndex":139,"executionStatus":"334","source":"601","data":"602","inputOverride":"603","metadata":"604"},{"startTime":1765339122256,"executionTime":2915,"executionIndex":145,"executionStatus":"334","source":"605","data":"606","inputOverride":"607","metadata":"608"},{"startTime":1765339122256,"executionTime":2543,"executionIndex":146,"executionStatus":"334","source":"609","data":"610","inputOverride":"611","metadata":"612"},{"startTime":1765339122265,"executionTime":2617,"executionIndex":147,"executionStatus":"334","source":"613","data":"614","inputOverride":"615","metadata":"616"},{"startTime":1765339122275,"executionTime":2100,"executionIndex":148,"executionStatus":"334","source":"617","data":"618","inputOverride":"619","metadata":"620"},{"startTime":1765339122282,"executionTime":3631,"executionIndex":149,"executionStatus":"334","source":"621","data":"622","inputOverride":"623","metadata":"624"},{"startTime":1765339077448,"executionTime":3,"executionIndex":10,"executionStatus":"334","source":"625","data":"626","inputOverride":"627","metadata":"628"},{"startTime":1765339077488,"executionTime":2,"executionIndex":11,"executionStatus":"334","source":"629","data":"630","inputOverride":"631","metadata":"632"},{"startTime":1765339077574,"executionTime":1,"executionIndex":12,"executionStatus":"334","source":"633","data":"634","inputOverride":"635","metadata":"636"},{"startTime":1765339077693,"executionTime":1,"executionIndex":13,"executionStatus":"334","source":"637","data":"638","inputOverride":"639","metadata":"640"},{"startTime":1765339077754,"executionTime":1,"executionIndex":14,"executionStatus":"334","source":"641","data":"642","inputOverride":"643","metadata":"644"},{"startTime":1765339080973,"executionTime":1,"executionIndex":20,"executionStatus":"334","source":"645","data":"646","inputOverride":"647","metadata":"648"},{"startTime":1765339080979,"executionTime":1,"executionIndex":21,"executionStatus":"334","source":"649","data":"650","inputOverride":"651","metadata":"652"},{"startTime":1765339081019,"executionTime":1,"executionIndex":22,"executionStatus":"334","source":"653","data":"654","inputOverride":"655","metadata":"656"},{"startTime":1765339081288,"executionTime":1,"executionIndex":23,"executionStatus":"334","source":"657","data":"658","inputOverride":"659","metadata":"660"},{"startTime":1765339081366,"executionTime":1,"executionIndex":24,"executionStatus":"334","source":"661","data":"662","inputOverride":"663","metadata":"664"},{"startTime":1765339083868,"executionTime":1,"executionIndex":30,"executionStatus":"334","source":"665","data":"666","inputOverride":"667","metadata":"668"},{"startTime":1765339083888,"executionTime":1,"executionIndex":31,"executionStatus":"334","source":"669","data":"670","inputOverride":"671","metadata":"672"},{"startTime":1765339084112,"executionTime":1,"executionIndex":32,"executionStatus":"334","source":"673","data":"674","inputOverride":"675","metadata":"676"},{"startTime":1765339084579,"executionTime":1,"executionIndex":33,"executionStatus":"334","source":"677","data":"678","inputOverride":"679","metadata":"680"},{"startTime":1765339085496,"executionTime":1,"executionIndex":34,"executionStatus":"334","source":"681","data":"682","inputOverride":"683","metadata":"684"},{"startTime":1765339087893,"executionTime":0,"executionIndex":40,"executionStatus":"334","source":"685","data":"686","inputOverride":"687","metadata":"688"},{"startTime":1765339087981,"executionTime":1,"executionIndex":41,"executionStatus":"334","source":"689","data":"690","inputOverride":"691","metadata":"692"},{"startTime":1765339088270,"executionTime":1,"executionIndex":42,"executionStatus":"334","source":"693","data":"694","inputOverride":"695","metadata":"696"},{"startTime":1765339088554,"executionTime":1,"executionIndex":43,"executionStatus":"334","source":"697","data":"698","inputOverride":"699","metadata":"700"},{"startTime":1765339090455,"executionTime":1,"executionIndex":44,"executionStatus":"334","source":"701","data":"702","inputOverride":"703","metadata":"704"},{"startTime":1765339093601,"executionTime":0,"executionIndex":55,"executionStatus":"334","source":"705","data":"706","inputOverride":"707","metadata":"708"},{"startTime":1765339093640,"executionTime":1,"executionIndex":56,"executionStatus":"334","source":"709","data":"710","inputOverride":"711","metadata":"712"},{"startTime":1765339093720,"executionTime":0,"executionIndex":57,"executionStatus":"334","source":"713","data":"714","inputOverride":"715","metadata":"716"},{"startTime":1765339093863,"executionTime":0,"executionIndex":58,"executionStatus":"334","source":"717","data":"718","inputOverride":"719","metadata":"720"},{"startTime":1765339094568,"executionTime":0,"executionIndex":59,"executionStatus":"334","source":"721","data":"722","inputOverride":"723","metadata":"724"},{"startTime":1765339096684,"executionTime":0,"executionIndex":65,"executionStatus":"334","source":"725","data":"726","inputOverride":"727","metadata":"728"},{"startTime":1765339096750,"executionTime":1,"executionIndex":66,"executionStatus":"334","source":"729","data":"730","inputOverride":"731","metadata":"732"},{"startTime":1765339096801,"executionTime":0,"executionIndex":67,"executionStatus":"334","source":"733","data":"734","inputOverride":"735","metadata":"736"},{"startTime":1765339096816,"executionTime":0,"executionIndex":68,"executionStatus":"334","source":"737","data":"738","inputOverride":"739","metadata":"740"},{"startTime":1765339097314,"executionTime":1,"executionIndex":69,"executionStatus":"334","source":"741","data":"742","inputOverride":"743","metadata":"744"},{"startTime":1765339099329,"executionTime":1,"executionIndex":75,"executionStatus":"334","source":"745","data":"746","inputOverride":"747","metadata":"748"},{"startTime":1765339099442,"executionTime":1,"executionIndex":76,"executionStatus":"334","source":"749","data":"750","inputOverride":"751","metadata":"752"},{"startTime":1765339099500,"executionTime":1,"executionIndex":77,"executionStatus":"334","source":"753","data":"754","inputOverride":"755","metadata":"756"},{"startTime":1765339099806,"executionTime":0,"executionIndex":78,"executionStatus":"334","source":"757","data":"758","inputOverride":"759","metadata":"760"},{"startTime":1765339099959,"executionTime":0,"executionIndex":79,"executionStatus":"334","source":"761","data":"762","inputOverride":"763","metadata":"764"},{"startTime":1765339101950,"executionTime":1,"executionIndex":85,"executionStatus":"334","source":"765","data":"766","inputOverride":"767","metadata":"768"},{"startTime":1765339102057,"executionTime":0,"executionIndex":86,"executionStatus":"334","source":"769","data":"770","inputOverride":"771","metadata":"772"},{"startTime":1765339102144,"executionTime":2,"executionIndex":87,"executionStatus":"334","source":"773","data":"774","inputOverride":"775","metadata":"776"},{"startTime":1765339102301,"executionTime":1,"executionIndex":88,"executionStatus":"334","source":"777","data":"778","inputOverride":"779","metadata":"780"},{"startTime":1765339102689,"executionTime":1,"executionIndex":89,"executionStatus":"334","source":"781","data":"782","inputOverride":"783","metadata":"784"},{"startTime":1765339105016,"executionTime":2,"executionIndex":95,"executionStatus":"334","source":"785","data":"786","inputOverride":"787","metadata":"788"},{"startTime":1765339105146,"executionTime":0,"executionIndex":96,"executionStatus":"334","source":"789","data":"790","inputOverride":"791","metadata":"792"},{"startTime":1765339105204,"executionTime":1,"executionIndex":97,"executionStatus":"334","source":"793","data":"794","inputOverride":"795","metadata":"796"},{"startTime":1765339105340,"executionTime":1,"executionIndex":98,"executionStatus":"334","source":"797","data":"798","inputOverride":"799","metadata":"800"},{"startTime":1765339105762,"executionTime":1,"executionIndex":99,"executionStatus":"334","source":"801","data":"802","inputOverride":"803","metadata":"804"},{"startTime":1765339108622,"executionTime":0,"executionIndex":110,"executionStatus":"334","source":"805","data":"806","inputOverride":"807","metadata":"808"},{"startTime":1765339110101,"executionTime":1,"executionIndex":111,"executionStatus":"334","source":"809","data":"810","inputOverride":"811","metadata":"812"},{"startTime":1765339110317,"executionTime":0,"executionIndex":112,"executionStatus":"334","source":"813","data":"814","inputOverride":"815","metadata":"816"},{"startTime":1765339110462,"executionTime":1,"executionIndex":113,"executionStatus":"334","source":"817","data":"818","inputOverride":"819","metadata":"820"},{"startTime":1765339110739,"executionTime":1,"executionIndex":114,"executionStatus":"334","source":"821","data":"822","inputOverride":"823","metadata":"824"},{"startTime":1765339112880,"executionTime":0,"executionIndex":120,"executionStatus":"334","source":"825","data":"826","inputOverride":"827","metadata":"828"},{"startTime":1765339112942,"executionTime":1,"executionIndex":121,"executionStatus":"334","source":"829","data":"830","inputOverride":"831","metadata":"832"},{"startTime":1765339113676,"executionTime":2,"executionIndex":122,"executionStatus":"334","source":"833","data":"834","inputOverride":"835","metadata":"836"},{"startTime":1765339113831,"executionTime":0,"executionIndex":123,"executionStatus":"334","source":"837","data":"838","inputOverride":"839","metadata":"840"},{"startTime":1765339114510,"executionTime":0,"executionIndex":124,"executionStatus":"334","source":"841","data":"842","inputOverride":"843","metadata":"844"},{"startTime":1765339116935,"executionTime":1,"executionIndex":130,"executionStatus":"334","source":"845","data":"846","inputOverride":"847","metadata":"848"},{"startTime":1765339117257,"executionTime":0,"executionIndex":131,"executionStatus":"334","source":"849","data":"850","inputOverride":"851","metadata":"852"},{"startTime":1765339117692,"executionTime":0,"executionIndex":132,"executionStatus":"334","source":"853","data":"854","inputOverride":"855","metadata":"856"},{"startTime":1765339117805,"executionTime":1,"executionIndex":133,"executionStatus":"334","source":"857","data":"858","inputOverride":"859","metadata":"860"},{"startTime":1765339118110,"executionTime":1,"executionIndex":134,"executionStatus":"334","source":"861","data":"862","inputOverride":"863","metadata":"864"},{"startTime":1765339120314,"executionTime":1,"executionIndex":140,"executionStatus":"334","source":"865","data":"866","inputOverride":"867","metadata":"868"},{"startTime":1765339120604,"executionTime":1,"executionIndex":141,"executionStatus":"334","source":"869","data":"870","inputOverride":"871","metadata":"872"},{"startTime":1765339120630,"executionTime":1,"executionIndex":142,"executionStatus":"334","source":"873","data":"874","inputOverride":"875","metadata":"876"},{"startTime":1765339121486,"executionTime":0,"executionIndex":143,"executionStatus":"334","source":"877","data":"878","inputOverride":"879","metadata":"880"},{"startTime":1765339122239,"executionTime":1,"executionIndex":144,"executionStatus":"334","source":"881","data":"882","inputOverride":"883","metadata":"884"},{"startTime":1765339124376,"executionTime":0,"executionIndex":150,"executionStatus":"334","source":"885","data":"886","inputOverride":"887","metadata":"888"},{"startTime":1765339124801,"executionTime":0,"executionIndex":151,"executionStatus":"334","source":"889","data":"890","inputOverride":"891","metadata":"892"},{"startTime":1765339124883,"executionTime":1,"executionIndex":152,"executionStatus":"334","source":"893","data":"894","inputOverride":"895","metadata":"896"},{"startTime":1765339125173,"executionTime":1,"executionIndex":153,"executionStatus":"334","source":"897","data":"898","inputOverride":"899","metadata":"900"},{"startTime":1765339125914,"executionTime":0,"executionIndex":154,"executionStatus":"334","source":"901","data":"902","inputOverride":"903","metadata":"904"},{"startTime":1765339072759,"executionIndex":4,"source":"905","hints":"906","executionTime":17697,"executionStatus":"334","data":"907"},{"startTime":1765339091510,"executionIndex":49,"source":"908","hints":"909","executionTime":14254,"executionStatus":"334","data":"910"},{"startTime":1765339106263,"executionIndex":104,"source":"911","hints":"912","executionTime":19652,"executionStatus":"334","data":"913"},{"startTime":1765339090458,"executionIndex":45,"source":"914","hints":"915","executionTime":308,"executionStatus":"334","data":"916"},{"startTime":1765339105765,"executionIndex":100,"source":"917","hints":"918","executionTime":204,"executionStatus":"334","data":"919"},{"startTime":1765339125915,"executionIndex":155,"source":"920","hints":"921","executionTime":237,"executionStatus":"334","data":"922"},{"startTime":1765339090767,"executionIndex":46,"source":"923","hints":"924","executionTime":721,"executionStatus":"334","data":"925"},{"startTime":1765339091489,"executionIndex":47,"source":"926","hints":"927","executionTime":6,"executionStatus":"334","data":"928"},{"startTime":1765339091496,"executionIndex":48,"source":"929","hints":"930","executionTime":13,"executionStatus":"334","data":"931"},{"startTime":1765339105970,"executionIndex":101,"source":"932","hints":"933","executionTime":257,"executionStatus":"334","data":"934"},{"startTime":1765339106228,"executionIndex":102,"source":"935","hints":"936","executionTime":16,"executionStatus":"334","data":"937"},{"startTime":1765339106246,"executionIndex":103,"source":"938","hints":"939","executionTime":16,"executionStatus":"334","data":"940"},{"body":"941","headers":"942","statusCode":200,"statusMessage":"943"},{"body":"944","headers":"945","statusCode":200,"statusMessage":"943"},{"body":"946","headers":"947","statusCode":200,"statusMessage":"943"},{"subRun":"948"},{"subRun":"949"},{"subRun":"950"},{"subRun":"951"},{"subRun":"952"},{"subRun":"953"},{"subRun":"954"},{"subRun":"955"},{"subRun":"956"},{"subRun":"957"},{"subRun":"958"},{"subRun":"959"},{"subRun":"960"},{"subRun":"961"},{"subRun":"962"},{"subRun":"963"},{"subRun":"964"},{"subRun":"965"},{"subRun":"966"},{"subRun":"967"},{"subRun":"968"},{"subRun":"969"},{"subRun":"970"},{"subRun":"971"},{"subRun":"972"},{"subRun":"973"},{"subRun":"974"},{"subRun":"975"},{"subRun":"976"},{"subRun":"977"},{"subRun":"978"},{"subRun":"979"},{"subRun":"980"},{"subRun":"981"},{"subRun":"982"},{"subRun":"983"},{"subRun":"984"},{"subRun":"985"},{"subRun":"986"},{"subRun":"987"},{"subRun":"988"},{"subRun":"989"},{"subRun":"990"},{"subRun":"991"},{"subRun":"992"},{"subRun":"993"},{"subRun":"994"},{"subRun":"995"},{"subRun":"996"},{"subRun":"997"},{"subRun":"998"},{"subRun":"999"},{"subRun":"1000"},{"subRun":"1001"},{"subRun":"1002"},{"subRun":"1003"},{"subRun":"1004"},{"subRun":"1005"},{"subRun":"1006"},{"subRun":"1007"},{"subRun":"1008"},{"subRun":"1009"},{"subRun":"1010"},{"subRun":"1011"},{"subRun":"1012"},{"subRun":"1013"},{"subRun":"1014"},{"subRun":"1015"},{"subRun":"1016"},{"subRun":"1017"},{"subRun":"1018"},{"subRun":"1019"},{"subRun":"1020"},{"subRun":"1021"},{"subRun":"1022"},{"subRun":"1023"},{"subRun":"1024"},{"subRun":"1025"},{"subRun":"1026"},{"subRun":"1027"},{"subRun":"1028"},{"subRun":"1029"},{"subRun":"1030"},{"subRun":"1031"},{"subRun":"1032"},{"subRun":"1033"},{"subRun":"1034"},{"subRun":"1035"},{"subRun":"1036"},{"subRun":"1037"},{"subRun":"1038"},{"subRun":"1039"},{"subRun":"1040"},{"subRun":"1041"},{"subRun":"1042"},{"subRun":"1043"},{"subRun":"1044"},{"subRun":"1045"},{"subRun":"1046"},{"subRun":"1047"},{"subRun":"1048"},{"subRun":"1049"},{"subRun":"1050"},{"subRun":"1051"},{"subRun":"1052"},{"subRun":"1053"},{"subRun":"1054"},{"subRun":"1055"},{"subRun":"1056"},{"subRun":"1057"},{"subRun":"1058"},{"subRun":"1059"},{"subRun":"1060"},{"subRun":"1061"},{"subRun":"1062"},{"subRun":"1063"},{"subRun":"1064"},{"subRun":"1065"},{"subRun":"1066"},{"subRun":"1067"},{"subRun":"1068"},{"subRun":"1069"},{"subRun":"1070"},{"subRun":"1071"},{"subRun":"1072"},{"subRun":"1073"},{"subRun":"1074"},{"subRun":"1075"},{"subRun":"1076"},{"subRun":"1077"},{"subRun":"1078"},{"subRun":"1079"},{"subRun":"1080"},{"subRun":"1081"},{"subRun":"1082"},{"subRun":"1083"},{"subRun":"1084"},{"subRun":"1085"},{"subRun":"1086"},{"subRun":"1087"},[],[],"success",{"main":"1088"},["1089"],[],{"main":"1090"},["1091"],[],{"main":"1092"},["1093"],[],{"main":"1094"},["1095"],{"ai_languageModel":"1096"},{"ai_languageModel":"1097"},{"subRun":"948"},["1098"],{"ai_languageModel":"1099"},{"ai_languageModel":"1100"},{"subRun":"949"},["1101"],{"ai_languageModel":"1102"},{"ai_languageModel":"1103"},{"subRun":"950"},["1104"],{"ai_languageModel":"1105"},{"ai_languageModel":"1106"},{"subRun":"951"},["1107"],{"ai_languageModel":"1108"},{"ai_languageModel":"1109"},{"subRun":"952"},["1110"],{"ai_languageModel":"1111"},{"ai_languageModel":"1112"},{"subRun":"953"},["1113"],{"ai_languageModel":"1114"},{"ai_languageModel":"1115"},{"subRun":"954"},["1116"],{"ai_languageModel":"1117"},{"ai_languageModel":"1118"},{"subRun":"955"},["1119"],{"ai_languageModel":"1120"},{"ai_languageModel":"1121"},{"subRun":"956"},["1122"],{"ai_languageModel":"1123"},{"ai_languageModel":"1124"},{"subRun":"957"},["1125"],{"ai_languageModel":"1126"},{"ai_languageModel":"1127"},{"subRun":"958"},["1128"],{"ai_languageModel":"1129"},{"ai_languageModel":"1130"},{"subRun":"959"},["1131"],{"ai_languageModel":"1132"},{"ai_languageModel":"1133"},{"subRun":"960"},["1134"],{"ai_languageModel":"1135"},{"ai_languageModel":"1136"},{"subRun":"961"},["1137"],{"ai_languageModel":"1138"},{"ai_languageModel":"1139"},{"subRun":"962"},["1140"],{"ai_languageModel":"1141"},{"ai_languageModel":"1142"},{"subRun":"963"},["1143"],{"ai_languageModel":"1144"},{"ai_languageModel":"1145"},{"subRun":"964"},["1146"],{"ai_languageModel":"1147"},{"ai_languageModel":"1148"},{"subRun":"965"},["1149"],{"ai_languageModel":"1150"},{"ai_languageModel":"1151"},{"subRun":"966"},["1152"],{"ai_languageModel":"1153"},{"ai_languageModel":"1154"},{"subRun":"967"},["1155"],{"ai_languageModel":"1156"},{"ai_languageModel":"1157"},{"subRun":"968"},["1158"],{"ai_languageModel":"1159"},{"ai_languageModel":"1160"},{"subRun":"969"},["1161"],{"ai_languageModel":"1162"},{"ai_languageModel":"1163"},{"subRun":"970"},["1164"],{"ai_languageModel":"1165"},{"ai_languageModel":"1166"},{"subRun":"971"},["1167"],{"ai_languageModel":"1168"},{"ai_languageModel":"1169"},{"subRun":"972"},["1170"],{"ai_languageModel":"1171"},{"ai_languageModel":"1172"},{"subRun":"973"},["1173"],{"ai_languageModel":"1174"},{"ai_languageModel":"1175"},{"subRun":"974"},["1176"],{"ai_languageModel":"1177"},{"ai_languageModel":"1178"},{"subRun":"975"},["1179"],{"ai_languageModel":"1180"},{"ai_languageModel":"1181"},{"subRun":"976"},["1182"],{"ai_languageModel":"1183"},{"ai_languageModel":"1184"},{"subRun":"977"},["1185"],{"ai_languageModel":"1186"},{"ai_languageModel":"1187"},{"subRun":"978"},["1188"],{"ai_languageModel":"1189"},{"ai_languageModel":"1190"},{"subRun":"979"},["1191"],{"ai_languageModel":"1192"},{"ai_languageModel":"1193"},{"subRun":"980"},["1194"],{"ai_languageModel":"1195"},{"ai_languageModel":"1196"},{"subRun":"981"},["1197"],{"ai_languageModel":"1198"},{"ai_languageModel":"1199"},{"subRun":"982"},["1200"],{"ai_languageModel":"1201"},{"ai_languageModel":"1202"},{"subRun":"983"},["1203"],{"ai_languageModel":"1204"},{"ai_languageModel":"1205"},{"subRun":"984"},["1206"],{"ai_languageModel":"1207"},{"ai_languageModel":"1208"},{"subRun":"985"},["1209"],{"ai_languageModel":"1210"},{"ai_languageModel":"1211"},{"subRun":"986"},["1212"],{"ai_languageModel":"1213"},{"ai_languageModel":"1214"},{"subRun":"987"},["1215"],{"ai_languageModel":"1216"},{"ai_languageModel":"1217"},{"subRun":"988"},["1218"],{"ai_languageModel":"1219"},{"ai_languageModel":"1220"},{"subRun":"989"},["1221"],{"ai_languageModel":"1222"},{"ai_languageModel":"1223"},{"subRun":"990"},["1224"],{"ai_languageModel":"1225"},{"ai_languageModel":"1226"},{"subRun":"991"},["1227"],{"ai_languageModel":"1228"},{"ai_languageModel":"1229"},{"subRun":"992"},["1230"],{"ai_languageModel":"1231"},{"ai_languageModel":"1232"},{"subRun":"993"},["1233"],{"ai_languageModel":"1234"},{"ai_languageModel":"1235"},{"subRun":"994"},["1236"],{"ai_languageModel":"1237"},{"ai_languageModel":"1238"},{"subRun":"995"},["1239"],{"ai_languageModel":"1240"},{"ai_languageModel":"1241"},{"subRun":"996"},["1242"],{"ai_languageModel":"1243"},{"ai_languageModel":"1244"},{"subRun":"997"},["1245"],{"ai_languageModel":"1246"},{"ai_languageModel":"1247"},{"subRun":"998"},["1248"],{"ai_languageModel":"1249"},{"ai_languageModel":"1250"},{"subRun":"999"},["1251"],{"ai_languageModel":"1252"},{"ai_languageModel":"1253"},{"subRun":"1000"},["1254"],{"ai_languageModel":"1255"},{"ai_languageModel":"1256"},{"subRun":"1001"},["1257"],{"ai_languageModel":"1258"},{"ai_languageModel":"1259"},{"subRun":"1002"},["1260"],{"ai_languageModel":"1261"},{"ai_languageModel":"1262"},{"subRun":"1003"},["1263"],{"ai_languageModel":"1264"},{"ai_languageModel":"1265"},{"subRun":"1004"},["1266"],{"ai_languageModel":"1267"},{"ai_languageModel":"1268"},{"subRun":"1005"},["1269"],{"ai_languageModel":"1270"},{"ai_languageModel":"1271"},{"subRun":"1006"},["1272"],{"ai_languageModel":"1273"},{"ai_languageModel":"1274"},{"subRun":"1007"},["1275"],{"ai_languageModel":"1276"},{"ai_languageModel":"1277"},{"subRun":"1008"},["1278"],{"ai_languageModel":"1279"},{"ai_languageModel":"1280"},{"subRun":"1009"},["1281"],{"ai_languageModel":"1282"},{"ai_languageModel":"1283"},{"subRun":"1010"},["1284"],{"ai_languageModel":"1285"},{"ai_languageModel":"1286"},{"subRun":"1011"},["1287"],{"ai_languageModel":"1288"},{"ai_languageModel":"1289"},{"subRun":"1012"},["1290"],{"ai_languageModel":"1291"},{"ai_languageModel":"1292"},{"subRun":"1013"},["1293"],{"ai_languageModel":"1294"},{"ai_languageModel":"1295"},{"subRun":"1014"},["1296"],{"ai_languageModel":"1297"},{"ai_languageModel":"1298"},{"subRun":"1015"},["1299"],{"ai_languageModel":"1300"},{"ai_languageModel":"1301"},{"subRun":"1016"},["1302"],{"ai_languageModel":"1303"},{"ai_languageModel":"1304"},{"subRun":"1017"},["1305"],{"ai_outputParser":"1306"},{"ai_outputParser":"1307"},{"subRun":"1018"},["1308"],{"ai_outputParser":"1309"},{"ai_outputParser":"1310"},{"subRun":"1019"},["1311"],{"ai_outputParser":"1312"},{"ai_outputParser":"1313"},{"subRun":"1020"},["1314"],{"ai_outputParser":"1315"},{"ai_outputParser":"1316"},{"subRun":"1021"},["1317"],{"ai_outputParser":"1318"},{"ai_outputParser":"1319"},{"subRun":"1022"},["1320"],{"ai_outputParser":"1321"},{"ai_outputParser":"1322"},{"subRun":"1023"},["1323"],{"ai_outputParser":"1324"},{"ai_outputParser":"1325"},{"subRun":"1024"},["1326"],{"ai_outputParser":"1327"},{"ai_outputParser":"1328"},{"subRun":"1025"},["1329"],{"ai_outputParser":"1330"},{"ai_outputParser":"1331"},{"subRun":"1026"},["1332"],{"ai_outputParser":"1333"},{"ai_outputParser":"1334"},{"subRun":"1027"},["1335"],{"ai_outputParser":"1336"},{"ai_outputParser":"1337"},{"subRun":"1028"},["1338"],{"ai_outputParser":"1339"},{"ai_outputParser":"1340"},{"subRun":"1029"},["1341"],{"ai_outputParser":"1342"},{"ai_outputParser":"1343"},{"subRun":"1030"},["1344"],{"ai_outputParser":"1345"},{"ai_outputParser":"1346"},{"subRun":"1031"},["1347"],{"ai_outputParser":"1348"},{"ai_outputParser":"1349"},{"subRun":"1032"},["1350"],{"ai_outputParser":"1351"},{"ai_outputParser":"1352"},{"subRun":"1033"},["1353"],{"ai_outputParser":"1354"},{"ai_outputParser":"1355"},{"subRun":"1034"},["1356"],{"ai_outputParser":"1357"},{"ai_outputParser":"1358"},{"subRun":"1035"},["1359"],{"ai_outputParser":"1360"},{"ai_outputParser":"1361"},{"subRun":"1036"},["1362"],{"ai_outputParser":"1363"},{"ai_outputParser":"1364"},{"subRun":"1037"},["1365"],{"ai_outputParser":"1366"},{"ai_outputParser":"1367"},{"subRun":"1038"},["1368"],{"ai_outputParser":"1369"},{"ai_outputParser":"1370"},{"subRun":"1039"},["1371"],{"ai_outputParser":"1372"},{"ai_outputParser":"1373"},{"subRun":"1040"},["1374"],{"ai_outputParser":"1375"},{"ai_outputParser":"1376"},{"subRun":"1041"},["1377"],{"ai_outputParser":"1378"},{"ai_outputParser":"1379"},{"subRun":"1042"},["1380"],{"ai_outputParser":"1381"},{"ai_outputParser":"1382"},{"subRun":"1043"},["1383"],{"ai_outputParser":"1384"},{"ai_outputParser":"1385"},{"subRun":"1044"},["1386"],{"ai_outputParser":"1387"},{"ai_outputParser":"1388"},{"subRun":"1045"},["1389"],{"ai_outputParser":"1390"},{"ai_outputParser":"1391"},{"subRun":"1046"},["1392"],{"ai_outputParser":"1393"},{"ai_outputParser":"1394"},{"subRun":"1047"},["1395"],{"ai_outputParser":"1396"},{"ai_outputParser":"1397"},{"subRun":"1048"},["1398"],{"ai_outputParser":"1399"},{"ai_outputParser":"1400"},{"subRun":"1049"},["1401"],{"ai_outputParser":"1402"},{"ai_outputParser":"1403"},{"subRun":"1050"},["1404"],{"ai_outputParser":"1405"},{"ai_outputParser":"1406"},{"subRun":"1051"},["1407"],{"ai_outputParser":"1408"},{"ai_outputParser":"1409"},{"subRun":"1052"},["1410"],{"ai_outputParser":"1411"},{"ai_outputParser":"1412"},{"subRun":"1053"},["1413"],{"ai_outputParser":"1414"},{"ai_outputParser":"1415"},{"subRun":"1054"},["1416"],{"ai_outputParser":"1417"},{"ai_outputParser":"1418"},{"subRun":"1055"},["1419"],{"ai_outputParser":"1420"},{"ai_outputParser":"1421"},{"subRun":"1056"},["1422"],{"ai_outputParser":"1423"},{"ai_outputParser":"1424"},{"subRun":"1057"},["1425"],{"ai_outputParser":"1426"},{"ai_outputParser":"1427"},{"subRun":"1058"},["1428"],{"ai_outputParser":"1429"},{"ai_outputParser":"1430"},{"subRun":"1059"},["1431"],{"ai_outputParser":"1432"},{"ai_outputParser":"1433"},{"subRun":"1060"},["1434"],{"ai_outputParser":"1435"},{"ai_outputParser":"1436"},{"subRun":"1061"},["1437"],{"ai_outputParser":"1438"},{"ai_outputParser":"1439"},{"subRun":"1062"},["1440"],{"ai_outputParser":"1441"},{"ai_outputParser":"1442"},{"subRun":"1063"},["1443"],{"ai_outputParser":"1444"},{"ai_outputParser":"1445"},{"subRun":"1064"},["1446"],{"ai_outputParser":"1447"},{"ai_outputParser":"1448"},{"subRun":"1065"},["1449"],{"ai_outputParser":"1450"},{"ai_outputParser":"1451"},{"subRun":"1066"},["1452"],{"ai_outputParser":"1453"},{"ai_outputParser":"1454"},{"subRun":"1067"},["1455"],{"ai_outputParser":"1456"},{"ai_outputParser":"1457"},{"subRun":"1068"},["1458"],{"ai_outputParser":"1459"},{"ai_outputParser":"1460"},{"subRun":"1069"},["1461"],{"ai_outputParser":"1462"},{"ai_outputParser":"1463"},{"subRun":"1070"},["1464"],{"ai_outputParser":"1465"},{"ai_outputParser":"1466"},{"subRun":"1071"},["1467"],{"ai_outputParser":"1468"},{"ai_outputParser":"1469"},{"subRun":"1072"},["1470"],{"ai_outputParser":"1471"},{"ai_outputParser":"1472"},{"subRun":"1073"},["1473"],{"ai_outputParser":"1474"},{"ai_outputParser":"1475"},{"subRun":"1074"},["1476"],{"ai_outputParser":"1477"},{"ai_outputParser":"1478"},{"subRun":"1075"},["1479"],{"ai_outputParser":"1480"},{"ai_outputParser":"1481"},{"subRun":"1076"},["1482"],{"ai_outputParser":"1483"},{"ai_outputParser":"1484"},{"subRun":"1077"},["1485"],{"ai_outputParser":"1486"},{"ai_outputParser":"1487"},{"subRun":"1078"},["1488"],{"ai_outputParser":"1489"},{"ai_outputParser":"1490"},{"subRun":"1079"},["1491"],{"ai_outputParser":"1492"},{"ai_outputParser":"1493"},{"subRun":"1080"},["1494"],{"ai_outputParser":"1495"},{"ai_outputParser":"1496"},{"subRun":"1081"},["1497"],{"ai_outputParser":"1498"},{"ai_outputParser":"1499"},{"subRun":"1082"},["1500"],{"ai_outputParser":"1501"},{"ai_outputParser":"1502"},{"subRun":"1083"},["1503"],{"ai_outputParser":"1504"},{"ai_outputParser":"1505"},{"subRun":"1084"},["1506"],{"ai_outputParser":"1507"},{"ai_outputParser":"1508"},{"subRun":"1085"},["1509"],{"ai_outputParser":"1510"},{"ai_outputParser":"1511"},{"subRun":"1086"},["1512"],{"ai_outputParser":"1513"},{"ai_outputParser":"1514"},{"subRun":"1087"},["1515"],[],{"main":"1516"},["1517"],[],{"main":"1518"},["1519"],[],{"main":"1520"},["1521"],[],{"main":"1522"},["1523"],[],{"main":"1524"},["1525"],[],{"main":"1526"},["1527"],[],{"main":"1528"},["1529"],[],{"main":"1530"},["1531"],[],{"main":"1532"},["1533"],[],{"main":"1534"},["1535"],[],{"main":"1536"},["1537"],[],{"main":"1538"},"<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?><rss version=\\"2.0\\"\\n\\txmlns:content=\\"http://purl.org/rss/1.0/modules/content/\\"\\n\\txmlns:wfw=\\"http://wellformedweb.org/CommentAPI/\\"\\n\\txmlns:dc=\\"http://purl.org/dc/elements/1.1/\\"\\n\\txmlns:atom=\\"http://www.w3.org/2005/Atom\\"\\n\\txmlns:sy=\\"http://purl.org/rss/1.0/modules/syndication/\\"\\n\\txmlns:slash=\\"http://purl.org/rss/1.0/modules/slash/\\"\\n\\t>\\n\\n<channel>\\n\\t<title>TechCrunch</title>\\n\\t<atom:link href=\\"https://techcrunch.com/feed/\\" rel=\\"self\\" type=\\"application/rss+xml\\" />\\n\\t<link>https://techcrunch.com/</link>\\n\\t<description>Startup and Technology News</description>\\n\\t<lastBuildDate>Wed, 10 Dec 2025 01:01:37 +0000</lastBuildDate>\\n\\t<language>en-US</language>\\n\\t<sy:updatePeriod>\\n\\thourly\\t</sy:updatePeriod>\\n\\t<sy:updateFrequency>\\n\\t1\\t</sy:updateFrequency>\\n\\t<generator>https://wordpress.org/?v=6.8.3</generator>\\n\\n<image>\\n\\t<url>https://techcrunch.com/wp-content/uploads/2015/02/cropped-cropped-favicon-gradient.png?w=32</url>\\n\\t<title>TechCrunch</title>\\n\\t<link>https://techcrunch.com/</link>\\n\\t<width>32</width>\\n\\t<height>32</height>\\n</image> \\n\\t<item>\\n\\t\\t<title>Coreweave CEO defends AI circular deals as &#8216;working together&#8217;</title>\\n\\t\\t<link>https://techcrunch.com/2025/12/09/coreweave-ceo-defends-ai-circular-deals-as-working-together/</link>\\n\\t\\t\\n\\t\\t<dc:creator><![CDATA[Lucas.ropek]]></dc:creator>\\n\\t\\t<pubDate>Wed, 10 Dec 2025 00:49:25 +0000</pubDate>\\n\\t\\t\\t\\t<category><![CDATA[AI]]></category>\\n\\t\\t<category><![CDATA[Microsoft]]></category>\\n\\t\\t<category><![CDATA[cloud]]></category>\\n\\t\\t<category><![CDATA[OpenAI]]></category>\\n\\t\\t<category><![CDATA[CoreWeave]]></category>\\n\\t\\t<category><![CDATA[artificial intelligence]]></category>\\n\\t\\t<category><![CDATA[Michael Intrator]]></category>\\n\\t\\t<guid isPermaLink=\\"false\\">https://techcrunch.com/?p=3074171</guid>\\n\\n\\t\\t\\t\\t\\t<description><![CDATA[The CEO of the AI data center provider, which has Nvidia as an investor and a supplier, described the environment as a \\"violent change\\" in demand.]]></description>\\n\\t\\t\\n\\t\\t\\n\\t\\t\\n\\t\\t\\t</item>\\n\\t\\t<item>\\n\\t\\t<title>Unconventional AI confirms its massive  $475M seed round</title>\\n\\t\\t<link>https://techcrunch.com/2025/12/09/unconventional-ai-confirms-its-massive-475m-seed-round/</link>\\n\\t\\t\\n\\t\\t<dc:creator><![CDATA[Marina Temkin]]></dc:creator>\\n\\t\\t<pubDate>Wed, 10 Dec 2025 00:24:16 +0000</pubDate>\\n\\t\\t\\t\\t<category><![CDATA[AI]]></category>\\n\\t\\t<category><![CDATA[Hardware]]></category>\\n\\t\\t<category><![CDATA[Startups]]></category>\\n\\t\\t<category><![CDATA[a16z]]></category>\\n\\t\\t<category><![CDATA[Databricks]]></category>\\n\\t\\t<category><![CDATA[In Brief]]></category>\\n\\t\\t<category><![CDATA[lightspeed]]></category>\\n\\t\\t<category><![CDATA[seed capital]]></category>\\n\\t\\t<guid isPermaLink=\\"false\\">https://techcrunch.com/?p=3074512</guid>\\n\\n\\t\\t\\t\\t\\t<description><![CDATA[Led by Naveen Rao, the former head of AI at Databricks, the new hardware startup is valued at $4.5 billion.]]></description>\\n\\t\\t\\n\\t\\t\\n\\t\\t\\n\\t\\t\\t</item>\\n\\t\\t<item>\\n\\t\\t<title>Hinge CEO steps down to launch Overtone, an AI dating app</title>\\n\\t\\t<link>https://techcrunch.com/2025/12/09/hinge-ceo-steps-down-to-launch-overtone-an-ai-dating-app/</link>\\n\\t\\t\\n\\t\\t<dc:creator><![CDATA[Amanda Silberling]]></dc:creator>\\n\\t\\t<pubDate>Wed, 10 Dec 2025 00:01:13 +0000</pubDate>\\n\\t\\t\\t\\t<category><![CDATA[Apps]]></category>\\n\\t\\t<category><![CDATA[Startups]]></category>\\n\\t\\t<category><![CDATA[dating]]></category>\\n\\t\\t<category><![CDATA[dating apps]]></category>\\n\\t\\t<category><![CDATA[Hinge]]></category>\\n\\t\\t<category><![CDATA[jackie jantos]]></category>\\n\\t\\t<category><![CDATA[justin mcleod]]></category>\\n\\t\\t<category><![CDATA[overtone]]></category>\\n\\t\\t<category><![CDATA[Tinder]]></category>\\n\\t\\t<guid isPermaLink=\\"false\\">https://techcrunch.com/?p=3074500</guid>\\n\\n\\t\\t\\t\\t\\t<description><![CDATA[Overtone is described as \\"an early-stage dating service focused on using AI and voice tools to help people connect in a more thoughtful and personal way.\\"]]></description>\\n\\t\\t\\n\\t\\t\\n\\t\\t\\n\\t\\t\\t</item>\\n\\t\\t<item>\\n\\t\\t<title>Fal nabs $140M in fresh funding led by Sequoia, tripling valuation to $4.5B</title>\\n\\t\\t<link>https://techcrunch.com/2025/12/09/fal-nabs-140m-in-fresh-funding-led-by-sequoia-tripling-valuation-to-4-5b/</link>\\n\\t\\t\\n\\t\\t<dc:creator><![CDATA[Marina Temkin]]></dc:creator>\\n\\t\\t<pubDate>Tue, 09 Dec 2025 22:21:33 +0000</pubDate>\\n\\t\\t\\t\\t<category><![CDATA[Startups]]></category>\\n\\t\\t<category><![CDATA[fal.ai]]></category>\\n\\t\\t<category><![CDATA[In Brief]]></category>\\n\\t\\t<category><![CDATA[Kleiner Perkins]]></category>\\n\\t\\t<category><![CDATA[Sequoia]]></category>\\n\\t\\t<guid isPermaLink=\\"false\\">https://techcrunch.com/?p=3074455</guid>\\n\\n\\t\\t\\t\\t\\t<description><![CDATA[The round, which was Fals third fundraise this year, also included a secondary sale for early investors, sources tell us.]]></description>\\n\\t\\t\\n\\t\\t\\n\\t\\t\\n\\t\\t\\t</item>\\n\\t\\t<item>\\n\\t\\t<title>Cashew Research is going after the $90B market research industry with AI</title>\\n\\t\\t<link>https://techcrunch.com/2025/12/09/cashew-research-is-going-after-the-90b-market-research-industry-with-ai/</link>\\n\\t\\t\\n\\t\\t<dc:creator><![CDATA[Rebecca Szkutak]]></dc:creator>\\n\\t\\t<pubDate>Tue, 09 Dec 2025 22:20:39 +0000</pubDate>\\n\\t\\t\\t\\t<category><![CDATA[AI]]></category>\\n\\t\\t<category><![CDATA[Enterprise]]></category>\\n\\t\\t<category><![CDATA[Startups]]></category>\\n\\t\\t<category><![CDATA[artificial intelligence]]></category>\\n\\t\\t<category><![CDATA[Automation]]></category>\\n\\t\\t<category><![CDATA[Battlefield 200]]></category>\\n\\t\\t<category><![CDATA[cashew research]]></category>\\n\\t\\t<category><![CDATA[TechCrunch Disrupt 2025]]></category>\\n\\t\\t<guid isPermaLink=\\"false\\">https://techcrunch.com/?p=3074454</guid>\\n\\n\\t\\t\\t\\t\\t<description><![CDATA[Cashew Research uses AI to automate the market research process while still collecting real-world data from humans. ]]></description>\\n\\t\\t\\n\\t\\t\\n\\t\\t\\n\\t\\t\\t</item>\\n\\t\\t<item>\\n\\t\\t<title>SpaceX reportedly planning 2026 IPO with $1.5T valuation target</title>\\n\\t\\t<link>https://techcrunch.com/2025/12/09/spacex-reportedly-planning-2026-ipo-with-1-5t-valuation-target/</link>\\n\\t\\t\\n\\t\\t<dc:creator><![CDATA[Sean O'Kane]]></dc:creator>\\n\\t\\t<pubDate>Tue, 09 Dec 2025 21:27:54 +0000</pubDate>\\n\\t\\t\\t\\t<category><![CDATA[Fundraising]]></category>\\n\\t\\t<category><![CDATA[Space]]></category>\\n\\t\\t<category><![CDATA[Elon Musk]]></category>\\n\\t\\t<category><![CDATA[In Brief]]></category>\\n\\t\\t<category><![CDATA[SpaceX]]></category>\\n\\t\\t<guid isPermaLink=\\"false\\">https://techcrunch.com/?p=3074435</guid>\\n\\n\\t\\t\\t\\t\\t<description><![CDATA[The company is looking to raise $30 billion, which would make it the biggest IPO ever, just ahead of Saudi Aramco's in 2019.]]></description>\\n\\t\\t\\n\\t\\t\\n\\t\\t\\n\\t\\t\\t</item>\\n\\t\\t<item>\\n\\t\\t<title>B Capital founding partner Kabir Narang leaves to launch new investment platform</title>\\n\\t\\t<link>https://techcrunch.com/2025/12/09/b-capital-founding-partner-kabir-narang-leaves-to-launch-new-investment-platform/</link>\\n\\t\\t\\n\\t\\t<dc:creator><![CDATA[Jagmeet Singh]]></dc:creator>\\n\\t\\t<pubDate>Tue, 09 Dec 2025 21:13:19 +0000</pubDate>\\n\\t\\t\\t\\t<category><![CDATA[AI]]></category>\\n\\t\\t<category><![CDATA[Startups]]></category>\\n\\t\\t<category><![CDATA[Venture]]></category>\\n\\t\\t<category><![CDATA[Exclusive]]></category>\\n\\t\\t<category><![CDATA[b capital]]></category>\\n\\t\\t<category><![CDATA[Kabir Narang]]></category>\\n\\t\\t<guid isPermaLink=\\"false\\">https://techcrunch.com/?p=3074414</guid>\\n\\n\\t\\t\\t\\t\\t<description><![CDATA[Kabir Narang is laying the groundwork for a new investment platform slated for 2026 that will focus on \\"compounding at the intersection of technology, AI, and global capital flows.\\" ]]></description>\\n\\t\\t\\n\\t\\t\\n\\t\\t\\n\\t\\t\\t</item>\\n\\t\\t<item>\\n\\t\\t<title>Why Cursor&#8217;s CEO believes OpenAI, Anthropic competition won&#8217;t crush his startup</title>\\n\\t\\t<link>https://techcrunch.com/2025/12/09/why-cursors-ceo-believes-openai-anthropic-competition-wont-crush-his-startup/</link>\\n\\t\\t\\n\\t\\t<dc:creator><![CDATA[Julie Bort]]></dc:creator>\\n\\t\\t<pubDate>Tue, 09 Dec 2025 20:59:21 +0000</pubDate>\\n\\t\\t\\t\\t<category><![CDATA[AI]]></category>\\n\\t\\t<category><![CDATA[Startups]]></category>\\n\\t\\t<category><![CDATA[cursor]]></category>\\n\\t\\t<category><![CDATA[OpenAI]]></category>\\n\\t\\t<guid isPermaLink=\\"false\\">https://techcrunch.com/?p=3074040</guid>\\n\\n\\t\\t\\t\\t\\t<description><![CDATA[After reaching $1 billion in annualized revenue, Anysphere CEO Michael Truell explained the features his company is focused on building out.]]></description>\\n\\t\\t\\n\\t\\t\\n\\t\\t\\n\\t\\t\\t</item>\\n\\t\\t<item>\\n\\t\\t<title>Rivian is building its own AI assistant</title>\\n\\t\\t<link>https://techcrunch.com/2025/12/09/rivian-is-building-its-own-ai-assistant/</link>\\n\\t\\t\\n\\t\\t<dc:creator><![CDATA[Kirsten Korosec]]></dc:creator>\\n\\t\\t<pubDate>Tue, 09 Dec 2025 20:11:13 +0000</pubDate>\\n\\t\\t\\t\\t<category><![CDATA[AI]]></category>\\n\\t\\t<category><![CDATA[Transportation]]></category>\\n\\t\\t<category><![CDATA[electric vehicles]]></category>\\n\\t\\t<category><![CDATA[EVs]]></category>\\n\\t\\t<category><![CDATA[Exclusive]]></category>\\n\\t\\t<category><![CDATA[Rivian]]></category>\\n\\t\\t<guid isPermaLink=\\"false\\">https://techcrunch.com/?p=3073894</guid>\\n\\n\\t\\t\\t\\t\\t<description><![CDATA[The EV maker will likely share more details on its upcoming AI &#038; Autonomy Day scheduled for December 11. ]]></description>\\n\\t\\t\\n\\t\\t\\n\\t\\t\\n\\t\\t\\t</item>\\n\\t\\t<item>\\n\\t\\t<title>Three in 10 US teens use AI chatbots every day, but safety concerns are growing</title>\\n\\t\\t<link>https://techcrunch.com/2025/12/09/three-in-ten-u-s-teens-use-ai-chatbots-every-day-but-safety-concerns-are-growing/</link>\\n\\t\\t\\n\\t\\t<dc:creator><![CDATA[Amanda Silberling]]></dc:creator>\\n\\t\\t<pubDate>Tue, 09 Dec 2025 20:00:00 +0000</pubDate>\\n\\t\\t\\t\\t<category><![CDATA[AI]]></category>\\n\\t\\t<category><![CDATA[Pew Research Center]]></category>\\n\\t\\t<category><![CDATA[teenagers]]></category>\\n\\t\\t<guid isPermaLink=\\"false\\">https://techcrunch.com/?p=3074018</guid>\\n\\n\\t\\t\\t\\t\\t<description><![CDATA[While teenagers may start out using AI chatbots for basic questions, their relationship with chatbot platforms has the potential to turn addictive.]]></description>\\n\\t\\t\\n\\t\\t\\n\\t\\t\\n\\t\\t\\t</item>\\n\\t\\t<item>\\n\\t\\t<title>Slack CEO Denise Dresser to join OpenAI as chief revenue officer</title>\\n\\t\\t<link>https://techcrunch.com/2025/12/09/slack-ceo-denise-dresser-to-join-openai-as-chief-revenue-officer/</link>\\n\\t\\t\\n\\t\\t<dc:creator><![CDATA[Amanda Silberling]]></dc:creator>\\n\\t\\t<pubDate>Tue, 09 Dec 2025 19:41:40 +0000</pubDate>\\n\\t\\t\\t\\t<category><![CDATA[AI]]></category>\\n\\t\\t<category><![CDATA[Denise Dresser]]></category>\\n\\t\\t<category><![CDATA[In Brief]]></category>\\n\\t\\t<category><![CDATA[OpenAI]]></category>\\n\\t\\t<category><![CDATA[Slack]]></category>\\n\\t\\t<guid isPermaLink=\\"false\\">https://techcrunch.com/?p=3074320</guid>\\n\\n\\t\\t\\t\\t\\t<description><![CDATA[OpenAI says that Dresser will be responsible for the company's revenue strategy in enterprise and customer success. ]]></description>\\n\\t\\t\\n\\t\\t\\n\\t\\t\\n\\t\\t\\t</item>\\n\\t\\t<item>\\n\\t\\t<title>Boom Supersonic raises $300M to build natural gas turbines for Crusoe data centers</title>\\n\\t\\t<link>https://techcrunch.com/2025/12/09/boom-supersonic-raises-300m-to-build-natural-gas-turbines-for-crusoe-data-centers/</link>\\n\\t\\t\\n\\t\\t<dc:creator><![CDATA[Tim De Chant]]></dc:creator>\\n\\t\\t<pubDate>Tue, 09 Dec 2025 19:17:41 +0000</pubDate>\\n\\t\\t\\t\\t<category><![CDATA[Enterprise]]></category>\\n\\t\\t<category><![CDATA[Startups]]></category>\\n\\t\\t<category><![CDATA[Transportation]]></category>\\n\\t\\t<category><![CDATA[Climate]]></category>\\n\\t\\t<category><![CDATA[altimeter capital]]></category>\\n\\t\\t<category><![CDATA[ark invest]]></category>\\n\\t\\t<category><![CDATA[Bessemer Venture Partners]]></category>\\n\\t\\t<category><![CDATA[boom supersonic]]></category>\\n\\t\\t<category><![CDATA[crusoe]]></category>\\n\\t\\t<category><![CDATA[data centers]]></category>\\n\\t\\t<category><![CDATA[natural gas]]></category>\\n\\t\\t<category><![CDATA[power plants]]></category>\\n\\t\\t<category><![CDATA[Robinhood]]></category>\\n\\t\\t<category><![CDATA[Y Combinator]]></category>\\n\\t\\t<guid isPermaLink=\\"false\\">https://techcrunch.com/?p=3074303</guid>\\n\\n\\t\\t\\t\\t\\t<description><![CDATA[Crusoe will pay Boom $1.25 billion for more than a gigawatt of generating capacity with deliveries of the turbines starting in 2027.]]></description>\\n\\t\\t\\n\\t\\t\\n\\t\\t\\n\\t\\t\\t</item>\\n\\t\\t<item>\\n\\t\\t<title>Amazon&#8217;s Ring rolls out controversial, AI-powered facial-recognition feature to video doorbells</title>\\n\\t\\t<link>https://techcrunch.com/2025/12/09/amazons-ring-rolls-out-controversial-ai-powered-facial-recognition-feature-to-video-doorbells/</link>\\n\\t\\t\\n\\t\\t<dc:creator><![CDATA[Sarah Perez]]></dc:creator>\\n\\t\\t<pubDate>Tue, 09 Dec 2025 19:04:08 +0000</pubDate>\\n\\t\\t\\t\\t<category><![CDATA[AI]]></category>\\n\\t\\t<category><![CDATA[Hardware]]></category>\\n\\t\\t<category><![CDATA[Privacy]]></category>\\n\\t\\t<category><![CDATA[Amazon]]></category>\\n\\t\\t<category><![CDATA[facial recognition]]></category>\\n\\t\\t<category><![CDATA[Ring]]></category>\\n\\t\\t<guid isPermaLink=\\"false\\">https://techcrunch.com/?p=3074272</guid>\\n\\n\\t\\t\\t\\t\\t<description><![CDATA[The feature lets you identify the people who regularly come to your door by creating a catalog of up to 50 faces. The company says the Ring feature is opt in and the biometric data isn't used to train AI models. ]]></description>\\n\\t\\t\\n\\t\\t\\n\\t\\t\\n\\t\\t\\t</item>\\n\\t\\t<item>\\n\\t\\t<title>Truecaller now lets users protect households from scam calls</title>\\n\\t\\t<link>https://techcrunch.com/2025/12/09/truecaller-now-lets-users-protect-households-from-scam-calls/</link>\\n\\t\\t\\n\\t\\t<dc:creator><![CDATA[Jagmeet Singh]]></dc:creator>\\n\\t\\t<pubDate>Tue, 09 Dec 2025 18:46:11 +0000</pubDate>\\n\\t\\t\\t\\t<category><![CDATA[Apps]]></category>\\n\\t\\t<category><![CDATA[Android]]></category>\\n\\t\\t<category><![CDATA[iOS]]></category>\\n\\t\\t<category><![CDATA[Truecaller]]></category>\\n\\t\\t<guid isPermaLink=\\"false\\">https://techcrunch.com/?p=3074259</guid>\\n\\n\\t\\t\\t\\t\\t<description><![CDATA[Truecaller's Family Protection will be rolled out widely in the first quarter of 2026. The new feature lets up to five people join a family group overseen by one member who acts as the administrator and manages scam-blocking settings for the others.]]></description>\\n\\t\\t\\n\\t\\t\\n\\t\\t\\n\\t\\t\\t</item>\\n\\t\\t<item>\\n\\t\\t<title>Ford and Renault team up on cheaper EVs in a &#8216;fight for our lives&#8217;</title>\\n\\t\\t<link>https://techcrunch.com/2025/12/09/ford-and-renault-team-up-on-cheaper-evs-in-a-fight-for-our-lives/</link>\\n\\t\\t\\n\\t\\t<dc:creator><![CDATA[Kirsten Korosec]]></dc:creator>\\n\\t\\t<pubDate>Tue, 09 Dec 2025 18:01:43 +0000</pubDate>\\n\\t\\t\\t\\t<category><![CDATA[Transportation]]></category>\\n\\t\\t<category><![CDATA[auto]]></category>\\n\\t\\t<category><![CDATA[EVs]]></category>\\n\\t\\t<category><![CDATA[Ford]]></category>\\n\\t\\t<category><![CDATA[In Brief]]></category>\\n\\t\\t<category><![CDATA[Renault]]></category>\\n\\t\\t<category><![CDATA[transportation]]></category>\\n\\t\\t<guid isPermaLink=\\"false\\">https://techcrunch.com/?p=3074185</guid>\\n\\n\\t\\t\\t\\t\\t<description><![CDATA[The automakers will work together to bring two Ford-branded EVs to European dealerships in 2028. ]]></description>\\n\\t\\t\\n\\t\\t\\n\\t\\t\\n\\t\\t\\t</item>\\n\\t\\t<item>\\n\\t\\t<title>Google Photos launches new video editing tools</title>\\n\\t\\t<link>https://techcrunch.com/2025/12/09/google-photos-launches-new-video-editing-tools/</link>\\n\\t\\t\\n\\t\\t<dc:creator><![CDATA[Lauren Forristal]]></dc:creator>\\n\\t\\t<pubDate>Tue, 09 Dec 2025 18:00:00 +0000</pubDate>\\n\\t\\t\\t\\t<category><![CDATA[Apps]]></category>\\n\\t\\t<category><![CDATA[Google Photos]]></category>\\n\\t\\t<guid isPermaLink=\\"false\\">https://techcrunch.com/?p=3074160</guid>\\n\\n\\t\\t\\t\\t\\t<description><![CDATA[Google Photos' new update helps make editing video reels in the app quicker, such as new templates that already add music and text to clips. ]]></description>\\n\\t\\t\\n\\t\\t\\n\\t\\t\\n\\t\\t\\t</item>\\n\\t\\t<item>\\n\\t\\t<title>NASA and USPS stop using Canoo EVs despite CEO&#8217;s pledged support</title>\\n\\t\\t<link>https://techcrunch.com/2025/12/09/nasa-and-usps-stop-using-canoo-evs-despite-ceos-pledged-support/</link>\\n\\t\\t\\n\\t\\t<dc:creator><![CDATA[Sean O'Kane]]></dc:creator>\\n\\t\\t<pubDate>Tue, 09 Dec 2025 17:42:28 +0000</pubDate>\\n\\t\\t\\t\\t<category><![CDATA[Transportation]]></category>\\n\\t\\t<category><![CDATA[electric vehicles]]></category>\\n\\t\\t<category><![CDATA[EVs]]></category>\\n\\t\\t<category><![CDATA[NASA]]></category>\\n\\t\\t<category><![CDATA[Exclusive]]></category>\\n\\t\\t<category><![CDATA[USPS]]></category>\\n\\t\\t<category><![CDATA[Canoo]]></category>\\n\\t\\t<guid isPermaLink=\\"false\\">https://techcrunch.com/?p=3073694</guid>\\n\\n\\t\\t\\t\\t\\t<description><![CDATA[Canoo's CEO bought the bankrupt startup's assets in April and told the court his \\"principal motivation\\" was supporting these programs.]]></description>\\n\\t\\t\\n\\t\\t\\n\\t\\t\\n\\t\\t\\t</item>\\n\\t\\t<item>\\n\\t\\t<title>OpenAI, Anthropic, and Block join new Linux Foundation effort to standardize the AI agent era</title>\\n\\t\\t<link>https://techcrunch.com/2025/12/09/openai-anthropic-and-block-join-new-linux-foundation-effort-to-standardize-the-ai-agent-era/</link>\\n\\t\\t\\n\\t\\t<dc:creator><![CDATA[Rebecca Bellan]]></dc:creator>\\n\\t\\t<pubDate>Tue, 09 Dec 2025 17:28:36 +0000</pubDate>\\n\\t\\t\\t\\t<category><![CDATA[AI]]></category>\\n\\t\\t<category><![CDATA[block]]></category>\\n\\t\\t<category><![CDATA[linux foundation]]></category>\\n\\t\\t<category><![CDATA[mcp]]></category>\\n\\t\\t<category><![CDATA[OpenAI]]></category>\\n\\t\\t<category><![CDATA[Anthropic]]></category>\\n\\t\\t<category><![CDATA[AI agents]]></category>\\n\\t\\t<category><![CDATA[open-source]]></category>\\n\\t\\t<guid isPermaLink=\\"false\\">https://techcrunch.com/?p=3074215</guid>\\n\\n\\t\\t\\t\\t\\t<description><![CDATA[Anthropic, Block, and OpenAI  are backing the Linux Foundations new Agentic AI Foundation, donating MCP, Goose, and AGENTS.md to standardize AI agents, boost interoperability, and curb proprietary fragmentation.]]></description>\\n\\t\\t\\n\\t\\t\\n\\t\\t\\n\\t\\t\\t</item>\\n\\t\\t<item>\\n\\t\\t<title>Fairphone refreshes its good-looking, repairable headphones</title>\\n\\t\\t<link>https://techcrunch.com/2025/12/09/fairphone-refreshes-its-good-looking-repairable-headphones/</link>\\n\\t\\t\\n\\t\\t<dc:creator><![CDATA[Ivan Mehta]]></dc:creator>\\n\\t\\t<pubDate>Tue, 09 Dec 2025 17:08:14 +0000</pubDate>\\n\\t\\t\\t\\t<category><![CDATA[Gadgets]]></category>\\n\\t\\t<category><![CDATA[headphones]]></category>\\n\\t\\t<category><![CDATA[Fairphone]]></category>\\n\\t\\t<category><![CDATA[repairable]]></category>\\n\\t\\t<guid isPermaLink=\\"false\\">https://techcrunch.com/?p=3074047</guid>\\n\\n\\t\\t\\t\\t\\t<description><![CDATA[Fairphone updates its repairable over-the-ear headphones with new drivers.]]></description>\\n\\t\\t\\n\\t\\t\\n\\t\\t\\n\\t\\t\\t</item>\\n\\t\\t<item>\\n\\t\\t<title>Facebook redesign focuses on friends, photos, Marketplace, and more</title>\\n\\t\\t<link>https://techcrunch.com/2025/12/09/facebook-redesign-focuses-on-friends-photos-marketplace-and-more/</link>\\n\\t\\t\\n\\t\\t<dc:creator><![CDATA[Sarah Perez]]></dc:creator>\\n\\t\\t<pubDate>Tue, 09 Dec 2025 17:00:00 +0000</pubDate>\\n\\t\\t\\t\\t<category><![CDATA[Apps]]></category>\\n\\t\\t<category><![CDATA[Social]]></category>\\n\\t\\t<category><![CDATA[Facebook]]></category>\\n\\t\\t<category><![CDATA[gen z]]></category>\\n\\t\\t<category><![CDATA[Meta]]></category>\\n\\t\\t<category><![CDATA[social media]]></category>\\n\\t\\t<guid isPermaLink=\\"false\\">https://techcrunch.com/?p=3073950</guid>\\n\\n\\t\\t\\t\\t\\t<description><![CDATA[Meta's Facebook redesign elevates Marketplace, refreshes profiles, and aims to win back Gen Z users.]]></description>\\n\\t\\t\\n\\t\\t\\n\\t\\t\\n\\t\\t\\t</item>\\n\\t</channel>\\n</rss>\\n",{"server":"1539","date":"1540","content-type":"1541","transfer-encoding":"1542","connection":"1543","vary":"1544","last-modified":"1545","etag":"1546","x-hacker":"1547","x-powered-by":"1548","host-header":"1549","x-frame-options":"1550","content-security-policy":"1551","permissions-policy":"1552","x-content-type-options":"1553","referrer-policy":"1554","access-control-allow-origin":"1555","access-control-allow-methods":"1556","link":"1557","x-rq":"1558","accept-ranges":"1559","x-cache":"1560","cache-control":"1561","strict-transport-security":"1562"},"OK","<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?><rss xmlns:dc=\\"http://purl.org/dc/elements/1.1/\\" xmlns:content=\\"http://purl.org/rss/1.0/modules/content/\\" xmlns:atom=\\"http://www.w3.org/2005/Atom\\" version=\\"2.0\\"><channel><title><![CDATA[Technology]]></title><description><![CDATA[Technology]]></description><link>https://www.ft.com/stream/e58e66fe-7cc6-4382-b781-1161bae8b905</link><generator>RSS for Node</generator><lastBuildDate>Wed, 10 Dec 2025 03:58:11 GMT</lastBuildDate><atom:link href=\\"https://www.ft.com/stream/e58e66fe-7cc6-4382-b781-1161bae8b905?format=rss\\" rel=\\"self\\" type=\\"application/rss+xml\\"/><copyright><![CDATA[ Copyright The Financial Times Ltd 2025. \\"FT\\" and \\"Financial Times\\" are trademarks of the Financial Times. See http://www.ft.com/servicestools/help/terms#legal1 for the terms and conditions of reuse.]]></copyright><language><![CDATA[en]]></language><webMaster><![CDATA[client.support@ft.com (FT Client Support)]]></webMaster><ttl>15</ttl><category><![CDATA[Newspapers]]></category><item><title><![CDATA[China adds domestic AI chips to official procurement list for first time]]></title><description><![CDATA[Beijing encouraged purchase of Huawei and Cambricon processors before Trumps move to allow Nvidia exports]]></description><link>https://www.ft.com/content/83c6521e-fe42-49e2-a9fe-eda97168b316</link><guid isPermaLink=\\"false\\">83c6521e-fe42-49e2-a9fe-eda97168b316</guid><pubDate>Wed, 10 Dec 2025 01:15:01 GMT</pubDate></item><item><title><![CDATA[UK watchdog bans social media ads promising ADHD and autism treatment]]></title><description><![CDATA[Advertising Standards Authority issues enforcement notices related to 11 different supplements and tests]]></description><link>https://www.ft.com/content/7511f62d-f888-4c60-954f-c931cacacafa</link><guid isPermaLink=\\"false\\">7511f62d-f888-4c60-954f-c931cacacafa</guid><pubDate>Wed, 10 Dec 2025 00:01:00 GMT</pubDate></item><item><title><![CDATA[FirstFT: China plans to limit access to Nvidias H200 chips despite Trump export approval]]></title><description><![CDATA[Also in todays newsletter: Trump to kick off final round of Fed chair interviews, and BoJ governor says economy has weathered US tariffs]]></description><link>https://www.ft.com/content/f072335b-d750-49c3-8bbf-69055c3d7e75</link><guid isPermaLink=\\"false\\">f072335b-d750-49c3-8bbf-69055c3d7e75</guid><pubDate>Tue, 09 Dec 2025 21:35:10 GMT</pubDate></item><item><title><![CDATA[China set to limit access to Nvidias H200 chips despite Trump export approval]]></title><description><![CDATA[Discussions among regulators come as Beijing seeks to achieve self-sufficiency in semiconductor production]]></description><link>https://www.ft.com/content/c4e81a67-cd5b-48b4-9749-92ecf116313d</link><guid isPermaLink=\\"false\\">c4e81a67-cd5b-48b4-9749-92ecf116313d</guid><pubDate>Tue, 09 Dec 2025 15:39:14 GMT</pubDate></item><item><title><![CDATA[Is it a bubble?]]></title><description><![CDATA[Given that the growth of demand for AI is so unpredictable, there can be no doubt investor behaviour is speculative]]></description><link>https://www.ft.com/content/353eda37-33b0-4d30-a912-a07607e278b8</link><guid isPermaLink=\\"false\\">353eda37-33b0-4d30-a912-a07607e278b8</guid><pubDate>Tue, 09 Dec 2025 15:00:07 GMT</pubDate></item><item><title><![CDATA[Nvidia can sell H200 AI chips to China, Trump says]]></title><description><![CDATA[President says other chipmakers can also resume exports and 25% will be paid to the US]]></description><link>https://www.ft.com/content/ac63139d-5143-4aed-a1e4-980a06551b51</link><guid isPermaLink=\\"false\\">ac63139d-5143-4aed-a1e4-980a06551b51</guid><pubDate>Tue, 09 Dec 2025 14:27:27 GMT</pubDate></item><item><title><![CDATA[Trump decides to let Nvidia export powerful H200 chips to China]]></title><description><![CDATA[Also in todays newsletter, the US warns the EU to be very careful after it fined Elon Musks X]]></description><link>https://www.ft.com/content/3a1f9360-3466-43f1-92a3-0c3647a8e15a</link><guid isPermaLink=\\"false\\">3a1f9360-3466-43f1-92a3-0c3647a8e15a</guid><pubDate>Tue, 09 Dec 2025 14:00:08 GMT</pubDate></item><item><title><![CDATA[Trump is choosing the broligarchs over his base]]></title><description><![CDATA[When historians assess this age of American populism, Silicon Valleys plutocrats will surely be judged its winners]]></description><link>https://www.ft.com/content/8a2c87eb-dcab-43fb-9c26-5625aa93f3f9</link><guid isPermaLink=\\"false\\">8a2c87eb-dcab-43fb-9c26-5625aa93f3f9</guid><pubDate>Tue, 09 Dec 2025 12:06:55 GMT</pubDate></item><item><title><![CDATA[EU opens probe into Googles use of online content for AI models]]></title><description><![CDATA[Investigation is blocs latest challenge to US big tech companies]]></description><link>https://www.ft.com/content/598aee7c-0b8b-4777-bea2-4ef121dc8197</link><guid isPermaLink=\\"false\\">598aee7c-0b8b-4777-bea2-4ef121dc8197</guid><pubDate>Tue, 09 Dec 2025 09:35:40 GMT</pubDate></item><item><title><![CDATA[Nothing wants to make a dent in Apples universe]]></title><description><![CDATA[A London-based smartphone maker valued at $1.3bn is slowly building a global brand  ]]></description><link>https://www.ft.com/content/5ea14dc8-c9ea-42e7-9639-7c4a9b655b94</link><guid isPermaLink=\\"false\\">5ea14dc8-c9ea-42e7-9639-7c4a9b655b94</guid><pubDate>Tue, 09 Dec 2025 05:00:31 GMT</pubDate></item><item><title><![CDATA[In-house legal teams test AI for automating more tasks]]></title><description><![CDATA[Companies hope the technology will take on work usually sent to law firms. Plus: the top innovative in-house teams, North America 2025; and six case studies of corporate lawyers innovations]]></description><link>https://www.ft.com/content/e5114ad0-66ca-4a12-a2fa-7c5944fbcf99</link><guid isPermaLink=\\"false\\">e5114ad0-66ca-4a12-a2fa-7c5944fbcf99</guid><pubDate>Tue, 09 Dec 2025 05:00:23 GMT</pubDate></item><item><title><![CDATA[Intrapreneurs: the hard yards that transform legal services  ]]></title><description><![CDATA[Work that turns pioneering ideas and tools into breakthroughs]]></description><link>https://www.ft.com/content/4d0a9055-e2ab-467a-9b2b-a06989165b73</link><guid isPermaLink=\\"false\\">4d0a9055-e2ab-467a-9b2b-a06989165b73</guid><pubDate>Tue, 09 Dec 2025 05:00:23 GMT</pubDate></item><item><title><![CDATA[AI turbocharges litigation powers]]></title><description><![CDATA[Artificial intelligenceis transforming legal work, but accuracy is seen as the greatest risk]]></description><link>https://www.ft.com/content/423e9bc4-227d-4bd4-87de-401132eb415a</link><guid isPermaLink=\\"false\\">423e9bc4-227d-4bd4-87de-401132eb415a</guid><pubDate>Tue, 09 Dec 2025 05:00:10 GMT</pubDate></item><item><title><![CDATA[Data centre boom sparks deals rush ]]></title><description><![CDATA[Frenetic hyperscaler activity in US demands extensive legal support]]></description><link>https://www.ft.com/content/42f3dec5-b8dc-49a2-aa5c-0e62ab529173</link><guid isPermaLink=\\"false\\">42f3dec5-b8dc-49a2-aa5c-0e62ab529173</guid><pubDate>Tue, 09 Dec 2025 05:00:10 GMT</pubDate></item><item><title><![CDATA[Chinas open-source AI is a national advantage]]></title><description><![CDATA[The models are akin to studying together to ace a test instead of relying on individual knowledge]]></description><link>https://www.ft.com/content/b1f92b0e-d6ef-4c95-b51e-7bcf90c8a65f</link><guid isPermaLink=\\"false\\">b1f92b0e-d6ef-4c95-b51e-7bcf90c8a65f</guid><pubDate>Tue, 09 Dec 2025 01:00:06 GMT</pubDate></item><item><title><![CDATA[The countdown to the worlds first social media ban for children]]></title><description><![CDATA[Under-16s will no longer be able to subscribe to popular apps under groundbreaking Australian law]]></description><link>https://www.ft.com/content/e93ab2b2-868f-441f-bbec-0af4fa3edeb5</link><guid isPermaLink=\\"false\\">e93ab2b2-868f-441f-bbec-0af4fa3edeb5</guid><pubDate>Tue, 09 Dec 2025 00:25:29 GMT</pubDate></item><item><title><![CDATA[Inside Paramounts $108bn hostile bid for Warner Bros ]]></title><description><![CDATA[Ellisons approach was rebuffed over concerns about financial backing from China and Middle East sovereign funds ]]></description><link>https://www.ft.com/content/e5da7064-3a46-4bab-9a6c-12ae03eead16</link><guid isPermaLink=\\"false\\">e5da7064-3a46-4bab-9a6c-12ae03eead16</guid><pubDate>Mon, 08 Dec 2025 21:13:51 GMT</pubDate></item><item><title><![CDATA[Paramount gatecrashes Warner Bros-Netflix deal ]]></title><description><![CDATA[Jared Kushner and Middle East funds assist with all-cash offer]]></description><link>https://www.ft.com/content/7981af0e-ad93-4c11-8c1c-09b0167bf4d6</link><guid isPermaLink=\\"false\\">7981af0e-ad93-4c11-8c1c-09b0167bf4d6</guid><pubDate>Mon, 08 Dec 2025 20:55:52 GMT</pubDate></item><item><title><![CDATA[IBM extends AI push with $11bn takeover of Confluent]]></title><description><![CDATA[Chief says deal with data streaming platform will allow company to deploy generative artificial intelligence faster]]></description><link>https://www.ft.com/content/8112d77f-2531-400f-b947-b506fe3c6b3f</link><guid isPermaLink=\\"false\\">8112d77f-2531-400f-b947-b506fe3c6b3f</guid><pubDate>Mon, 08 Dec 2025 20:20:36 GMT</pubDate></item><item><title><![CDATA[The Netflix age has been great for consumers but terrible for artists]]></title><description><![CDATA[Returns to musicians and writers are dwindling fast]]></description><link>https://www.ft.com/content/b49cd2de-f95d-47d3-bba0-cdb619176a84</link><guid isPermaLink=\\"false\\">b49cd2de-f95d-47d3-bba0-cdb619176a84</guid><pubDate>Mon, 08 Dec 2025 17:21:59 GMT</pubDate></item><item><title><![CDATA[The State of AI: life in 2030 ]]></title><description><![CDATA[Expect a world of robots, robotaxis and AI haves and have-nots ]]></description><link>https://www.ft.com/content/5bff1202-b2ce-439a-8687-8f8b919c683e</link><guid isPermaLink=\\"false\\">5bff1202-b2ce-439a-8687-8f8b919c683e</guid><pubDate>Mon, 08 Dec 2025 17:00:05 GMT</pubDate></item><item><title><![CDATA[Googles TPU chip puts OpenAI on alert and shakes Nvidia investors]]></title><description><![CDATA[AI advances made through groups custom processor hit Nvidias stock and prompt ChatGPT maker to declare code red ]]></description><link>https://www.ft.com/content/d8585870-17a5-43a0-95ef-cbebb1995107</link><guid isPermaLink=\\"false\\">d8585870-17a5-43a0-95ef-cbebb1995107</guid><pubDate>Mon, 08 Dec 2025 14:07:10 GMT</pubDate></item><item><title><![CDATA[Trump to issue executive order for single federal rule on AI regulation]]></title><description><![CDATA[Move to prevent individual US states from regulating tech groups opposed by some Republican senators]]></description><link>https://www.ft.com/content/47d54ca4-2ea3-4519-b860-e466ee7802b6</link><guid isPermaLink=\\"false\\">47d54ca4-2ea3-4519-b860-e466ee7802b6</guid><pubDate>Mon, 08 Dec 2025 14:03:51 GMT</pubDate></item><item><title><![CDATA[App delivery drivers battle dynamic wages and uncertain finances]]></title><description><![CDATA[Algorithmic pay systems test gig workers personal finance survival skills]]></description><link>https://www.ft.com/content/df480a7b-01c7-4507-b9a9-68d47fa008f0</link><guid isPermaLink=\\"false\\">df480a7b-01c7-4507-b9a9-68d47fa008f0</guid><pubDate>Mon, 08 Dec 2025 12:32:45 GMT</pubDate></item><item><title><![CDATA[Meta offers EU users ad-light option in push to end investigation]]></title><description><![CDATA[Facebook agrees changes to pay or consent model after talks with European Commission]]></description><link>https://www.ft.com/content/39b9d90c-0629-4dfc-8a2b-c52f1f503f38</link><guid isPermaLink=\\"false\\">39b9d90c-0629-4dfc-8a2b-c52f1f503f38</guid><pubDate>Mon, 08 Dec 2025 12:24:38 GMT</pubDate></item></channel></rss>",{"connection":"1543","content-length":"1563","cache-control":"1564","etag":"1565","x-xss-protection":"1566","x-download-options":"1567","content-type":"1568","accept-ranges":"1559","date":"1569","vary":"1570","set-cookie":"1571","strict-transport-security":"1572","x-content-type-options":"1553","content-security-policy":"1573","content-security-policy-report-only":"1574"},"<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<rss xmlns:content=\\"http://purl.org/rss/1.0/modules/content/\\" xmlns:wfw=\\"http://wellformedweb.org/CommentAPI/\\" xmlns:dc=\\"http://purl.org/dc/elements/1.1/\\" xmlns:atom=\\"http://www.w3.org/2005/Atom\\" xmlns:sy=\\"http://purl.org/rss/1.0/modules/syndication/\\" xmlns:slash=\\"http://purl.org/rss/1.0/modules/slash/\\" xmlns:media=\\"http://search.yahoo.com/mrss/\\" version=\\"2.0\\">\\n  <channel>\\n    <title>CoinDesk: Bitcoin, Ethereum, Crypto News and Price Data</title>\\n    <link>https://www.coindesk.com/</link>\\n    <atom:link rel=\\"self\\" type=\\"application/rss+xml\\" href=\\"https://www.coindesk.com/arc/outboundfeeds/rss\\"/>\\n    <atom:link rel=\\"hub\\" href=\\"true\\"/>\\n    <description>Leader in cryptocurrency, Bitcoin, Ethereum, XRP, blockchain, DeFi, digital finance and Web 3.0 news with analysis, video and live price updates.</description>\\n    <lastBuildDate>Wed, 10 Dec 2025 03:14:56 +0000</lastBuildDate>\\n    <language>en-US</language>\\n    <copyright> 2025 CoinDesk, Inc.</copyright>\\n    <generator>CoinDesk</generator>\\n    <ttl>5</ttl>\\n    <sy:updatePeriod>hourly</sy:updatePeriod>\\n    <sy:updateFrequency>1</sy:updateFrequency>\\n    <image>\\n      <url>https://downloads.coindesk.com/arc/failsafe/feeds/coindesk-feed-logo.png</url>\\n      <title>CoinDesk: Bitcoin, Ethereum, Crypto News and Price Data</title>\\n      <link>https://www.coindesk.com/</link>\\n    </image>\\n    <item>\\n      <title><![CDATA[Bitcoin Holds Near $92K as Selling Cools, but Demand Still Lags]]></title>\\n      <link>https://www.coindesk.com/markets/2025/12/10/bitcoin-holds-near-usd92k-as-selling-cools-but-demand-still-lags</link>\\n      <media:content url=\\"https://cdn.sanity.io/images/s3y3vcno/production/cea9f4fef04e3ac91c879f25c3304b72561be4c9-1920x1080.jpg?fm=jpg&amp;w=1920&amp;h=1080&amp;crop=focalpoint&amp;fit=clip\\" type=\\"image/*\\" medium=\\"image\\"/>\\n      <guid isPermaLink=\\"false\\">ac774de5-d516-4ab3-8180-6d9856b97049</guid>\\n      <pubDate>Wed, 10 Dec 2025 02:12:50 +0000</pubDate>\\n      <description><![CDATA[ETF inflows have finally turned positive, but weak on-chain activity, defensive derivatives positioning, and negative spot CVD show a market stabilizing without the conviction needed for a sustained move higher.\\n]]></description>\\n      <dc:creator>Sam Reynolds</dc:creator>\\n      <content:encoded/>\\n      <dc:description/>\\n      <category domain=\\"https://www.coindesk.com/markets\\"><![CDATA[Markets]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Bitcoin News]]></category>\\n      <category domain=\\"tag\\"><![CDATA[btc]]></category>\\n      <category domain=\\"tag\\"><![CDATA[ETH]]></category>\\n      <category domain=\\"https://www.coindesk.com/\\">News</category>\\n    </item>\\n    <item>\\n      <title><![CDATA[Key U.S. Senator on Crypto Bill, Lummis, Negotiating Dicey Points With White House]]></title>\\n      <link>https://www.coindesk.com/policy/2025/12/09/key-u-s-senator-on-crypto-bill-lummis-negotiating-dicey-points-with-white-house</link>\\n      <media:content url=\\"https://cdn.sanity.io/images/s3y3vcno/production/c2b85429f30becbcf6f8d06c33db3d3c17d5b660-1920x1080.jpg?fm=jpg&amp;w=1920&amp;h=1080&amp;crop=focalpoint&amp;fit=clip\\" type=\\"image/*\\" medium=\\"image\\"/>\\n      <guid isPermaLink=\\"false\\">e3e24c05-a71b-4448-a11c-fd4e14208801</guid>\\n      <pubDate>Tue, 09 Dec 2025 23:46:56 +0000</pubDate>\\n      <description><![CDATA[The Republican lawmaker who is among the core negotiators on the U.S. market structure bill said the White House has rejected some ethics language. ]]></description>\\n      <dc:creator>Jesse Hamilton</dc:creator>\\n      <content:encoded/>\\n      <dc:description/>\\n      <category domain=\\"https://www.coindesk.com/policy\\"><![CDATA[Policy]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Market Structure Legislation]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Cynthia Lummis]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Kirsten Gillibrand]]></category>\\n      <category domain=\\"https://www.coindesk.com/\\">News</category>\\n    </item>\\n    <item>\\n      <title><![CDATA[Proposed AfterDark Bitcoin ETF Would Skip U.S. Trading Hours]]></title>\\n      <link>https://www.coindesk.com/markets/2025/12/09/nicholas-proposes-afterdark-bitcoin-etf-that-skips-u-s-trading-hours</link>\\n      <media:content url=\\"https://cdn.sanity.io/images/s3y3vcno/production/3577d0e0d5f7130919e7d9ceaf1ccafe2506206e-1080x1080.jpg?fm=jpg&amp;w=1920&amp;h=1080&amp;crop=focalpoint&amp;fit=clip\\" type=\\"image/*\\" medium=\\"image\\"/>\\n      <guid isPermaLink=\\"false\\">9d310e2f-ffd9-4a34-9248-0ce687046d39</guid>\\n      <pubDate>Tue, 09 Dec 2025 20:57:44 +0000</pubDate>\\n      <description><![CDATA[The fund would hold bitcoin only overnight, betting on data showing bitcon gains mostly occur outside regular market hours.]]></description>\\n      <dc:creator>Helene Braun</dc:creator>\\n      <content:encoded/>\\n      <dc:description/>\\n      <category domain=\\"https://www.coindesk.com/markets\\"><![CDATA[Markets]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Bitcoin ETF]]></category>\\n      <category domain=\\"https://www.coindesk.com/\\">News</category>\\n    </item>\\n    <item>\\n      <title><![CDATA[XRP Underperforms Market as Sudden Bitcoin Surge Forces $387M of Liquidations]]></title>\\n      <link>https://www.coindesk.com/markets/2025/12/10/xrp-underperforms-market-as-sudden-bitcoin-surge-ends-up-in-usd387m-liquidations</link>\\n      <media:content url=\\"https://cdn.sanity.io/images/s3y3vcno/production/d443bec88e524f5b0b2c2abdedd8962ae7894b7e-1208x726.png?fm=jpg&amp;w=1920&amp;h=1080&amp;crop=focalpoint&amp;fit=clip\\" type=\\"image/*\\" medium=\\"image\\"/>\\n      <guid isPermaLink=\\"false\\">b085fa33-3702-4d2c-b866-4de09e29c9cb</guid>\\n      <pubDate>Tue, 09 Dec 2025 19:36:41 +0000</pubDate>\\n      <description><![CDATA[XRP's technical outlook remains uncertain, with support at $2.05 and resistance at $2.17, as traders watch for volume expansion]]></description>\\n      <dc:creator>Shaurya Malwa</dc:creator>\\n      <dc:creator>CD Analytics</dc:creator>\\n      <content:encoded/>\\n      <dc:description/>\\n      <category domain=\\"https://www.coindesk.com/markets\\"><![CDATA[Markets]]></category>\\n      <category domain=\\"https://www.coindesk.com/\\">News</category>\\n    </item>\\n    <item>\\n      <title><![CDATA[Dogecoin Surges as Ether Zooms 8%, Sparking Bullish Reversal For Memecoins]]></title>\\n      <link>https://www.coindesk.com/markets/2025/12/10/dogecoin-surges-as-ether-zooms-8-sparking-bullish-reversal-for-memecoins</link>\\n      <media:content url=\\"https://cdn.sanity.io/images/s3y3vcno/production/17ab26aa17d188a6afb5fd04bbbe1a1438085f2c-1198x736.png?fm=jpg&amp;w=1920&amp;h=1080&amp;crop=focalpoint&amp;fit=clip\\" type=\\"image/*\\" medium=\\"image\\"/>\\n      <guid isPermaLink=\\"false\\">82219855-387c-4a93-b878-fea4721f7542</guid>\\n      <pubDate>Tue, 09 Dec 2025 19:27:47 +0000</pubDate>\\n      <description><![CDATA[The breakout now sets up a clean continuation zoneprovided bulls defend the mid-range pivot they just reclaimed.]]></description>\\n      <dc:creator>Shaurya Malwa</dc:creator>\\n      <dc:creator>CD Analytics</dc:creator>\\n      <content:encoded/>\\n      <dc:description/>\\n      <category domain=\\"https://www.coindesk.com/markets\\"><![CDATA[Markets]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Dogecoin]]></category>\\n      <category domain=\\"https://www.coindesk.com/\\">News</category>\\n    </item>\\n    <item>\\n      <title><![CDATA[Aptos Rises 8% After Breaking Through $1.80 Resistance]]></title>\\n      <link>https://www.coindesk.com/markets/2025/12/09/aptos-rises-8-after-breaking-through-usd1-80-resistance</link>\\n      <media:content url=\\"https://cdn.sanity.io/images/s3y3vcno/production/cef4fa3f630090b457b9572d9a2d1f38f17b33b6-700x430.png?fm=jpg&amp;w=1920&amp;h=1080&amp;crop=focalpoint&amp;fit=clip\\" type=\\"image/*\\" medium=\\"image\\"/>\\n      <guid isPermaLink=\\"false\\">0d663ea5-60ad-47da-a621-49d4dfb2a0cf</guid>\\n      <pubDate>Tue, 09 Dec 2025 18:50:32 +0000</pubDate>\\n      <description><![CDATA[Strong volume and technical momentum distinguished APT's gains from the broader market action.]]></description>\\n      <dc:creator>CD Analytics</dc:creator>\\n      <dc:creator>Will Canny</dc:creator>\\n      <content:encoded/>\\n      <dc:description/>\\n      <category domain=\\"https://www.coindesk.com/markets\\"><![CDATA[Markets]]></category>\\n      <category domain=\\"tag\\"><![CDATA[AI Market Insights]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Aptos]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Technical Analysis]]></category>\\n      <category domain=\\"https://www.coindesk.com/\\">News</category>\\n    </item>\\n    <item>\\n      <title><![CDATA[Ether Surges 8%, Outpacing Bitcoin Gains Amid Staking ETF, Tokenization Optimism]]></title>\\n      <link>https://www.coindesk.com/markets/2025/12/09/ether-surges-8-outpacing-bitcoin-gains-amid-staking-etf-tokenization-optimism</link>\\n      <media:content url=\\"https://cdn.sanity.io/images/s3y3vcno/production/5d84574eebcb318192498ca353e8132d54727c59-700x430.png?fm=jpg&amp;w=1920&amp;h=1080&amp;crop=focalpoint&amp;fit=clip\\" type=\\"image/*\\" medium=\\"image\\"/>\\n      <guid isPermaLink=\\"false\\">5e5beb97-8acc-43fa-8f9a-e44c427dbe17</guid>\\n      <pubDate>Tue, 09 Dec 2025 18:47:33 +0000</pubDate>\\n      <description><![CDATA[BlackRock's filing for a staking ether ETF earlier this week has contributed to ETH's relative strength to bitcoin, one market strategist noted.]]></description>\\n      <dc:creator>Krisztian Sandor</dc:creator>\\n      <content:encoded/>\\n      <dc:description/>\\n      <category domain=\\"https://www.coindesk.com/markets\\"><![CDATA[Markets]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Ethereum News]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Ether ETFs]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Staking]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Tokenization]]></category>\\n      <category domain=\\"https://www.coindesk.com/\\">News</category>\\n    </item>\\n    <item>\\n      <title><![CDATA[SEC Approves U.S. Second Crypto Index ETP with Bitwises BITW]]></title>\\n      <link>https://www.coindesk.com/policy/2025/12/09/sec-approves-u-s-second-crypto-index-etp-with-bitwise-s-bitw</link>\\n      <media:content url=\\"https://cdn.sanity.io/images/s3y3vcno/production/92243b183679e0c3e210c5b2ef8509db34a2ced4-1920x1080.jpg?fm=jpg&amp;w=1920&amp;h=1080&amp;crop=focalpoint&amp;fit=clip\\" type=\\"image/*\\" medium=\\"image\\"/>\\n      <guid isPermaLink=\\"false\\">173c37e0-d0d6-4175-9929-52526ce0197f</guid>\\n      <pubDate>Tue, 09 Dec 2025 17:20:14 +0000</pubDate>\\n      <description><![CDATA[The Bitwise 10 Crypto Index Fund now trades on NYSE Arca, joining the ranks of gold and oil funds in regulated exchange products.]]></description>\\n      <dc:creator>Olivier Acuna</dc:creator>\\n      <content:encoded/>\\n      <dc:description/>\\n      <category domain=\\"https://www.coindesk.com/policy\\"><![CDATA[Policy]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Bitwise Asset Management]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Bitwise]]></category>\\n      <category domain=\\"tag\\"><![CDATA[NYSE Arca]]></category>\\n      <category domain=\\"tag\\"><![CDATA[cryptocurrency ETP]]></category>\\n      <category domain=\\"https://www.coindesk.com/\\">News</category>\\n    </item>\\n    <item>\\n      <title><![CDATA[Michael Saylor Urges Middle East to Become the 'Switzerland of Bitcoin Banking']]></title>\\n      <link>https://www.coindesk.com/markets/2025/12/09/saylor-jpm-citi-and-schwab-are-starting-issue-credit-lines-backed-by-bitcoin</link>\\n      <media:content url=\\"https://cdn.sanity.io/images/s3y3vcno/production/be2481990e55316ea6740925190a484e9d44efba-1920x1080.jpg?fm=jpg&amp;w=1920&amp;h=1080&amp;crop=focalpoint&amp;fit=clip\\" type=\\"image/*\\" medium=\\"image\\"/>\\n      <guid isPermaLink=\\"false\\">256b47c4-df2d-45ef-a7ea-124ec0f40c98</guid>\\n      <pubDate>Tue, 09 Dec 2025 17:01:24 +0000</pubDate>\\n      <description><![CDATA[The executive chairman of Strategy pitched BTC-backed banking and yield products as a $200 trillion opportunity at the Bitcoin MENA conference.]]></description>\\n      <dc:creator>Helene Braun</dc:creator>\\n      <content:encoded/>\\n      <dc:description/>\\n      <category domain=\\"https://www.coindesk.com/markets\\"><![CDATA[Markets]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Michael Saylor]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Charles Schwab]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Citi]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Bitcoin News]]></category>\\n      <category domain=\\"https://www.coindesk.com/\\">News</category>\\n    </item>\\n    <item>\\n      <title><![CDATA[Cascade Unveils 24/7 Neo-Brokerage Offering Perpetuals on Cryptos, U.S. Stocks ]]></title>\\n      <link>https://www.coindesk.com/business/2025/12/09/cascade-unveils-247-neo-brokerage-offering-perpetuals-on-cryptos-us-stocks</link>\\n      <media:content url=\\"https://cdn.sanity.io/images/s3y3vcno/production/c397ec470875d547d7ecf10a967c19f1a197d7fc-1919x1080.jpg?fm=jpg&amp;w=1920&amp;h=1080&amp;crop=focalpoint&amp;fit=clip\\" type=\\"image/*\\" medium=\\"image\\"/>\\n      <guid isPermaLink=\\"false\\">fd3c2793-2a7d-4fe8-996e-bb65250ca283</guid>\\n      <pubDate>Tue, 09 Dec 2025 17:00:00 +0000</pubDate>\\n      <description><![CDATA[The platform will let retail traders use one margin account to trade round-the-clock perpetual markets.]]></description>\\n      <dc:creator>Will Canny</dc:creator>\\n      <dc:creator>AI Boost</dc:creator>\\n      <content:encoded/>\\n      <dc:description/>\\n      <category domain=\\"https://www.coindesk.com/business\\"><![CDATA[Finance]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Crypto Trading]]></category>\\n      <category domain=\\"tag\\"><![CDATA[perpetual contracts]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Exclusive ]]></category>\\n      <category domain=\\"https://www.coindesk.com/\\">News</category>\\n    </item>\\n    <item>\\n      <title><![CDATA[Bitcoin Surges to $94K One Day Ahead of Expected Fed Rate Cut]]></title>\\n      <link>https://www.coindesk.com/markets/2025/12/09/bitcoin-surges-to-usd94k-one-day-ahead-of-expected-fed-rate-cut</link>\\n      <media:content url=\\"https://cdn.sanity.io/images/s3y3vcno/production/0d2ff848e7fcc21175adfb76f365dc76165a01b6-2226x1186.png?fm=jpg&amp;w=1920&amp;h=1080&amp;crop=focalpoint&amp;fit=clip\\" type=\\"image/*\\" medium=\\"image\\"/>\\n      <guid isPermaLink=\\"false\\">88d92676-cf1f-4dfe-89cf-5763c6fe4103</guid>\\n      <pubDate>Tue, 09 Dec 2025 16:47:56 +0000</pubDate>\\n      <description><![CDATA[The change from what's become typical bearish U.S. session action could signal seller exhaustion.]]></description>\\n      <dc:creator>Krisztian Sandor</dc:creator>\\n      <content:encoded/>\\n      <dc:description/>\\n      <category domain=\\"https://www.coindesk.com/markets\\"><![CDATA[Markets]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Bitcoin News]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Market Wrap]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Breaking News]]></category>\\n      <category domain=\\"https://www.coindesk.com/\\">News</category>\\n    </item>\\n    <item>\\n      <title><![CDATA[Stripe-Backed Blockchain Tempo Starts Testnet; Kalshi, Mastercard, UBS Added as Partners]]></title>\\n      <link>https://www.coindesk.com/tech/2025/12/09/stripe-backed-blockchain-tempo-starts-testnet-kalshi-mastercard-ubs-added-as-partners</link>\\n      <media:content url=\\"https://cdn.sanity.io/images/s3y3vcno/production/5a7570ee7ddb098d12df6e70c9c9498a57586c01-1920x1080.jpg?fm=jpg&amp;w=1920&amp;h=1080&amp;crop=focalpoint&amp;fit=clip\\" type=\\"image/*\\" medium=\\"image\\"/>\\n      <guid isPermaLink=\\"false\\">6070a393-ea6a-4153-a1c2-4204851bad61</guid>\\n      <pubDate>Tue, 09 Dec 2025 15:49:04 +0000</pubDate>\\n      <description><![CDATA[Tempo, built by Stripe and Paradigm, has started testing payment-focused blockchain and has onboard a slew of institutional partners.]]></description>\\n      <dc:creator>Krisztian Sandor</dc:creator>\\n      <dc:creator>AI Boost</dc:creator>\\n      <content:encoded/>\\n      <dc:description/>\\n      <category domain=\\"https://www.coindesk.com/tech\\"><![CDATA[Tech]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Stripe]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Paradigm]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Stablecoin]]></category>\\n      <category domain=\\"https://www.coindesk.com/\\">News</category>\\n    </item>\\n    <item>\\n      <title><![CDATA[Do Kwon Judge Demands Answers Before Sentencing Over Assurance Hell Serve Time]]></title>\\n      <link>https://www.coindesk.com/policy/2025/12/09/do-kwon-judge-demands-answers-before-sentencing-over-assurance-he-ll-serve-time</link>\\n      <media:content url=\\"https://cdn.sanity.io/images/s3y3vcno/production/932705970160925ac2ce1200db0f0f502e8e4712-1919x1080.jpg?fm=jpg&amp;w=1920&amp;h=1080&amp;crop=focalpoint&amp;fit=clip\\" type=\\"image/*\\" medium=\\"image\\"/>\\n      <guid isPermaLink=\\"false\\">2842a877-62f3-41c5-94a2-3caaed9347c8</guid>\\n      <pubDate>Tue, 09 Dec 2025 15:48:15 +0000</pubDate>\\n      <description><![CDATA[Judge asked whether Kwon might be freed abroad and asked for details on victims, time-served credit and unresolved charges ahead of sentencing.]]></description>\\n      <dc:creator>Olivier Acuna</dc:creator>\\n      <content:encoded/>\\n      <dc:description/>\\n      <category domain=\\"https://www.coindesk.com/policy\\"><![CDATA[Policy]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Do Kwon]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Terraform]]></category>\\n      <category domain=\\"tag\\"><![CDATA[terraform labs]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Sentencing]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Crime]]></category>\\n      <category domain=\\"https://www.coindesk.com/\\">News</category>\\n    </item>\\n    <item>\\n      <title><![CDATA[Bitcoin Treasury Company Twenty One Drops 25% in NYSE Debut, Trades Near PIPE Pricing of $10]]></title>\\n      <link>https://www.coindesk.com/markets/2025/12/09/bitcoin-treasury-company-twenty-one-drops-25-in-nyse-debut-trades-near-pipe-pricing-of-usd10</link>\\n      <media:content url=\\"https://cdn.sanity.io/images/s3y3vcno/production/f588bd52879b8b6beb8334b528d7c8ae9142b80b-1080x1080.jpg?fm=jpg&amp;w=1920&amp;h=1080&amp;crop=focalpoint&amp;fit=clip\\" type=\\"image/*\\" medium=\\"image\\"/>\\n      <guid isPermaLink=\\"false\\">f86eec50-2357-42e7-aaf8-1bb97c698998</guid>\\n      <pubDate>Tue, 09 Dec 2025 15:30:12 +0000</pubDate>\\n      <description><![CDATA[The company is led by Strike CEO Jack Mallers and began trading under the XXI ticker today following its SPAC merger with Cantor Equity Partners.]]></description>\\n      <dc:creator>James Van Straten</dc:creator>\\n      <content:encoded/>\\n      <dc:description/>\\n      <category domain=\\"https://www.coindesk.com/markets\\"><![CDATA[Markets]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Jack Mallers]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Bitcoin News]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Tether]]></category>\\n      <category domain=\\"https://www.coindesk.com/\\">News</category>\\n    </item>\\n    <item>\\n      <title><![CDATA[Will the ETF Era Usher in the End of Crypto Tribalism?]]></title>\\n      <link>https://www.coindesk.com/coindesk-indices/2025/12/09/will-the-etf-era-usher-in-the-end-of-crypto-tribalism</link>\\n      <media:content url=\\"https://cdn.sanity.io/images/s3y3vcno/production/4437c7a07885f19de0702f8f984578ad1ad92e9e-6000x4000.jpg?fm=jpg&amp;w=1920&amp;h=1080&amp;crop=focalpoint&amp;fit=clip\\" type=\\"image/*\\" medium=\\"image\\"/>\\n      <guid isPermaLink=\\"false\\">d10ee267-e3e8-4ddd-a64b-3f2eed5d253c</guid>\\n      <pubDate>Tue, 09 Dec 2025 15:26:18 +0000</pubDate>\\n      <description><![CDATA[There was once a time when you picked a side  the token you were excited about. But crypto has become one of the fastest-growing asset classes of the last decade. Soon, it seems, youll just pick an allocation. But will that take the fun out of crypto?]]></description>\\n      <dc:creator>Rayhaneh Sharif-Askary</dc:creator>\\n      <content:encoded/>\\n      <dc:description/>\\n      <category domain=\\"https://www.coindesk.com/coindesk-indices\\"><![CDATA[CoinDesk Indices]]></category>\\n      <category domain=\\"tag\\"><![CDATA[ETFs]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Maximalist]]></category>\\n      <category domain=\\"tag\\"><![CDATA[CoinDesk Indices]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Grayscale]]></category>\\n      <category domain=\\"https://www.coindesk.com/\\">Opinion</category>\\n    </item>\\n    <item>\\n      <title><![CDATA[Most Influential: Don Jr., Eric and Barron Trump]]></title>\\n      <link>https://www.coindesk.com/policy/2025/12/09/most-influential-don-jr-eric-and-barron-trump</link>\\n      <media:content url=\\"https://cdn.sanity.io/images/s3y3vcno/production/eca57f8c3798258c35638c84f5c1720ce23b091a-1920x1080.png?fm=jpg&amp;w=1920&amp;h=1080&amp;crop=focalpoint&amp;fit=clip\\" type=\\"image/*\\" medium=\\"image\\"/>\\n      <guid isPermaLink=\\"false\\">19925c2e-2d48-486f-b102-289b3145b95b</guid>\\n      <pubDate>Tue, 09 Dec 2025 15:00:00 +0000</pubDate>\\n      <description><![CDATA[The sons of U.S. President Donald Trump have capitalized on their family name and cryptos political momentum, carving out a profitable niche for themselves in the booming industry. ]]></description>\\n      <dc:creator>Helene Braun</dc:creator>\\n      <content:encoded/>\\n      <dc:description/>\\n      <category domain=\\"https://www.coindesk.com/policy\\"><![CDATA[Policy]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Eric Trump]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Donald Trump]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Barron trump]]></category>\\n      <category domain=\\"tag\\"><![CDATA[CoinDesk Most Influential 2025]]></category>\\n      <category domain=\\"https://www.coindesk.com/\\">Feature</category>\\n    </item>\\n    <item>\\n      <title><![CDATA[Most Influential: Brandon and Howard Lutnick]]></title>\\n      <link>https://www.coindesk.com/business/2025/12/09/most-influential-brandon-and-howard-lutnick</link>\\n      <media:content url=\\"https://cdn.sanity.io/images/s3y3vcno/production/2d011541216275fc1ed9b3b8a0d49991571859e9-1920x1080.png?fm=jpg&amp;w=1920&amp;h=1080&amp;crop=focalpoint&amp;fit=clip\\" type=\\"image/*\\" medium=\\"image\\"/>\\n      <guid isPermaLink=\\"false\\">645e7adf-24af-44d0-b7f9-80c2e26259a1</guid>\\n      <pubDate>Tue, 09 Dec 2025 15:00:00 +0000</pubDate>\\n      <description><![CDATA[The world's biggest stablecoin issuer struggled to maintain banking relationships for a few years and faced accusations it wasn't fully backing its circulating tokens  then one of the world's biggest financial firms, Cantor Fitzgerald, became its custodian. ]]></description>\\n      <dc:creator>Nikhilesh De</dc:creator>\\n      <content:encoded/>\\n      <dc:description/>\\n      <category domain=\\"https://www.coindesk.com/business\\"><![CDATA[Finance]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Cantor fitzgerald]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Howard lutnick]]></category>\\n      <category domain=\\"tag\\"><![CDATA[CoinDesk Most Influential 2025]]></category>\\n      <category domain=\\"https://www.coindesk.com/\\">Feature</category>\\n    </item>\\n    <item>\\n      <title><![CDATA[Most Influential: Paolo Ardoino]]></title>\\n      <link>https://www.coindesk.com/business/2025/12/09/most-influential-paolo-ardoino</link>\\n      <media:content url=\\"https://cdn.sanity.io/images/s3y3vcno/production/931e20dc1e2cb33c8ec322651d45005f7f61d0ed-1920x1080.png?fm=jpg&amp;w=1920&amp;h=1080&amp;crop=focalpoint&amp;fit=clip\\" type=\\"image/*\\" medium=\\"image\\"/>\\n      <guid isPermaLink=\\"false\\">7b96d258-6d0b-4c18-9de8-f3524ee817f5</guid>\\n      <pubDate>Tue, 09 Dec 2025 15:00:00 +0000</pubDate>\\n      <description><![CDATA[The CEO of Tether is turning the stablecoin into a global financial force.]]></description>\\n      <dc:creator>Jamie Crawley</dc:creator>\\n      <content:encoded/>\\n      <dc:description/>\\n      <category domain=\\"https://www.coindesk.com/business\\"><![CDATA[Finance]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Tether]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Paolo Ardoino]]></category>\\n      <category domain=\\"tag\\"><![CDATA[CoinDesk Most Influential 2025]]></category>\\n      <category domain=\\"https://www.coindesk.com/\\">Feature</category>\\n    </item>\\n    <item>\\n      <title><![CDATA[Most Influential: Bo Hines]]></title>\\n      <link>https://www.coindesk.com/policy/2025/12/09/most-influential-bo-hines</link>\\n      <media:content url=\\"https://cdn.sanity.io/images/s3y3vcno/production/a2f17e275b17b5dda84ddf450b2a3b4aaa494695-1920x1080.png?fm=jpg&amp;w=1920&amp;h=1080&amp;crop=focalpoint&amp;fit=clip\\" type=\\"image/*\\" medium=\\"image\\"/>\\n      <guid isPermaLink=\\"false\\">cf05398c-918a-41e9-ae41-570c6cd5c14c</guid>\\n      <pubDate>Tue, 09 Dec 2025 15:00:00 +0000</pubDate>\\n      <description><![CDATA[President Donald Trump tapped a former college football player to run offense on his digital assets agenda.]]></description>\\n      <dc:creator>Jesse Hamilton</dc:creator>\\n      <content:encoded/>\\n      <dc:description/>\\n      <category domain=\\"https://www.coindesk.com/policy\\"><![CDATA[Policy]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Bo Hines]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Stablecoin legislation]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Tether]]></category>\\n      <category domain=\\"tag\\"><![CDATA[CoinDesk Most Influential 2025]]></category>\\n      <category domain=\\"https://www.coindesk.com/\\">Feature</category>\\n    </item>\\n    <item>\\n      <title><![CDATA[Most Influential: Cameron and Tyler Winklevoss ]]></title>\\n      <link>https://www.coindesk.com/policy/2025/12/09/most-influential-cameron-and-tyler-winklevoss</link>\\n      <media:content url=\\"https://cdn.sanity.io/images/s3y3vcno/production/9c9b66992e0b49d88c5e43c27ec3774ec16684fd-1920x1080.png?fm=jpg&amp;w=1920&amp;h=1080&amp;crop=focalpoint&amp;fit=clip\\" type=\\"image/*\\" medium=\\"image\\"/>\\n      <guid isPermaLink=\\"false\\">dd1bebb6-d88b-4e57-b861-bb79cc336596</guid>\\n      <pubDate>Tue, 09 Dec 2025 15:00:00 +0000</pubDate>\\n      <description><![CDATA[The U.S. Presidents choice to run the CFTC seemed set to sail through Congress, until Tyler and Cameron Winklevoss stepped in.]]></description>\\n      <dc:creator>Nikhilesh De</dc:creator>\\n      <content:encoded/>\\n      <dc:description/>\\n      <category domain=\\"https://www.coindesk.com/policy\\"><![CDATA[Policy]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Gemini]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Tyler Winklevoss]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Cameron Winklevoss]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Winklevoss Twins]]></category>\\n      <category domain=\\"tag\\"><![CDATA[CoinDesk Most Influential 2025]]></category>\\n      <category domain=\\"https://www.coindesk.com/\\">Feature</category>\\n    </item>\\n    <item>\\n      <title><![CDATA[Regulatory Battle Over Tokenized U.S. Stocks Escalates, HSBC Says]]></title>\\n      <link>https://www.coindesk.com/policy/2025/12/09/regulatory-battle-over-tokenized-us-stocks-escalates-hsbc-says</link>\\n      <media:content url=\\"https://cdn.sanity.io/images/s3y3vcno/production/462aa44fc614504ef506e076687060227de07a47-1919x1080.jpg?fm=jpg&amp;w=1920&amp;h=1080&amp;crop=focalpoint&amp;fit=clip\\" type=\\"image/*\\" medium=\\"image\\"/>\\n      <guid isPermaLink=\\"false\\">1cbb3c70-b3a1-4e1d-8672-1e212b8e08d8</guid>\\n      <pubDate>Tue, 09 Dec 2025 14:51:00 +0000</pubDate>\\n      <description><![CDATA[Citadel Securities has urged the SEC to treat decentralized finance trading venues like traditional exchanges,  a stance facing opposition from the crypto industry.]]></description>\\n      <dc:creator>Will Canny</dc:creator>\\n      <dc:creator>AI Boost</dc:creator>\\n      <content:encoded/>\\n      <dc:description/>\\n      <category domain=\\"https://www.coindesk.com/policy\\"><![CDATA[Policy]]></category>\\n      <category domain=\\"tag\\"><![CDATA[tokenized stocks]]></category>\\n      <category domain=\\"tag\\"><![CDATA[DeFi]]></category>\\n      <category domain=\\"tag\\"><![CDATA[SEC]]></category>\\n      <category domain=\\"tag\\"><![CDATA[HSBC]]></category>\\n      <category domain=\\"https://www.coindesk.com/\\">News</category>\\n    </item>\\n    <item>\\n      <title><![CDATA[TON Token Yearly Loss Nears 72%, but Potential Reversal Signs Emerge]]></title>\\n      <link>https://www.coindesk.com/markets/2025/12/09/ton-token-yearly-loss-nears-72-but-potential-reversal-signs-emerge</link>\\n      <media:content url=\\"https://cdn.sanity.io/images/s3y3vcno/production/7b2fd9bdc88b68b00b81599b3b4d418a8e4b05c9-700x430.png?fm=jpg&amp;w=1920&amp;h=1080&amp;crop=focalpoint&amp;fit=clip\\" type=\\"image/*\\" medium=\\"image\\"/>\\n      <guid isPermaLink=\\"false\\">3b9145d7-125a-48d9-b685-b58aa6f63297</guid>\\n      <pubDate>Tue, 09 Dec 2025 14:49:32 +0000</pubDate>\\n      <description><![CDATA[The token's price found support at $1.6025, which held firm despite initial selling pressure, and has since shown signs of a potential reversal.]]></description>\\n      <dc:creator>CD Analytics</dc:creator>\\n      <dc:creator>Francisco Rodrigues</dc:creator>\\n      <content:encoded/>\\n      <dc:description/>\\n      <category domain=\\"https://www.coindesk.com/markets\\"><![CDATA[Markets]]></category>\\n      <category domain=\\"tag\\"><![CDATA[AI Market Insights]]></category>\\n      <category domain=\\"tag\\"><![CDATA[TON]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Technical Analysis]]></category>\\n    </item>\\n    <item>\\n      <title><![CDATA[CoinDesk 20 Performance Update: Uniswap (UNI) Falls 1.6% as Index Trades Lower  ]]></title>\\n      <link>https://www.coindesk.com/coindesk-indices/2025/12/09/coindesk-20-performance-update-uniswap-uni-falls-1-6-as-index-trades-lower</link>\\n      <media:content url=\\"https://cdn.sanity.io/images/s3y3vcno/production/cd020cf800ab33304f46c1cfdd438d1fb42f078a-480x360.png?fm=jpg&amp;w=1920&amp;h=1080&amp;crop=focalpoint&amp;fit=clip\\" type=\\"image/*\\" medium=\\"image\\"/>\\n      <guid isPermaLink=\\"false\\">4edcb8bb-51fd-4ee7-84ab-23248226df18</guid>\\n      <pubDate>Tue, 09 Dec 2025 14:24:41 +0000</pubDate>\\n      <description><![CDATA[Aave (AAVE) was also among the underperformers, declining 1.2% from Monday.]]></description>\\n      <dc:creator>CoinDesk Indices</dc:creator>\\n      <content:encoded/>\\n      <dc:description/>\\n      <category domain=\\"https://www.coindesk.com/coindesk-indices\\"><![CDATA[CoinDesk Indices]]></category>\\n      <category domain=\\"tag\\"><![CDATA[CoinDesk Indices]]></category>\\n      <category domain=\\"tag\\"><![CDATA[CoinDesk 20]]></category>\\n      <category domain=\\"tag\\"><![CDATA[charts]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Prices]]></category>\\n      <category domain=\\"https://www.coindesk.com/\\">News</category>\\n    </item>\\n    <item>\\n      <title><![CDATA[A16z-Backed Daylight Brings Electricity Markets Onchain With New DeFi Protocol]]></title>\\n      <link>https://www.coindesk.com/business/2025/12/08/a16z-backed-daylight-brings-electricity-markets-onchain-with-new-defi-protocol</link>\\n      <media:content url=\\"https://cdn.sanity.io/images/s3y3vcno/production/36bdd24f9f06ae9b44f826e384404d059a464b5d-3000x2250.jpg?fm=jpg&amp;w=1920&amp;h=1080&amp;crop=focalpoint&amp;fit=clip\\" type=\\"image/*\\" medium=\\"image\\"/>\\n      <guid isPermaLink=\\"false\\">4860b3ed-437f-45e5-b12c-d7ef519befa3</guid>\\n      <pubDate>Tue, 09 Dec 2025 14:09:51 +0000</pubDate>\\n      <description><![CDATA[The DayFi protocol aims to turn electricity cash flows into a crypto-native yield product, bridging capital to new solar power installations.]]></description>\\n      <dc:creator>Krisztian Sandor</dc:creator>\\n      <content:encoded/>\\n      <dc:description/>\\n      <category domain=\\"https://www.coindesk.com/business\\"><![CDATA[Finance]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Real World Assets  ]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Yield]]></category>\\n      <category domain=\\"tag\\"><![CDATA[DeFi]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Exclusive ]]></category>\\n      <category domain=\\"https://www.coindesk.com/\\">News</category>\\n    </item>\\n    <item>\\n      <title><![CDATA[PNC Bank Rolls Out Spot Bitcoin Access for Private Clients After 2025 Reveal]]></title>\\n      <link>https://www.coindesk.com/business/2025/12/09/pnc-bank-rolls-out-spot-bitcoin-access-for-private-clients-after-2025-reveal</link>\\n      <media:content url=\\"https://cdn.sanity.io/images/s3y3vcno/production/dc5d75e618584b0cab3818f186a7f6efec5b61dd-4434x2956.jpg?fm=jpg&amp;w=1920&amp;h=1080&amp;crop=focalpoint&amp;fit=clip\\" type=\\"image/*\\" medium=\\"image\\"/>\\n      <guid isPermaLink=\\"false\\">d89a162d-2f28-4d2e-86ea-3ee4333244b8</guid>\\n      <pubDate>Tue, 09 Dec 2025 14:07:54 +0000</pubDate>\\n      <description><![CDATA[The Coinbase-backed feature, first announced in July, lets PNC clients buy, sell and hold bitcoin directly in their digital banking accounts.]]></description>\\n      <dc:creator>Helene Braun</dc:creator>\\n      <dc:creator>AI Boost</dc:creator>\\n      <content:encoded/>\\n      <dc:description/>\\n      <category domain=\\"https://www.coindesk.com/business\\"><![CDATA[Finance]]></category>\\n      <category domain=\\"tag\\"><![CDATA[Coinbase]]></category>\\n      <category domain=\\"tag\\"><![CDATA[PNC Bank]]></category>\\n      <category domain=\\"https://www.coindesk.com/\\">News</category>\\n    </item>\\n  </channel>\\n</rss>",{"date":"1575","content-type":"1576","transfer-encoding":"1542","connection":"1543","age":"1577","cache-control":"1578","permissions-policy":"1579","strict-transport-security":"1580","vary":"1581","x-content-type-options":"1553","x-frame-options":"1582","x-matched-path":"1583","x-vercel-cache":"1560","x-vercel-id":"1584","x-xss-protection":"1566","cf-cache-status":"1585","server-timing":"1586","server":"1587","cf-ray":"1588"},["1589"],["1590"],["1591"],["1592"],["1593"],["1594"],["1595"],["1596"],["1597"],["1598"],["1599"],["1600"],["1601"],["1602"],["1603"],["1604"],["1605"],["1606"],["1607"],["1608"],["1609"],["1610"],["1611"],["1612"],["1613"],["1614"],["1615"],["1616"],["1617"],["1618"],["1619"],["1620"],["1621"],["1622"],["1623"],["1624"],["1625"],["1626"],["1627"],["1628"],["1629"],["1630"],["1631"],["1632"],["1633"],["1634"],["1635"],["1636"],["1637"],["1638"],["1639"],["1640"],["1641"],["1642"],["1643"],["1644"],["1645"],["1646"],["1647"],["1648"],["1649"],["1650"],["1651"],["1652"],["1653"],["1654"],["1655"],["1656"],["1657"],["1658"],["1659"],["1660"],["1661"],["1662"],["1663"],["1664"],["1665"],["1666"],["1667"],["1668"],["1669"],["1670"],["1671"],["1672"],["1673"],["1674"],["1675"],["1676"],["1677"],["1678"],["1679"],["1680"],["1681"],["1682"],["1683"],["1684"],["1685"],["1686"],["1687"],["1688"],["1689"],["1690"],["1691"],["1692"],["1693"],["1694"],["1695"],["1696"],["1697"],["1698"],["1699"],["1700"],["1701"],["1702"],["1703"],["1704"],["1705"],["1706"],["1707"],["1708"],["1709"],["1710"],["1711"],["1712"],["1713"],["1714"],["1715"],["1716"],["1717"],["1718"],["1719"],["1720"],["1721"],["1722"],["1723"],["1724"],["1725"],["1726"],["1727"],["1728"],["1729"],{"previousNode":"1730"},["1731"],{"previousNode":"1732"},["1733"],{"previousNode":"1734"},["1735"],{"previousNode":"1736","previousNodeRun":0},["1737"],["1738"],{"previousNode":"1736","previousNodeRun":0},["1739"],["1740"],{"previousNode":"1736","previousNodeRun":0},["1741"],["1742"],{"previousNode":"1736","previousNodeRun":0},["1743"],["1744"],{"previousNode":"1736","previousNodeRun":0},["1745"],["1746"],{"previousNode":"1736","previousNodeRun":0},["1747"],["1748"],{"previousNode":"1736","previousNodeRun":0},["1749"],["1750"],{"previousNode":"1736","previousNodeRun":0},["1751"],["1752"],{"previousNode":"1736","previousNodeRun":0},["1753"],["1754"],{"previousNode":"1736","previousNodeRun":0},["1755"],["1756"],{"previousNode":"1736","previousNodeRun":0},["1757"],["1758"],{"previousNode":"1736","previousNodeRun":0},["1759"],["1760"],{"previousNode":"1736","previousNodeRun":0},["1761"],["1762"],{"previousNode":"1736","previousNodeRun":0},["1763"],["1764"],{"previousNode":"1736","previousNodeRun":0},["1765"],["1766"],{"previousNode":"1736","previousNodeRun":0},["1767"],["1768"],{"previousNode":"1736","previousNodeRun":0},["1769"],["1770"],{"previousNode":"1736","previousNodeRun":0},["1771"],["1772"],{"previousNode":"1736","previousNodeRun":0},["1773"],["1774"],{"previousNode":"1736","previousNodeRun":0},["1775"],["1776"],{"previousNode":"1736","previousNodeRun":1},["1777"],["1778"],{"previousNode":"1736","previousNodeRun":1},["1779"],["1780"],{"previousNode":"1736","previousNodeRun":1},["1781"],["1782"],{"previousNode":"1736","previousNodeRun":1},["1783"],["1784"],{"previousNode":"1736","previousNodeRun":1},["1785"],["1786"],{"previousNode":"1736","previousNodeRun":1},["1787"],["1788"],{"previousNode":"1736","previousNodeRun":1},["1789"],["1790"],{"previousNode":"1736","previousNodeRun":1},["1791"],["1792"],{"previousNode":"1736","previousNodeRun":1},["1793"],["1794"],{"previousNode":"1736","previousNodeRun":1},["1795"],["1796"],{"previousNode":"1736","previousNodeRun":1},["1797"],["1798"],{"previousNode":"1736","previousNodeRun":1},["1799"],["1800"],{"previousNode":"1736","previousNodeRun":1},["1801"],["1802"],{"previousNode":"1736","previousNodeRun":1},["1803"],["1804"],{"previousNode":"1736","previousNodeRun":1},["1805"],["1806"],{"previousNode":"1736","previousNodeRun":1},["1807"],["1808"],{"previousNode":"1736","previousNodeRun":1},["1809"],["1810"],{"previousNode":"1736","previousNodeRun":1},["1811"],["1812"],{"previousNode":"1736","previousNodeRun":1},["1813"],["1814"],{"previousNode":"1736","previousNodeRun":1},["1815"],["1816"],{"previousNode":"1736","previousNodeRun":1},["1817"],["1818"],{"previousNode":"1736","previousNodeRun":1},["1819"],["1820"],{"previousNode":"1736","previousNodeRun":1},["1821"],["1822"],{"previousNode":"1736","previousNodeRun":1},["1823"],["1824"],{"previousNode":"1736","previousNodeRun":1},["1825"],["1826"],{"previousNode":"1736","previousNodeRun":2},["1827"],["1828"],{"previousNode":"1736","previousNodeRun":2},["1829"],["1830"],{"previousNode":"1736","previousNodeRun":2},["1831"],["1832"],{"previousNode":"1736","previousNodeRun":2},["1833"],["1834"],{"previousNode":"1736","previousNodeRun":2},["1835"],["1836"],{"previousNode":"1736","previousNodeRun":2},["1837"],["1838"],{"previousNode":"1736","previousNodeRun":2},["1839"],["1840"],{"previousNode":"1736","previousNodeRun":2},["1841"],["1842"],{"previousNode":"1736","previousNodeRun":2},["1843"],["1844"],{"previousNode":"1736","previousNodeRun":2},["1845"],["1846"],{"previousNode":"1736","previousNodeRun":2},["1847"],["1848"],{"previousNode":"1736","previousNodeRun":2},["1849"],["1850"],{"previousNode":"1736","previousNodeRun":2},["1851"],["1852"],{"previousNode":"1736","previousNodeRun":2},["1853"],["1854"],{"previousNode":"1736","previousNodeRun":2},["1855"],["1856"],{"previousNode":"1736","previousNodeRun":2},["1857"],["1858"],{"previousNode":"1736","previousNodeRun":2},["1859"],["1860"],{"previousNode":"1736","previousNodeRun":2},["1861"],["1862"],{"previousNode":"1736","previousNodeRun":2},["1863"],["1864"],{"previousNode":"1736","previousNodeRun":2},["1865"],["1866"],{"previousNode":"1736","previousNodeRun":2},["1867"],["1868"],{"previousNode":"1736","previousNodeRun":2},["1869"],["1870"],{"previousNode":"1736","previousNodeRun":2},["1871"],["1872"],{"previousNode":"1736","previousNodeRun":2},["1873"],["1874"],{"previousNode":"1736","previousNodeRun":2},["1875"],["1876"],{"previousNode":"1736","previousNodeRun":0},["1877"],["1878"],{"previousNode":"1736","previousNodeRun":0},["1879"],["1880"],{"previousNode":"1736","previousNodeRun":0},["1881"],["1882"],{"previousNode":"1736","previousNodeRun":0},["1883"],["1884"],{"previousNode":"1736","previousNodeRun":0},["1885"],["1886"],{"previousNode":"1736","previousNodeRun":0},["1887"],["1888"],{"previousNode":"1736","previousNodeRun":0},["1889"],["1890"],{"previousNode":"1736","previousNodeRun":0},["1891"],["1892"],{"previousNode":"1736","previousNodeRun":0},["1893"],["1894"],{"previousNode":"1736","previousNodeRun":0},["1895"],["1896"],{"previousNode":"1736","previousNodeRun":0},["1897"],["1898"],{"previousNode":"1736","previousNodeRun":0},["1899"],["1900"],{"previousNode":"1736","previousNodeRun":0},["1901"],["1902"],{"previousNode":"1736","previousNodeRun":0},["1903"],["1904"],{"previousNode":"1736","previousNodeRun":0},["1905"],["1906"],{"previousNode":"1736","previousNodeRun":0},["1907"],["1908"],{"previousNode":"1736","previousNodeRun":0},["1909"],["1910"],{"previousNode":"1736","previousNodeRun":0},["1911"],["1912"],{"previousNode":"1736","previousNodeRun":0},["1913"],["1914"],{"previousNode":"1736","previousNodeRun":0},["1915"],["1916"],{"previousNode":"1736","previousNodeRun":1},["1917"],["1918"],{"previousNode":"1736","previousNodeRun":1},["1919"],["1920"],{"previousNode":"1736","previousNodeRun":1},["1921"],["1922"],{"previousNode":"1736","previousNodeRun":1},["1923"],["1924"],{"previousNode":"1736","previousNodeRun":1},["1925"],["1926"],{"previousNode":"1736","previousNodeRun":1},["1927"],["1928"],{"previousNode":"1736","previousNodeRun":1},["1929"],["1930"],{"previousNode":"1736","previousNodeRun":1},["1931"],["1932"],{"previousNode":"1736","previousNodeRun":1},["1933"],["1934"],{"previousNode":"1736","previousNodeRun":1},["1935"],["1936"],{"previousNode":"1736","previousNodeRun":1},["1937"],["1938"],{"previousNode":"1736","previousNodeRun":1},["1939"],["1940"],{"previousNode":"1736","previousNodeRun":1},["1941"],["1942"],{"previousNode":"1736","previousNodeRun":1},["1943"],["1944"],{"previousNode":"1736","previousNodeRun":1},["1945"],["1946"],{"previousNode":"1736","previousNodeRun":1},["1947"],["1948"],{"previousNode":"1736","previousNodeRun":1},["1949"],["1950"],{"previousNode":"1736","previousNodeRun":1},["1951"],["1952"],{"previousNode":"1736","previousNodeRun":1},["1953"],["1954"],{"previousNode":"1736","previousNodeRun":1},["1955"],["1956"],{"previousNode":"1736","previousNodeRun":1},["1957"],["1958"],{"previousNode":"1736","previousNodeRun":1},["1959"],["1960"],{"previousNode":"1736","previousNodeRun":1},["1961"],["1962"],{"previousNode":"1736","previousNodeRun":1},["1963"],["1964"],{"previousNode":"1736","previousNodeRun":1},["1965"],["1966"],{"previousNode":"1736","previousNodeRun":2},["1967"],["1968"],{"previousNode":"1736","previousNodeRun":2},["1969"],["1970"],{"previousNode":"1736","previousNodeRun":2},["1971"],["1972"],{"previousNode":"1736","previousNodeRun":2},["1973"],["1974"],{"previousNode":"1736","previousNodeRun":2},["1975"],["1976"],{"previousNode":"1736","previousNodeRun":2},["1977"],["1978"],{"previousNode":"1736","previousNodeRun":2},["1979"],["1980"],{"previousNode":"1736","previousNodeRun":2},["1981"],["1982"],{"previousNode":"1736","previousNodeRun":2},["1983"],["1984"],{"previousNode":"1736","previousNodeRun":2},["1985"],["1986"],{"previousNode":"1736","previousNodeRun":2},["1987"],["1988"],{"previousNode":"1736","previousNodeRun":2},["1989"],["1990"],{"previousNode":"1736","previousNodeRun":2},["1991"],["1992"],{"previousNode":"1736","previousNodeRun":2},["1993"],["1994"],{"previousNode":"1736","previousNodeRun":2},["1995"],["1996"],{"previousNode":"1736","previousNodeRun":2},["1997"],["1998"],{"previousNode":"1736","previousNodeRun":2},["1999"],["2000"],{"previousNode":"1736","previousNodeRun":2},["2001"],["2002"],{"previousNode":"1736","previousNodeRun":2},["2003"],["2004"],{"previousNode":"1736","previousNodeRun":2},["2005"],["2006"],{"previousNode":"1736","previousNodeRun":2},["2007"],["2008"],{"previousNode":"1736","previousNodeRun":2},["2009"],["2010"],{"previousNode":"1736","previousNodeRun":2},["2011"],["2012"],{"previousNode":"1736","previousNodeRun":2},["2013"],["2014"],{"previousNode":"1736","previousNodeRun":2},["2015"],["2016"],{"previousNode":"2017"},["2018"],{"previousNode":"2019"},["2020"],{"previousNode":"2021"},["2022"],{"previousNode":"1736"},["2023"],{"previousNode":"1736","previousNodeRun":1},["2024"],{"previousNode":"1736","previousNodeRun":2},["2025"],{"previousNode":"1730"},["2026"],{"previousNode":"2027"},["2028"],{"previousNode":"2029"},["2030"],{"previousNode":"1730"},["2031"],{"previousNode":"2032"},["2033"],{"previousNode":"2034"},["2035"],"nginx","Wed, 10 Dec 2025 03:57:52 GMT","application/rss+xml; charset=UTF-8","chunked","close","Accept-Encoding, Origin","Wed, 10 Dec 2025 01:01:30 GMT","W/\\"bcafb5d74fb5cdcbc75fdad6d60bde65\\"","If you're reading this, you should visit https://join.a8c.com/viphacker and apply to join the fun, mention this header.","WordPress VIP <https://wpvip.com>","a9130478a60e5f9135f765b23f26593b","SAMEORIGIN","default-src 'self' *.techcrunch.com; frame-ancestors 'self'; frame-src 'self' https: data:; style-src 'self' 'unsafe-inline' *; img-src 'self' * data:; connect-src 'self' https:; object-src 'none'; script-src 'self' 'unsafe-inline' 'unsafe-eval' *; worker-src 'self' blob:; media-src 'self' blob: *.youtube.com *.jetpackdigital.com; font-src 'self' * data:; upgrade-insecure-requests; block-all-mixed-content; sandbox allow-forms allow-same-origin allow-scripts allow-popups allow-popups-to-escape-sandbox;","autoplay=(), camera=(), fullscreen=*, geolocation=*, display-capture=(self), microphone=()","nosniff","no-referrer-when-downgrade","https://techcrunch.com","*","<https://techcrunch.com/wp-json/>; rel=\\"https://api.w.org/\\", <https://techcrunch.com/>; rel=\\"canonical\\"","sjc4 0 30 9980","bytes","HIT","max-age=300, must-revalidate","max-age=300;includeSubdomains","11701","max-age=0, no-cache, must-revalidate","W/\\"2db5-gQMcyJi+ppMNXLyFp5Stui07gy0\\"","1; mode=block","noopen","text/xml; charset=utf-8","Wed, 10 Dec 2025 03:58:11 GMT","ft-flags, accept, et-app, FT-Site, Accept-Encoding, FT-Site",["2036","2037","2038","2039"],"max-age=63072000; includeSubDomains; preload","upgrade-insecure-requests; frame-ancestors https://*.ft.com https://*.chromatic.com ; report-uri https://csp-report.ft.com/33C06499-DBAB-4FCB-880F-75B0467895F5","default-src https://*.ft.com https: ; font-src https://*.ft.com https: data: ; img-src https://*.ft.com https: data: ; media-src https://*.ft.com https: data: ; script-src 'unsafe-inline' 'unsafe-eval' https://*.ft.com https: ; style-src 'unsafe-inline' https://*.ft.com https: ; worker-src blob: ; connect-src https: wss://ft.coral.coralproject.net ; frame-ancestors https://*.ft.com https://*.chromatic.com ; report-uri https://csp-report.ft.com/33C06499-DBAB-4FCB-880F-75B0467895F5","Wed, 10 Dec 2025 03:58:26 GMT","application/xml","2610","public, max-age=0, must-revalidate","browsing-topics=()","max-age=63072000","rsc, next-router-state-tree, next-router-prefetch, next-router-segment-prefetch, accept-encoding","DENY","/arc/outboundfeeds/[...pathname]","sfo1::dxb1::b4ghg-1765339106111-4b92701a0643","DYNAMIC","cfCacheStatus;desc=\\"DYNAMIC\\", cfOrigin;dur=109,cfEdge;dur=17","cloudflare","9ab9d2e51e68bffc-SJC",{"node":"2040","runIndex":0},{"node":"2040","runIndex":1},{"node":"2040","runIndex":2},{"node":"2040","runIndex":3},{"node":"2040","runIndex":4},{"node":"2040","runIndex":5},{"node":"2040","runIndex":6},{"node":"2040","runIndex":7},{"node":"2040","runIndex":8},{"node":"2040","runIndex":9},{"node":"2040","runIndex":10},{"node":"2040","runIndex":11},{"node":"2040","runIndex":12},{"node":"2040","runIndex":13},{"node":"2040","runIndex":14},{"node":"2040","runIndex":15},{"node":"2040","runIndex":16},{"node":"2040","runIndex":17},{"node":"2040","runIndex":18},{"node":"2040","runIndex":19},{"node":"2040","runIndex":20},{"node":"2040","runIndex":21},{"node":"2040","runIndex":22},{"node":"2040","runIndex":23},{"node":"2040","runIndex":24},{"node":"2040","runIndex":25},{"node":"2040","runIndex":26},{"node":"2040","runIndex":27},{"node":"2040","runIndex":28},{"node":"2040","runIndex":29},{"node":"2040","runIndex":30},{"node":"2040","runIndex":31},{"node":"2040","runIndex":32},{"node":"2040","runIndex":33},{"node":"2040","runIndex":34},{"node":"2040","runIndex":35},{"node":"2040","runIndex":36},{"node":"2040","runIndex":37},{"node":"2040","runIndex":38},{"node":"2040","runIndex":39},{"node":"2040","runIndex":40},{"node":"2040","runIndex":41},{"node":"2040","runIndex":42},{"node":"2040","runIndex":43},{"node":"2040","runIndex":44},{"node":"2040","runIndex":45},{"node":"2040","runIndex":46},{"node":"2040","runIndex":47},{"node":"2040","runIndex":48},{"node":"2040","runIndex":49},{"node":"2040","runIndex":50},{"node":"2040","runIndex":51},{"node":"2040","runIndex":52},{"node":"2040","runIndex":53},{"node":"2040","runIndex":54},{"node":"2040","runIndex":55},{"node":"2040","runIndex":56},{"node":"2040","runIndex":57},{"node":"2040","runIndex":58},{"node":"2040","runIndex":59},{"node":"2040","runIndex":60},{"node":"2040","runIndex":61},{"node":"2040","runIndex":62},{"node":"2040","runIndex":63},{"node":"2040","runIndex":64},{"node":"2040","runIndex":65},{"node":"2040","runIndex":66},{"node":"2040","runIndex":67},{"node":"2040","runIndex":68},{"node":"2040","runIndex":69},{"node":"2041","runIndex":0},{"node":"2041","runIndex":1},{"node":"2041","runIndex":2},{"node":"2041","runIndex":3},{"node":"2041","runIndex":4},{"node":"2041","runIndex":5},{"node":"2041","runIndex":6},{"node":"2041","runIndex":7},{"node":"2041","runIndex":8},{"node":"2041","runIndex":9},{"node":"2041","runIndex":10},{"node":"2041","runIndex":11},{"node":"2041","runIndex":12},{"node":"2041","runIndex":13},{"node":"2041","runIndex":14},{"node":"2041","runIndex":15},{"node":"2041","runIndex":16},{"node":"2041","runIndex":17},{"node":"2041","runIndex":18},{"node":"2041","runIndex":19},{"node":"2041","runIndex":20},{"node":"2041","runIndex":21},{"node":"2041","runIndex":22},{"node":"2041","runIndex":23},{"node":"2041","runIndex":24},{"node":"2041","runIndex":25},{"node":"2041","runIndex":26},{"node":"2041","runIndex":27},{"node":"2041","runIndex":28},{"node":"2041","runIndex":29},{"node":"2041","runIndex":30},{"node":"2041","runIndex":31},{"node":"2041","runIndex":32},{"node":"2041","runIndex":33},{"node":"2041","runIndex":34},{"node":"2041","runIndex":35},{"node":"2041","runIndex":36},{"node":"2041","runIndex":37},{"node":"2041","runIndex":38},{"node":"2041","runIndex":39},{"node":"2041","runIndex":40},{"node":"2041","runIndex":41},{"node":"2041","runIndex":42},{"node":"2041","runIndex":43},{"node":"2041","runIndex":44},{"node":"2041","runIndex":45},{"node":"2041","runIndex":46},{"node":"2041","runIndex":47},{"node":"2041","runIndex":48},{"node":"2041","runIndex":49},{"node":"2041","runIndex":50},{"node":"2041","runIndex":51},{"node":"2041","runIndex":52},{"node":"2041","runIndex":53},{"node":"2041","runIndex":54},{"node":"2041","runIndex":55},{"node":"2041","runIndex":56},{"node":"2041","runIndex":57},{"node":"2041","runIndex":58},{"node":"2041","runIndex":59},{"node":"2041","runIndex":60},{"node":"2041","runIndex":61},{"node":"2041","runIndex":62},{"node":"2041","runIndex":63},{"node":"2041","runIndex":64},{"node":"2041","runIndex":65},{"node":"2041","runIndex":66},{"node":"2041","runIndex":67},{"node":"2041","runIndex":68},{"node":"2041","runIndex":69},["2042"],"When Executed by Another Workflow",["2043"],"TechCrunch: Fetch RSS",["2044"],"TechCrunch: Convert to XML",["2045","2046","2047","2048","2049","2050","2051","2052","2053","2054","2055","2056","2057","2058","2059","2060","2061","2062","2063","2064"],"Enrich Signal",["2065"],["2066"],["2067"],["2068"],["2069"],["2070"],["2071"],["2072"],["2073"],["2074"],["2075"],["2076"],["2077"],["2078"],["2079"],["2080"],["2081"],["2082"],["2083"],["2084"],["2085"],["2086"],["2087"],["2088"],["2089"],["2090"],["2091"],["2092"],["2093"],["2094"],["2095"],["2096"],["2097"],["2098"],["2099"],["2100"],["2101"],["2102"],["2103"],["2104"],["2105"],["2106"],["2107"],["2108"],["2109"],["2110"],["2111"],["2112"],["2113"],["2114"],["2115"],["2116"],["2117"],["2118"],["2119"],["2120"],["2121"],["2122"],["2123"],["2124"],["2125"],["2126"],["2127"],["2128"],["2129"],["2130"],["2131"],["2132"],["2133"],["2134"],["2135"],["2136"],["2137"],["2138"],["2139"],["2140"],["2141"],["2142"],["2143"],["2144"],["2145"],["2146"],["2147"],["2148"],["2149"],["2150"],["2151"],["2152"],["2153"],["2154"],["2155"],["2156"],["2157"],["2158"],["2159"],["2160"],["2161"],["2162"],["2163"],["2164"],["2165"],["2166"],["2167"],["2168"],["2169"],["2170"],["2171"],["2172"],["2173"],["2174"],["2175"],["2176"],["2177"],["2178"],["2179"],["2180"],["2181"],["2182"],["2183"],["2184"],["2185"],["2186"],["2187"],["2188"],["2189"],["2190"],["2191"],["2192"],["2193"],["2194"],["2195"],["2196"],["2197"],["2198"],["2199"],["2200"],["2201"],["2202"],["2203"],["2204"],["2205"],["2206"],["2207"],["2208"],["2209"],["2210"],["2211"],["2212"],["2213"],["2214"],["2215"],["2216"],["2217"],["2218"],["2219"],["2220"],["2221"],["2222"],["2223"],["2224"],["2225"],["2226"],["2227"],["2228"],["2229"],["2230"],["2231"],["2232"],["2233"],["2234"],["2235"],["2236"],["2237"],["2238"],["2239"],["2240"],["2241"],["2242"],["2243"],["2244"],["2245"],["2246"],["2247"],["2248"],["2249"],["2250"],["2251"],["2252"],["2253"],["2254"],["2255"],["2256"],["2257"],["2258"],["2259"],["2260"],["2261"],["2262"],["2263"],["2264"],["2265"],["2266"],["2267"],["2268"],["2269"],["2270"],["2271"],["2272"],["2273"],["2274"],["2275"],["2276"],["2277"],["2278"],["2279"],["2280"],["2281"],["2282"],["2283"],["2284"],["2285"],["2286"],["2287"],["2288"],["2289"],["2290"],["2291"],["2292"],["2293"],["2294"],["2295"],["2296"],["2297"],["2298"],["2299"],["2300"],["2301"],["2302"],["2303"],["2304"],["2305"],["2306"],["2307"],["2308"],["2309"],["2310"],["2311"],["2312"],["2313"],["2314"],["2315"],["2316"],["2317"],["2318"],["2319"],["2320"],["2321"],["2322"],["2323"],["2324"],["2325"],["2326"],["2327"],["2328"],["2329"],["2330"],["2331"],["2332"],["2333"],["2334"],["2335"],["2336"],["2337"],["2338"],["2339"],["2340"],["2341"],["2342"],["2343"],["2344"],"TechCrunch: Normalize Feed",["2345","2346","2347","2348","2349","2350","2351","2352","2353","2354","2355","2356","2357","2358","2359","2360","2361","2362","2363","2364"],"FT Tech: Normalize Feed",["2365","2366","2367","2368","2369","2370","2371","2372","2373","2374","2375","2376","2377","2378","2379","2380","2381","2382","2383","2384","2385","2386","2387","2388","2389"],"CoinDesk: Normalize Feed",["2390","2391","2392","2393","2394","2395","2396","2397","2398","2399","2400","2401","2402","2403","2404","2405","2406","2407","2408","2409","2410","2411","2412","2413","2414"],["2415","2416","2417","2418","2419","2420","2421","2422","2423","2424","2425","2426","2427","2428","2429","2430","2431","2432","2433","2434"],["2435","2436","2437","2438","2439","2440","2441","2442","2443","2444","2445","2446","2447","2448","2449","2450","2451","2452","2453","2454","2455","2456","2457","2458","2459"],["2460","2461","2462","2463","2464","2465","2466","2467","2468","2469","2470","2471","2472","2473","2474","2475","2476","2477","2478","2479","2480","2481","2482","2483","2484"],["2485"],"FT Tech: Fetch RSS",["2486"],"FT Tech: Convert to XML",["2487","2488","2489","2490","2491","2492","2493","2494","2495","2496","2497","2498","2499","2500","2501","2502","2503","2504","2505","2506","2507","2508","2509","2510","2511"],["2512"],"CoinDesk: Fetch RSS",["2513"],"CoinDesk: Convert to XML",["2514","2515","2516","2517","2518","2519","2520","2521","2522","2523","2524","2525","2526","2527","2528","2529","2530","2531","2532","2533","2534","2535","2536","2537","2538"],"OriginalReferer=None; Expires=Wed, 10 Dec 2025 04:28:11 GMT; Domain=.ft.com; Path=/","FtComEntryPoint=/technology?format=rss; Expires=Wed, 10 Dec 2025 04:28:11 GMT; Domain=.ft.com; Path=/","FTClientSessionId=18c2b718-4ef5-4f96-80a0-f57853c24f52; Expires=Thu, 14 Jan 2027 03:58:11 GMT; Domain=.ft.com; Path=/","spoor-id=18c2b718-4ef5-4f96-80a0-f57853c24f52; Expires=Thu, 10 Dec 2026 03:58:11 GMT; Domain=.ft.com; Path=/","OpenAI Chat Model","Structured Output Parser",{"json":"2539","pairedItem":"2540"},{"json":"2541","pairedItem":"2542"},{"json":"2543","pairedItem":"2544"},{"json":"2545","pairedItem":"2546"},{"json":"2547","pairedItem":"2548"},{"json":"2549","pairedItem":"2550"},{"json":"2551","pairedItem":"2552"},{"json":"2553","pairedItem":"2554"},{"json":"2555","pairedItem":"2556"},{"json":"2557","pairedItem":"2558"},{"json":"2559","pairedItem":"2560"},{"json":"2561","pairedItem":"2562"},{"json":"2563","pairedItem":"2564"},{"json":"2565","pairedItem":"2566"},{"json":"2567","pairedItem":"2568"},{"json":"2569","pairedItem":"2570"},{"json":"2571","pairedItem":"2572"},{"json":"2573","pairedItem":"2574"},{"json":"2575","pairedItem":"2576"},{"json":"2577","pairedItem":"2578"},{"json":"2579","pairedItem":"2580"},{"json":"2581","pairedItem":"2582"},{"json":"2583","pairedItem":"2584"},{"json":"2585"},{"json":"2586"},{"json":"2587"},{"json":"2588"},{"json":"2589"},{"json":"2590"},{"json":"2591"},{"json":"2592"},{"json":"2593"},{"json":"2594"},{"json":"2595"},{"json":"2596"},{"json":"2597"},{"json":"2598"},{"json":"2599"},{"json":"2600"},{"json":"2601"},{"json":"2602"},{"json":"2603"},{"json":"2604"},{"json":"2605"},{"json":"2606"},{"json":"2607"},{"json":"2608"},{"json":"2609"},{"json":"2610"},{"json":"2611"},{"json":"2612"},{"json":"2613"},{"json":"2614"},{"json":"2615"},{"json":"2616"},{"json":"2617"},{"json":"2618"},{"json":"2619"},{"json":"2620"},{"json":"2621"},{"json":"2622"},{"json":"2623"},{"json":"2624"},{"json":"2625"},{"json":"2626"},{"json":"2627"},{"json":"2628"},{"json":"2629"},{"json":"2630"},{"json":"2631"},{"json":"2632"},{"json":"2633"},{"json":"2634"},{"json":"2635"},{"json":"2636"},{"json":"2637"},{"json":"2638"},{"json":"2639"},{"json":"2640"},{"json":"2641"},{"json":"2642"},{"json":"2643"},{"json":"2644"},{"json":"2645"},{"json":"2646"},{"json":"2647"},{"json":"2648"},{"json":"2649"},{"json":"2650"},{"json":"2651"},{"json":"2652"},{"json":"2653"},{"json":"2654"},{"json":"2655"},{"json":"2656"},{"json":"2657"},{"json":"2658"},{"json":"2659"},{"json":"2660"},{"json":"2661"},{"json":"2662"},{"json":"2663"},{"json":"2664"},{"json":"2665"},{"json":"2666"},{"json":"2667"},{"json":"2668"},{"json":"2669"},{"json":"2670"},{"json":"2671"},{"json":"2672"},{"json":"2673"},{"json":"2674"},{"json":"2675"},{"json":"2676"},{"json":"2677"},{"json":"2678"},{"json":"2679"},{"json":"2680"},{"json":"2681"},{"json":"2682"},{"json":"2683"},{"json":"2684"},{"json":"2685"},{"json":"2686"},{"json":"2687"},{"json":"2688"},{"json":"2689"},{"json":"2690"},{"json":"2691"},{"json":"2692"},{"json":"2693"},{"json":"2694"},{"json":"2695"},{"json":"2696"},{"json":"2697"},{"json":"2698"},{"json":"2699"},{"json":"2700"},{"json":"2701"},{"json":"2702"},{"json":"2703"},{"json":"2704"},{"json":"2705"},{"json":"2706"},{"json":"2707"},{"json":"2708"},{"json":"2709"},{"json":"2710"},{"json":"2711"},{"json":"2712"},{"json":"2713"},{"json":"2714"},{"json":"2715"},{"json":"2716"},{"json":"2717"},{"json":"2718"},{"json":"2719"},{"json":"2720"},{"json":"2721"},{"json":"2722"},{"json":"2723"},{"json":"2724"},{"json":"2725"},{"json":"2726"},{"json":"2727"},{"json":"2728"},{"json":"2729"},{"json":"2730"},{"json":"2731"},{"json":"2732"},{"json":"2733"},{"json":"2734"},{"json":"2735"},{"json":"2736"},{"json":"2737"},{"json":"2738"},{"json":"2739"},{"json":"2740"},{"json":"2741"},{"json":"2742"},{"json":"2743"},{"json":"2744"},{"json":"2745"},{"json":"2746"},{"json":"2747"},{"json":"2748"},{"json":"2749"},{"json":"2750"},{"json":"2751"},{"json":"2752"},{"json":"2753"},{"json":"2754"},{"json":"2755"},{"json":"2756"},{"json":"2757"},{"json":"2758"},{"json":"2759"},{"json":"2760"},{"json":"2761"},{"json":"2762"},{"json":"2763"},{"json":"2764"},{"json":"2765"},{"json":"2766"},{"json":"2767"},{"json":"2768"},{"json":"2769"},{"json":"2770"},{"json":"2771"},{"json":"2772"},{"json":"2773"},{"json":"2774"},{"json":"2775"},{"json":"2776"},{"json":"2777"},{"json":"2778"},{"json":"2779"},{"json":"2780"},{"json":"2781"},{"json":"2782"},{"json":"2783"},{"json":"2784"},{"json":"2785"},{"json":"2786"},{"json":"2787"},{"json":"2788"},{"json":"2789"},{"json":"2790"},{"json":"2791"},{"json":"2792"},{"json":"2793"},{"json":"2794"},{"json":"2795"},{"json":"2796"},{"json":"2797"},{"json":"2798"},{"json":"2799"},{"json":"2800"},{"json":"2801"},{"json":"2802"},{"json":"2803"},{"json":"2804"},{"json":"2805"},{"json":"2806"},{"json":"2807"},{"json":"2808"},{"json":"2809"},{"json":"2810"},{"json":"2811"},{"json":"2812"},{"json":"2813"},{"json":"2814"},{"json":"2815"},{"json":"2816"},{"json":"2817"},{"json":"2818"},{"json":"2819"},{"json":"2820"},{"json":"2821"},{"json":"2822"},{"json":"2823"},{"json":"2824"},{"json":"2825"},{"json":"2826"},{"json":"2827"},{"json":"2828"},{"json":"2829"},{"json":"2830"},{"json":"2831"},{"json":"2832"},{"json":"2833"},{"json":"2834"},{"json":"2835"},{"json":"2836"},{"json":"2837"},{"json":"2838"},{"json":"2839"},{"json":"2840"},{"json":"2841"},{"json":"2842"},{"json":"2843"},{"json":"2844"},{"json":"2845"},{"json":"2846"},{"json":"2847"},{"json":"2848"},{"json":"2849"},{"json":"2850"},{"json":"2851"},{"json":"2852"},{"json":"2853"},{"json":"2854"},{"json":"2855"},{"json":"2856"},{"json":"2857"},{"json":"2858"},{"json":"2859"},{"json":"2860"},{"json":"2861"},{"json":"2862"},{"json":"2863"},{"json":"2864"},{"json":"2865","pairedItem":"2866"},{"json":"2867","pairedItem":"2868"},{"json":"2869","pairedItem":"2870"},{"json":"2871","pairedItem":"2872"},{"json":"2873","pairedItem":"2874"},{"json":"2875","pairedItem":"2876"},{"json":"2877","pairedItem":"2878"},{"json":"2879","pairedItem":"2880"},{"json":"2881","pairedItem":"2882"},{"json":"2883","pairedItem":"2884"},{"json":"2885","pairedItem":"2886"},{"json":"2887","pairedItem":"2888"},{"json":"2889","pairedItem":"2890"},{"json":"2891","pairedItem":"2892"},{"json":"2893","pairedItem":"2894"},{"json":"2895","pairedItem":"2896"},{"json":"2897","pairedItem":"2898"},{"json":"2899","pairedItem":"2900"},{"json":"2901","pairedItem":"2902"},{"json":"2903","pairedItem":"2904"},{"json":"2905","pairedItem":"2906"},{"json":"2907","pairedItem":"2908"},{"json":"2909","pairedItem":"2910"},{"json":"2911","pairedItem":"2912"},{"json":"2913","pairedItem":"2914"},{"json":"2915","pairedItem":"2916"},{"json":"2917","pairedItem":"2918"},{"json":"2919","pairedItem":"2920"},{"json":"2921","pairedItem":"2922"},{"json":"2923","pairedItem":"2924"},{"json":"2925","pairedItem":"2926"},{"json":"2927","pairedItem":"2928"},{"json":"2929","pairedItem":"2930"},{"json":"2931","pairedItem":"2932"},{"json":"2933","pairedItem":"2934"},{"json":"2935","pairedItem":"2936"},{"json":"2937","pairedItem":"2938"},{"json":"2939","pairedItem":"2940"},{"json":"2941","pairedItem":"2942"},{"json":"2943","pairedItem":"2944"},{"json":"2945","pairedItem":"2946"},{"json":"2947","pairedItem":"2948"},{"json":"2949","pairedItem":"2950"},{"json":"2951","pairedItem":"2952"},{"json":"2953","pairedItem":"2954"},{"json":"2955","pairedItem":"2956"},{"json":"2957","pairedItem":"2958"},{"json":"2959","pairedItem":"2960"},{"json":"2961","pairedItem":"2962"},{"json":"2963","pairedItem":"2964"},{"json":"2965","pairedItem":"2966"},{"json":"2967","pairedItem":"2968"},{"json":"2969","pairedItem":"2970"},{"json":"2971","pairedItem":"2972"},{"json":"2973","pairedItem":"2974"},{"json":"2975","pairedItem":"2976"},{"json":"2977","pairedItem":"2978"},{"json":"2979","pairedItem":"2980"},{"json":"2981","pairedItem":"2982"},{"json":"2983","pairedItem":"2984"},{"json":"2985","pairedItem":"2986"},{"json":"2987","pairedItem":"2988"},{"json":"2989","pairedItem":"2990"},{"json":"2991","pairedItem":"2992"},{"json":"2993","pairedItem":"2994"},{"json":"2995","pairedItem":"2996"},{"json":"2997","pairedItem":"2998"},{"json":"2999","pairedItem":"3000"},{"json":"3001","pairedItem":"3002"},{"json":"3003","pairedItem":"3004"},{"json":"3005","pairedItem":"3006"},{"json":"3007","pairedItem":"3008"},{"json":"3009","pairedItem":"3010"},{"json":"3011","pairedItem":"3012"},{"json":"3013","pairedItem":"3014"},{"json":"3015","pairedItem":"3016"},{"json":"3017","pairedItem":"3018"},{"json":"3019","pairedItem":"3020"},{"json":"3021","pairedItem":"3022"},{"json":"3023","pairedItem":"3024"},{"json":"3025","pairedItem":"3026"},{"json":"3027","pairedItem":"3028"},{"json":"3029","pairedItem":"3030"},{"json":"3031","pairedItem":"3032"},{"json":"3033","pairedItem":"3034"},{"json":"3035","pairedItem":"3036"},{"json":"3037","pairedItem":"3038"},{"json":"3039","pairedItem":"3040"},{"json":"3041","pairedItem":"3042"},{"json":"3043","pairedItem":"3044"},{"json":"3045","pairedItem":"3046"},{"json":"3047","pairedItem":"3048"},{"json":"3049","pairedItem":"3050"},{"json":"3051","pairedItem":"3052"},{"json":"3053","pairedItem":"3054"},{"json":"3055","pairedItem":"3056"},{"json":"3057","pairedItem":"3058"},{"json":"3059","pairedItem":"3060"},{"json":"3061","pairedItem":"3062"},{"json":"3063","pairedItem":"3064"},{"json":"3065","pairedItem":"3066"},{"json":"3067","pairedItem":"3068"},{"json":"3069","pairedItem":"3070"},{"json":"3071","pairedItem":"3072"},{"json":"3073","pairedItem":"3074"},{"json":"3075","pairedItem":"3076"},{"json":"3077","pairedItem":"3078"},{"json":"3079","pairedItem":"3080"},{"json":"3081","pairedItem":"3082"},{"json":"3083","pairedItem":"3084"},{"json":"3085","pairedItem":"3086"},{"json":"3087","pairedItem":"3088"},{"json":"3089","pairedItem":"3090"},{"json":"3091","pairedItem":"3092"},{"json":"3093","pairedItem":"3094"},{"json":"3095","pairedItem":"3096"},{"json":"3097","pairedItem":"3098"},{"json":"3099","pairedItem":"3100"},{"json":"3101","pairedItem":"3102"},{"json":"3103","pairedItem":"3104"},{"json":"3105","pairedItem":"3106"},{"json":"3107","pairedItem":"3108"},{"json":"3109","pairedItem":"3110"},{"json":"3111","pairedItem":"3112"},{"json":"3113","pairedItem":"3114"},{"json":"3115","pairedItem":"3116"},{"json":"3117","pairedItem":"3118"},{"json":"3119","pairedItem":"3120"},{"json":"3121","pairedItem":"3122"},{"json":"3123","pairedItem":"3124"},{"json":"3125","pairedItem":"3126"},{"json":"3127","pairedItem":"3128"},{"json":"3129","pairedItem":"3130"},{"json":"3131","pairedItem":"3132"},{"json":"3133","pairedItem":"3134"},{"json":"3135","pairedItem":"3136"},{"json":"3137","pairedItem":"3138"},{"json":"3139","pairedItem":"3140"},{"json":"3141","pairedItem":"3142"},{"json":"3143","pairedItem":"3144"},{"json":"3145","pairedItem":"3146"},{"json":"3147","pairedItem":"3148"},{"json":"3149","pairedItem":"3150"},{"json":"3151","pairedItem":"3152"},{"json":"3153","pairedItem":"3154"},{"json":"3155","pairedItem":"3156"},{"json":"3157","pairedItem":"3158"},{"json":"3159","pairedItem":"3160"},{"json":"3161","pairedItem":"3162"},{"json":"3163","pairedItem":"3164"},{"json":"3165","pairedItem":"3166"},{"json":"3167","pairedItem":"3168"},{"json":"3169","pairedItem":"3170"},{"json":"3171","pairedItem":"3172"},{"json":"3173","pairedItem":"3174"},{"json":"3175","pairedItem":"3176"},{"json":"3177","pairedItem":"3178"},{"json":"3179","pairedItem":"3180"},{"json":"3181","pairedItem":"3182"},{"json":"3183","pairedItem":"3184"},{"json":"3185","pairedItem":"3186"},{"json":"3187","pairedItem":"3188"},{"json":"3189","pairedItem":"3190"},{"json":"3191","pairedItem":"3192"},{"json":"3193","pairedItem":"3194"},{"json":"3195","pairedItem":"3196"},{"json":"3197","pairedItem":"3198"},{"json":"3199","pairedItem":"3200"},{"json":"3201","pairedItem":"3202"},{"json":"3203","pairedItem":"3204"},{"json":"3205","pairedItem":"3206"},{"json":"3207","pairedItem":"3208"},{"json":"3209","pairedItem":"3210"},{"json":"3211","pairedItem":"3212"},{"json":"3213","pairedItem":"3214"},{"json":"3215","pairedItem":"3216"},{"json":"3217","pairedItem":"3218"},{"json":"3219","pairedItem":"3220"},{"json":"3221","pairedItem":"3222"},{"json":"3223","pairedItem":"3224"},{"json":"3225","pairedItem":"3226"},{"json":"3227","pairedItem":"3228"},{"json":"3229","pairedItem":"3230"},{"json":"3231","pairedItem":"3232"},{"json":"3233","pairedItem":"3234"},{"json":"3235","pairedItem":"3236"},{"json":"3237","pairedItem":"3238"},{"json":"3239","pairedItem":"3240"},{"json":"3241","pairedItem":"3242"},{"json":"3243","pairedItem":"3244"},{"json":"3245","pairedItem":"3246"},{"json":"3247","pairedItem":"3248"},{"json":"3249","pairedItem":"3250"},{"json":"3251","pairedItem":"3252"},{},{"item":0},{"data":"941"},{"item":0},{"rss":"3253"},{"item":0},{"title":"3254","url":"3255","date":"3256","source":"3257","content":"3258"},{"item":0},{"title":"3259","url":"3260","date":"3261","source":"3257","content":"3262"},{"item":0},{"title":"3263","url":"3264","date":"3265","source":"3257","content":"3266"},{"item":0},{"title":"3267","url":"3268","date":"3269","source":"3257","content":"3270"},{"item":0},{"title":"3271","url":"3272","date":"3273","source":"3257","content":"3274"},{"item":0},{"title":"3275","url":"3276","date":"3277","source":"3257","content":"3278"},{"item":0},{"title":"3279","url":"3280","date":"3281","source":"3257","content":"3282"},{"item":0},{"title":"3283","url":"3284","date":"3285","source":"3257","content":"3286"},{"item":0},{"title":"3287","url":"3288","date":"3289","source":"3257","content":"3290"},{"item":0},{"title":"3291","url":"3292","date":"3293","source":"3257","content":"3294"},{"item":0},{"title":"3295","url":"3296","date":"3297","source":"3257","content":"3298"},{"item":0},{"title":"3299","url":"3300","date":"3301","source":"3257","content":"3302"},{"item":0},{"title":"3303","url":"3304","date":"3305","source":"3257","content":"3306"},{"item":0},{"title":"3307","url":"3308","date":"3309","source":"3257","content":"3310"},{"item":0},{"title":"3311","url":"3312","date":"3313","source":"3257","content":"3314"},{"item":0},{"title":"3315","url":"3316","date":"3317","source":"3257","content":"3318"},{"item":0},{"title":"3319","url":"3320","date":"3321","source":"3257","content":"3322"},{"item":0},{"title":"3323","url":"3324","date":"3325","source":"3257","content":"3326"},{"item":0},{"title":"3327","url":"3328","date":"3329","source":"3257","content":"3330"},{"item":0},{"title":"3331","url":"3332","date":"3333","source":"3257","content":"3334"},{"item":0},{"response":"3335","tokenUsage":"3336"},{"messages":"3337","estimatedTokens":774,"options":"3338"},{"response":"3339","tokenUsage":"3340"},{"messages":"3341","estimatedTokens":781,"options":"3342"},{"response":"3343","tokenUsage":"3344"},{"messages":"3345","estimatedTokens":807,"options":"3346"},{"response":"3347","tokenUsage":"3348"},{"messages":"3349","estimatedTokens":763,"options":"3350"},{"response":"3351","tokenUsage":"3352"},{"messages":"3353","estimatedTokens":771,"options":"3354"},{"response":"3355","tokenUsage":"3356"},{"messages":"3357","estimatedTokens":793,"options":"3358"},{"response":"3359","tokenUsage":"3360"},{"messages":"3361","estimatedTokens":799,"options":"3362"},{"response":"3363","tokenUsage":"3364"},{"messages":"3365","estimatedTokens":787,"options":"3366"},{"response":"3367","tokenUsage":"3368"},{"messages":"3369","estimatedTokens":742,"options":"3370"},{"response":"3371","tokenUsage":"3372"},{"messages":"3373","estimatedTokens":787,"options":"3374"},{"response":"3375","tokenUsage":"3376"},{"messages":"3377","estimatedTokens":804,"options":"3378"},{"response":"3379","tokenUsage":"3380"},{"messages":"3381","estimatedTokens":759,"options":"3382"},{"response":"3383","tokenUsage":"3384"},{"messages":"3385","estimatedTokens":821,"options":"3386"},{"response":"3387","tokenUsage":"3388"},{"messages":"3389","estimatedTokens":807,"options":"3390"},{"response":"3391","tokenUsage":"3392"},{"messages":"3393","estimatedTokens":776,"options":"3394"},{"response":"3395","tokenUsage":"3396"},{"messages":"3397","estimatedTokens":745,"options":"3398"},{"response":"3399","tokenUsage":"3400"},{"messages":"3401","estimatedTokens":778,"options":"3402"},{"response":"3403","tokenUsage":"3404"},{"messages":"3405","estimatedTokens":731,"options":"3406"},{"response":"3407","tokenUsage":"3408"},{"messages":"3409","estimatedTokens":825,"options":"3410"},{"response":"3411","tokenUsage":"3412"},{"messages":"3413","estimatedTokens":747,"options":"3414"},{"response":"3415","tokenUsage":"3416"},{"messages":"3417","estimatedTokens":740,"options":"3418"},{"response":"3419","tokenUsage":"3420"},{"messages":"3421","estimatedTokens":727,"options":"3422"},{"response":"3423","tokenUsage":"3424"},{"messages":"3425","estimatedTokens":775,"options":"3426"},{"response":"3427","tokenUsage":"3428"},{"messages":"3429","estimatedTokens":748,"options":"3430"},{"response":"3431","tokenUsage":"3432"},{"messages":"3433","estimatedTokens":729,"options":"3434"},{"response":"3435","tokenUsage":"3436"},{"messages":"3437","estimatedTokens":744,"options":"3438"},{"response":"3439","tokenUsage":"3440"},{"messages":"3441","estimatedTokens":765,"options":"3442"},{"response":"3443","tokenUsage":"3444"},{"messages":"3445","estimatedTokens":751,"options":"3446"},{"response":"3447","tokenUsage":"3448"},{"messages":"3449","estimatedTokens":746,"options":"3450"},{"response":"3451","tokenUsage":"3452"},{"messages":"3453","estimatedTokens":734,"options":"3454"},{"response":"3455","tokenUsage":"3456"},{"messages":"3457","estimatedTokens":787,"options":"3458"},{"response":"3459","tokenUsage":"3460"},{"messages":"3461","estimatedTokens":732,"options":"3462"},{"response":"3463","tokenUsage":"3464"},{"messages":"3465","estimatedTokens":723,"options":"3466"},{"response":"3467","tokenUsage":"3468"},{"messages":"3469","estimatedTokens":743,"options":"3470"},{"response":"3471","tokenUsage":"3472"},{"messages":"3473","estimatedTokens":718,"options":"3474"},{"response":"3475","tokenUsage":"3476"},{"messages":"3477","estimatedTokens":743,"options":"3478"},{"response":"3479","tokenUsage":"3480"},{"messages":"3481","estimatedTokens":745,"options":"3482"},{"response":"3483","tokenUsage":"3484"},{"messages":"3485","estimatedTokens":735,"options":"3486"},{"response":"3487","tokenUsage":"3488"},{"messages":"3489","estimatedTokens":748,"options":"3490"},{"response":"3491","tokenUsage":"3492"},{"messages":"3493","estimatedTokens":721,"options":"3494"},{"response":"3495","tokenUsage":"3496"},{"messages":"3497","estimatedTokens":757,"options":"3498"},{"response":"3499","tokenUsage":"3500"},{"messages":"3501","estimatedTokens":737,"options":"3502"},{"response":"3503","tokenUsage":"3504"},{"messages":"3505","estimatedTokens":735,"options":"3506"},{"response":"3507","tokenUsage":"3508"},{"messages":"3509","estimatedTokens":729,"options":"3510"},{"response":"3511","tokenUsage":"3512"},{"messages":"3513","estimatedTokens":745,"options":"3514"},{"response":"3515","tokenUsage":"3516"},{"messages":"3517","estimatedTokens":811,"options":"3518"},{"response":"3519","tokenUsage":"3520"},{"messages":"3521","estimatedTokens":808,"options":"3522"},{"response":"3523","tokenUsage":"3524"},{"messages":"3525","estimatedTokens":770,"options":"3526"},{"response":"3527","tokenUsage":"3528"},{"messages":"3529","estimatedTokens":793,"options":"3530"},{"response":"3531","tokenUsage":"3532"},{"messages":"3533","estimatedTokens":801,"options":"3534"},{"response":"3535","tokenUsage":"3536"},{"messages":"3537","estimatedTokens":756,"options":"3538"},{"response":"3539","tokenUsage":"3540"},{"messages":"3541","estimatedTokens":801,"options":"3542"},{"response":"3543","tokenUsage":"3544"},{"messages":"3545","estimatedTokens":787,"options":"3546"},{"response":"3547","tokenUsage":"3548"},{"messages":"3549","estimatedTokens":785,"options":"3550"},{"response":"3551","tokenUsage":"3552"},{"messages":"3553","estimatedTokens":793,"options":"3554"},{"response":"3555","tokenUsage":"3556"},{"messages":"3557","estimatedTokens":761,"options":"3558"},{"response":"3559","tokenUsage":"3560"},{"messages":"3561","estimatedTokens":789,"options":"3562"},{"response":"3563","tokenUsage":"3564"},{"messages":"3565","estimatedTokens":797,"options":"3566"},{"response":"3567","tokenUsage":"3568"},{"messages":"3569","estimatedTokens":825,"options":"3570"},{"response":"3571","tokenUsage":"3572"},{"messages":"3573","estimatedTokens":839,"options":"3574"},{"response":"3575","tokenUsage":"3576"},{"messages":"3577","estimatedTokens":791,"options":"3578"},{"response":"3579","tokenUsage":"3580"},{"messages":"3581","estimatedTokens":787,"options":"3582"},{"response":"3583","tokenUsage":"3584"},{"messages":"3585","estimatedTokens":727,"options":"3586"},{"response":"3587","tokenUsage":"3588"},{"messages":"3589","estimatedTokens":725,"options":"3590"},{"response":"3591","tokenUsage":"3592"},{"messages":"3593","estimatedTokens":769,"options":"3594"},{"response":"3595","tokenUsage":"3596"},{"messages":"3597","estimatedTokens":780,"options":"3598"},{"response":"3599","tokenUsage":"3600"},{"messages":"3601","estimatedTokens":793,"options":"3602"},{"response":"3603","tokenUsage":"3604"},{"messages":"3605","estimatedTokens":802,"options":"3606"},{"response":"3607","tokenUsage":"3608"},{"messages":"3609","estimatedTokens":785,"options":"3610"},{"response":"3611","tokenUsage":"3612"},{"messages":"3613","estimatedTokens":785,"options":"3614"},{"action":"3615","response":"2873"},{"action":"3615","text":"3616"},{"action":"3615","response":"2867"},{"action":"3615","text":"3617"},{"action":"3615","response":"2871"},{"action":"3615","text":"3618"},{"action":"3615","response":"2865"},{"action":"3615","text":"3619"},{"action":"3615","response":"2869"},{"action":"3615","text":"3620"},{"action":"3615","response":"2875"},{"action":"3615","text":"3621"},{"action":"3615","response":"2881"},{"action":"3615","text":"3622"},{"action":"3615","response":"2883"},{"action":"3615","text":"3623"},{"action":"3615","response":"2879"},{"action":"3615","text":"3624"},{"action":"3615","response":"2877"},{"action":"3615","text":"3625"},{"action":"3615","response":"2885"},{"action":"3615","text":"3626"},{"action":"3615","response":"2893"},{"action":"3615","text":"3627"},{"action":"3615","response":"2889"},{"action":"3615","text":"3628"},{"action":"3615","response":"2887"},{"action":"3615","text":"3629"},{"action":"3615","response":"2891"},{"action":"3615","text":"3630"},{"action":"3615","response":"2901"},{"action":"3615","text":"3631"},{"action":"3615","response":"2903"},{"action":"3615","text":"3632"},{"action":"3615","response":"2897"},{"action":"3615","text":"3633"},{"action":"3615","response":"2899"},{"action":"3615","text":"3634"},{"action":"3615","response":"2895"},{"action":"3615","text":"3635"},{"action":"3615","response":"2907"},{"action":"3615","text":"3636"},{"action":"3615","response":"2905"},{"action":"3615","text":"3637"},{"action":"3615","response":"2911"},{"action":"3615","text":"3638"},{"action":"3615","response":"2909"},{"action":"3615","text":"3639"},{"action":"3615","response":"2913"},{"action":"3615","text":"3640"},{"action":"3615","response":"2919"},{"action":"3615","text":"3641"},{"action":"3615","response":"2917"},{"action":"3615","text":"3642"},{"action":"3615","response":"2915"},{"action":"3615","text":"3643"},{"action":"3615","response":"2923"},{"action":"3615","text":"3644"},{"action":"3615","response":"2921"},{"action":"3615","text":"3645"},{"action":"3615","response":"2929"},{"action":"3615","text":"3646"},{"action":"3615","response":"2931"},{"action":"3615","text":"3647"},{"action":"3615","response":"2927"},{"action":"3615","text":"3648"},{"action":"3615","response":"2933"},{"action":"3615","text":"3649"},{"action":"3615","response":"2925"},{"action":"3615","text":"3650"},{"action":"3615","response":"2943"},{"action":"3615","text":"3651"},{"action":"3615","response":"2939"},{"action":"3615","text":"3652"},{"action":"3615","response":"2937"},{"action":"3615","text":"3653"},{"action":"3615","response":"2941"},{"action":"3615","text":"3654"},{"action":"3615","response":"2935"},{"action":"3615","text":"3655"},{"action":"3615","response":"2945"},{"action":"3615","text":"3656"},{"action":"3615","response":"2949"},{"action":"3615","text":"3657"},{"action":"3615","response":"2951"},{"action":"3615","text":"3658"},{"action":"3615","response":"2947"},{"action":"3615","text":"3659"},{"action":"3615","response":"2953"},{"action":"3615","text":"3660"},{"action":"3615","response":"2961"},{"action":"3615","text":"3661"},{"action":"3615","response":"2963"},{"action":"3615","text":"3662"},{"action":"3615","response":"2955"},{"action":"3615","text":"3663"},{"action":"3615","response":"2957"},{"action":"3615","text":"3664"},{"action":"3615","response":"2959"},{"action":"3615","text":"3665"},{"action":"3615","response":"2969"},{"action":"3615","text":"3666"},{"action":"3615","response":"2965"},{"action":"3615","text":"3667"},{"action":"3615","response":"2967"},{"action":"3615","text":"3668"},{"action":"3615","response":"2973"},{"action":"3615","text":"3669"},{"action":"3615","response":"2971"},{"action":"3615","text":"3670"},{"action":"3615","response":"2977"},{"action":"3615","text":"3671"},{"action":"3615","response":"2983"},{"action":"3615","text":"3672"},{"action":"3615","response":"2975"},{"action":"3615","text":"3673"},{"action":"3615","response":"2979"},{"action":"3615","text":"3674"},{"action":"3615","response":"2981"},{"action":"3615","text":"3675"},{"action":"3615","response":"2993"},{"action":"3615","text":"3676"},{"action":"3615","response":"2991"},{"action":"3615","text":"3677"},{"action":"3615","response":"2989"},{"action":"3615","text":"3678"},{"action":"3615","response":"2985"},{"action":"3615","text":"3679"},{"action":"3615","response":"2987"},{"action":"3615","text":"3680"},{"action":"3615","response":"3003"},{"action":"3615","text":"3681"},{"action":"3615","response":"2997"},{"action":"3615","text":"3682"},{"action":"3615","response":"2999"},{"action":"3615","text":"3683"},{"action":"3615","response":"2995"},{"action":"3615","text":"3684"},{"action":"3615","response":"3001"},{"action":"3615","text":"3685"},{"output":"3686"},{"item":0},{"output":"3687"},{"item":1},{"output":"3688"},{"item":2},{"output":"3689"},{"item":3},{"output":"3690"},{"item":4},{"output":"3691"},{"item":5},{"output":"3692"},{"item":6},{"output":"3693"},{"item":7},{"output":"3694"},{"item":8},{"output":"3695"},{"item":9},{"output":"3696"},{"item":10},{"output":"3697"},{"item":11},{"output":"3698"},{"item":12},{"output":"3699"},{"item":13},{"output":"3700"},{"item":14},{"output":"3701"},{"item":15},{"output":"3702"},{"item":16},{"output":"3703"},{"item":17},{"output":"3704"},{"item":18},{"output":"3705"},{"item":19},{"output":"3706"},{"item":0},{"output":"3707"},{"item":1},{"output":"3708"},{"item":2},{"output":"3709"},{"item":3},{"output":"3710"},{"item":4},{"output":"3711"},{"item":5},{"output":"3712"},{"item":6},{"output":"3713"},{"item":7},{"output":"3714"},{"item":8},{"output":"3715"},{"item":9},{"output":"3716"},{"item":10},{"output":"3717"},{"item":11},{"output":"3718"},{"item":12},{"output":"3719"},{"item":13},{"output":"3720"},{"item":14},{"output":"3721"},{"item":15},{"output":"3722"},{"item":16},{"output":"3723"},{"item":17},{"output":"3724"},{"item":18},{"output":"3725"},{"item":19},{"output":"3726"},{"item":20},{"output":"3727"},{"item":21},{"output":"3728"},{"item":22},{"output":"3729"},{"item":23},{"output":"3730"},{"item":24},{"output":"3731"},{"item":0},{"output":"3732"},{"item":1},{"output":"3733"},{"item":2},{"output":"3734"},{"item":3},{"output":"3735"},{"item":4},{"output":"3736"},{"item":5},{"output":"3737"},{"item":6},{"output":"3738"},{"item":7},{"output":"3739"},{"item":8},{"output":"3740"},{"item":9},{"output":"3741"},{"item":10},{"output":"3742"},{"item":11},{"output":"3743"},{"item":12},{"output":"3744"},{"item":13},{"output":"3745"},{"item":14},{"output":"3746"},{"item":15},{"output":"3747"},{"item":16},{"output":"3748"},{"item":17},{"output":"3749"},{"item":18},{"output":"3750"},{"item":19},{"output":"3751"},{"item":20},{"output":"3752"},{"item":21},{"output":"3753"},{"item":22},{"output":"3754"},{"item":23},{"output":"3755"},{"item":24},{"id":"3756","title":"3254","date":"3256","source":"3257","content":"3258","inserted_at":"3757","topic":"3758","tone":"3759","category":"3760"},{"item":0},{"id":"3761","title":"3259","date":"3261","source":"3257","content":"3262","inserted_at":"3757","topic":"3758","tone":"3762","category":"3763"},{"item":1},{"id":"3764","title":"3263","date":"3265","source":"3257","content":"3266","inserted_at":"3757","topic":"3758","tone":"3762","category":"3765"},{"item":2},{"id":"3766","title":"3267","date":"3269","source":"3257","content":"3270","inserted_at":"3757","topic":"3767","tone":"3762","category":"3763"},{"item":3},{"id":"3768","title":"3271","date":"3273","source":"3257","content":"3274","inserted_at":"3757","topic":"3758","tone":"3762","category":"3765"},{"item":4},{"id":"3769","title":"3275","date":"3277","source":"3257","content":"3278","inserted_at":"3757","topic":"3767","tone":"3759","category":"3770"},{"item":5},{"id":"3771","title":"3279","date":"3281","source":"3257","content":"3282","inserted_at":"3757","topic":"3758","tone":"3759","category":"3767"},{"item":6},{"id":"3772","title":"3283","date":"3285","source":"3257","content":"3286","inserted_at":"3757","topic":"3758","tone":"3762","category":"3760"},{"item":7},{"id":"3773","title":"3287","date":"3289","source":"3257","content":"3290","inserted_at":"3757","topic":"3758","tone":"3759","category":"3765"},{"item":8},{"id":"3774","title":"3291","date":"3293","source":"3257","content":"3294","inserted_at":"3757","topic":"3758","tone":"3775","category":"3767"},{"item":9},{"id":"3776","title":"3295","date":"3297","source":"3257","content":"3298","inserted_at":"3757","topic":"3758","tone":"3759","category":"3767"},{"item":10},{"id":"3777","title":"3299","date":"3301","source":"3257","content":"3302","inserted_at":"3757","topic":"3767","tone":"3762","category":"3763"},{"item":11},{"id":"3778","title":"3303","date":"3305","source":"3257","content":"3306","inserted_at":"3757","topic":"3758","tone":"3759","category":"3765"},{"item":12},{"id":"3779","title":"3307","date":"3309","source":"3257","content":"3310","inserted_at":"3757","topic":"3780","tone":"3762","category":"3765"},{"item":13},{"id":"3781","title":"3311","date":"3313","source":"3257","content":"3314","inserted_at":"3757","topic":"3767","tone":"3762","category":"3765"},{"item":14},{"id":"3782","title":"3315","date":"3317","source":"3257","content":"3318","inserted_at":"3757","topic":"3783","tone":"3762","category":"3765"},{"item":15},{"id":"3784","title":"3319","date":"3321","source":"3257","content":"3322","inserted_at":"3757","topic":"3767","tone":"3775","category":"3770"},{"item":16},{"id":"3785","title":"3323","date":"3325","source":"3257","content":"3326","inserted_at":"3757","topic":"3758","tone":"3762","category":"3767"},{"item":17},{"id":"3786","title":"3327","date":"3329","source":"3257","content":"3330","inserted_at":"3757","topic":"3767","tone":"3762","category":"3765"},{"item":18},{"id":"3787","title":"3331","date":"3333","source":"3257","content":"3334","inserted_at":"3757","topic":"3783","tone":"3762","category":"3765"},{"item":19},{"id":"3788","title":"3789","date":"3790","source":"3791","content":"3792","inserted_at":"3793","topic":"3758","tone":"3759","category":"3794"},{"item":0},{"id":"3795","title":"3796","date":"3797","source":"3791","content":"3798","inserted_at":"3793","topic":"3767","tone":"3775","category":"3794"},{"item":1},{"id":"3799","title":"3800","date":"3801","source":"3791","content":"3802","inserted_at":"3793","topic":"3758","tone":"3759","category":"3794"},{"item":2},{"id":"3803","title":"3804","date":"3805","source":"3791","content":"3806","inserted_at":"3793","topic":"3783","tone":"3759","category":"3794"},{"item":3},{"id":"3807","title":"3808","date":"3809","source":"3791","content":"3810","inserted_at":"3793","topic":"3758","tone":"3759","category":"3760"},{"item":4},{"id":"3811","title":"3812","date":"3813","source":"3791","content":"3814","inserted_at":"3793","topic":"3758","tone":"3759","category":"3794"},{"item":5},{"id":"3815","title":"3816","date":"3817","source":"3791","content":"3818","inserted_at":"3793","topic":"3819","tone":"3759","category":"3794"},{"item":6},{"id":"3820","title":"3821","date":"3822","source":"3791","content":"3823","inserted_at":"3793","topic":"3783","tone":"3775","category":"3760"},{"item":7},{"id":"3824","title":"3825","date":"3826","source":"3791","content":"3827","inserted_at":"3793","topic":"3758","tone":"3759","category":"3794"},{"item":8},{"id":"3828","title":"3829","date":"3830","source":"3791","content":"3831","inserted_at":"3793","topic":"3783","tone":"3759","category":"3770"},{"item":9},{"id":"3832","title":"3833","date":"3834","source":"3791","content":"3835","inserted_at":"3793","topic":"3758","tone":"3762","category":"3767"},{"item":10},{"id":"3836","title":"3837","date":"3834","source":"3791","content":"3838","inserted_at":"3793","topic":"3767","tone":"3762","category":"3767"},{"item":11},{"id":"3839","title":"3840","date":"3841","source":"3791","content":"3842","inserted_at":"3793","topic":"3758","tone":"3759","category":"3767"},{"item":12},{"id":"3843","title":"3844","date":"3841","source":"3791","content":"3845","inserted_at":"3793","topic":"3783","tone":"3759","category":"3770"},{"item":13},{"id":"3846","title":"3847","date":"3848","source":"3791","content":"3849","inserted_at":"3793","topic":"3758","tone":"3762","category":"3767"},{"item":14},{"id":"3850","title":"3851","date":"3852","source":"3791","content":"3853","inserted_at":"3793","topic":"3767","tone":"3759","category":"3794"},{"item":15},{"id":"3854","title":"3855","date":"3856","source":"3791","content":"3857","inserted_at":"3793","topic":"3783","tone":"3759","category":"3770"},{"item":16},{"id":"3858","title":"3859","date":"3860","source":"3791","content":"3861","inserted_at":"3793","topic":"3767","tone":"3759","category":"3770"},{"item":17},{"id":"3862","title":"3863","date":"3864","source":"3791","content":"3865","inserted_at":"3793","topic":"3758","tone":"3762","category":"3770"},{"item":18},{"id":"3866","title":"3867","date":"3868","source":"3791","content":"3869","inserted_at":"3793","topic":"3767","tone":"3775","category":"3760"},{"item":19},{"id":"3870","title":"3871","date":"3872","source":"3791","content":"3873","inserted_at":"3793","topic":"3758","tone":"3759","category":"3760"},{"item":20},{"id":"3874","title":"3875","date":"3876","source":"3791","content":"3877","inserted_at":"3793","topic":"3758","tone":"3775","category":"3770"},{"item":21},{"id":"3878","title":"3879","date":"3880","source":"3791","content":"3881","inserted_at":"3793","topic":"3758","tone":"3759","category":"3794"},{"item":22},{"id":"3882","title":"3883","date":"3884","source":"3791","content":"3885","inserted_at":"3793","topic":"3758","tone":"3775","category":"3767"},{"item":23},{"id":"3886","title":"3887","date":"3888","source":"3791","content":"3889","inserted_at":"3793","topic":"3783","tone":"3759","category":"3794"},{"item":24},{"id":"3890","title":"3891","date":"3892","source":"3893","content":"3894","inserted_at":"3895","topic":"3819","tone":"3759","category":"3770"},{"item":0},{"id":"3896","title":"3897","date":"3898","source":"3893","content":"3899","inserted_at":"3895","topic":"3819","tone":"3759","category":"3794"},{"item":1},{"id":"3900","title":"3901","date":"3902","source":"3893","content":"3903","inserted_at":"3895","topic":"3819","tone":"3759","category":"3765"},{"item":2},{"id":"3904","title":"3905","date":"3906","source":"3893","content":"3907","inserted_at":"3895","topic":"3819","tone":"3759","category":"3770"},{"item":3},{"id":"3908","title":"3909","date":"3910","source":"3893","content":"3911","inserted_at":"3895","topic":"3819","tone":"3762","category":"3770"},{"item":4},{"id":"3912","title":"3913","date":"3914","source":"3893","content":"3915","inserted_at":"3895","topic":"3819","tone":"3762","category":"3770"},{"item":5},{"id":"3916","title":"3917","date":"3918","source":"3893","content":"3919","inserted_at":"3895","topic":"3819","tone":"3762","category":"3770"},{"item":6},{"id":"3920","title":"3921","date":"3922","source":"3893","content":"3923","inserted_at":"3895","topic":"3819","tone":"3762","category":"3794"},{"item":7},{"id":"3924","title":"3925","date":"3926","source":"3893","content":"3927","inserted_at":"3895","topic":"3819","tone":"3762","category":"3767"},{"item":8},{"id":"3928","title":"3929","date":"3333","source":"3893","content":"3930","inserted_at":"3895","topic":"3819","tone":"3762","category":"3765"},{"item":9},{"id":"3931","title":"3932","date":"3933","source":"3893","content":"3934","inserted_at":"3895","topic":"3819","tone":"3762","category":"3770"},{"item":10},{"id":"3935","title":"3936","date":"3937","source":"3893","content":"3938","inserted_at":"3895","topic":"3819","tone":"3762","category":"3765"},{"item":11},{"id":"3939","title":"3940","date":"3941","source":"3893","content":"3942","inserted_at":"3895","topic":"3819","tone":"3759","category":"3794"},{"item":12},{"id":"3943","title":"3944","date":"3945","source":"3893","content":"3946","inserted_at":"3895","topic":"3819","tone":"3775","category":"3770"},{"item":13},{"id":"3947","title":"3948","date":"3949","source":"3893","content":"3950","inserted_at":"3895","topic":"3819","tone":"3759","category":"3760"},{"item":14},{"id":"3951","title":"3952","date":"3953","source":"3893","content":"3954","inserted_at":"3895","topic":"3819","tone":"3759","category":"3770"},{"item":15},{"id":"3955","title":"3956","date":"3953","source":"3893","content":"3957","inserted_at":"3895","topic":"3819","tone":"3759","category":"3770"},{"item":16},{"id":"3958","title":"3959","date":"3953","source":"3893","content":"3960","inserted_at":"3895","topic":"3819","tone":"3762","category":"3767"},{"item":17},{"id":"3961","title":"3962","date":"3953","source":"3893","content":"3963","inserted_at":"3895","topic":"3819","tone":"3759","category":"3767"},{"item":18},{"id":"3964","title":"3965","date":"3953","source":"3893","content":"3966","inserted_at":"3895","topic":"3819","tone":"3759","category":"3794"},{"item":19},{"id":"3967","title":"3968","date":"3969","source":"3893","content":"3970","inserted_at":"3895","topic":"3819","tone":"3759","category":"3794"},{"item":20},{"id":"3971","title":"3972","date":"3973","source":"3893","content":"3974","inserted_at":"3895","topic":"3819","tone":"3759","category":"3770"},{"item":21},{"id":"3975","title":"3976","date":"3977","source":"3893","content":"3978","inserted_at":"3895","topic":"3819","tone":"3775","category":"3770"},{"item":22},{"id":"3979","title":"3980","date":"3981","source":"3893","content":"3982","inserted_at":"3895","topic":"3819","tone":"3762","category":"3765"},{"item":23},{"id":"3983","title":"3984","date":"3985","source":"3893","content":"3986","inserted_at":"3895","topic":"3819","tone":"3762","category":"3765"},{"item":24},{"data":"944"},{"item":0},{"rss":"3987"},{"item":0},{"title":"3789","date":"3790","url":"3988","source":"3791","content":"3792"},{"item":0},{"title":"3796","date":"3797","url":"3989","source":"3791","content":"3798"},{"item":0},{"title":"3800","date":"3801","url":"3990","source":"3791","content":"3802"},{"item":0},{"title":"3804","date":"3805","url":"3991","source":"3791","content":"3806"},{"item":0},{"title":"3808","date":"3809","url":"3992","source":"3791","content":"3810"},{"item":0},{"title":"3812","date":"3813","url":"3993","source":"3791","content":"3814"},{"item":0},{"title":"3816","date":"3817","url":"3994","source":"3791","content":"3818"},{"item":0},{"title":"3821","date":"3822","url":"3995","source":"3791","content":"3823"},{"item":0},{"title":"3825","date":"3826","url":"3996","source":"3791","content":"3827"},{"item":0},{"title":"3829","date":"3830","url":"3997","source":"3791","content":"3831"},{"item":0},{"title":"3833","date":"3834","url":"3998","source":"3791","content":"3835"},{"item":0},{"title":"3837","date":"3834","url":"3999","source":"3791","content":"3838"},{"item":0},{"title":"3840","date":"3841","url":"4000","source":"3791","content":"3842"},{"item":0},{"title":"3844","date":"3841","url":"4001","source":"3791","content":"3845"},{"item":0},{"title":"3847","date":"3848","url":"4002","source":"3791","content":"3849"},{"item":0},{"title":"3851","date":"3852","url":"4003","source":"3791","content":"3853"},{"item":0},{"title":"3855","date":"3856","url":"4004","source":"3791","content":"3857"},{"item":0},{"title":"3859","date":"3860","url":"4005","source":"3791","content":"3861"},{"item":0},{"title":"3863","date":"3864","url":"4006","source":"3791","content":"3865"},{"item":0},{"title":"3867","date":"3868","url":"4007","source":"3791","content":"3869"},{"item":0},{"title":"3871","date":"3872","url":"4008","source":"3791","content":"3873"},{"item":0},{"title":"3875","date":"3876","url":"4009","source":"3791","content":"3877"},{"item":0},{"title":"3879","date":"3880","url":"4010","source":"3791","content":"3881"},{"item":0},{"title":"3883","date":"3884","url":"4011","source":"3791","content":"3885"},{"item":0},{"title":"3887","date":"3888","url":"4012","source":"3791","content":"3889"},{"item":0},{"data":"946"},{"item":0},{"rss":"4013"},{"item":0},{"title":"3891","date":"3892","url":"4014","source":"3893","content":"3894"},{"item":0},{"title":"3897","date":"3898","url":"4015","source":"3893","content":"3899"},{"item":0},{"title":"3901","date":"3902","url":"4016","source":"3893","content":"3903"},{"item":0},{"title":"3905","date":"3906","url":"4017","source":"3893","content":"3907"},{"item":0},{"title":"3909","date":"3910","url":"4018","source":"3893","content":"3911"},{"item":0},{"title":"3913","date":"3914","url":"4019","source":"3893","content":"3915"},{"item":0},{"title":"3917","date":"3918","url":"4020","source":"3893","content":"3919"},{"item":0},{"title":"3921","date":"3922","url":"4021","source":"3893","content":"3923"},{"item":0},{"title":"3925","date":"3926","url":"4022","source":"3893","content":"3927"},{"item":0},{"title":"3929","date":"3333","url":"4023","source":"3893","content":"3930"},{"item":0},{"title":"3932","date":"3933","url":"4024","source":"3893","content":"3934"},{"item":0},{"title":"3936","date":"3937","url":"4025","source":"3893","content":"3938"},{"item":0},{"title":"3940","date":"3941","url":"4026","source":"3893","content":"3942"},{"item":0},{"title":"3944","date":"3945","url":"4027","source":"3893","content":"3946"},{"item":0},{"title":"3948","date":"3949","url":"4028","source":"3893","content":"3950"},{"item":0},{"title":"3952","date":"3953","url":"4029","source":"3893","content":"3954"},{"item":0},{"title":"3956","date":"3953","url":"4030","source":"3893","content":"3957"},{"item":0},{"title":"3959","date":"3953","url":"4031","source":"3893","content":"3960"},{"item":0},{"title":"3962","date":"3953","url":"4032","source":"3893","content":"3963"},{"item":0},{"title":"3965","date":"3953","url":"4033","source":"3893","content":"3966"},{"item":0},{"title":"3968","date":"3969","url":"4034","source":"3893","content":"3970"},{"item":0},{"title":"3972","date":"3973","url":"4035","source":"3893","content":"3974"},{"item":0},{"title":"3976","date":"3977","url":"4036","source":"3893","content":"3978"},{"item":0},{"title":"3980","date":"3981","url":"4037","source":"3893","content":"3982"},{"item":0},{"title":"3984","date":"3985","url":"4038","source":"3893","content":"3986"},{"item":0},{"version":"4039","xmlns:content":"4040","xmlns:wfw":"4041","xmlns:dc":"4042","xmlns:atom":"4043","xmlns:sy":"4044","xmlns:slash":"4045","channel":"4046"},"Coreweave CEO defends AI circular deals as working together","https://techcrunch.com/2025/12/09/coreweave-ceo-defends-ai-circular-deals-as-working-together/","Wed, 10 Dec 2025 00:49:25 +0000","TechCrunch","The CEO of the AI data center provider, which has Nvidia as an investor and a supplier, described the environment as a \\"violent change\\" in demand.","Unconventional AI confirms its massive  $475M seed round","https://techcrunch.com/2025/12/09/unconventional-ai-confirms-its-massive-475m-seed-round/","Wed, 10 Dec 2025 00:24:16 +0000","Led by Naveen Rao, the former head of AI at Databricks, the new hardware startup is valued at $4.5 billion.","Hinge CEO steps down to launch Overtone, an AI dating app","https://techcrunch.com/2025/12/09/hinge-ceo-steps-down-to-launch-overtone-an-ai-dating-app/","Wed, 10 Dec 2025 00:01:13 +0000","Overtone is described as \\"an early-stage dating service focused on using AI and voice tools to help people connect in a more thoughtful and personal way.\\"","Fal nabs $140M in fresh funding led by Sequoia, tripling valuation to $4.5B","https://techcrunch.com/2025/12/09/fal-nabs-140m-in-fresh-funding-led-by-sequoia-tripling-valuation-to-4-5b/","Tue, 09 Dec 2025 22:21:33 +0000","The round, which was Fals third fundraise this year, also included a secondary sale for early investors, sources tell us.","Cashew Research is going after the $90B market research industry with AI","https://techcrunch.com/2025/12/09/cashew-research-is-going-after-the-90b-market-research-industry-with-ai/","Tue, 09 Dec 2025 22:20:39 +0000","Cashew Research uses AI to automate the market research process while still collecting real-world data from humans. ","SpaceX reportedly planning 2026 IPO with $1.5T valuation target","https://techcrunch.com/2025/12/09/spacex-reportedly-planning-2026-ipo-with-1-5t-valuation-target/","Tue, 09 Dec 2025 21:27:54 +0000","The company is looking to raise $30 billion, which would make it the biggest IPO ever, just ahead of Saudi Aramco's in 2019.","B Capital founding partner Kabir Narang leaves to launch new investment platform","https://techcrunch.com/2025/12/09/b-capital-founding-partner-kabir-narang-leaves-to-launch-new-investment-platform/","Tue, 09 Dec 2025 21:13:19 +0000","Kabir Narang is laying the groundwork for a new investment platform slated for 2026 that will focus on \\"compounding at the intersection of technology, AI, and global capital flows.\\" ","Why Cursors CEO believes OpenAI, Anthropic competition wont crush his startup","https://techcrunch.com/2025/12/09/why-cursors-ceo-believes-openai-anthropic-competition-wont-crush-his-startup/","Tue, 09 Dec 2025 20:59:21 +0000","After reaching $1 billion in annualized revenue, Anysphere CEO Michael Truell explained the features his company is focused on building out.","Rivian is building its own AI assistant","https://techcrunch.com/2025/12/09/rivian-is-building-its-own-ai-assistant/","Tue, 09 Dec 2025 20:11:13 +0000","The EV maker will likely share more details on its upcoming AI &#038; Autonomy Day scheduled for December 11. ","Three in 10 US teens use AI chatbots every day, but safety concerns are growing","https://techcrunch.com/2025/12/09/three-in-ten-u-s-teens-use-ai-chatbots-every-day-but-safety-concerns-are-growing/","Tue, 09 Dec 2025 20:00:00 +0000","While teenagers may start out using AI chatbots for basic questions, their relationship with chatbot platforms has the potential to turn addictive.","Slack CEO Denise Dresser to join OpenAI as chief revenue officer","https://techcrunch.com/2025/12/09/slack-ceo-denise-dresser-to-join-openai-as-chief-revenue-officer/","Tue, 09 Dec 2025 19:41:40 +0000","OpenAI says that Dresser will be responsible for the company's revenue strategy in enterprise and customer success. ","Boom Supersonic raises $300M to build natural gas turbines for Crusoe data centers","https://techcrunch.com/2025/12/09/boom-supersonic-raises-300m-to-build-natural-gas-turbines-for-crusoe-data-centers/","Tue, 09 Dec 2025 19:17:41 +0000","Crusoe will pay Boom $1.25 billion for more than a gigawatt of generating capacity with deliveries of the turbines starting in 2027.","Amazons Ring rolls out controversial, AI-powered facial-recognition feature to video doorbells","https://techcrunch.com/2025/12/09/amazons-ring-rolls-out-controversial-ai-powered-facial-recognition-feature-to-video-doorbells/","Tue, 09 Dec 2025 19:04:08 +0000","The feature lets you identify the people who regularly come to your door by creating a catalog of up to 50 faces. The company says the Ring feature is opt in and the biometric data isn't used to train AI models. ","Truecaller now lets users protect households from scam calls","https://techcrunch.com/2025/12/09/truecaller-now-lets-users-protect-households-from-scam-calls/","Tue, 09 Dec 2025 18:46:11 +0000","Truecaller's Family Protection will be rolled out widely in the first quarter of 2026. The new feature lets up to five people join a family group overseen by one member who acts as the administrator and manages scam-blocking settings for the others.","Ford and Renault team up on cheaper EVs in a fight for our lives","https://techcrunch.com/2025/12/09/ford-and-renault-team-up-on-cheaper-evs-in-a-fight-for-our-lives/","Tue, 09 Dec 2025 18:01:43 +0000","The automakers will work together to bring two Ford-branded EVs to European dealerships in 2028. ","Google Photos launches new video editing tools","https://techcrunch.com/2025/12/09/google-photos-launches-new-video-editing-tools/","Tue, 09 Dec 2025 18:00:00 +0000","Google Photos' new update helps make editing video reels in the app quicker, such as new templates that already add music and text to clips. ","NASA and USPS stop using Canoo EVs despite CEOs pledged support","https://techcrunch.com/2025/12/09/nasa-and-usps-stop-using-canoo-evs-despite-ceos-pledged-support/","Tue, 09 Dec 2025 17:42:28 +0000","Canoo's CEO bought the bankrupt startup's assets in April and told the court his \\"principal motivation\\" was supporting these programs.","OpenAI, Anthropic, and Block join new Linux Foundation effort to standardize the AI agent era","https://techcrunch.com/2025/12/09/openai-anthropic-and-block-join-new-linux-foundation-effort-to-standardize-the-ai-agent-era/","Tue, 09 Dec 2025 17:28:36 +0000","Anthropic, Block, and OpenAI  are backing the Linux Foundations new Agentic AI Foundation, donating MCP, Goose, and AGENTS.md to standardize AI agents, boost interoperability, and curb proprietary fragmentation.","Fairphone refreshes its good-looking, repairable headphones","https://techcrunch.com/2025/12/09/fairphone-refreshes-its-good-looking-repairable-headphones/","Tue, 09 Dec 2025 17:08:14 +0000","Fairphone updates its repairable over-the-ear headphones with new drivers.","Facebook redesign focuses on friends, photos, Marketplace, and more","https://techcrunch.com/2025/12/09/facebook-redesign-focuses-on-friends-photos-marketplace-and-more/","Tue, 09 Dec 2025 17:00:00 +0000","Meta's Facebook redesign elevates Marketplace, refreshes profiles, and aims to win back Gen Z users.",{"generations":"4047"},{"completionTokens":156,"promptTokens":781,"totalTokens":937},["4048"],{"openai_api_key":"4049","model":"4050","timeout":60000,"max_retries":2,"configuration":"4051","model_kwargs":"4052"},{"generations":"4053"},{"completionTokens":160,"promptTokens":788,"totalTokens":948},["4054"],{"openai_api_key":"4055","model":"4050","timeout":60000,"max_retries":2,"configuration":"4056","model_kwargs":"4057"},{"generations":"4058"},{"completionTokens":172,"promptTokens":814,"totalTokens":986},["4059"],{"openai_api_key":"4060","model":"4050","timeout":60000,"max_retries":2,"configuration":"4061","model_kwargs":"4062"},{"generations":"4063"},{"completionTokens":151,"promptTokens":770,"totalTokens":921},["4064"],{"openai_api_key":"4065","model":"4050","timeout":60000,"max_retries":2,"configuration":"4066","model_kwargs":"4067"},{"generations":"4068"},{"completionTokens":154,"promptTokens":778,"totalTokens":932},["4069"],{"openai_api_key":"4070","model":"4050","timeout":60000,"max_retries":2,"configuration":"4071","model_kwargs":"4072"},{"generations":"4073"},{"completionTokens":166,"promptTokens":800,"totalTokens":966},["4074"],{"openai_api_key":"4075","model":"4050","timeout":60000,"max_retries":2,"configuration":"4076","model_kwargs":"4077"},{"generations":"4078"},{"completionTokens":168,"promptTokens":806,"totalTokens":974},["4079"],{"openai_api_key":"4080","model":"4050","timeout":60000,"max_retries":2,"configuration":"4081","model_kwargs":"4082"},{"generations":"4083"},{"completionTokens":162,"promptTokens":794,"totalTokens":956},["4084"],{"openai_api_key":"4085","model":"4050","timeout":60000,"max_retries":2,"configuration":"4086","model_kwargs":"4087"},{"generations":"4088"},{"completionTokens":141,"promptTokens":749,"totalTokens":890},["4089"],{"openai_api_key":"4090","model":"4050","timeout":60000,"max_retries":2,"configuration":"4091","model_kwargs":"4092"},{"generations":"4093"},{"completionTokens":162,"promptTokens":794,"totalTokens":956},["4094"],{"openai_api_key":"4095","model":"4050","timeout":60000,"max_retries":2,"configuration":"4096","model_kwargs":"4097"},{"generations":"4098"},{"completionTokens":143,"promptTokens":811,"totalTokens":954},["4099"],{"openai_api_key":"4100","model":"4050","timeout":60000,"max_retries":2,"configuration":"4101","model_kwargs":"4102"},{"generations":"4103"},{"completionTokens":148,"promptTokens":766,"totalTokens":914},["4104"],{"openai_api_key":"4105","model":"4050","timeout":60000,"max_retries":2,"configuration":"4106","model_kwargs":"4107"},{"generations":"4108"},{"completionTokens":180,"promptTokens":828,"totalTokens":1008},["4109"],{"openai_api_key":"4110","model":"4050","timeout":60000,"max_retries":2,"configuration":"4111","model_kwargs":"4112"},{"generations":"4113"},{"completionTokens":174,"promptTokens":814,"totalTokens":988},["4114"],{"openai_api_key":"4115","model":"4050","timeout":60000,"max_retries":2,"configuration":"4116","model_kwargs":"4117"},{"generations":"4118"},{"completionTokens":158,"promptTokens":783,"totalTokens":941},["4119"],{"openai_api_key":"4120","model":"4050","timeout":60000,"max_retries":2,"configuration":"4121","model_kwargs":"4122"},{"generations":"4123"},{"completionTokens":143,"promptTokens":752,"totalTokens":895},["4124"],{"openai_api_key":"4125","model":"4050","timeout":60000,"max_retries":2,"configuration":"4126","model_kwargs":"4127"},{"generations":"4128"},{"completionTokens":159,"promptTokens":785,"totalTokens":944},["4129"],{"openai_api_key":"4130","model":"4050","timeout":60000,"max_retries":2,"configuration":"4131","model_kwargs":"4132"},{"generations":"4133"},{"completionTokens":135,"promptTokens":738,"totalTokens":873},["4134"],{"openai_api_key":"4135","model":"4050","timeout":60000,"max_retries":2,"configuration":"4136","model_kwargs":"4137"},{"generations":"4138"},{"completionTokens":181,"promptTokens":832,"totalTokens":1013},["4139"],{"openai_api_key":"4140","model":"4050","timeout":60000,"max_retries":2,"configuration":"4141","model_kwargs":"4142"},{"generations":"4143"},{"completionTokens":144,"promptTokens":754,"totalTokens":898},["4144"],{"openai_api_key":"4145","model":"4050","timeout":60000,"max_retries":2,"configuration":"4146","model_kwargs":"4147"},{"generations":"4148"},{"completionTokens":140,"promptTokens":747,"totalTokens":887},["4149"],{"openai_api_key":"4150","model":"4050","timeout":60000,"max_retries":2,"configuration":"4151","model_kwargs":"4152"},{"generations":"4153"},{"completionTokens":133,"promptTokens":734,"totalTokens":867},["4154"],{"openai_api_key":"4155","model":"4050","timeout":60000,"max_retries":2,"configuration":"4156","model_kwargs":"4157"},{"generations":"4158"},{"completionTokens":157,"promptTokens":782,"totalTokens":939},["4159"],{"openai_api_key":"4160","model":"4050","timeout":60000,"max_retries":2,"configuration":"4161","model_kwargs":"4162"},{"generations":"4163"},{"completionTokens":145,"promptTokens":755,"totalTokens":900},["4164"],{"openai_api_key":"4165","model":"4050","timeout":60000,"max_retries":2,"configuration":"4166","model_kwargs":"4167"},{"generations":"4168"},{"completionTokens":133,"promptTokens":736,"totalTokens":869},["4169"],{"openai_api_key":"4170","model":"4050","timeout":60000,"max_retries":2,"configuration":"4171","model_kwargs":"4172"},{"generations":"4173"},{"completionTokens":142,"promptTokens":751,"totalTokens":893},["4174"],{"openai_api_key":"4175","model":"4050","timeout":60000,"max_retries":2,"configuration":"4176","model_kwargs":"4177"},{"generations":"4178"},{"completionTokens":152,"promptTokens":772,"totalTokens":924},["4179"],{"openai_api_key":"4180","model":"4050","timeout":60000,"max_retries":2,"configuration":"4181","model_kwargs":"4182"},{"generations":"4183"},{"completionTokens":145,"promptTokens":758,"totalTokens":903},["4184"],{"openai_api_key":"4185","model":"4050","timeout":60000,"max_retries":2,"configuration":"4186","model_kwargs":"4187"},{"generations":"4188"},{"completionTokens":144,"promptTokens":753,"totalTokens":897},["4189"],{"openai_api_key":"4190","model":"4050","timeout":60000,"max_retries":2,"configuration":"4191","model_kwargs":"4192"},{"generations":"4193"},{"completionTokens":137,"promptTokens":741,"totalTokens":878},["4194"],{"openai_api_key":"4195","model":"4050","timeout":60000,"max_retries":2,"configuration":"4196","model_kwargs":"4197"},{"generations":"4198"},{"completionTokens":162,"promptTokens":794,"totalTokens":956},["4199"],{"openai_api_key":"4200","model":"4050","timeout":60000,"max_retries":2,"configuration":"4201","model_kwargs":"4202"},{"generations":"4203"},{"completionTokens":135,"promptTokens":739,"totalTokens":874},["4204"],{"openai_api_key":"4205","model":"4050","timeout":60000,"max_retries":2,"configuration":"4206","model_kwargs":"4207"},{"generations":"4208"},{"completionTokens":130,"promptTokens":730,"totalTokens":860},["4209"],{"openai_api_key":"4210","model":"4050","timeout":60000,"max_retries":2,"configuration":"4211","model_kwargs":"4212"},{"generations":"4213"},{"completionTokens":140,"promptTokens":750,"totalTokens":890},["4214"],{"openai_api_key":"4215","model":"4050","timeout":60000,"max_retries":2,"configuration":"4216","model_kwargs":"4217"},{"generations":"4218"},{"completionTokens":130,"promptTokens":725,"totalTokens":855},["4219"],{"openai_api_key":"4220","model":"4050","timeout":60000,"max_retries":2,"configuration":"4221","model_kwargs":"4222"},{"generations":"4223"},{"completionTokens":141,"promptTokens":750,"totalTokens":891},["4224"],{"openai_api_key":"4225","model":"4050","timeout":60000,"max_retries":2,"configuration":"4226","model_kwargs":"4227"},{"generations":"4228"},{"completionTokens":143,"promptTokens":752,"totalTokens":895},["4229"],{"openai_api_key":"4230","model":"4050","timeout":60000,"max_retries":2,"configuration":"4231","model_kwargs":"4232"},{"generations":"4233"},{"completionTokens":138,"promptTokens":742,"totalTokens":880},["4234"],{"openai_api_key":"4235","model":"4050","timeout":60000,"max_retries":2,"configuration":"4236","model_kwargs":"4237"},{"generations":"4238"},{"completionTokens":144,"promptTokens":755,"totalTokens":899},["4239"],{"openai_api_key":"4240","model":"4050","timeout":60000,"max_retries":2,"configuration":"4241","model_kwargs":"4242"},{"generations":"4243"},{"completionTokens":129,"promptTokens":728,"totalTokens":857},["4244"],{"openai_api_key":"4245","model":"4050","timeout":60000,"max_retries":2,"configuration":"4246","model_kwargs":"4247"},{"generations":"4248"},{"completionTokens":148,"promptTokens":764,"totalTokens":912},["4249"],{"openai_api_key":"4250","model":"4050","timeout":60000,"max_retries":2,"configuration":"4251","model_kwargs":"4252"},{"generations":"4253"},{"completionTokens":108,"promptTokens":744,"totalTokens":852},["4254"],{"openai_api_key":"4255","model":"4050","timeout":60000,"max_retries":2,"configuration":"4256","model_kwargs":"4257"},{"generations":"4258"},{"completionTokens":137,"promptTokens":742,"totalTokens":879},["4259"],{"openai_api_key":"4260","model":"4050","timeout":60000,"max_retries":2,"configuration":"4261","model_kwargs":"4262"},{"generations":"4263"},{"completionTokens":133,"promptTokens":736,"totalTokens":869},["4264"],{"openai_api_key":"4265","model":"4050","timeout":60000,"max_retries":2,"configuration":"4266","model_kwargs":"4267"},{"generations":"4268"},{"completionTokens":143,"promptTokens":752,"totalTokens":895},["4269"],{"openai_api_key":"4270","model":"4050","timeout":60000,"max_retries":2,"configuration":"4271","model_kwargs":"4272"},{"generations":"4273"},{"completionTokens":175,"promptTokens":818,"totalTokens":993},["4274"],{"openai_api_key":"4275","model":"4050","timeout":60000,"max_retries":2,"configuration":"4276","model_kwargs":"4277"},{"generations":"4278"},{"completionTokens":175,"promptTokens":815,"totalTokens":990},["4279"],{"openai_api_key":"4280","model":"4050","timeout":60000,"max_retries":2,"configuration":"4281","model_kwargs":"4282"},{"generations":"4283"},{"completionTokens":155,"promptTokens":777,"totalTokens":932},["4284"],{"openai_api_key":"4285","model":"4050","timeout":60000,"max_retries":2,"configuration":"4286","model_kwargs":"4287"},{"generations":"4288"},{"completionTokens":166,"promptTokens":800,"totalTokens":966},["4289"],{"openai_api_key":"4290","model":"4050","timeout":60000,"max_retries":2,"configuration":"4291","model_kwargs":"4292"},{"generations":"4293"},{"completionTokens":171,"promptTokens":808,"totalTokens":979},["4294"],{"openai_api_key":"4295","model":"4050","timeout":60000,"max_retries":2,"configuration":"4296","model_kwargs":"4297"},{"generations":"4298"},{"completionTokens":148,"promptTokens":763,"totalTokens":911},["4299"],{"openai_api_key":"4300","model":"4050","timeout":60000,"max_retries":2,"configuration":"4301","model_kwargs":"4302"},{"generations":"4303"},{"completionTokens":170,"promptTokens":808,"totalTokens":978},["4304"],{"openai_api_key":"4305","model":"4050","timeout":60000,"max_retries":2,"configuration":"4306","model_kwargs":"4307"},{"generations":"4308"},{"completionTokens":163,"promptTokens":794,"totalTokens":957},["4309"],{"openai_api_key":"4310","model":"4050","timeout":60000,"max_retries":2,"configuration":"4311","model_kwargs":"4312"},{"generations":"4313"},{"completionTokens":161,"promptTokens":792,"totalTokens":953},["4314"],{"openai_api_key":"4315","model":"4050","timeout":60000,"max_retries":2,"configuration":"4316","model_kwargs":"4317"},{"generations":"4318"},{"completionTokens":166,"promptTokens":800,"totalTokens":966},["4319"],{"openai_api_key":"4320","model":"4050","timeout":60000,"max_retries":2,"configuration":"4321","model_kwargs":"4322"},{"generations":"4323"},{"completionTokens":150,"promptTokens":768,"totalTokens":918},["4324"],{"openai_api_key":"4325","model":"4050","timeout":60000,"max_retries":2,"configuration":"4326","model_kwargs":"4327"},{"generations":"4328"},{"completionTokens":164,"promptTokens":796,"totalTokens":960},["4329"],{"openai_api_key":"4330","model":"4050","timeout":60000,"max_retries":2,"configuration":"4331","model_kwargs":"4332"},{"generations":"4333"},{"completionTokens":168,"promptTokens":804,"totalTokens":972},["4334"],{"openai_api_key":"4335","model":"4050","timeout":60000,"max_retries":2,"configuration":"4336","model_kwargs":"4337"},{"generations":"4338"},{"completionTokens":182,"promptTokens":832,"totalTokens":1014},["4339"],{"openai_api_key":"4340","model":"4050","timeout":60000,"max_retries":2,"configuration":"4341","model_kwargs":"4342"},{"generations":"4343"},{"completionTokens":188,"promptTokens":846,"totalTokens":1034},["4344"],{"openai_api_key":"4345","model":"4050","timeout":60000,"max_retries":2,"configuration":"4346","model_kwargs":"4347"},{"generations":"4348"},{"completionTokens":165,"promptTokens":798,"totalTokens":963},["4349"],{"openai_api_key":"4350","model":"4050","timeout":60000,"max_retries":2,"configuration":"4351","model_kwargs":"4352"},{"generations":"4353"},{"completionTokens":163,"promptTokens":794,"totalTokens":957},["4354"],{"openai_api_key":"4355","model":"4050","timeout":60000,"max_retries":2,"configuration":"4356","model_kwargs":"4357"},{"generations":"4358"},{"completionTokens":132,"promptTokens":734,"totalTokens":866},["4359"],{"openai_api_key":"4360","model":"4050","timeout":60000,"max_retries":2,"configuration":"4361","model_kwargs":"4362"},{"generations":"4363"},{"completionTokens":131,"promptTokens":732,"totalTokens":863},["4364"],{"openai_api_key":"4365","model":"4050","timeout":60000,"max_retries":2,"configuration":"4366","model_kwargs":"4367"},{"generations":"4368"},{"completionTokens":154,"promptTokens":776,"totalTokens":930},["4369"],{"openai_api_key":"4370","model":"4050","timeout":60000,"max_retries":2,"configuration":"4371","model_kwargs":"4372"},{"generations":"4373"},{"completionTokens":160,"promptTokens":787,"totalTokens":947},["4374"],{"openai_api_key":"4375","model":"4050","timeout":60000,"max_retries":2,"configuration":"4376","model_kwargs":"4377"},{"generations":"4378"},{"completionTokens":166,"promptTokens":800,"totalTokens":966},["4379"],{"openai_api_key":"4380","model":"4050","timeout":60000,"max_retries":2,"configuration":"4381","model_kwargs":"4382"},{"generations":"4383"},{"completionTokens":171,"promptTokens":809,"totalTokens":980},["4384"],{"openai_api_key":"4385","model":"4050","timeout":60000,"max_retries":2,"configuration":"4386","model_kwargs":"4387"},{"generations":"4388"},{"completionTokens":133,"promptTokens":792,"totalTokens":925},["4389"],{"openai_api_key":"4390","model":"4050","timeout":60000,"max_retries":2,"configuration":"4391","model_kwargs":"4392"},{"generations":"4393"},{"completionTokens":162,"promptTokens":792,"totalTokens":954},["4394"],{"openai_api_key":"4395","model":"4050","timeout":60000,"max_retries":2,"configuration":"4396","model_kwargs":"4397"},"parse","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Cashew Research is going after the $90B market research industry with AI\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 22:20:39 +0000\\",\\n    \\"source\\": \\"TechCrunch\\",\\n    \\"content\\": \\"Cashew Research uses AI to automate the market research process while still collecting real-world data from humans. \\",\\n    \\"url\\": \\"https://techcrunch.com/2025/12/09/cashew-research-is-going-after-the-90b-market-research-industry-with-ai/\\",\\n    \\"topic\\": \\"AI\\",\\n    \\"tone\\": \\"positive\\",\\n    \\"category\\": \\"Product Launch\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Unconventional AI confirms its massive  $475M seed round\\",\\n    \\"date\\": \\"Wed, 10 Dec 2025 00:24:16 +0000\\",\\n    \\"source\\": \\"TechCrunch\\",\\n    \\"content\\": \\"Led by Naveen Rao, the former head of AI at Databricks, the new hardware startup is valued at $4.5 billion.\\",\\n    \\"url\\": \\"https://techcrunch.com/2025/12/09/unconventional-ai-confirms-its-massive-475m-seed-round/\\",\\n    \\"topic\\": \\"AI\\",\\n    \\"tone\\": \\"positive\\",\\n    \\"category\\": \\"Funding\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Fal nabs $140M in fresh funding led by Sequoia, tripling valuation to $4.5B\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 22:21:33 +0000\\",\\n    \\"source\\": \\"TechCrunch\\",\\n    \\"content\\": \\"The round, which was Fals third fundraise this year, also included a secondary sale for early investors, sources tell us.\\",\\n    \\"url\\": \\"https://techcrunch.com/2025/12/09/fal-nabs-140m-in-fresh-funding-led-by-sequoia-tripling-valuation-to-4-5b/\\",\\n    \\"topic\\": \\"Other\\",\\n    \\"tone\\": \\"positive\\",\\n    \\"category\\": \\"Funding\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Coreweave CEO defends AI circular deals as working together\\",\\n    \\"date\\": \\"Wed, 10 Dec 2025 00:49:25 +0000\\",\\n    \\"source\\": \\"TechCrunch\\",\\n    \\"content\\": \\"The CEO of the AI data center provider, which has Nvidia as an investor and a supplier, described the environment as a \\\\\\"violent change\\\\\\" in demand.\\",\\n    \\"url\\": \\"https://techcrunch.com/2025/12/09/coreweave-ceo-defends-ai-circular-deals-as-working-together/\\",\\n    \\"topic\\": \\"AI\\",\\n    \\"tone\\": \\"neutral\\",\\n    \\"category\\": \\"Opinion\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Hinge CEO steps down to launch Overtone, an AI dating app\\",\\n    \\"date\\": \\"Wed, 10 Dec 2025 00:01:13 +0000\\",\\n    \\"source\\": \\"TechCrunch\\",\\n    \\"content\\": \\"Overtone is described as \\\\\\"an early-stage dating service focused on using AI and voice tools to help people connect in a more thoughtful and personal way.\\\\\\"\\",\\n    \\"url\\": \\"https://techcrunch.com/2025/12/09/hinge-ceo-steps-down-to-launch-overtone-an-ai-dating-app/\\",\\n    \\"topic\\": \\"AI\\",\\n    \\"tone\\": \\"positive\\",\\n    \\"category\\": \\"Product Launch\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"SpaceX reportedly planning 2026 IPO with $1.5T valuation target\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 21:27:54 +0000\\",\\n    \\"source\\": \\"TechCrunch\\",\\n    \\"content\\": \\"The company is looking to raise $30 billion, which would make it the biggest IPO ever, just ahead of Saudi Aramco's in 2019.\\",\\n    \\"url\\": \\"https://techcrunch.com/2025/12/09/spacex-reportedly-planning-2026-ipo-with-1-5t-valuation-target/\\",\\n    \\"topic\\": \\"Other\\",\\n    \\"tone\\": \\"neutral\\",\\n    \\"category\\": \\"Market Report\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Rivian is building its own AI assistant\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 20:11:13 +0000\\",\\n    \\"source\\": \\"TechCrunch\\",\\n    \\"content\\": \\"The EV maker will likely share more details on its upcoming AI &#038; Autonomy Day scheduled for December 11. \\",\\n    \\"url\\": \\"https://techcrunch.com/2025/12/09/rivian-is-building-its-own-ai-assistant/\\",\\n    \\"topic\\": \\"AI\\",\\n    \\"tone\\": \\"neutral\\",\\n    \\"category\\": \\"Product Launch\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Three in 10 US teens use AI chatbots every day, but safety concerns are growing\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 20:00:00 +0000\\",\\n    \\"source\\": \\"TechCrunch\\",\\n    \\"content\\": \\"While teenagers may start out using AI chatbots for basic questions, their relationship with chatbot platforms has the potential to turn addictive.\\",\\n    \\"url\\": \\"https://techcrunch.com/2025/12/09/three-in-ten-u-s-teens-use-ai-chatbots-every-day-but-safety-concerns-are-growing/\\",\\n    \\"topic\\": \\"AI\\",\\n    \\"tone\\": \\"negative\\",\\n    \\"category\\": \\"Other\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Why Cursors CEO believes OpenAI, Anthropic competition wont crush his startup\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 20:59:21 +0000\\",\\n    \\"source\\": \\"TechCrunch\\",\\n    \\"content\\": \\"After reaching $1 billion in annualized revenue, Anysphere CEO Michael Truell explained the features his company is focused on building out.\\",\\n    \\"url\\": \\"https://techcrunch.com/2025/12/09/why-cursors-ceo-believes-openai-anthropic-competition-wont-crush-his-startup/\\",\\n    \\"topic\\": \\"AI\\",\\n    \\"tone\\": \\"positive\\",\\n    \\"category\\": \\"Opinion\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"B Capital founding partner Kabir Narang leaves to launch new investment platform\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 21:13:19 +0000\\",\\n    \\"source\\": \\"TechCrunch\\",\\n    \\"content\\": \\"Kabir Narang is laying the groundwork for a new investment platform slated for 2026 that will focus on \\\\\\"compounding at the intersection of technology, AI, and global capital flows.\\\\\\" \\",\\n    \\"url\\": \\"https://techcrunch.com/2025/12/09/b-capital-founding-partner-kabir-narang-leaves-to-launch-new-investment-platform/\\",\\n    \\"topic\\": \\"AI\\",\\n    \\"tone\\": \\"neutral\\",\\n    \\"category\\": \\"Other\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Slack CEO Denise Dresser to join OpenAI as chief revenue officer\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 19:41:40 +0000\\",\\n    \\"source\\": \\"TechCrunch\\",\\n    \\"content\\": \\"OpenAI says that Dresser will be responsible for the company's revenue strategy in enterprise and customer success. \\",\\n    \\"url\\": \\"https://techcrunch.com/2025/12/09/slack-ceo-denise-dresser-to-join-openai-as-chief-revenue-officer/\\",\\n    \\"topic\\": \\"AI\\",\\n    \\"tone\\": \\"neutral\\",\\n    \\"category\\": \\"Other\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Ford and Renault team up on cheaper EVs in a fight for our lives\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 18:01:43 +0000\\",\\n    \\"source\\": \\"TechCrunch\\",\\n    \\"content\\": \\"The automakers will work together to bring two Ford-branded EVs to European dealerships in 2028. \\",\\n    \\"url\\": \\"https://techcrunch.com/2025/12/09/ford-and-renault-team-up-on-cheaper-evs-in-a-fight-for-our-lives/\\",\\n    \\"topic\\": \\"Other\\",\\n    \\"tone\\": \\"positive\\",\\n    \\"category\\": \\"Product Launch\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Amazons Ring rolls out controversial, AI-powered facial-recognition feature to video doorbells\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 19:04:08 +0000\\",\\n    \\"source\\": \\"TechCrunch\\",\\n    \\"content\\": \\"The feature lets you identify the people who regularly come to your door by creating a catalog of up to 50 faces. The company says the Ring feature is opt in and the biometric data isn't used to train AI models. \\",\\n    \\"url\\": \\"https://techcrunch.com/2025/12/09/amazons-ring-rolls-out-controversial-ai-powered-facial-recognition-feature-to-video-doorbells/\\",\\n    \\"topic\\": \\"AI\\",\\n    \\"tone\\": \\"neutral\\",\\n    \\"category\\": \\"Product Launch\\"\\n  }\\n}\\n```","```json\\n{\\"output\\":{\\"title\\":\\"Boom Supersonic raises $300M to build natural gas turbines for Crusoe data centers\\",\\"date\\":\\"Tue, 09 Dec 2025 19:17:41 +0000\\",\\"source\\":\\"TechCrunch\\",\\"content\\":\\"Crusoe will pay Boom $1.25 billion for more than a gigawatt of generating capacity with deliveries of the turbines starting in 2027.\\",\\"url\\":\\"https://techcrunch.com/2025/12/09/boom-supersonic-raises-300m-to-build-natural-gas-turbines-for-crusoe-data-centers/\\",\\"topic\\":\\"Other\\",\\"tone\\":\\"positive\\",\\"category\\":\\"Funding\\"}}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Truecaller now lets users protect households from scam calls\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 18:46:11 +0000\\",\\n    \\"source\\": \\"TechCrunch\\",\\n    \\"content\\": \\"Truecaller's Family Protection will be rolled out widely in the first quarter of 2026. The new feature lets up to five people join a family group overseen by one member who acts as the administrator and manages scam-blocking settings for the others.\\",\\n    \\"url\\": \\"https://techcrunch.com/2025/12/09/truecaller-now-lets-users-protect-households-from-scam-calls/\\",\\n    \\"topic\\": \\"Cybersecurity\\",\\n    \\"tone\\": \\"positive\\",\\n    \\"category\\": \\"Product Launch\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Fairphone refreshes its good-looking, repairable headphones\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 17:08:14 +0000\\",\\n    \\"source\\": \\"TechCrunch\\",\\n    \\"content\\": \\"Fairphone updates its repairable over-the-ear headphones with new drivers.\\",\\n    \\"url\\": \\"https://techcrunch.com/2025/12/09/fairphone-refreshes-its-good-looking-repairable-headphones/\\",\\n    \\"topic\\": \\"Other\\",\\n    \\"tone\\": \\"positive\\",\\n    \\"category\\": \\"Product Launch\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Facebook redesign focuses on friends, photos, Marketplace, and more\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 17:00:00 +0000\\",\\n    \\"source\\": \\"TechCrunch\\",\\n    \\"content\\": \\"Meta's Facebook redesign elevates Marketplace, refreshes profiles, and aims to win back Gen Z users.\\",\\n    \\"url\\": \\"https://techcrunch.com/2025/12/09/facebook-redesign-focuses-on-friends-photos-marketplace-and-more/\\",\\n    \\"topic\\": \\"Big Tech\\",\\n    \\"tone\\": \\"positive\\",\\n    \\"category\\": \\"Product Launch\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"NASA and USPS stop using Canoo EVs despite CEOs pledged support\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 17:42:28 +0000\\",\\n    \\"source\\": \\"TechCrunch\\",\\n    \\"content\\": \\"Canoo's CEO bought the bankrupt startup's assets in April and told the court his \\\\\\"principal motivation\\\\\\" was supporting these programs.\\",\\n    \\"url\\": \\"https://techcrunch.com/2025/12/09/nasa-and-usps-stop-using-canoo-evs-despite-ceos-pledged-support/\\",\\n    \\"topic\\": \\"Other\\",\\n    \\"tone\\": \\"negative\\",\\n    \\"category\\": \\"Market Report\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"OpenAI, Anthropic, and Block join new Linux Foundation effort to standardize the AI agent era\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 17:28:36 +0000\\",\\n    \\"source\\": \\"TechCrunch\\",\\n    \\"content\\": \\"Anthropic, Block, and OpenAI  are backing the Linux Foundations new Agentic AI Foundation, donating MCP, Goose, and AGENTS.md to standardize AI agents, boost interoperability, and curb proprietary fragmentation.\\",\\n    \\"url\\": \\"https://techcrunch.com/2025/12/09/openai-anthropic-and-block-join-new-linux-foundation-effort-to-standardize-the-ai-agent-era/\\",\\n    \\"topic\\": \\"AI\\",\\n    \\"tone\\": \\"positive\\",\\n    \\"category\\": \\"Other\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Google Photos launches new video editing tools\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 18:00:00 +0000\\",\\n    \\"source\\": \\"TechCrunch\\",\\n    \\"content\\": \\"Google Photos' new update helps make editing video reels in the app quicker, such as new templates that already add music and text to clips. \\",\\n    \\"url\\": \\"https://techcrunch.com/2025/12/09/google-photos-launches-new-video-editing-tools/\\",\\n    \\"topic\\": \\"Big Tech\\",\\n    \\"tone\\": \\"positive\\",\\n    \\"category\\": \\"Product Launch\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"UK watchdog bans social media ads promising ADHD and autism treatment\\",\\n    \\"date\\": \\"Wed, 10 Dec 2025 00:01:00 GMT\\",\\n    \\"source\\": \\"FT Tech\\",\\n    \\"content\\": \\"Advertising Standards Authority issues enforcement notices related to 11 different supplements and tests\\",\\n    \\"url\\": \\"https://www.ft.com/content/7511f62d-f888-4c60-954f-c931cacacafa\\",\\n    \\"topic\\": \\"Other\\",\\n    \\"tone\\": \\"negative\\",\\n    \\"category\\": \\"Regulation\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"China adds domestic AI chips to official procurement list for first time\\",\\n    \\"date\\": \\"Wed, 10 Dec 2025 01:15:01 GMT\\",\\n    \\"source\\": \\"FT Tech\\",\\n    \\"content\\": \\"Beijing encouraged purchase of Huawei and Cambricon processors before Trumps move to allow Nvidia exports\\",\\n    \\"url\\": \\"https://www.ft.com/content/83c6521e-fe42-49e2-a9fe-eda97168b316\\",\\n    \\"topic\\": \\"AI\\",\\n    \\"tone\\": \\"neutral\\",\\n    \\"category\\": \\"Regulation\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"China set to limit access to Nvidias H200 chips despite Trump export approval\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 15:39:14 GMT\\",\\n    \\"source\\": \\"FT Tech\\",\\n    \\"content\\": \\"Discussions among regulators come as Beijing seeks to achieve self-sufficiency in semiconductor production\\",\\n    \\"url\\": \\"https://www.ft.com/content/c4e81a67-cd5b-48b4-9749-92ecf116313d\\",\\n    \\"topic\\": \\"Big Tech\\",\\n    \\"tone\\": \\"neutral\\",\\n    \\"category\\": \\"Regulation\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"FirstFT: China plans to limit access to Nvidias H200 chips despite Trump export approval\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 21:35:10 GMT\\",\\n    \\"source\\": \\"FT Tech\\",\\n    \\"content\\": \\"Also in todays newsletter: Trump to kick off final round of Fed chair interviews, and BoJ governor says economy has weathered US tariffs\\",\\n    \\"url\\": \\"https://www.ft.com/content/f072335b-d750-49c3-8bbf-69055c3d7e75\\",\\n    \\"topic\\": \\"AI\\",\\n    \\"tone\\": \\"neutral\\",\\n    \\"category\\": \\"Regulation\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Is it a bubble?\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 15:00:07 GMT\\",\\n    \\"source\\": \\"FT Tech\\",\\n    \\"content\\": \\"Given that the growth of demand for AI is so unpredictable, there can be no doubt investor behaviour is speculative\\",\\n    \\"url\\": \\"https://www.ft.com/content/353eda37-33b0-4d30-a912-a07607e278b8\\",\\n    \\"topic\\": \\"AI\\",\\n    \\"tone\\": \\"neutral\\",\\n    \\"category\\": \\"Opinion\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Trump is choosing the broligarchs over his base\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 12:06:55 GMT\\",\\n    \\"source\\": \\"FT Tech\\",\\n    \\"content\\": \\"When historians assess this age of American populism, Silicon Valleys plutocrats will surely be judged its winners\\",\\n    \\"url\\": \\"https://www.ft.com/content/8a2c87eb-dcab-43fb-9c26-5625aa93f3f9\\",\\n    \\"topic\\": \\"Big Tech\\",\\n    \\"tone\\": \\"negative\\",\\n    \\"category\\": \\"Opinion\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Trump decides to let Nvidia export powerful H200 chips to China\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 14:00:08 GMT\\",\\n    \\"source\\": \\"FT Tech\\",\\n    \\"content\\": \\"Also in todays newsletter, the US warns the EU to be very careful after it fined Elon Musks X\\",\\n    \\"url\\": \\"https://www.ft.com/content/3a1f9360-3466-43f1-92a3-0c3647a8e15a\\",\\n    \\"topic\\": \\"Blockchain\\",\\n    \\"tone\\": \\"neutral\\",\\n    \\"category\\": \\"Regulation\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Nvidia can sell H200 AI chips to China, Trump says\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 14:27:27 GMT\\",\\n    \\"source\\": \\"FT Tech\\",\\n    \\"content\\": \\"President says other chipmakers can also resume exports and 25% will be paid to the US\\",\\n    \\"url\\": \\"https://www.ft.com/content/ac63139d-5143-4aed-a1e4-980a06551b51\\",\\n    \\"topic\\": \\"AI\\",\\n    \\"tone\\": \\"neutral\\",\\n    \\"category\\": \\"Regulation\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Nothing wants to make a dent in Apples universe\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 05:00:31 GMT\\",\\n    \\"source\\": \\"FT Tech\\",\\n    \\"content\\": \\"A London-based smartphone maker valued at $1.3bn is slowly building a global brand  \\",\\n    \\"url\\": \\"https://www.ft.com/content/5ea14dc8-c9ea-42e7-9639-7c4a9b655b94\\",\\n    \\"topic\\": \\"Big Tech\\",\\n    \\"tone\\": \\"neutral\\",\\n    \\"category\\": \\"Market Report\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"EU opens probe into Googles use of online content for AI models\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 09:35:40 GMT\\",\\n    \\"source\\": \\"FT Tech\\",\\n    \\"content\\": \\"Investigation is blocs latest challenge to US big tech companies\\",\\n    \\"url\\": \\"https://www.ft.com/content/598aee7c-0b8b-4777-bea2-4ef121dc8197\\",\\n    \\"topic\\": \\"AI\\",\\n    \\"tone\\": \\"neutral\\",\\n    \\"category\\": \\"Regulation\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"AI turbocharges litigation powers\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 05:00:10 GMT\\",\\n    \\"source\\": \\"FT Tech\\",\\n    \\"content\\": \\"Artificial intelligenceis transforming legal work, but accuracy is seen as the greatest risk\\",\\n    \\"url\\": \\"https://www.ft.com/content/423e9bc4-227d-4bd4-87de-401132eb415a\\",\\n    \\"topic\\": \\"AI\\",\\n    \\"tone\\": \\"neutral\\",\\n    \\"category\\": \\"Other\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Data centre boom sparks deals rush \\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 05:00:10 GMT\\",\\n    \\"source\\": \\"FT Tech\\",\\n    \\"content\\": \\"Frenetic hyperscaler activity in US demands extensive legal support\\",\\n    \\"url\\": \\"https://www.ft.com/content/42f3dec5-b8dc-49a2-aa5c-0e62ab529173\\",\\n    \\"topic\\": \\"Big Tech\\",\\n    \\"tone\\": \\"neutral\\",\\n    \\"category\\": \\"Market Report\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Intrapreneurs: the hard yards that transform legal services  \\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 05:00:23 GMT\\",\\n    \\"source\\": \\"FT Tech\\",\\n    \\"content\\": \\"Work that turns pioneering ideas and tools into breakthroughs\\",\\n    \\"url\\": \\"https://www.ft.com/content/4d0a9055-e2ab-467a-9b2b-a06989165b73\\",\\n    \\"topic\\": \\"Other\\",\\n    \\"tone\\": \\"positive\\",\\n    \\"category\\": \\"Other\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Chinas open-source AI is a national advantage\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 01:00:06 GMT\\",\\n    \\"source\\": \\"FT Tech\\",\\n    \\"content\\": \\"The models are akin to studying together to ace a test instead of relying on individual knowledge\\",\\n    \\"url\\": \\"https://www.ft.com/content/b1f92b0e-d6ef-4c95-b51e-7bcf90c8a65f\\",\\n    \\"topic\\": \\"AI\\",\\n    \\"tone\\": \\"positive\\",\\n    \\"category\\": \\"Other\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"In-house legal teams test AI for automating more tasks\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 05:00:23 GMT\\",\\n    \\"source\\": \\"FT Tech\\",\\n    \\"content\\": \\"Companies hope the technology will take on work usually sent to law firms. Plus: the top innovative in-house teams, North America 2025; and six case studies of corporate lawyers innovations\\",\\n    \\"url\\": \\"https://www.ft.com/content/e5114ad0-66ca-4a12-a2fa-7c5944fbcf99\\",\\n    \\"topic\\": \\"AI\\",\\n    \\"tone\\": \\"positive\\",\\n    \\"category\\": \\"Other\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"The Netflix age has been great for consumers but terrible for artists\\",\\n    \\"date\\": \\"Mon, 08 Dec 2025 17:21:59 GMT\\",\\n    \\"source\\": \\"FT Tech\\",\\n    \\"content\\": \\"Returns to musicians and writers are dwindling fast\\",\\n    \\"url\\": \\"https://www.ft.com/content/b49cd2de-f95d-47d3-bba0-cdb619176a84\\",\\n    \\"topic\\": \\"Other\\",\\n    \\"tone\\": \\"negative\\",\\n    \\"category\\": \\"Opinion\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Paramount gatecrashes Warner Bros-Netflix deal \\",\\n    \\"date\\": \\"Mon, 08 Dec 2025 20:55:52 GMT\\",\\n    \\"source\\": \\"FT Tech\\",\\n    \\"content\\": \\"Jared Kushner and Middle East funds assist with all-cash offer\\",\\n    \\"url\\": \\"https://www.ft.com/content/7981af0e-ad93-4c11-8c1c-09b0167bf4d6\\",\\n    \\"topic\\": \\"Other\\",\\n    \\"tone\\": \\"neutral\\",\\n    \\"category\\": \\"Market Report\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Inside Paramounts $108bn hostile bid for Warner Bros \\",\\n    \\"date\\": \\"Mon, 08 Dec 2025 21:13:51 GMT\\",\\n    \\"source\\": \\"FT Tech\\",\\n    \\"content\\": \\"Ellisons approach was rebuffed over concerns about financial backing from China and Middle East sovereign funds \\",\\n    \\"url\\": \\"https://www.ft.com/content/e5da7064-3a46-4bab-9a6c-12ae03eead16\\",\\n    \\"topic\\": \\"Big Tech\\",\\n    \\"tone\\": \\"neutral\\",\\n    \\"category\\": \\"Market Report\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"IBM extends AI push with $11bn takeover of Confluent\\",\\n    \\"date\\": \\"Mon, 08 Dec 2025 20:20:36 GMT\\",\\n    \\"source\\": \\"FT Tech\\",\\n    \\"content\\": \\"Chief says deal with data streaming platform will allow company to deploy generative artificial intelligence faster\\",\\n    \\"url\\": \\"https://www.ft.com/content/8112d77f-2531-400f-b947-b506fe3c6b3f\\",\\n    \\"topic\\": \\"AI\\",\\n    \\"tone\\": \\"positive\\",\\n    \\"category\\": \\"Market Report\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"The countdown to the worlds first social media ban for children\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 00:25:29 GMT\\",\\n    \\"source\\": \\"FT Tech\\",\\n    \\"content\\": \\"Under-16s will no longer be able to subscribe to popular apps under groundbreaking Australian law\\",\\n    \\"url\\": \\"https://www.ft.com/content/e93ab2b2-868f-441f-bbec-0af4fa3edeb5\\",\\n    \\"topic\\": \\"Other\\",\\n    \\"tone\\": \\"neutral\\",\\n    \\"category\\": \\"Regulation\\"\\n  }\\n}\\n```","```json\\n{\\"output\\":{\\"title\\":\\"The State of AI: life in 2030 \\",\\"date\\":\\"Mon, 08 Dec 2025 17:00:05 GMT\\",\\"source\\":\\"FT Tech\\",\\"content\\":\\"Expect a world of robots, robotaxis and AI haves and have-nots \\",\\"url\\":\\"https://www.ft.com/content/5bff1202-b2ce-439a-8687-8f8b919c683e\\",\\"topic\\":\\"AI\\",\\"tone\\":\\"neutral\\",\\"category\\":\\"Opinion\\"}}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Trump to issue executive order for single federal rule on AI regulation\\",\\n    \\"date\\": \\"Mon, 08 Dec 2025 14:03:51 GMT\\",\\n    \\"source\\": \\"FT Tech\\",\\n    \\"content\\": \\"Move to prevent individual US states from regulating tech groups opposed by some Republican senators\\",\\n    \\"url\\": \\"https://www.ft.com/content/47d54ca4-2ea3-4519-b860-e466ee7802b6\\",\\n    \\"topic\\": \\"AI\\",\\n    \\"tone\\": \\"neutral\\",\\n    \\"category\\": \\"Regulation\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"App delivery drivers battle dynamic wages and uncertain finances\\",\\n    \\"date\\": \\"Mon, 08 Dec 2025 12:32:45 GMT\\",\\n    \\"source\\": \\"FT Tech\\",\\n    \\"content\\": \\"Algorithmic pay systems test gig workers personal finance survival skills\\",\\n    \\"url\\": \\"https://www.ft.com/content/df480a7b-01c7-4507-b9a9-68d47fa008f0\\",\\n    \\"topic\\": \\"AI\\",\\n    \\"tone\\": \\"negative\\",\\n    \\"category\\": \\"Other\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Googles TPU chip puts OpenAI on alert and shakes Nvidia investors\\",\\n    \\"date\\": \\"Mon, 08 Dec 2025 14:07:10 GMT\\",\\n    \\"source\\": \\"FT Tech\\",\\n    \\"content\\": \\"AI advances made through groups custom processor hit Nvidias stock and prompt ChatGPT maker to declare code red \\",\\n    \\"url\\": \\"https://www.ft.com/content/d8585870-17a5-43a0-95ef-cbebb1995107\\",\\n    \\"topic\\": \\"AI\\",\\n    \\"tone\\": \\"negative\\",\\n    \\"category\\": \\"Market Report\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Meta offers EU users ad-light option in push to end investigation\\",\\n    \\"date\\": \\"Mon, 08 Dec 2025 12:24:38 GMT\\",\\n    \\"source\\": \\"FT Tech\\",\\n    \\"content\\": \\"Facebook agrees changes to pay or consent model after talks with European Commission\\",\\n    \\"url\\": \\"https://www.ft.com/content/39b9d90c-0629-4dfc-8a2b-c52f1f503f38\\",\\n    \\"topic\\": \\"Big Tech\\",\\n    \\"tone\\": \\"neutral\\",\\n    \\"category\\": \\"Regulation\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"XRP Underperforms Market as Sudden Bitcoin Surge Forces $387M of Liquidations\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 19:36:41 +0000\\",\\n    \\"source\\": \\"CoinDesk\\",\\n    \\"content\\": \\"XRP's technical outlook remains uncertain, with support at $2.05 and resistance at $2.17, as traders watch for volume expansion\\",\\n    \\"url\\": \\"https://www.coindesk.com/markets/2025/12/10/xrp-underperforms-market-as-sudden-bitcoin-surge-ends-up-in-usd387m-liquidations\\",\\n    \\"topic\\": \\"Blockchain\\",\\n    \\"tone\\": \\"neutral\\",\\n    \\"category\\": \\"Market Report\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Dogecoin Surges as Ether Zooms 8%, Sparking Bullish Reversal For Memecoins\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 19:27:47 +0000\\",\\n    \\"source\\": \\"CoinDesk\\",\\n    \\"content\\": \\"The breakout now sets up a clean continuation zoneprovided bulls defend the mid-range pivot they just reclaimed.\\",\\n    \\"url\\": \\"https://www.coindesk.com/markets/2025/12/10/dogecoin-surges-as-ether-zooms-8-sparking-bullish-reversal-for-memecoins\\",\\n    \\"topic\\": \\"Blockchain\\",\\n    \\"tone\\": \\"positive\\",\\n    \\"category\\": \\"Market Report\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Bitcoin Holds Near $92K as Selling Cools, but Demand Still Lags\\",\\n    \\"date\\": \\"Wed, 10 Dec 2025 02:12:50 +0000\\",\\n    \\"source\\": \\"CoinDesk\\",\\n    \\"content\\": \\"ETF inflows have finally turned positive, but weak on-chain activity, defensive derivatives positioning, and negative spot CVD show a market stabilizing without the conviction needed for a sustained move higher.\\\\n\\",\\n    \\"url\\": \\"https://www.coindesk.com/markets/2025/12/10/bitcoin-holds-near-usd92k-as-selling-cools-but-demand-still-lags\\",\\n    \\"topic\\": \\"Blockchain\\",\\n    \\"tone\\": \\"neutral\\",\\n    \\"category\\": \\"Market Report\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Key U.S. Senator on Crypto Bill, Lummis, Negotiating Dicey Points With White House\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 23:46:56 +0000\\",\\n    \\"source\\": \\"CoinDesk\\",\\n    \\"content\\": \\"The Republican lawmaker who is among the core negotiators on the U.S. market structure bill said the White House has rejected some ethics language. \\",\\n    \\"url\\": \\"https://www.coindesk.com/policy/2025/12/09/key-u-s-senator-on-crypto-bill-lummis-negotiating-dicey-points-with-white-house\\",\\n    \\"topic\\": \\"Blockchain\\",\\n    \\"tone\\": \\"neutral\\",\\n    \\"category\\": \\"Regulation\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Proposed AfterDark Bitcoin ETF Would Skip U.S. Trading Hours\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 20:57:44 +0000\\",\\n    \\"source\\": \\"CoinDesk\\",\\n    \\"content\\": \\"The fund would hold bitcoin only overnight, betting on data showing bitcon gains mostly occur outside regular market hours.\\",\\n    \\"url\\": \\"https://www.coindesk.com/markets/2025/12/09/nicholas-proposes-afterdark-bitcoin-etf-that-skips-u-s-trading-hours\\",\\n    \\"topic\\": \\"Blockchain\\",\\n    \\"tone\\": \\"neutral\\",\\n    \\"category\\": \\"Product Launch\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"SEC Approves U.S. Second Crypto Index ETP with Bitwises BITW\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 17:20:14 +0000\\",\\n    \\"source\\": \\"CoinDesk\\",\\n    \\"content\\": \\"The Bitwise 10 Crypto Index Fund now trades on NYSE Arca, joining the ranks of gold and oil funds in regulated exchange products.\\",\\n    \\"url\\": \\"https://www.coindesk.com/policy/2025/12/09/sec-approves-u-s-second-crypto-index-etp-with-bitwise-s-bitw\\",\\n    \\"topic\\": \\"Blockchain\\",\\n    \\"tone\\": \\"positive\\",\\n    \\"category\\": \\"Regulation\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Aptos Rises 8% After Breaking Through $1.80 Resistance\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 18:50:32 +0000\\",\\n    \\"source\\": \\"CoinDesk\\",\\n    \\"content\\": \\"Strong volume and technical momentum distinguished APT's gains from the broader market action.\\",\\n    \\"url\\": \\"https://www.coindesk.com/markets/2025/12/09/aptos-rises-8-after-breaking-through-usd1-80-resistance\\",\\n    \\"topic\\": \\"Blockchain\\",\\n    \\"tone\\": \\"positive\\",\\n    \\"category\\": \\"Market Report\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Ether Surges 8%, Outpacing Bitcoin Gains Amid Staking ETF, Tokenization Optimism\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 18:47:33 +0000\\",\\n    \\"source\\": \\"CoinDesk\\",\\n    \\"content\\": \\"BlackRock's filing for a staking ether ETF earlier this week has contributed to ETH's relative strength to bitcoin, one market strategist noted.\\",\\n    \\"url\\": \\"https://www.coindesk.com/markets/2025/12/09/ether-surges-8-outpacing-bitcoin-gains-amid-staking-etf-tokenization-optimism\\",\\n    \\"topic\\": \\"Blockchain\\",\\n    \\"tone\\": \\"positive\\",\\n    \\"category\\": \\"Market Report\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Cascade Unveils 24/7 Neo-Brokerage Offering Perpetuals on Cryptos, U.S. Stocks \\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 17:00:00 +0000\\",\\n    \\"source\\": \\"CoinDesk\\",\\n    \\"content\\": \\"The platform will let retail traders use one margin account to trade round-the-clock perpetual markets.\\",\\n    \\"url\\": \\"https://www.coindesk.com/business/2025/12/09/cascade-unveils-247-neo-brokerage-offering-perpetuals-on-cryptos-us-stocks\\",\\n    \\"topic\\": \\"Blockchain\\",\\n    \\"tone\\": \\"positive\\",\\n    \\"category\\": \\"Product Launch\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Michael Saylor Urges Middle East to Become the 'Switzerland of Bitcoin Banking'\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 17:01:24 +0000\\",\\n    \\"source\\": \\"CoinDesk\\",\\n    \\"content\\": \\"The executive chairman of Strategy pitched BTC-backed banking and yield products as a $200 trillion opportunity at the Bitcoin MENA conference.\\",\\n    \\"url\\": \\"https://www.coindesk.com/markets/2025/12/09/saylor-jpm-citi-and-schwab-are-starting-issue-credit-lines-backed-by-bitcoin\\",\\n    \\"topic\\": \\"Blockchain\\",\\n    \\"tone\\": \\"positive\\",\\n    \\"category\\": \\"Other\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Stripe-Backed Blockchain Tempo Starts Testnet; Kalshi, Mastercard, UBS Added as Partners\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 15:49:04 +0000\\",\\n    \\"source\\": \\"CoinDesk\\",\\n    \\"content\\": \\"Tempo, built by Stripe and Paradigm, has started testing payment-focused blockchain and has onboard a slew of institutional partners.\\",\\n    \\"url\\": \\"https://www.coindesk.com/tech/2025/12/09/stripe-backed-blockchain-tempo-starts-testnet-kalshi-mastercard-ubs-added-as-partners\\",\\n    \\"topic\\": \\"Blockchain\\",\\n    \\"tone\\": \\"positive\\",\\n    \\"category\\": \\"Product Launch\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Will the ETF Era Usher in the End of Crypto Tribalism?\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 15:26:18 +0000\\",\\n    \\"source\\": \\"CoinDesk\\",\\n    \\"content\\": \\"There was once a time when you picked a side  the token you were excited about. But crypto has become one of the fastest-growing asset classes of the last decade. Soon, it seems, youll just pick an allocation. But will that take the fun out of crypto?\\",\\n    \\"url\\": \\"https://www.coindesk.com/coindesk-indices/2025/12/09/will-the-etf-era-usher-in-the-end-of-crypto-tribalism\\",\\n    \\"topic\\": \\"Blockchain\\",\\n    \\"tone\\": \\"neutral\\",\\n    \\"category\\": \\"Opinion\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Bitcoin Surges to $94K One Day Ahead of Expected Fed Rate Cut\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 16:47:56 +0000\\",\\n    \\"source\\": \\"CoinDesk\\",\\n    \\"content\\": \\"The change from what's become typical bearish U.S. session action could signal seller exhaustion.\\",\\n    \\"url\\": \\"https://www.coindesk.com/markets/2025/12/09/bitcoin-surges-to-usd94k-one-day-ahead-of-expected-fed-rate-cut\\",\\n    \\"topic\\": \\"Blockchain\\",\\n    \\"tone\\": \\"positive\\",\\n    \\"category\\": \\"Market Report\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Do Kwon Judge Demands Answers Before Sentencing Over Assurance Hell Serve Time\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 15:48:15 +0000\\",\\n    \\"source\\": \\"CoinDesk\\",\\n    \\"content\\": \\"Judge asked whether Kwon might be freed abroad and asked for details on victims, time-served credit and unresolved charges ahead of sentencing.\\",\\n    \\"url\\": \\"https://www.coindesk.com/policy/2025/12/09/do-kwon-judge-demands-answers-before-sentencing-over-assurance-he-ll-serve-time\\",\\n    \\"topic\\": \\"Blockchain\\",\\n    \\"tone\\": \\"neutral\\",\\n    \\"category\\": \\"Regulation\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Bitcoin Treasury Company Twenty One Drops 25% in NYSE Debut, Trades Near PIPE Pricing of $10\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 15:30:12 +0000\\",\\n    \\"source\\": \\"CoinDesk\\",\\n    \\"content\\": \\"The company is led by Strike CEO Jack Mallers and began trading under the XXI ticker today following its SPAC merger with Cantor Equity Partners.\\",\\n    \\"url\\": \\"https://www.coindesk.com/markets/2025/12/09/bitcoin-treasury-company-twenty-one-drops-25-in-nyse-debut-trades-near-pipe-pricing-of-usd10\\",\\n    \\"topic\\": \\"Blockchain\\",\\n    \\"tone\\": \\"negative\\",\\n    \\"category\\": \\"Market Report\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Most Influential: Cameron and Tyler Winklevoss \\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 15:00:00 +0000\\",\\n    \\"source\\": \\"CoinDesk\\",\\n    \\"content\\": \\"The U.S. Presidents choice to run the CFTC seemed set to sail through Congress, until Tyler and Cameron Winklevoss stepped in.\\",\\n    \\"url\\": \\"https://www.coindesk.com/policy/2025/12/09/most-influential-cameron-and-tyler-winklevoss\\",\\n    \\"topic\\": \\"Blockchain\\",\\n    \\"tone\\": \\"neutral\\",\\n    \\"category\\": \\"Regulation\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Most Influential: Bo Hines\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 15:00:00 +0000\\",\\n    \\"source\\": \\"CoinDesk\\",\\n    \\"content\\": \\"President Donald Trump tapped a former college football player to run offense on his digital assets agenda.\\",\\n    \\"url\\": \\"https://www.coindesk.com/policy/2025/12/09/most-influential-bo-hines\\",\\n    \\"topic\\": \\"Blockchain\\",\\n    \\"tone\\": \\"neutral\\",\\n    \\"category\\": \\"Other\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Most Influential: Paolo Ardoino\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 15:00:00 +0000\\",\\n    \\"source\\": \\"CoinDesk\\",\\n    \\"content\\": \\"The CEO of Tether is turning the stablecoin into a global financial force.\\",\\n    \\"url\\": \\"https://www.coindesk.com/business/2025/12/09/most-influential-paolo-ardoino\\",\\n    \\"topic\\": \\"Blockchain\\",\\n    \\"tone\\": \\"positive\\",\\n    \\"category\\": \\"Other\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Most Influential: Don Jr., Eric and Barron Trump\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 15:00:00 +0000\\",\\n    \\"source\\": \\"CoinDesk\\",\\n    \\"content\\": \\"The sons of U.S. President Donald Trump have capitalized on their family name and cryptos political momentum, carving out a profitable niche for themselves in the booming industry. \\",\\n    \\"url\\": \\"https://www.coindesk.com/policy/2025/12/09/most-influential-don-jr-eric-and-barron-trump\\",\\n    \\"topic\\": \\"Blockchain\\",\\n    \\"tone\\": \\"neutral\\",\\n    \\"category\\": \\"Market Report\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Most Influential: Brandon and Howard Lutnick\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 15:00:00 +0000\\",\\n    \\"source\\": \\"CoinDesk\\",\\n    \\"content\\": \\"The world's biggest stablecoin issuer struggled to maintain banking relationships for a few years and faced accusations it wasn't fully backing its circulating tokens  then one of the world's biggest financial firms, Cantor Fitzgerald, became its custodian. \\",\\n    \\"url\\": \\"https://www.coindesk.com/business/2025/12/09/most-influential-brandon-and-howard-lutnick\\",\\n    \\"topic\\": \\"Blockchain\\",\\n    \\"tone\\": \\"neutral\\",\\n    \\"category\\": \\"Market Report\\"\\n  }\\n}\\n```","```json\\n{\\"output\\":{\\"title\\":\\"PNC Bank Rolls Out Spot Bitcoin Access for Private Clients After 2025 Reveal\\",\\"date\\":\\"Tue, 09 Dec 2025 14:07:54 +0000\\",\\"source\\":\\"CoinDesk\\",\\"content\\":\\"The Coinbase-backed feature, first announced in July, lets PNC clients buy, sell and hold bitcoin directly in their digital banking accounts.\\",\\"url\\":\\"https://www.coindesk.com/business/2025/12/09/pnc-bank-rolls-out-spot-bitcoin-access-for-private-clients-after-2025-reveal\\",\\"topic\\":\\"Blockchain\\",\\"tone\\":\\"positive\\",\\"category\\":\\"Product Launch\\"}}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"TON Token Yearly Loss Nears 72%, but Potential Reversal Signs Emerge\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 14:49:32 +0000\\",\\n    \\"source\\": \\"CoinDesk\\",\\n    \\"content\\": \\"The token's price found support at $1.6025, which held firm despite initial selling pressure, and has since shown signs of a potential reversal.\\",\\n    \\"url\\": \\"https://www.coindesk.com/markets/2025/12/09/ton-token-yearly-loss-nears-72-but-potential-reversal-signs-emerge\\",\\n    \\"topic\\": \\"Blockchain\\",\\n    \\"tone\\": \\"neutral\\",\\n    \\"category\\": \\"Market Report\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"CoinDesk 20 Performance Update: Uniswap (UNI) Falls 1.6% as Index Trades Lower  \\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 14:24:41 +0000\\",\\n    \\"source\\": \\"CoinDesk\\",\\n    \\"content\\": \\"Aave (AAVE) was also among the underperformers, declining 1.2% from Monday.\\",\\n    \\"url\\": \\"https://www.coindesk.com/coindesk-indices/2025/12/09/coindesk-20-performance-update-uniswap-uni-falls-1-6-as-index-trades-lower\\",\\n    \\"topic\\": \\"Blockchain\\",\\n    \\"tone\\": \\"negative\\",\\n    \\"category\\": \\"Market Report\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"Regulatory Battle Over Tokenized U.S. Stocks Escalates, HSBC Says\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 14:51:00 +0000\\",\\n    \\"source\\": \\"CoinDesk\\",\\n    \\"content\\": \\"Citadel Securities has urged the SEC to treat decentralized finance trading venues like traditional exchanges,  a stance facing opposition from the crypto industry.\\",\\n    \\"url\\": \\"https://www.coindesk.com/policy/2025/12/09/regulatory-battle-over-tokenized-us-stocks-escalates-hsbc-says\\",\\n    \\"topic\\": \\"Blockchain\\",\\n    \\"tone\\": \\"neutral\\",\\n    \\"category\\": \\"Regulation\\"\\n  }\\n}\\n```","```json\\n{\\n  \\"output\\": {\\n    \\"title\\": \\"A16z-Backed Daylight Brings Electricity Markets Onchain With New DeFi Protocol\\",\\n    \\"date\\": \\"Tue, 09 Dec 2025 14:09:51 +0000\\",\\n    \\"source\\": \\"CoinDesk\\",\\n    \\"content\\": \\"The DayFi protocol aims to turn electricity cash flows into a crypto-native yield product, bridging capital to new solar power installations.\\",\\n    \\"url\\": \\"https://www.coindesk.com/business/2025/12/08/a16z-backed-daylight-brings-electricity-markets-onchain-with-new-defi-protocol\\",\\n    \\"topic\\": \\"Blockchain\\",\\n    \\"tone\\": \\"positive\\",\\n    \\"category\\": \\"Product Launch\\"\\n  }\\n}\\n```",{"title":"3254","url":"3255","date":"3256","source":"3257","content":"3258","topic":"3758","tone":"3759","category":"3760"},{"title":"3259","url":"3260","date":"3261","source":"3257","content":"3262","topic":"3758","tone":"3762","category":"3763"},{"title":"3263","url":"3264","date":"3265","source":"3257","content":"3266","topic":"3758","tone":"3762","category":"3765"},{"title":"3267","url":"3268","date":"3269","source":"3257","content":"3270","topic":"3767","tone":"3762","category":"3763"},{"title":"3271","url":"3272","date":"3273","source":"3257","content":"3274","topic":"3758","tone":"3762","category":"3765"},{"title":"3275","url":"3276","date":"3277","source":"3257","content":"3278","topic":"3767","tone":"3759","category":"3770"},{"title":"3279","url":"3280","date":"3281","source":"3257","content":"3282","topic":"3758","tone":"3759","category":"3767"},{"title":"3283","url":"3284","date":"3285","source":"3257","content":"3286","topic":"3758","tone":"3762","category":"3760"},{"title":"3287","url":"3288","date":"3289","source":"3257","content":"3290","topic":"3758","tone":"3759","category":"3765"},{"title":"3291","url":"3292","date":"3293","source":"3257","content":"3294","topic":"3758","tone":"3775","category":"3767"},{"title":"3295","url":"3296","date":"3297","source":"3257","content":"3298","topic":"3758","tone":"3759","category":"3767"},{"title":"3299","url":"3300","date":"3301","source":"3257","content":"3302","topic":"3767","tone":"3762","category":"3763"},{"title":"3303","url":"3304","date":"3305","source":"3257","content":"3306","topic":"3758","tone":"3759","category":"3765"},{"title":"3307","url":"3308","date":"3309","source":"3257","content":"3310","topic":"3780","tone":"3762","category":"3765"},{"title":"3311","url":"3312","date":"3313","source":"3257","content":"3314","topic":"3767","tone":"3762","category":"3765"},{"title":"3315","url":"3316","date":"3317","source":"3257","content":"3318","topic":"3783","tone":"3762","category":"3765"},{"title":"3319","url":"3320","date":"3321","source":"3257","content":"3322","topic":"3767","tone":"3775","category":"3770"},{"title":"3323","url":"3324","date":"3325","source":"3257","content":"3326","topic":"3758","tone":"3762","category":"3767"},{"title":"3327","url":"3328","date":"3329","source":"3257","content":"3330","topic":"3767","tone":"3762","category":"3765"},{"title":"3331","url":"3332","date":"3333","source":"3257","content":"3334","topic":"3783","tone":"3762","category":"3765"},{"title":"3789","url":"3988","date":"3790","source":"3791","content":"3792","topic":"3758","tone":"3759","category":"3794"},{"title":"3796","url":"3989","date":"3797","source":"3791","content":"3798","topic":"3767","tone":"3775","category":"3794"},{"title":"3800","url":"3990","date":"3801","source":"3791","content":"3802","topic":"3758","tone":"3759","category":"3794"},{"title":"3804","url":"3991","date":"3805","source":"3791","content":"3806","topic":"3783","tone":"3759","category":"3794"},{"title":"3808","url":"3992","date":"3809","source":"3791","content":"3810","topic":"3758","tone":"3759","category":"3760"},{"title":"3812","url":"3993","date":"3813","source":"3791","content":"3814","topic":"3758","tone":"3759","category":"3794"},{"title":"3816","url":"3994","date":"3817","source":"3791","content":"3818","topic":"3819","tone":"3759","category":"3794"},{"title":"3821","url":"3995","date":"3822","source":"3791","content":"3823","topic":"3783","tone":"3775","category":"3760"},{"title":"3825","url":"3996","date":"3826","source":"3791","content":"3827","topic":"3758","tone":"3759","category":"3794"},{"title":"3829","url":"3997","date":"3830","source":"3791","content":"3831","topic":"3783","tone":"3759","category":"3770"},{"title":"3833","url":"3998","date":"3834","source":"3791","content":"3835","topic":"3758","tone":"3762","category":"3767"},{"title":"3837","url":"3999","date":"3834","source":"3791","content":"3838","topic":"3767","tone":"3762","category":"3767"},{"title":"3840","url":"4000","date":"3841","source":"3791","content":"3842","topic":"3758","tone":"3759","category":"3767"},{"title":"3844","url":"4001","date":"3841","source":"3791","content":"3845","topic":"3783","tone":"3759","category":"3770"},{"title":"3847","url":"4002","date":"3848","source":"3791","content":"3849","topic":"3758","tone":"3762","category":"3767"},{"title":"3851","url":"4003","date":"3852","source":"3791","content":"3853","topic":"3767","tone":"3759","category":"3794"},{"title":"3855","url":"4004","date":"3856","source":"3791","content":"3857","topic":"3783","tone":"3759","category":"3770"},{"title":"3859","url":"4005","date":"3860","source":"3791","content":"3861","topic":"3767","tone":"3759","category":"3770"},{"title":"3863","url":"4006","date":"3864","source":"3791","content":"3865","topic":"3758","tone":"3762","category":"3770"},{"title":"3867","url":"4007","date":"3868","source":"3791","content":"3869","topic":"3767","tone":"3775","category":"3760"},{"title":"3871","url":"4008","date":"3872","source":"3791","content":"3873","topic":"3758","tone":"3759","category":"3760"},{"title":"3875","url":"4009","date":"3876","source":"3791","content":"3877","topic":"3758","tone":"3775","category":"3770"},{"title":"3879","url":"4010","date":"3880","source":"3791","content":"3881","topic":"3758","tone":"3759","category":"3794"},{"title":"3883","url":"4011","date":"3884","source":"3791","content":"3885","topic":"3758","tone":"3775","category":"3767"},{"title":"3887","url":"4012","date":"3888","source":"3791","content":"3889","topic":"3783","tone":"3759","category":"3794"},{"title":"3891","url":"4014","date":"3892","source":"3893","content":"3894","topic":"3819","tone":"3759","category":"3770"},{"title":"3897","url":"4015","date":"3898","source":"3893","content":"3899","topic":"3819","tone":"3759","category":"3794"},{"title":"3901","url":"4016","date":"3902","source":"3893","content":"3903","topic":"3819","tone":"3759","category":"3765"},{"title":"3905","url":"4017","date":"3906","source":"3893","content":"3907","topic":"3819","tone":"3759","category":"3770"},{"title":"3909","url":"4018","date":"3910","source":"3893","content":"3911","topic":"3819","tone":"3762","category":"3770"},{"title":"3913","url":"4019","date":"3914","source":"3893","content":"3915","topic":"3819","tone":"3762","category":"3770"},{"title":"3917","url":"4020","date":"3918","source":"3893","content":"3919","topic":"3819","tone":"3762","category":"3770"},{"title":"3921","url":"4021","date":"3922","source":"3893","content":"3923","topic":"3819","tone":"3762","category":"3794"},{"title":"3925","url":"4022","date":"3926","source":"3893","content":"3927","topic":"3819","tone":"3762","category":"3767"},{"title":"3929","url":"4023","date":"3333","source":"3893","content":"3930","topic":"3819","tone":"3762","category":"3765"},{"title":"3932","url":"4024","date":"3933","source":"3893","content":"3934","topic":"3819","tone":"3762","category":"3770"},{"title":"3936","url":"4025","date":"3937","source":"3893","content":"3938","topic":"3819","tone":"3762","category":"3765"},{"title":"3940","url":"4026","date":"3941","source":"3893","content":"3942","topic":"3819","tone":"3759","category":"3794"},{"title":"3944","url":"4027","date":"3945","source":"3893","content":"3946","topic":"3819","tone":"3775","category":"3770"},{"title":"3948","url":"4028","date":"3949","source":"3893","content":"3950","topic":"3819","tone":"3759","category":"3760"},{"title":"3952","url":"4029","date":"3953","source":"3893","content":"3954","topic":"3819","tone":"3759","category":"3770"},{"title":"3956","url":"4030","date":"3953","source":"3893","content":"3957","topic":"3819","tone":"3759","category":"3770"},{"title":"3959","url":"4031","date":"3953","source":"3893","content":"3960","topic":"3819","tone":"3762","category":"3767"},{"title":"3962","url":"4032","date":"3953","source":"3893","content":"3963","topic":"3819","tone":"3759","category":"3767"},{"title":"3965","url":"4033","date":"3953","source":"3893","content":"3966","topic":"3819","tone":"3759","category":"3794"},{"title":"3968","url":"4034","date":"3969","source":"3893","content":"3970","topic":"3819","tone":"3759","category":"3794"},{"title":"3972","url":"4035","date":"3973","source":"3893","content":"3974","topic":"3819","tone":"3759","category":"3770"},{"title":"3976","url":"4036","date":"3977","source":"3893","content":"3978","topic":"3819","tone":"3775","category":"3770"},{"title":"3980","url":"4037","date":"3981","source":"3893","content":"3982","topic":"3819","tone":"3762","category":"3765"},{"title":"3984","url":"4038","date":"3985","source":"3893","content":"3986","topic":"3819","tone":"3762","category":"3765"},"67b74480-2abf-4be5-a2f1-99c927dbbcd1","2025-12-10T03:58:10.668648+00:00","AI","neutral","Opinion","cd9bc95f-3dd5-4ba7-b76e-8054cbd30d76","positive","Funding","6c56a606-c24e-4a43-902c-3fb6bcf20168","Product Launch","7d82c155-6275-4c01-8412-a06eba27cfc6","Other","a07b61f9-bf3f-4f38-92df-7f7008c2b0b7","89327d7c-e561-4303-9bf4-ee4951caf45b","Market Report","3b566daf-ffe3-4e10-a3a4-bbde78860bcf","ef95b4d4-4b80-4e5a-84d4-fb51c8d399d5","1d8702ea-215e-432d-a06c-6fdaf8b2280c","e301b36c-e7c0-4190-8470-224f6d0295af","negative","ab493f48-af08-4e5b-8a58-8095c8e4ef84","734b27f4-83a5-43f6-8398-9593d1cbebc5","27cfec6c-659e-4329-9a73-0a8e2c9913c6","8f7562a9-c587-4810-8f0a-dedaf37d7274","Cybersecurity","8035b0c8-284f-4117-b48e-81dc01e94be3","b5e530d0-48bf-4333-a925-54cb825d4e25","Big Tech","25fc1d73-af84-4713-9012-afd85d701a02","7514dbd3-8f42-4f7d-8dd1-a0e3980ec36a","79ae8d1b-d521-4207-9bdd-cceeb3a948db","d0221077-68a3-46f6-9c23-82ec3ecff963","b57b77a4-efab-4af5-96f1-10111e965f21","China adds domestic AI chips to official procurement list for first time","Wed, 10 Dec 2025 01:15:01 GMT","FT Tech","Beijing encouraged purchase of Huawei and Cambricon processors before Trumps move to allow Nvidia exports","2025-12-10T03:58:25.89864+00:00","Regulation","44d94a20-764b-4524-9883-acfedd7f28c1","UK watchdog bans social media ads promising ADHD and autism treatment","Wed, 10 Dec 2025 00:01:00 GMT","Advertising Standards Authority issues enforcement notices related to 11 different supplements and tests","b1fe656e-c40c-45d6-975c-97855beb3360","FirstFT: China plans to limit access to Nvidias H200 chips despite Trump export approval","Tue, 09 Dec 2025 21:35:10 GMT","Also in todays newsletter: Trump to kick off final round of Fed chair interviews, and BoJ governor says economy has weathered US tariffs","d34bf30e-3460-4002-a100-8c55b47d4a8a","China set to limit access to Nvidias H200 chips despite Trump export approval","Tue, 09 Dec 2025 15:39:14 GMT","Discussions among regulators come as Beijing seeks to achieve self-sufficiency in semiconductor production","a2cc3cc4-0ab3-4fcd-990b-3daaa9175dac","Is it a bubble?","Tue, 09 Dec 2025 15:00:07 GMT","Given that the growth of demand for AI is so unpredictable, there can be no doubt investor behaviour is speculative","fc1a6b5c-feb0-45ef-a281-c8cd9254d632","Nvidia can sell H200 AI chips to China, Trump says","Tue, 09 Dec 2025 14:27:27 GMT","President says other chipmakers can also resume exports and 25% will be paid to the US","f3b28443-b525-403e-8260-2d0914245aed","Trump decides to let Nvidia export powerful H200 chips to China","Tue, 09 Dec 2025 14:00:08 GMT","Also in todays newsletter, the US warns the EU to be very careful after it fined Elon Musks X","Blockchain","a9a80803-11f1-423e-ba52-1162c4a825dc","Trump is choosing the broligarchs over his base","Tue, 09 Dec 2025 12:06:55 GMT","When historians assess this age of American populism, Silicon Valleys plutocrats will surely be judged its winners","052db381-66dc-4f9b-bfc9-32e4fb3dc53b","EU opens probe into Googles use of online content for AI models","Tue, 09 Dec 2025 09:35:40 GMT","Investigation is blocs latest challenge to US big tech companies","b6cfc4cd-4de6-45de-9061-f37a2d5a3136","Nothing wants to make a dent in Apples universe","Tue, 09 Dec 2025 05:00:31 GMT","A London-based smartphone maker valued at $1.3bn is slowly building a global brand  ","4eab2e31-4568-4d71-a050-8923a6971524","In-house legal teams test AI for automating more tasks","Tue, 09 Dec 2025 05:00:23 GMT","Companies hope the technology will take on work usually sent to law firms. Plus: the top innovative in-house teams, North America 2025; and six case studies of corporate lawyers innovations","906d9dc1-61d5-46e4-8e8b-d066801b712a","Intrapreneurs: the hard yards that transform legal services  ","Work that turns pioneering ideas and tools into breakthroughs","df11a5f8-23e1-4206-a818-953efddf3bbf","AI turbocharges litigation powers","Tue, 09 Dec 2025 05:00:10 GMT","Artificial intelligenceis transforming legal work, but accuracy is seen as the greatest risk","54c2ece9-9b87-40fc-a461-d21368d40912","Data centre boom sparks deals rush ","Frenetic hyperscaler activity in US demands extensive legal support","a0af6063-9862-4071-9b6e-38a0b0e9d8cc","Chinas open-source AI is a national advantage","Tue, 09 Dec 2025 01:00:06 GMT","The models are akin to studying together to ace a test instead of relying on individual knowledge","212b90ca-1d37-4db6-935d-fd35d3467086","The countdown to the worlds first social media ban for children","Tue, 09 Dec 2025 00:25:29 GMT","Under-16s will no longer be able to subscribe to popular apps under groundbreaking Australian law","0f1288ae-cf7e-4e15-8ae5-a552add5ab31","Inside Paramounts $108bn hostile bid for Warner Bros ","Mon, 08 Dec 2025 21:13:51 GMT","Ellisons approach was rebuffed over concerns about financial backing from China and Middle East sovereign funds ","2566ef1b-4fc2-4417-a37a-77322552acd3","Paramount gatecrashes Warner Bros-Netflix deal ","Mon, 08 Dec 2025 20:55:52 GMT","Jared Kushner and Middle East funds assist with all-cash offer","c3bd72a7-583c-4b0b-89ac-b50e99e1fc76","IBM extends AI push with $11bn takeover of Confluent","Mon, 08 Dec 2025 20:20:36 GMT","Chief says deal with data streaming platform will allow company to deploy generative artificial intelligence faster","3558b6b1-7cb9-4014-aadb-1c3fa1990d3f","The Netflix age has been great for consumers but terrible for artists","Mon, 08 Dec 2025 17:21:59 GMT","Returns to musicians and writers are dwindling fast","7542006b-a8bd-4048-b520-9fff40f4c54f","The State of AI: life in 2030 ","Mon, 08 Dec 2025 17:00:05 GMT","Expect a world of robots, robotaxis and AI haves and have-nots ","2330dbee-ab02-4651-9d87-14545bedb49e","Googles TPU chip puts OpenAI on alert and shakes Nvidia investors","Mon, 08 Dec 2025 14:07:10 GMT","AI advances made through groups custom processor hit Nvidias stock and prompt ChatGPT maker to declare code red ","3e5e0a38-eb6c-4fbd-8f36-d569a30e277a","Trump to issue executive order for single federal rule on AI regulation","Mon, 08 Dec 2025 14:03:51 GMT","Move to prevent individual US states from regulating tech groups opposed by some Republican senators","cc3ed805-e86f-408c-a9dd-0bbeb4cd536e","App delivery drivers battle dynamic wages and uncertain finances","Mon, 08 Dec 2025 12:32:45 GMT","Algorithmic pay systems test gig workers personal finance survival skills","0b31de5d-0533-4797-a54f-a7144df54f4d","Meta offers EU users ad-light option in push to end investigation","Mon, 08 Dec 2025 12:24:38 GMT","Facebook agrees changes to pay or consent model after talks with European Commission","2998a277-cd25-4db4-8656-2b5f7aa5d0ef","Bitcoin Holds Near $92K as Selling Cools, but Demand Still Lags","Wed, 10 Dec 2025 02:12:50 +0000","CoinDesk","ETF inflows have finally turned positive, but weak on-chain activity, defensive derivatives positioning, and negative spot CVD show a market stabilizing without the conviction needed for a sustained move higher.\\n","2025-12-10T03:58:46.088065+00:00","af73f8dc-c9a2-48af-99d9-fe5f0537eb03","Key U.S. Senator on Crypto Bill, Lummis, Negotiating Dicey Points With White House","Tue, 09 Dec 2025 23:46:56 +0000","The Republican lawmaker who is among the core negotiators on the U.S. market structure bill said the White House has rejected some ethics language. ","c62c333c-ddbd-4fa6-a5cb-742e9fb66c68","Proposed AfterDark Bitcoin ETF Would Skip U.S. Trading Hours","Tue, 09 Dec 2025 20:57:44 +0000","The fund would hold bitcoin only overnight, betting on data showing bitcon gains mostly occur outside regular market hours.","b1e1b85d-1736-4456-8c9a-64424023d3a4","XRP Underperforms Market as Sudden Bitcoin Surge Forces $387M of Liquidations","Tue, 09 Dec 2025 19:36:41 +0000","XRP's technical outlook remains uncertain, with support at $2.05 and resistance at $2.17, as traders watch for volume expansion","ffee6bec-fb5c-47a7-b1c1-b416442dd33a","Dogecoin Surges as Ether Zooms 8%, Sparking Bullish Reversal For Memecoins","Tue, 09 Dec 2025 19:27:47 +0000","The breakout now sets up a clean continuation zoneprovided bulls defend the mid-range pivot they just reclaimed.","0a474823-0b59-46ce-abbb-9f0f2996ba34","Aptos Rises 8% After Breaking Through $1.80 Resistance","Tue, 09 Dec 2025 18:50:32 +0000","Strong volume and technical momentum distinguished APT's gains from the broader market action.","5e624724-8ca2-47eb-a92d-52954b0dbc5c","Ether Surges 8%, Outpacing Bitcoin Gains Amid Staking ETF, Tokenization Optimism","Tue, 09 Dec 2025 18:47:33 +0000","BlackRock's filing for a staking ether ETF earlier this week has contributed to ETH's relative strength to bitcoin, one market strategist noted.","02d7787e-9ef4-455e-8eb6-18f7aa195141","SEC Approves U.S. Second Crypto Index ETP with Bitwises BITW","Tue, 09 Dec 2025 17:20:14 +0000","The Bitwise 10 Crypto Index Fund now trades on NYSE Arca, joining the ranks of gold and oil funds in regulated exchange products.","009f1a46-7e35-413c-82d6-387c894d6328","Michael Saylor Urges Middle East to Become the 'Switzerland of Bitcoin Banking'","Tue, 09 Dec 2025 17:01:24 +0000","The executive chairman of Strategy pitched BTC-backed banking and yield products as a $200 trillion opportunity at the Bitcoin MENA conference.","091a3184-bff5-4eb9-bb56-82c9f1bb546d","Cascade Unveils 24/7 Neo-Brokerage Offering Perpetuals on Cryptos, U.S. Stocks ","The platform will let retail traders use one margin account to trade round-the-clock perpetual markets.","e2c71a5c-6d50-4ea8-bf90-7e315dc0e4a1","Bitcoin Surges to $94K One Day Ahead of Expected Fed Rate Cut","Tue, 09 Dec 2025 16:47:56 +0000","The change from what's become typical bearish U.S. session action could signal seller exhaustion.","568b32a4-b371-43f7-ac1d-77be40e55609","Stripe-Backed Blockchain Tempo Starts Testnet; Kalshi, Mastercard, UBS Added as Partners","Tue, 09 Dec 2025 15:49:04 +0000","Tempo, built by Stripe and Paradigm, has started testing payment-focused blockchain and has onboard a slew of institutional partners.","c0264c26-5ed1-401e-a601-2d113d2fd6c9","Do Kwon Judge Demands Answers Before Sentencing Over Assurance Hell Serve Time","Tue, 09 Dec 2025 15:48:15 +0000","Judge asked whether Kwon might be freed abroad and asked for details on victims, time-served credit and unresolved charges ahead of sentencing.","df7bfc86-102b-447c-9fa3-108c2b5e1df8","Bitcoin Treasury Company Twenty One Drops 25% in NYSE Debut, Trades Near PIPE Pricing of $10","Tue, 09 Dec 2025 15:30:12 +0000","The company is led by Strike CEO Jack Mallers and began trading under the XXI ticker today following its SPAC merger with Cantor Equity Partners.","7e13985e-3f42-4ef9-a6be-f0f7a97d8502","Will the ETF Era Usher in the End of Crypto Tribalism?","Tue, 09 Dec 2025 15:26:18 +0000","There was once a time when you picked a side  the token you were excited about. But crypto has become one of the fastest-growing asset classes of the last decade. Soon, it seems, youll just pick an allocation. But will that take the fun out of crypto?","cfe8cfc6-88b9-4589-9c1d-a00e337e4669","Most Influential: Don Jr., Eric and Barron Trump","Tue, 09 Dec 2025 15:00:00 +0000","The sons of U.S. President Donald Trump have capitalized on their family name and cryptos political momentum, carving out a profitable niche for themselves in the booming industry. ","2a025b4a-4633-456f-813f-dde2808a9987","Most Influential: Brandon and Howard Lutnick","The world's biggest stablecoin issuer struggled to maintain banking relationships for a few years and faced accusations it wasn't fully backing its circulating tokens  then one of the world's biggest financial firms, Cantor Fitzgerald, became its custodian. ","f123a392-a1d5-4f5d-bb3b-9ad75e71dbc4","Most Influential: Paolo Ardoino","The CEO of Tether is turning the stablecoin into a global financial force.","8a26bf2a-2328-4bdc-a9b6-93cafa66a5cd","Most Influential: Bo Hines","President Donald Trump tapped a former college football player to run offense on his digital assets agenda.","dc3fde63-e1f1-438a-b092-fe72ab2a1a04","Most Influential: Cameron and Tyler Winklevoss ","The U.S. Presidents choice to run the CFTC seemed set to sail through Congress, until Tyler and Cameron Winklevoss stepped in.","72ab5e1a-4098-4226-850b-439c9cce061c","Regulatory Battle Over Tokenized U.S. Stocks Escalates, HSBC Says","Tue, 09 Dec 2025 14:51:00 +0000","Citadel Securities has urged the SEC to treat decentralized finance trading venues like traditional exchanges,  a stance facing opposition from the crypto industry.","9f456132-5441-4894-a54e-4a5a29e4a2a5","TON Token Yearly Loss Nears 72%, but Potential Reversal Signs Emerge","Tue, 09 Dec 2025 14:49:32 +0000","The token's price found support at $1.6025, which held firm despite initial selling pressure, and has since shown signs of a potential reversal.","db506be3-2346-421a-b16a-d045f897ea67","CoinDesk 20 Performance Update: Uniswap (UNI) Falls 1.6% as Index Trades Lower  ","Tue, 09 Dec 2025 14:24:41 +0000","Aave (AAVE) was also among the underperformers, declining 1.2% from Monday.","45e74408-fdf8-4fa5-b919-f030cb46f009","A16z-Backed Daylight Brings Electricity Markets Onchain With New DeFi Protocol","Tue, 09 Dec 2025 14:09:51 +0000","The DayFi protocol aims to turn electricity cash flows into a crypto-native yield product, bridging capital to new solar power installations.","6854c614-fee5-4e43-abd3-7fbecf031f83","PNC Bank Rolls Out Spot Bitcoin Access for Private Clients After 2025 Reveal","Tue, 09 Dec 2025 14:07:54 +0000","The Coinbase-backed feature, first announced in July, lets PNC clients buy, sell and hold bitcoin directly in their digital banking accounts.",{"xmlns:dc":"4042","xmlns:content":"4040","xmlns:atom":"4043","version":"4039","channel":"4398"},"https://www.ft.com/content/83c6521e-fe42-49e2-a9fe-eda97168b316","https://www.ft.com/content/7511f62d-f888-4c60-954f-c931cacacafa","https://www.ft.com/content/f072335b-d750-49c3-8bbf-69055c3d7e75","https://www.ft.com/content/c4e81a67-cd5b-48b4-9749-92ecf116313d","https://www.ft.com/content/353eda37-33b0-4d30-a912-a07607e278b8","https://www.ft.com/content/ac63139d-5143-4aed-a1e4-980a06551b51","https://www.ft.com/content/3a1f9360-3466-43f1-92a3-0c3647a8e15a","https://www.ft.com/content/8a2c87eb-dcab-43fb-9c26-5625aa93f3f9","https://www.ft.com/content/598aee7c-0b8b-4777-bea2-4ef121dc8197","https://www.ft.com/content/5ea14dc8-c9ea-42e7-9639-7c4a9b655b94","https://www.ft.com/content/e5114ad0-66ca-4a12-a2fa-7c5944fbcf99","https://www.ft.com/content/4d0a9055-e2ab-467a-9b2b-a06989165b73","https://www.ft.com/content/423e9bc4-227d-4bd4-87de-401132eb415a","https://www.ft.com/content/42f3dec5-b8dc-49a2-aa5c-0e62ab529173","https://www.ft.com/content/b1f92b0e-d6ef-4c95-b51e-7bcf90c8a65f","https://www.ft.com/content/e93ab2b2-868f-441f-bbec-0af4fa3edeb5","https://www.ft.com/content/e5da7064-3a46-4bab-9a6c-12ae03eead16","https://www.ft.com/content/7981af0e-ad93-4c11-8c1c-09b0167bf4d6","https://www.ft.com/content/8112d77f-2531-400f-b947-b506fe3c6b3f","https://www.ft.com/content/b49cd2de-f95d-47d3-bba0-cdb619176a84","https://www.ft.com/content/5bff1202-b2ce-439a-8687-8f8b919c683e","https://www.ft.com/content/d8585870-17a5-43a0-95ef-cbebb1995107","https://www.ft.com/content/47d54ca4-2ea3-4519-b860-e466ee7802b6","https://www.ft.com/content/df480a7b-01c7-4507-b9a9-68d47fa008f0","https://www.ft.com/content/39b9d90c-0629-4dfc-8a2b-c52f1f503f38",{"xmlns:content":"4040","xmlns:wfw":"4041","xmlns:dc":"4042","xmlns:atom":"4043","xmlns:sy":"4044","xmlns:slash":"4045","xmlns:media":"4399","version":"4039","channel":"4400"},"https://www.coindesk.com/markets/2025/12/10/bitcoin-holds-near-usd92k-as-selling-cools-but-demand-still-lags","https://www.coindesk.com/policy/2025/12/09/key-u-s-senator-on-crypto-bill-lummis-negotiating-dicey-points-with-white-house","https://www.coindesk.com/markets/2025/12/09/nicholas-proposes-afterdark-bitcoin-etf-that-skips-u-s-trading-hours","https://www.coindesk.com/markets/2025/12/10/xrp-underperforms-market-as-sudden-bitcoin-surge-ends-up-in-usd387m-liquidations","https://www.coindesk.com/markets/2025/12/10/dogecoin-surges-as-ether-zooms-8-sparking-bullish-reversal-for-memecoins","https://www.coindesk.com/markets/2025/12/09/aptos-rises-8-after-breaking-through-usd1-80-resistance","https://www.coindesk.com/markets/2025/12/09/ether-surges-8-outpacing-bitcoin-gains-amid-staking-etf-tokenization-optimism","https://www.coindesk.com/policy/2025/12/09/sec-approves-u-s-second-crypto-index-etp-with-bitwise-s-bitw","https://www.coindesk.com/markets/2025/12/09/saylor-jpm-citi-and-schwab-are-starting-issue-credit-lines-backed-by-bitcoin","https://www.coindesk.com/business/2025/12/09/cascade-unveils-247-neo-brokerage-offering-perpetuals-on-cryptos-us-stocks","https://www.coindesk.com/markets/2025/12/09/bitcoin-surges-to-usd94k-one-day-ahead-of-expected-fed-rate-cut","https://www.coindesk.com/tech/2025/12/09/stripe-backed-blockchain-tempo-starts-testnet-kalshi-mastercard-ubs-added-as-partners","https://www.coindesk.com/policy/2025/12/09/do-kwon-judge-demands-answers-before-sentencing-over-assurance-he-ll-serve-time","https://www.coindesk.com/markets/2025/12/09/bitcoin-treasury-company-twenty-one-drops-25-in-nyse-debut-trades-near-pipe-pricing-of-usd10","https://www.coindesk.com/coindesk-indices/2025/12/09/will-the-etf-era-usher-in-the-end-of-crypto-tribalism","https://www.coindesk.com/policy/2025/12/09/most-influential-don-jr-eric-and-barron-trump","https://www.coindesk.com/business/2025/12/09/most-influential-brandon-and-howard-lutnick","https://www.coindesk.com/business/2025/12/09/most-influential-paolo-ardoino","https://www.coindesk.com/policy/2025/12/09/most-influential-bo-hines","https://www.coindesk.com/policy/2025/12/09/most-influential-cameron-and-tyler-winklevoss","https://www.coindesk.com/policy/2025/12/09/regulatory-battle-over-tokenized-us-stocks-escalates-hsbc-says","https://www.coindesk.com/markets/2025/12/09/ton-token-yearly-loss-nears-72-but-potential-reversal-signs-emerge","https://www.coindesk.com/coindesk-indices/2025/12/09/coindesk-20-performance-update-uniswap-uni-falls-1-6-as-index-trades-lower","https://www.coindesk.com/business/2025/12/08/a16z-backed-daylight-brings-electricity-markets-onchain-with-new-defi-protocol","https://www.coindesk.com/business/2025/12/09/pnc-bank-rolls-out-spot-bitcoin-access-for-private-clients-after-2025-reveal","2.0","http://purl.org/rss/1.0/modules/content/","http://wellformedweb.org/CommentAPI/","http://purl.org/dc/elements/1.1/","http://www.w3.org/2005/Atom","http://purl.org/rss/1.0/modules/syndication/","http://purl.org/rss/1.0/modules/slash/",{"title":"3257","atom:link":"4401","link":"4402","description":"4403","lastBuildDate":"4404","language":"4405","sy:updatePeriod":"4406","sy:updateFrequency":"4407","generator":"4408","image":"4409","item":"4410"},["4411"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Coreweave CEO defends AI circular deals as working together\\nDate: Wed, 10 Dec 2025 00:49:25 +0000\\nSource: TechCrunch\\nURL: https://techcrunch.com/2025/12/09/coreweave-ceo-defends-ai-circular-deals-as-working-together/\\nContent: The CEO of the AI data center provider, which has Nvidia as an investor and a supplier, described the environment as a \\"violent change\\" in demand.\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Coreweave CEO defends AI circular deals as working together\\",\\n  \\"date\\": \\"Wed, 10 Dec 2025 00:49:25 +0000\\",\\n  \\"source\\": \\"TechCrunch\\",\\n  \\"content\\": \\"The CEO of the AI data center provider, which has Nvidia as an investor and a supplier, described the environment as a \\"violent change\\" in demand.\\",\\n  \\"url\\": \\"https://techcrunch.com/2025/12/09/coreweave-ceo-defends-ai-circular-deals-as-working-together/\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4413"},"gpt-4.1-mini",{"baseURL":"4414","fetchOptions":"4415"},{},["4416"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Hinge CEO steps down to launch Overtone, an AI dating app\\nDate: Wed, 10 Dec 2025 00:01:13 +0000\\nSource: TechCrunch\\nURL: https://techcrunch.com/2025/12/09/hinge-ceo-steps-down-to-launch-overtone-an-ai-dating-app/\\nContent: Overtone is described as \\"an early-stage dating service focused on using AI and voice tools to help people connect in a more thoughtful and personal way.\\"\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Hinge CEO steps down to launch Overtone, an AI dating app\\",\\n  \\"date\\": \\"Wed, 10 Dec 2025 00:01:13 +0000\\",\\n  \\"source\\": \\"TechCrunch\\",\\n  \\"content\\": \\"Overtone is described as \\"an early-stage dating service focused on using AI and voice tools to help people connect in a more thoughtful and personal way.\\"\\",\\n  \\"url\\": \\"https://techcrunch.com/2025/12/09/hinge-ceo-steps-down-to-launch-overtone-an-ai-dating-app/\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4417"},{"baseURL":"4414","fetchOptions":"4418"},{},["4419"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Fal nabs $140M in fresh funding led by Sequoia, tripling valuation to $4.5B\\nDate: Tue, 09 Dec 2025 22:21:33 +0000\\nSource: TechCrunch\\nURL: https://techcrunch.com/2025/12/09/fal-nabs-140m-in-fresh-funding-led-by-sequoia-tripling-valuation-to-4-5b/\\nContent: The round, which was Fals third fundraise this year, also included a secondary sale for early investors, sources tell us.\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Fal nabs $140M in fresh funding led by Sequoia, tripling valuation to $4.5B\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 22:21:33 +0000\\",\\n  \\"source\\": \\"TechCrunch\\",\\n  \\"content\\": \\"The round, which was Fals third fundraise this year, also included a secondary sale for early investors, sources tell us.\\",\\n  \\"url\\": \\"https://techcrunch.com/2025/12/09/fal-nabs-140m-in-fresh-funding-led-by-sequoia-tripling-valuation-to-4-5b/\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4420"},{"baseURL":"4414","fetchOptions":"4421"},{},["4422"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Cashew Research is going after the $90B market research industry with AI\\nDate: Tue, 09 Dec 2025 22:20:39 +0000\\nSource: TechCrunch\\nURL: https://techcrunch.com/2025/12/09/cashew-research-is-going-after-the-90b-market-research-industry-with-ai/\\nContent: Cashew Research uses AI to automate the market research process while still collecting real-world data from humans. \\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Cashew Research is going after the $90B market research industry with AI\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 22:20:39 +0000\\",\\n  \\"source\\": \\"TechCrunch\\",\\n  \\"content\\": \\"Cashew Research uses AI to automate the market research process while still collecting real-world data from humans. \\",\\n  \\"url\\": \\"https://techcrunch.com/2025/12/09/cashew-research-is-going-after-the-90b-market-research-industry-with-ai/\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4423"},{"baseURL":"4414","fetchOptions":"4424"},{},["4425"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Unconventional AI confirms its massive  $475M seed round\\nDate: Wed, 10 Dec 2025 00:24:16 +0000\\nSource: TechCrunch\\nURL: https://techcrunch.com/2025/12/09/unconventional-ai-confirms-its-massive-475m-seed-round/\\nContent: Led by Naveen Rao, the former head of AI at Databricks, the new hardware startup is valued at $4.5 billion.\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Unconventional AI confirms its massive  $475M seed round\\",\\n  \\"date\\": \\"Wed, 10 Dec 2025 00:24:16 +0000\\",\\n  \\"source\\": \\"TechCrunch\\",\\n  \\"content\\": \\"Led by Naveen Rao, the former head of AI at Databricks, the new hardware startup is valued at $4.5 billion.\\",\\n  \\"url\\": \\"https://techcrunch.com/2025/12/09/unconventional-ai-confirms-its-massive-475m-seed-round/\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4426"},{"baseURL":"4414","fetchOptions":"4427"},{},["4428"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: SpaceX reportedly planning 2026 IPO with $1.5T valuation target\\nDate: Tue, 09 Dec 2025 21:27:54 +0000\\nSource: TechCrunch\\nURL: https://techcrunch.com/2025/12/09/spacex-reportedly-planning-2026-ipo-with-1-5t-valuation-target/\\nContent: The company is looking to raise $30 billion, which would make it the biggest IPO ever, just ahead of Saudi Aramco's in 2019.\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"SpaceX reportedly planning 2026 IPO with $1.5T valuation target\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 21:27:54 +0000\\",\\n  \\"source\\": \\"TechCrunch\\",\\n  \\"content\\": \\"The company is looking to raise $30 billion, which would make it the biggest IPO ever, just ahead of Saudi Aramco's in 2019.\\",\\n  \\"url\\": \\"https://techcrunch.com/2025/12/09/spacex-reportedly-planning-2026-ipo-with-1-5t-valuation-target/\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4429"},{"baseURL":"4414","fetchOptions":"4430"},{},["4431"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: B Capital founding partner Kabir Narang leaves to launch new investment platform\\nDate: Tue, 09 Dec 2025 21:13:19 +0000\\nSource: TechCrunch\\nURL: https://techcrunch.com/2025/12/09/b-capital-founding-partner-kabir-narang-leaves-to-launch-new-investment-platform/\\nContent: Kabir Narang is laying the groundwork for a new investment platform slated for 2026 that will focus on \\"compounding at the intersection of technology, AI, and global capital flows.\\" \\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"B Capital founding partner Kabir Narang leaves to launch new investment platform\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 21:13:19 +0000\\",\\n  \\"source\\": \\"TechCrunch\\",\\n  \\"content\\": \\"Kabir Narang is laying the groundwork for a new investment platform slated for 2026 that will focus on \\"compounding at the intersection of technology, AI, and global capital flows.\\" \\",\\n  \\"url\\": \\"https://techcrunch.com/2025/12/09/b-capital-founding-partner-kabir-narang-leaves-to-launch-new-investment-platform/\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4432"},{"baseURL":"4414","fetchOptions":"4433"},{},["4434"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Why Cursors CEO believes OpenAI, Anthropic competition wont crush his startup\\nDate: Tue, 09 Dec 2025 20:59:21 +0000\\nSource: TechCrunch\\nURL: https://techcrunch.com/2025/12/09/why-cursors-ceo-believes-openai-anthropic-competition-wont-crush-his-startup/\\nContent: After reaching $1 billion in annualized revenue, Anysphere CEO Michael Truell explained the features his company is focused on building out.\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Why Cursors CEO believes OpenAI, Anthropic competition wont crush his startup\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 20:59:21 +0000\\",\\n  \\"source\\": \\"TechCrunch\\",\\n  \\"content\\": \\"After reaching $1 billion in annualized revenue, Anysphere CEO Michael Truell explained the features his company is focused on building out.\\",\\n  \\"url\\": \\"https://techcrunch.com/2025/12/09/why-cursors-ceo-believes-openai-anthropic-competition-wont-crush-his-startup/\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4435"},{"baseURL":"4414","fetchOptions":"4436"},{},["4437"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Rivian is building its own AI assistant\\nDate: Tue, 09 Dec 2025 20:11:13 +0000\\nSource: TechCrunch\\nURL: https://techcrunch.com/2025/12/09/rivian-is-building-its-own-ai-assistant/\\nContent: The EV maker will likely share more details on its upcoming AI &#038; Autonomy Day scheduled for December 11. \\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Rivian is building its own AI assistant\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 20:11:13 +0000\\",\\n  \\"source\\": \\"TechCrunch\\",\\n  \\"content\\": \\"The EV maker will likely share more details on its upcoming AI &#038; Autonomy Day scheduled for December 11. \\",\\n  \\"url\\": \\"https://techcrunch.com/2025/12/09/rivian-is-building-its-own-ai-assistant/\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4438"},{"baseURL":"4414","fetchOptions":"4439"},{},["4440"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Three in 10 US teens use AI chatbots every day, but safety concerns are growing\\nDate: Tue, 09 Dec 2025 20:00:00 +0000\\nSource: TechCrunch\\nURL: https://techcrunch.com/2025/12/09/three-in-ten-u-s-teens-use-ai-chatbots-every-day-but-safety-concerns-are-growing/\\nContent: While teenagers may start out using AI chatbots for basic questions, their relationship with chatbot platforms has the potential to turn addictive.\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Three in 10 US teens use AI chatbots every day, but safety concerns are growing\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 20:00:00 +0000\\",\\n  \\"source\\": \\"TechCrunch\\",\\n  \\"content\\": \\"While teenagers may start out using AI chatbots for basic questions, their relationship with chatbot platforms has the potential to turn addictive.\\",\\n  \\"url\\": \\"https://techcrunch.com/2025/12/09/three-in-ten-u-s-teens-use-ai-chatbots-every-day-but-safety-concerns-are-growing/\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4441"},{"baseURL":"4414","fetchOptions":"4442"},{},["4443"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Boom Supersonic raises $300M to build natural gas turbines for Crusoe data centers\\nDate: Tue, 09 Dec 2025 19:17:41 +0000\\nSource: TechCrunch\\nURL: https://techcrunch.com/2025/12/09/boom-supersonic-raises-300m-to-build-natural-gas-turbines-for-crusoe-data-centers/\\nContent: Crusoe will pay Boom $1.25 billion for more than a gigawatt of generating capacity with deliveries of the turbines starting in 2027.\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Boom Supersonic raises $300M to build natural gas turbines for Crusoe data centers\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 19:17:41 +0000\\",\\n  \\"source\\": \\"TechCrunch\\",\\n  \\"content\\": \\"Crusoe will pay Boom $1.25 billion for more than a gigawatt of generating capacity with deliveries of the turbines starting in 2027.\\",\\n  \\"url\\": \\"https://techcrunch.com/2025/12/09/boom-supersonic-raises-300m-to-build-natural-gas-turbines-for-crusoe-data-centers/\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4444"},{"baseURL":"4414","fetchOptions":"4445"},{},["4446"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Slack CEO Denise Dresser to join OpenAI as chief revenue officer\\nDate: Tue, 09 Dec 2025 19:41:40 +0000\\nSource: TechCrunch\\nURL: https://techcrunch.com/2025/12/09/slack-ceo-denise-dresser-to-join-openai-as-chief-revenue-officer/\\nContent: OpenAI says that Dresser will be responsible for the company's revenue strategy in enterprise and customer success. \\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Slack CEO Denise Dresser to join OpenAI as chief revenue officer\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 19:41:40 +0000\\",\\n  \\"source\\": \\"TechCrunch\\",\\n  \\"content\\": \\"OpenAI says that Dresser will be responsible for the company's revenue strategy in enterprise and customer success. \\",\\n  \\"url\\": \\"https://techcrunch.com/2025/12/09/slack-ceo-denise-dresser-to-join-openai-as-chief-revenue-officer/\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4447"},{"baseURL":"4414","fetchOptions":"4448"},{},["4449"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Amazons Ring rolls out controversial, AI-powered facial-recognition feature to video doorbells\\nDate: Tue, 09 Dec 2025 19:04:08 +0000\\nSource: TechCrunch\\nURL: https://techcrunch.com/2025/12/09/amazons-ring-rolls-out-controversial-ai-powered-facial-recognition-feature-to-video-doorbells/\\nContent: The feature lets you identify the people who regularly come to your door by creating a catalog of up to 50 faces. The company says the Ring feature is opt in and the biometric data isn't used to train AI models. \\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Amazons Ring rolls out controversial, AI-powered facial-recognition feature to video doorbells\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 19:04:08 +0000\\",\\n  \\"source\\": \\"TechCrunch\\",\\n  \\"content\\": \\"The feature lets you identify the people who regularly come to your door by creating a catalog of up to 50 faces. The company says the Ring feature is opt in and the biometric data isn't used to train AI models. \\",\\n  \\"url\\": \\"https://techcrunch.com/2025/12/09/amazons-ring-rolls-out-controversial-ai-powered-facial-recognition-feature-to-video-doorbells/\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4450"},{"baseURL":"4414","fetchOptions":"4451"},{},["4452"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Truecaller now lets users protect households from scam calls\\nDate: Tue, 09 Dec 2025 18:46:11 +0000\\nSource: TechCrunch\\nURL: https://techcrunch.com/2025/12/09/truecaller-now-lets-users-protect-households-from-scam-calls/\\nContent: Truecaller's Family Protection will be rolled out widely in the first quarter of 2026. The new feature lets up to five people join a family group overseen by one member who acts as the administrator and manages scam-blocking settings for the others.\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Truecaller now lets users protect households from scam calls\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 18:46:11 +0000\\",\\n  \\"source\\": \\"TechCrunch\\",\\n  \\"content\\": \\"Truecaller's Family Protection will be rolled out widely in the first quarter of 2026. The new feature lets up to five people join a family group overseen by one member who acts as the administrator and manages scam-blocking settings for the others.\\",\\n  \\"url\\": \\"https://techcrunch.com/2025/12/09/truecaller-now-lets-users-protect-households-from-scam-calls/\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4453"},{"baseURL":"4414","fetchOptions":"4454"},{},["4455"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Ford and Renault team up on cheaper EVs in a fight for our lives\\nDate: Tue, 09 Dec 2025 18:01:43 +0000\\nSource: TechCrunch\\nURL: https://techcrunch.com/2025/12/09/ford-and-renault-team-up-on-cheaper-evs-in-a-fight-for-our-lives/\\nContent: The automakers will work together to bring two Ford-branded EVs to European dealerships in 2028. \\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Ford and Renault team up on cheaper EVs in a fight for our lives\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 18:01:43 +0000\\",\\n  \\"source\\": \\"TechCrunch\\",\\n  \\"content\\": \\"The automakers will work together to bring two Ford-branded EVs to European dealerships in 2028. \\",\\n  \\"url\\": \\"https://techcrunch.com/2025/12/09/ford-and-renault-team-up-on-cheaper-evs-in-a-fight-for-our-lives/\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4456"},{"baseURL":"4414","fetchOptions":"4457"},{},["4458"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Google Photos launches new video editing tools\\nDate: Tue, 09 Dec 2025 18:00:00 +0000\\nSource: TechCrunch\\nURL: https://techcrunch.com/2025/12/09/google-photos-launches-new-video-editing-tools/\\nContent: Google Photos' new update helps make editing video reels in the app quicker, such as new templates that already add music and text to clips. \\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Google Photos launches new video editing tools\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 18:00:00 +0000\\",\\n  \\"source\\": \\"TechCrunch\\",\\n  \\"content\\": \\"Google Photos' new update helps make editing video reels in the app quicker, such as new templates that already add music and text to clips. \\",\\n  \\"url\\": \\"https://techcrunch.com/2025/12/09/google-photos-launches-new-video-editing-tools/\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4459"},{"baseURL":"4414","fetchOptions":"4460"},{},["4461"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: NASA and USPS stop using Canoo EVs despite CEOs pledged support\\nDate: Tue, 09 Dec 2025 17:42:28 +0000\\nSource: TechCrunch\\nURL: https://techcrunch.com/2025/12/09/nasa-and-usps-stop-using-canoo-evs-despite-ceos-pledged-support/\\nContent: Canoo's CEO bought the bankrupt startup's assets in April and told the court his \\"principal motivation\\" was supporting these programs.\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"NASA and USPS stop using Canoo EVs despite CEOs pledged support\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 17:42:28 +0000\\",\\n  \\"source\\": \\"TechCrunch\\",\\n  \\"content\\": \\"Canoo's CEO bought the bankrupt startup's assets in April and told the court his \\"principal motivation\\" was supporting these programs.\\",\\n  \\"url\\": \\"https://techcrunch.com/2025/12/09/nasa-and-usps-stop-using-canoo-evs-despite-ceos-pledged-support/\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4462"},{"baseURL":"4414","fetchOptions":"4463"},{},["4464"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Fairphone refreshes its good-looking, repairable headphones\\nDate: Tue, 09 Dec 2025 17:08:14 +0000\\nSource: TechCrunch\\nURL: https://techcrunch.com/2025/12/09/fairphone-refreshes-its-good-looking-repairable-headphones/\\nContent: Fairphone updates its repairable over-the-ear headphones with new drivers.\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Fairphone refreshes its good-looking, repairable headphones\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 17:08:14 +0000\\",\\n  \\"source\\": \\"TechCrunch\\",\\n  \\"content\\": \\"Fairphone updates its repairable over-the-ear headphones with new drivers.\\",\\n  \\"url\\": \\"https://techcrunch.com/2025/12/09/fairphone-refreshes-its-good-looking-repairable-headphones/\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4465"},{"baseURL":"4414","fetchOptions":"4466"},{},["4467"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: OpenAI, Anthropic, and Block join new Linux Foundation effort to standardize the AI agent era\\nDate: Tue, 09 Dec 2025 17:28:36 +0000\\nSource: TechCrunch\\nURL: https://techcrunch.com/2025/12/09/openai-anthropic-and-block-join-new-linux-foundation-effort-to-standardize-the-ai-agent-era/\\nContent: Anthropic, Block, and OpenAI  are backing the Linux Foundations new Agentic AI Foundation, donating MCP, Goose, and AGENTS.md to standardize AI agents, boost interoperability, and curb proprietary fragmentation.\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"OpenAI, Anthropic, and Block join new Linux Foundation effort to standardize the AI agent era\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 17:28:36 +0000\\",\\n  \\"source\\": \\"TechCrunch\\",\\n  \\"content\\": \\"Anthropic, Block, and OpenAI  are backing the Linux Foundations new Agentic AI Foundation, donating MCP, Goose, and AGENTS.md to standardize AI agents, boost interoperability, and curb proprietary fragmentation.\\",\\n  \\"url\\": \\"https://techcrunch.com/2025/12/09/openai-anthropic-and-block-join-new-linux-foundation-effort-to-standardize-the-ai-agent-era/\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4468"},{"baseURL":"4414","fetchOptions":"4469"},{},["4470"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Facebook redesign focuses on friends, photos, Marketplace, and more\\nDate: Tue, 09 Dec 2025 17:00:00 +0000\\nSource: TechCrunch\\nURL: https://techcrunch.com/2025/12/09/facebook-redesign-focuses-on-friends-photos-marketplace-and-more/\\nContent: Meta's Facebook redesign elevates Marketplace, refreshes profiles, and aims to win back Gen Z users.\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Facebook redesign focuses on friends, photos, Marketplace, and more\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 17:00:00 +0000\\",\\n  \\"source\\": \\"TechCrunch\\",\\n  \\"content\\": \\"Meta's Facebook redesign elevates Marketplace, refreshes profiles, and aims to win back Gen Z users.\\",\\n  \\"url\\": \\"https://techcrunch.com/2025/12/09/facebook-redesign-focuses-on-friends-photos-marketplace-and-more/\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4471"},{"baseURL":"4414","fetchOptions":"4472"},{},["4473"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: China adds domestic AI chips to official procurement list for first time\\nDate: Wed, 10 Dec 2025 01:15:01 GMT\\nSource: FT Tech\\nURL: https://www.ft.com/content/83c6521e-fe42-49e2-a9fe-eda97168b316\\nContent: Beijing encouraged purchase of Huawei and Cambricon processors before Trumps move to allow Nvidia exports\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"China adds domestic AI chips to official procurement list for first time\\",\\n  \\"date\\": \\"Wed, 10 Dec 2025 01:15:01 GMT\\",\\n  \\"source\\": \\"FT Tech\\",\\n  \\"content\\": \\"Beijing encouraged purchase of Huawei and Cambricon processors before Trumps move to allow Nvidia exports\\",\\n  \\"url\\": \\"https://www.ft.com/content/83c6521e-fe42-49e2-a9fe-eda97168b316\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4474"},{"baseURL":"4414","fetchOptions":"4475"},{},["4476"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: UK watchdog bans social media ads promising ADHD and autism treatment\\nDate: Wed, 10 Dec 2025 00:01:00 GMT\\nSource: FT Tech\\nURL: https://www.ft.com/content/7511f62d-f888-4c60-954f-c931cacacafa\\nContent: Advertising Standards Authority issues enforcement notices related to 11 different supplements and tests\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"UK watchdog bans social media ads promising ADHD and autism treatment\\",\\n  \\"date\\": \\"Wed, 10 Dec 2025 00:01:00 GMT\\",\\n  \\"source\\": \\"FT Tech\\",\\n  \\"content\\": \\"Advertising Standards Authority issues enforcement notices related to 11 different supplements and tests\\",\\n  \\"url\\": \\"https://www.ft.com/content/7511f62d-f888-4c60-954f-c931cacacafa\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4477"},{"baseURL":"4414","fetchOptions":"4478"},{},["4479"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: FirstFT: China plans to limit access to Nvidias H200 chips despite Trump export approval\\nDate: Tue, 09 Dec 2025 21:35:10 GMT\\nSource: FT Tech\\nURL: https://www.ft.com/content/f072335b-d750-49c3-8bbf-69055c3d7e75\\nContent: Also in todays newsletter: Trump to kick off final round of Fed chair interviews, and BoJ governor says economy has weathered US tariffs\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"FirstFT: China plans to limit access to Nvidias H200 chips despite Trump export approval\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 21:35:10 GMT\\",\\n  \\"source\\": \\"FT Tech\\",\\n  \\"content\\": \\"Also in todays newsletter: Trump to kick off final round of Fed chair interviews, and BoJ governor says economy has weathered US tariffs\\",\\n  \\"url\\": \\"https://www.ft.com/content/f072335b-d750-49c3-8bbf-69055c3d7e75\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4480"},{"baseURL":"4414","fetchOptions":"4481"},{},["4482"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: China set to limit access to Nvidias H200 chips despite Trump export approval\\nDate: Tue, 09 Dec 2025 15:39:14 GMT\\nSource: FT Tech\\nURL: https://www.ft.com/content/c4e81a67-cd5b-48b4-9749-92ecf116313d\\nContent: Discussions among regulators come as Beijing seeks to achieve self-sufficiency in semiconductor production\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"China set to limit access to Nvidias H200 chips despite Trump export approval\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 15:39:14 GMT\\",\\n  \\"source\\": \\"FT Tech\\",\\n  \\"content\\": \\"Discussions among regulators come as Beijing seeks to achieve self-sufficiency in semiconductor production\\",\\n  \\"url\\": \\"https://www.ft.com/content/c4e81a67-cd5b-48b4-9749-92ecf116313d\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4483"},{"baseURL":"4414","fetchOptions":"4484"},{},["4485"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Is it a bubble?\\nDate: Tue, 09 Dec 2025 15:00:07 GMT\\nSource: FT Tech\\nURL: https://www.ft.com/content/353eda37-33b0-4d30-a912-a07607e278b8\\nContent: Given that the growth of demand for AI is so unpredictable, there can be no doubt investor behaviour is speculative\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Is it a bubble?\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 15:00:07 GMT\\",\\n  \\"source\\": \\"FT Tech\\",\\n  \\"content\\": \\"Given that the growth of demand for AI is so unpredictable, there can be no doubt investor behaviour is speculative\\",\\n  \\"url\\": \\"https://www.ft.com/content/353eda37-33b0-4d30-a912-a07607e278b8\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4486"},{"baseURL":"4414","fetchOptions":"4487"},{},["4488"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Nvidia can sell H200 AI chips to China, Trump says\\nDate: Tue, 09 Dec 2025 14:27:27 GMT\\nSource: FT Tech\\nURL: https://www.ft.com/content/ac63139d-5143-4aed-a1e4-980a06551b51\\nContent: President says other chipmakers can also resume exports and 25% will be paid to the US\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Nvidia can sell H200 AI chips to China, Trump says\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 14:27:27 GMT\\",\\n  \\"source\\": \\"FT Tech\\",\\n  \\"content\\": \\"President says other chipmakers can also resume exports and 25% will be paid to the US\\",\\n  \\"url\\": \\"https://www.ft.com/content/ac63139d-5143-4aed-a1e4-980a06551b51\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4489"},{"baseURL":"4414","fetchOptions":"4490"},{},["4491"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Trump decides to let Nvidia export powerful H200 chips to China\\nDate: Tue, 09 Dec 2025 14:00:08 GMT\\nSource: FT Tech\\nURL: https://www.ft.com/content/3a1f9360-3466-43f1-92a3-0c3647a8e15a\\nContent: Also in todays newsletter, the US warns the EU to be very careful after it fined Elon Musks X\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Trump decides to let Nvidia export powerful H200 chips to China\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 14:00:08 GMT\\",\\n  \\"source\\": \\"FT Tech\\",\\n  \\"content\\": \\"Also in todays newsletter, the US warns the EU to be very careful after it fined Elon Musks X\\",\\n  \\"url\\": \\"https://www.ft.com/content/3a1f9360-3466-43f1-92a3-0c3647a8e15a\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4492"},{"baseURL":"4414","fetchOptions":"4493"},{},["4494"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Trump is choosing the broligarchs over his base\\nDate: Tue, 09 Dec 2025 12:06:55 GMT\\nSource: FT Tech\\nURL: https://www.ft.com/content/8a2c87eb-dcab-43fb-9c26-5625aa93f3f9\\nContent: When historians assess this age of American populism, Silicon Valleys plutocrats will surely be judged its winners\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Trump is choosing the broligarchs over his base\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 12:06:55 GMT\\",\\n  \\"source\\": \\"FT Tech\\",\\n  \\"content\\": \\"When historians assess this age of American populism, Silicon Valleys plutocrats will surely be judged its winners\\",\\n  \\"url\\": \\"https://www.ft.com/content/8a2c87eb-dcab-43fb-9c26-5625aa93f3f9\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4495"},{"baseURL":"4414","fetchOptions":"4496"},{},["4497"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Nothing wants to make a dent in Apples universe\\nDate: Tue, 09 Dec 2025 05:00:31 GMT\\nSource: FT Tech\\nURL: https://www.ft.com/content/5ea14dc8-c9ea-42e7-9639-7c4a9b655b94\\nContent: A London-based smartphone maker valued at $1.3bn is slowly building a global brand  \\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Nothing wants to make a dent in Apples universe\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 05:00:31 GMT\\",\\n  \\"source\\": \\"FT Tech\\",\\n  \\"content\\": \\"A London-based smartphone maker valued at $1.3bn is slowly building a global brand  \\",\\n  \\"url\\": \\"https://www.ft.com/content/5ea14dc8-c9ea-42e7-9639-7c4a9b655b94\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4498"},{"baseURL":"4414","fetchOptions":"4499"},{},["4500"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: EU opens probe into Googles use of online content for AI models\\nDate: Tue, 09 Dec 2025 09:35:40 GMT\\nSource: FT Tech\\nURL: https://www.ft.com/content/598aee7c-0b8b-4777-bea2-4ef121dc8197\\nContent: Investigation is blocs latest challenge to US big tech companies\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"EU opens probe into Googles use of online content for AI models\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 09:35:40 GMT\\",\\n  \\"source\\": \\"FT Tech\\",\\n  \\"content\\": \\"Investigation is blocs latest challenge to US big tech companies\\",\\n  \\"url\\": \\"https://www.ft.com/content/598aee7c-0b8b-4777-bea2-4ef121dc8197\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4501"},{"baseURL":"4414","fetchOptions":"4502"},{},["4503"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: In-house legal teams test AI for automating more tasks\\nDate: Tue, 09 Dec 2025 05:00:23 GMT\\nSource: FT Tech\\nURL: https://www.ft.com/content/e5114ad0-66ca-4a12-a2fa-7c5944fbcf99\\nContent: Companies hope the technology will take on work usually sent to law firms. Plus: the top innovative in-house teams, North America 2025; and six case studies of corporate lawyers innovations\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"In-house legal teams test AI for automating more tasks\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 05:00:23 GMT\\",\\n  \\"source\\": \\"FT Tech\\",\\n  \\"content\\": \\"Companies hope the technology will take on work usually sent to law firms. Plus: the top innovative in-house teams, North America 2025; and six case studies of corporate lawyers innovations\\",\\n  \\"url\\": \\"https://www.ft.com/content/e5114ad0-66ca-4a12-a2fa-7c5944fbcf99\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4504"},{"baseURL":"4414","fetchOptions":"4505"},{},["4506"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Intrapreneurs: the hard yards that transform legal services  \\nDate: Tue, 09 Dec 2025 05:00:23 GMT\\nSource: FT Tech\\nURL: https://www.ft.com/content/4d0a9055-e2ab-467a-9b2b-a06989165b73\\nContent: Work that turns pioneering ideas and tools into breakthroughs\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Intrapreneurs: the hard yards that transform legal services  \\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 05:00:23 GMT\\",\\n  \\"source\\": \\"FT Tech\\",\\n  \\"content\\": \\"Work that turns pioneering ideas and tools into breakthroughs\\",\\n  \\"url\\": \\"https://www.ft.com/content/4d0a9055-e2ab-467a-9b2b-a06989165b73\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4507"},{"baseURL":"4414","fetchOptions":"4508"},{},["4509"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: AI turbocharges litigation powers\\nDate: Tue, 09 Dec 2025 05:00:10 GMT\\nSource: FT Tech\\nURL: https://www.ft.com/content/423e9bc4-227d-4bd4-87de-401132eb415a\\nContent: Artificial intelligenceis transforming legal work, but accuracy is seen as the greatest risk\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"AI turbocharges litigation powers\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 05:00:10 GMT\\",\\n  \\"source\\": \\"FT Tech\\",\\n  \\"content\\": \\"Artificial intelligenceis transforming legal work, but accuracy is seen as the greatest risk\\",\\n  \\"url\\": \\"https://www.ft.com/content/423e9bc4-227d-4bd4-87de-401132eb415a\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4510"},{"baseURL":"4414","fetchOptions":"4511"},{},["4512"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Chinas open-source AI is a national advantage\\nDate: Tue, 09 Dec 2025 01:00:06 GMT\\nSource: FT Tech\\nURL: https://www.ft.com/content/b1f92b0e-d6ef-4c95-b51e-7bcf90c8a65f\\nContent: The models are akin to studying together to ace a test instead of relying on individual knowledge\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Chinas open-source AI is a national advantage\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 01:00:06 GMT\\",\\n  \\"source\\": \\"FT Tech\\",\\n  \\"content\\": \\"The models are akin to studying together to ace a test instead of relying on individual knowledge\\",\\n  \\"url\\": \\"https://www.ft.com/content/b1f92b0e-d6ef-4c95-b51e-7bcf90c8a65f\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4513"},{"baseURL":"4414","fetchOptions":"4514"},{},["4515"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Data centre boom sparks deals rush \\nDate: Tue, 09 Dec 2025 05:00:10 GMT\\nSource: FT Tech\\nURL: https://www.ft.com/content/42f3dec5-b8dc-49a2-aa5c-0e62ab529173\\nContent: Frenetic hyperscaler activity in US demands extensive legal support\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Data centre boom sparks deals rush \\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 05:00:10 GMT\\",\\n  \\"source\\": \\"FT Tech\\",\\n  \\"content\\": \\"Frenetic hyperscaler activity in US demands extensive legal support\\",\\n  \\"url\\": \\"https://www.ft.com/content/42f3dec5-b8dc-49a2-aa5c-0e62ab529173\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4516"},{"baseURL":"4414","fetchOptions":"4517"},{},["4518"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: The countdown to the worlds first social media ban for children\\nDate: Tue, 09 Dec 2025 00:25:29 GMT\\nSource: FT Tech\\nURL: https://www.ft.com/content/e93ab2b2-868f-441f-bbec-0af4fa3edeb5\\nContent: Under-16s will no longer be able to subscribe to popular apps under groundbreaking Australian law\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"The countdown to the worlds first social media ban for children\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 00:25:29 GMT\\",\\n  \\"source\\": \\"FT Tech\\",\\n  \\"content\\": \\"Under-16s will no longer be able to subscribe to popular apps under groundbreaking Australian law\\",\\n  \\"url\\": \\"https://www.ft.com/content/e93ab2b2-868f-441f-bbec-0af4fa3edeb5\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4519"},{"baseURL":"4414","fetchOptions":"4520"},{},["4521"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Inside Paramounts $108bn hostile bid for Warner Bros \\nDate: Mon, 08 Dec 2025 21:13:51 GMT\\nSource: FT Tech\\nURL: https://www.ft.com/content/e5da7064-3a46-4bab-9a6c-12ae03eead16\\nContent: Ellisons approach was rebuffed over concerns about financial backing from China and Middle East sovereign funds \\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Inside Paramounts $108bn hostile bid for Warner Bros \\",\\n  \\"date\\": \\"Mon, 08 Dec 2025 21:13:51 GMT\\",\\n  \\"source\\": \\"FT Tech\\",\\n  \\"content\\": \\"Ellisons approach was rebuffed over concerns about financial backing from China and Middle East sovereign funds \\",\\n  \\"url\\": \\"https://www.ft.com/content/e5da7064-3a46-4bab-9a6c-12ae03eead16\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4522"},{"baseURL":"4414","fetchOptions":"4523"},{},["4524"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Paramount gatecrashes Warner Bros-Netflix deal \\nDate: Mon, 08 Dec 2025 20:55:52 GMT\\nSource: FT Tech\\nURL: https://www.ft.com/content/7981af0e-ad93-4c11-8c1c-09b0167bf4d6\\nContent: Jared Kushner and Middle East funds assist with all-cash offer\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Paramount gatecrashes Warner Bros-Netflix deal \\",\\n  \\"date\\": \\"Mon, 08 Dec 2025 20:55:52 GMT\\",\\n  \\"source\\": \\"FT Tech\\",\\n  \\"content\\": \\"Jared Kushner and Middle East funds assist with all-cash offer\\",\\n  \\"url\\": \\"https://www.ft.com/content/7981af0e-ad93-4c11-8c1c-09b0167bf4d6\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4525"},{"baseURL":"4414","fetchOptions":"4526"},{},["4527"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: IBM extends AI push with $11bn takeover of Confluent\\nDate: Mon, 08 Dec 2025 20:20:36 GMT\\nSource: FT Tech\\nURL: https://www.ft.com/content/8112d77f-2531-400f-b947-b506fe3c6b3f\\nContent: Chief says deal with data streaming platform will allow company to deploy generative artificial intelligence faster\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"IBM extends AI push with $11bn takeover of Confluent\\",\\n  \\"date\\": \\"Mon, 08 Dec 2025 20:20:36 GMT\\",\\n  \\"source\\": \\"FT Tech\\",\\n  \\"content\\": \\"Chief says deal with data streaming platform will allow company to deploy generative artificial intelligence faster\\",\\n  \\"url\\": \\"https://www.ft.com/content/8112d77f-2531-400f-b947-b506fe3c6b3f\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4528"},{"baseURL":"4414","fetchOptions":"4529"},{},["4530"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: The Netflix age has been great for consumers but terrible for artists\\nDate: Mon, 08 Dec 2025 17:21:59 GMT\\nSource: FT Tech\\nURL: https://www.ft.com/content/b49cd2de-f95d-47d3-bba0-cdb619176a84\\nContent: Returns to musicians and writers are dwindling fast\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"The Netflix age has been great for consumers but terrible for artists\\",\\n  \\"date\\": \\"Mon, 08 Dec 2025 17:21:59 GMT\\",\\n  \\"source\\": \\"FT Tech\\",\\n  \\"content\\": \\"Returns to musicians and writers are dwindling fast\\",\\n  \\"url\\": \\"https://www.ft.com/content/b49cd2de-f95d-47d3-bba0-cdb619176a84\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4531"},{"baseURL":"4414","fetchOptions":"4532"},{},["4533"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Googles TPU chip puts OpenAI on alert and shakes Nvidia investors\\nDate: Mon, 08 Dec 2025 14:07:10 GMT\\nSource: FT Tech\\nURL: https://www.ft.com/content/d8585870-17a5-43a0-95ef-cbebb1995107\\nContent: AI advances made through groups custom processor hit Nvidias stock and prompt ChatGPT maker to declare code red \\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Googles TPU chip puts OpenAI on alert and shakes Nvidia investors\\",\\n  \\"date\\": \\"Mon, 08 Dec 2025 14:07:10 GMT\\",\\n  \\"source\\": \\"FT Tech\\",\\n  \\"content\\": \\"AI advances made through groups custom processor hit Nvidias stock and prompt ChatGPT maker to declare code red \\",\\n  \\"url\\": \\"https://www.ft.com/content/d8585870-17a5-43a0-95ef-cbebb1995107\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4534"},{"baseURL":"4414","fetchOptions":"4535"},{},["4536"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: The State of AI: life in 2030 \\nDate: Mon, 08 Dec 2025 17:00:05 GMT\\nSource: FT Tech\\nURL: https://www.ft.com/content/5bff1202-b2ce-439a-8687-8f8b919c683e\\nContent: Expect a world of robots, robotaxis and AI haves and have-nots \\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"The State of AI: life in 2030 \\",\\n  \\"date\\": \\"Mon, 08 Dec 2025 17:00:05 GMT\\",\\n  \\"source\\": \\"FT Tech\\",\\n  \\"content\\": \\"Expect a world of robots, robotaxis and AI haves and have-nots \\",\\n  \\"url\\": \\"https://www.ft.com/content/5bff1202-b2ce-439a-8687-8f8b919c683e\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4537"},{"baseURL":"4414","fetchOptions":"4538"},{},["4539"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Trump to issue executive order for single federal rule on AI regulation\\nDate: Mon, 08 Dec 2025 14:03:51 GMT\\nSource: FT Tech\\nURL: https://www.ft.com/content/47d54ca4-2ea3-4519-b860-e466ee7802b6\\nContent: Move to prevent individual US states from regulating tech groups opposed by some Republican senators\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Trump to issue executive order for single federal rule on AI regulation\\",\\n  \\"date\\": \\"Mon, 08 Dec 2025 14:03:51 GMT\\",\\n  \\"source\\": \\"FT Tech\\",\\n  \\"content\\": \\"Move to prevent individual US states from regulating tech groups opposed by some Republican senators\\",\\n  \\"url\\": \\"https://www.ft.com/content/47d54ca4-2ea3-4519-b860-e466ee7802b6\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4540"},{"baseURL":"4414","fetchOptions":"4541"},{},["4542"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: App delivery drivers battle dynamic wages and uncertain finances\\nDate: Mon, 08 Dec 2025 12:32:45 GMT\\nSource: FT Tech\\nURL: https://www.ft.com/content/df480a7b-01c7-4507-b9a9-68d47fa008f0\\nContent: Algorithmic pay systems test gig workers personal finance survival skills\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"App delivery drivers battle dynamic wages and uncertain finances\\",\\n  \\"date\\": \\"Mon, 08 Dec 2025 12:32:45 GMT\\",\\n  \\"source\\": \\"FT Tech\\",\\n  \\"content\\": \\"Algorithmic pay systems test gig workers personal finance survival skills\\",\\n  \\"url\\": \\"https://www.ft.com/content/df480a7b-01c7-4507-b9a9-68d47fa008f0\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4543"},{"baseURL":"4414","fetchOptions":"4544"},{},["4545"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Meta offers EU users ad-light option in push to end investigation\\nDate: Mon, 08 Dec 2025 12:24:38 GMT\\nSource: FT Tech\\nURL: https://www.ft.com/content/39b9d90c-0629-4dfc-8a2b-c52f1f503f38\\nContent: Facebook agrees changes to pay or consent model after talks with European Commission\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Meta offers EU users ad-light option in push to end investigation\\",\\n  \\"date\\": \\"Mon, 08 Dec 2025 12:24:38 GMT\\",\\n  \\"source\\": \\"FT Tech\\",\\n  \\"content\\": \\"Facebook agrees changes to pay or consent model after talks with European Commission\\",\\n  \\"url\\": \\"https://www.ft.com/content/39b9d90c-0629-4dfc-8a2b-c52f1f503f38\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4546"},{"baseURL":"4414","fetchOptions":"4547"},{},["4548"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Key U.S. Senator on Crypto Bill, Lummis, Negotiating Dicey Points With White House\\nDate: Tue, 09 Dec 2025 23:46:56 +0000\\nSource: CoinDesk\\nURL: https://www.coindesk.com/policy/2025/12/09/key-u-s-senator-on-crypto-bill-lummis-negotiating-dicey-points-with-white-house\\nContent: The Republican lawmaker who is among the core negotiators on the U.S. market structure bill said the White House has rejected some ethics language. \\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Key U.S. Senator on Crypto Bill, Lummis, Negotiating Dicey Points With White House\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 23:46:56 +0000\\",\\n  \\"source\\": \\"CoinDesk\\",\\n  \\"content\\": \\"The Republican lawmaker who is among the core negotiators on the U.S. market structure bill said the White House has rejected some ethics language. \\",\\n  \\"url\\": \\"https://www.coindesk.com/policy/2025/12/09/key-u-s-senator-on-crypto-bill-lummis-negotiating-dicey-points-with-white-house\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4549"},{"baseURL":"4414","fetchOptions":"4550"},{},["4551"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Bitcoin Holds Near $92K as Selling Cools, but Demand Still Lags\\nDate: Wed, 10 Dec 2025 02:12:50 +0000\\nSource: CoinDesk\\nURL: https://www.coindesk.com/markets/2025/12/10/bitcoin-holds-near-usd92k-as-selling-cools-but-demand-still-lags\\nContent: ETF inflows have finally turned positive, but weak on-chain activity, defensive derivatives positioning, and negative spot CVD show a market stabilizing without the conviction needed for a sustained move higher.\\n\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Bitcoin Holds Near $92K as Selling Cools, but Demand Still Lags\\",\\n  \\"date\\": \\"Wed, 10 Dec 2025 02:12:50 +0000\\",\\n  \\"source\\": \\"CoinDesk\\",\\n  \\"content\\": \\"ETF inflows have finally turned positive, but weak on-chain activity, defensive derivatives positioning, and negative spot CVD show a market stabilizing without the conviction needed for a sustained move higher.\\n\\",\\n  \\"url\\": \\"https://www.coindesk.com/markets/2025/12/10/bitcoin-holds-near-usd92k-as-selling-cools-but-demand-still-lags\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4552"},{"baseURL":"4414","fetchOptions":"4553"},{},["4554"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Proposed AfterDark Bitcoin ETF Would Skip U.S. Trading Hours\\nDate: Tue, 09 Dec 2025 20:57:44 +0000\\nSource: CoinDesk\\nURL: https://www.coindesk.com/markets/2025/12/09/nicholas-proposes-afterdark-bitcoin-etf-that-skips-u-s-trading-hours\\nContent: The fund would hold bitcoin only overnight, betting on data showing bitcon gains mostly occur outside regular market hours.\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Proposed AfterDark Bitcoin ETF Would Skip U.S. Trading Hours\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 20:57:44 +0000\\",\\n  \\"source\\": \\"CoinDesk\\",\\n  \\"content\\": \\"The fund would hold bitcoin only overnight, betting on data showing bitcon gains mostly occur outside regular market hours.\\",\\n  \\"url\\": \\"https://www.coindesk.com/markets/2025/12/09/nicholas-proposes-afterdark-bitcoin-etf-that-skips-u-s-trading-hours\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4555"},{"baseURL":"4414","fetchOptions":"4556"},{},["4557"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Dogecoin Surges as Ether Zooms 8%, Sparking Bullish Reversal For Memecoins\\nDate: Tue, 09 Dec 2025 19:27:47 +0000\\nSource: CoinDesk\\nURL: https://www.coindesk.com/markets/2025/12/10/dogecoin-surges-as-ether-zooms-8-sparking-bullish-reversal-for-memecoins\\nContent: The breakout now sets up a clean continuation zoneprovided bulls defend the mid-range pivot they just reclaimed.\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Dogecoin Surges as Ether Zooms 8%, Sparking Bullish Reversal For Memecoins\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 19:27:47 +0000\\",\\n  \\"source\\": \\"CoinDesk\\",\\n  \\"content\\": \\"The breakout now sets up a clean continuation zoneprovided bulls defend the mid-range pivot they just reclaimed.\\",\\n  \\"url\\": \\"https://www.coindesk.com/markets/2025/12/10/dogecoin-surges-as-ether-zooms-8-sparking-bullish-reversal-for-memecoins\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4558"},{"baseURL":"4414","fetchOptions":"4559"},{},["4560"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: XRP Underperforms Market as Sudden Bitcoin Surge Forces $387M of Liquidations\\nDate: Tue, 09 Dec 2025 19:36:41 +0000\\nSource: CoinDesk\\nURL: https://www.coindesk.com/markets/2025/12/10/xrp-underperforms-market-as-sudden-bitcoin-surge-ends-up-in-usd387m-liquidations\\nContent: XRP's technical outlook remains uncertain, with support at $2.05 and resistance at $2.17, as traders watch for volume expansion\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"XRP Underperforms Market as Sudden Bitcoin Surge Forces $387M of Liquidations\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 19:36:41 +0000\\",\\n  \\"source\\": \\"CoinDesk\\",\\n  \\"content\\": \\"XRP's technical outlook remains uncertain, with support at $2.05 and resistance at $2.17, as traders watch for volume expansion\\",\\n  \\"url\\": \\"https://www.coindesk.com/markets/2025/12/10/xrp-underperforms-market-as-sudden-bitcoin-surge-ends-up-in-usd387m-liquidations\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4561"},{"baseURL":"4414","fetchOptions":"4562"},{},["4563"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Aptos Rises 8% After Breaking Through $1.80 Resistance\\nDate: Tue, 09 Dec 2025 18:50:32 +0000\\nSource: CoinDesk\\nURL: https://www.coindesk.com/markets/2025/12/09/aptos-rises-8-after-breaking-through-usd1-80-resistance\\nContent: Strong volume and technical momentum distinguished APT's gains from the broader market action.\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Aptos Rises 8% After Breaking Through $1.80 Resistance\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 18:50:32 +0000\\",\\n  \\"source\\": \\"CoinDesk\\",\\n  \\"content\\": \\"Strong volume and technical momentum distinguished APT's gains from the broader market action.\\",\\n  \\"url\\": \\"https://www.coindesk.com/markets/2025/12/09/aptos-rises-8-after-breaking-through-usd1-80-resistance\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4564"},{"baseURL":"4414","fetchOptions":"4565"},{},["4566"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Ether Surges 8%, Outpacing Bitcoin Gains Amid Staking ETF, Tokenization Optimism\\nDate: Tue, 09 Dec 2025 18:47:33 +0000\\nSource: CoinDesk\\nURL: https://www.coindesk.com/markets/2025/12/09/ether-surges-8-outpacing-bitcoin-gains-amid-staking-etf-tokenization-optimism\\nContent: BlackRock's filing for a staking ether ETF earlier this week has contributed to ETH's relative strength to bitcoin, one market strategist noted.\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Ether Surges 8%, Outpacing Bitcoin Gains Amid Staking ETF, Tokenization Optimism\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 18:47:33 +0000\\",\\n  \\"source\\": \\"CoinDesk\\",\\n  \\"content\\": \\"BlackRock's filing for a staking ether ETF earlier this week has contributed to ETH's relative strength to bitcoin, one market strategist noted.\\",\\n  \\"url\\": \\"https://www.coindesk.com/markets/2025/12/09/ether-surges-8-outpacing-bitcoin-gains-amid-staking-etf-tokenization-optimism\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4567"},{"baseURL":"4414","fetchOptions":"4568"},{},["4569"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: SEC Approves U.S. Second Crypto Index ETP with Bitwises BITW\\nDate: Tue, 09 Dec 2025 17:20:14 +0000\\nSource: CoinDesk\\nURL: https://www.coindesk.com/policy/2025/12/09/sec-approves-u-s-second-crypto-index-etp-with-bitwise-s-bitw\\nContent: The Bitwise 10 Crypto Index Fund now trades on NYSE Arca, joining the ranks of gold and oil funds in regulated exchange products.\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"SEC Approves U.S. Second Crypto Index ETP with Bitwises BITW\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 17:20:14 +0000\\",\\n  \\"source\\": \\"CoinDesk\\",\\n  \\"content\\": \\"The Bitwise 10 Crypto Index Fund now trades on NYSE Arca, joining the ranks of gold and oil funds in regulated exchange products.\\",\\n  \\"url\\": \\"https://www.coindesk.com/policy/2025/12/09/sec-approves-u-s-second-crypto-index-etp-with-bitwise-s-bitw\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4570"},{"baseURL":"4414","fetchOptions":"4571"},{},["4572"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Michael Saylor Urges Middle East to Become the 'Switzerland of Bitcoin Banking'\\nDate: Tue, 09 Dec 2025 17:01:24 +0000\\nSource: CoinDesk\\nURL: https://www.coindesk.com/markets/2025/12/09/saylor-jpm-citi-and-schwab-are-starting-issue-credit-lines-backed-by-bitcoin\\nContent: The executive chairman of Strategy pitched BTC-backed banking and yield products as a $200 trillion opportunity at the Bitcoin MENA conference.\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Michael Saylor Urges Middle East to Become the 'Switzerland of Bitcoin Banking'\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 17:01:24 +0000\\",\\n  \\"source\\": \\"CoinDesk\\",\\n  \\"content\\": \\"The executive chairman of Strategy pitched BTC-backed banking and yield products as a $200 trillion opportunity at the Bitcoin MENA conference.\\",\\n  \\"url\\": \\"https://www.coindesk.com/markets/2025/12/09/saylor-jpm-citi-and-schwab-are-starting-issue-credit-lines-backed-by-bitcoin\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4573"},{"baseURL":"4414","fetchOptions":"4574"},{},["4575"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Cascade Unveils 24/7 Neo-Brokerage Offering Perpetuals on Cryptos, U.S. Stocks \\nDate: Tue, 09 Dec 2025 17:00:00 +0000\\nSource: CoinDesk\\nURL: https://www.coindesk.com/business/2025/12/09/cascade-unveils-247-neo-brokerage-offering-perpetuals-on-cryptos-us-stocks\\nContent: The platform will let retail traders use one margin account to trade round-the-clock perpetual markets.\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Cascade Unveils 24/7 Neo-Brokerage Offering Perpetuals on Cryptos, U.S. Stocks \\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 17:00:00 +0000\\",\\n  \\"source\\": \\"CoinDesk\\",\\n  \\"content\\": \\"The platform will let retail traders use one margin account to trade round-the-clock perpetual markets.\\",\\n  \\"url\\": \\"https://www.coindesk.com/business/2025/12/09/cascade-unveils-247-neo-brokerage-offering-perpetuals-on-cryptos-us-stocks\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4576"},{"baseURL":"4414","fetchOptions":"4577"},{},["4578"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Bitcoin Surges to $94K One Day Ahead of Expected Fed Rate Cut\\nDate: Tue, 09 Dec 2025 16:47:56 +0000\\nSource: CoinDesk\\nURL: https://www.coindesk.com/markets/2025/12/09/bitcoin-surges-to-usd94k-one-day-ahead-of-expected-fed-rate-cut\\nContent: The change from what's become typical bearish U.S. session action could signal seller exhaustion.\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Bitcoin Surges to $94K One Day Ahead of Expected Fed Rate Cut\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 16:47:56 +0000\\",\\n  \\"source\\": \\"CoinDesk\\",\\n  \\"content\\": \\"The change from what's become typical bearish U.S. session action could signal seller exhaustion.\\",\\n  \\"url\\": \\"https://www.coindesk.com/markets/2025/12/09/bitcoin-surges-to-usd94k-one-day-ahead-of-expected-fed-rate-cut\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4579"},{"baseURL":"4414","fetchOptions":"4580"},{},["4581"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Stripe-Backed Blockchain Tempo Starts Testnet; Kalshi, Mastercard, UBS Added as Partners\\nDate: Tue, 09 Dec 2025 15:49:04 +0000\\nSource: CoinDesk\\nURL: https://www.coindesk.com/tech/2025/12/09/stripe-backed-blockchain-tempo-starts-testnet-kalshi-mastercard-ubs-added-as-partners\\nContent: Tempo, built by Stripe and Paradigm, has started testing payment-focused blockchain and has onboard a slew of institutional partners.\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Stripe-Backed Blockchain Tempo Starts Testnet; Kalshi, Mastercard, UBS Added as Partners\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 15:49:04 +0000\\",\\n  \\"source\\": \\"CoinDesk\\",\\n  \\"content\\": \\"Tempo, built by Stripe and Paradigm, has started testing payment-focused blockchain and has onboard a slew of institutional partners.\\",\\n  \\"url\\": \\"https://www.coindesk.com/tech/2025/12/09/stripe-backed-blockchain-tempo-starts-testnet-kalshi-mastercard-ubs-added-as-partners\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4582"},{"baseURL":"4414","fetchOptions":"4583"},{},["4584"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Do Kwon Judge Demands Answers Before Sentencing Over Assurance Hell Serve Time\\nDate: Tue, 09 Dec 2025 15:48:15 +0000\\nSource: CoinDesk\\nURL: https://www.coindesk.com/policy/2025/12/09/do-kwon-judge-demands-answers-before-sentencing-over-assurance-he-ll-serve-time\\nContent: Judge asked whether Kwon might be freed abroad and asked for details on victims, time-served credit and unresolved charges ahead of sentencing.\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Do Kwon Judge Demands Answers Before Sentencing Over Assurance Hell Serve Time\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 15:48:15 +0000\\",\\n  \\"source\\": \\"CoinDesk\\",\\n  \\"content\\": \\"Judge asked whether Kwon might be freed abroad and asked for details on victims, time-served credit and unresolved charges ahead of sentencing.\\",\\n  \\"url\\": \\"https://www.coindesk.com/policy/2025/12/09/do-kwon-judge-demands-answers-before-sentencing-over-assurance-he-ll-serve-time\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4585"},{"baseURL":"4414","fetchOptions":"4586"},{},["4587"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Bitcoin Treasury Company Twenty One Drops 25% in NYSE Debut, Trades Near PIPE Pricing of $10\\nDate: Tue, 09 Dec 2025 15:30:12 +0000\\nSource: CoinDesk\\nURL: https://www.coindesk.com/markets/2025/12/09/bitcoin-treasury-company-twenty-one-drops-25-in-nyse-debut-trades-near-pipe-pricing-of-usd10\\nContent: The company is led by Strike CEO Jack Mallers and began trading under the XXI ticker today following its SPAC merger with Cantor Equity Partners.\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Bitcoin Treasury Company Twenty One Drops 25% in NYSE Debut, Trades Near PIPE Pricing of $10\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 15:30:12 +0000\\",\\n  \\"source\\": \\"CoinDesk\\",\\n  \\"content\\": \\"The company is led by Strike CEO Jack Mallers and began trading under the XXI ticker today following its SPAC merger with Cantor Equity Partners.\\",\\n  \\"url\\": \\"https://www.coindesk.com/markets/2025/12/09/bitcoin-treasury-company-twenty-one-drops-25-in-nyse-debut-trades-near-pipe-pricing-of-usd10\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4588"},{"baseURL":"4414","fetchOptions":"4589"},{},["4590"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Will the ETF Era Usher in the End of Crypto Tribalism?\\nDate: Tue, 09 Dec 2025 15:26:18 +0000\\nSource: CoinDesk\\nURL: https://www.coindesk.com/coindesk-indices/2025/12/09/will-the-etf-era-usher-in-the-end-of-crypto-tribalism\\nContent: There was once a time when you picked a side  the token you were excited about. But crypto has become one of the fastest-growing asset classes of the last decade. Soon, it seems, youll just pick an allocation. But will that take the fun out of crypto?\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Will the ETF Era Usher in the End of Crypto Tribalism?\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 15:26:18 +0000\\",\\n  \\"source\\": \\"CoinDesk\\",\\n  \\"content\\": \\"There was once a time when you picked a side  the token you were excited about. But crypto has become one of the fastest-growing asset classes of the last decade. Soon, it seems, youll just pick an allocation. But will that take the fun out of crypto?\\",\\n  \\"url\\": \\"https://www.coindesk.com/coindesk-indices/2025/12/09/will-the-etf-era-usher-in-the-end-of-crypto-tribalism\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4591"},{"baseURL":"4414","fetchOptions":"4592"},{},["4593"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Most Influential: Brandon and Howard Lutnick\\nDate: Tue, 09 Dec 2025 15:00:00 +0000\\nSource: CoinDesk\\nURL: https://www.coindesk.com/business/2025/12/09/most-influential-brandon-and-howard-lutnick\\nContent: The world's biggest stablecoin issuer struggled to maintain banking relationships for a few years and faced accusations it wasn't fully backing its circulating tokens  then one of the world's biggest financial firms, Cantor Fitzgerald, became its custodian. \\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Most Influential: Brandon and Howard Lutnick\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 15:00:00 +0000\\",\\n  \\"source\\": \\"CoinDesk\\",\\n  \\"content\\": \\"The world's biggest stablecoin issuer struggled to maintain banking relationships for a few years and faced accusations it wasn't fully backing its circulating tokens  then one of the world's biggest financial firms, Cantor Fitzgerald, became its custodian. \\",\\n  \\"url\\": \\"https://www.coindesk.com/business/2025/12/09/most-influential-brandon-and-howard-lutnick\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4594"},{"baseURL":"4414","fetchOptions":"4595"},{},["4596"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Most Influential: Don Jr., Eric and Barron Trump\\nDate: Tue, 09 Dec 2025 15:00:00 +0000\\nSource: CoinDesk\\nURL: https://www.coindesk.com/policy/2025/12/09/most-influential-don-jr-eric-and-barron-trump\\nContent: The sons of U.S. President Donald Trump have capitalized on their family name and cryptos political momentum, carving out a profitable niche for themselves in the booming industry. \\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Most Influential: Don Jr., Eric and Barron Trump\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 15:00:00 +0000\\",\\n  \\"source\\": \\"CoinDesk\\",\\n  \\"content\\": \\"The sons of U.S. President Donald Trump have capitalized on their family name and cryptos political momentum, carving out a profitable niche for themselves in the booming industry. \\",\\n  \\"url\\": \\"https://www.coindesk.com/policy/2025/12/09/most-influential-don-jr-eric-and-barron-trump\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4597"},{"baseURL":"4414","fetchOptions":"4598"},{},["4599"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Most Influential: Paolo Ardoino\\nDate: Tue, 09 Dec 2025 15:00:00 +0000\\nSource: CoinDesk\\nURL: https://www.coindesk.com/business/2025/12/09/most-influential-paolo-ardoino\\nContent: The CEO of Tether is turning the stablecoin into a global financial force.\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Most Influential: Paolo Ardoino\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 15:00:00 +0000\\",\\n  \\"source\\": \\"CoinDesk\\",\\n  \\"content\\": \\"The CEO of Tether is turning the stablecoin into a global financial force.\\",\\n  \\"url\\": \\"https://www.coindesk.com/business/2025/12/09/most-influential-paolo-ardoino\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4600"},{"baseURL":"4414","fetchOptions":"4601"},{},["4602"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Most Influential: Bo Hines\\nDate: Tue, 09 Dec 2025 15:00:00 +0000\\nSource: CoinDesk\\nURL: https://www.coindesk.com/policy/2025/12/09/most-influential-bo-hines\\nContent: President Donald Trump tapped a former college football player to run offense on his digital assets agenda.\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Most Influential: Bo Hines\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 15:00:00 +0000\\",\\n  \\"source\\": \\"CoinDesk\\",\\n  \\"content\\": \\"President Donald Trump tapped a former college football player to run offense on his digital assets agenda.\\",\\n  \\"url\\": \\"https://www.coindesk.com/policy/2025/12/09/most-influential-bo-hines\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4603"},{"baseURL":"4414","fetchOptions":"4604"},{},["4605"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Most Influential: Cameron and Tyler Winklevoss \\nDate: Tue, 09 Dec 2025 15:00:00 +0000\\nSource: CoinDesk\\nURL: https://www.coindesk.com/policy/2025/12/09/most-influential-cameron-and-tyler-winklevoss\\nContent: The U.S. Presidents choice to run the CFTC seemed set to sail through Congress, until Tyler and Cameron Winklevoss stepped in.\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Most Influential: Cameron and Tyler Winklevoss \\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 15:00:00 +0000\\",\\n  \\"source\\": \\"CoinDesk\\",\\n  \\"content\\": \\"The U.S. Presidents choice to run the CFTC seemed set to sail through Congress, until Tyler and Cameron Winklevoss stepped in.\\",\\n  \\"url\\": \\"https://www.coindesk.com/policy/2025/12/09/most-influential-cameron-and-tyler-winklevoss\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4606"},{"baseURL":"4414","fetchOptions":"4607"},{},["4608"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: Regulatory Battle Over Tokenized U.S. Stocks Escalates, HSBC Says\\nDate: Tue, 09 Dec 2025 14:51:00 +0000\\nSource: CoinDesk\\nURL: https://www.coindesk.com/policy/2025/12/09/regulatory-battle-over-tokenized-us-stocks-escalates-hsbc-says\\nContent: Citadel Securities has urged the SEC to treat decentralized finance trading venues like traditional exchanges,  a stance facing opposition from the crypto industry.\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"Regulatory Battle Over Tokenized U.S. Stocks Escalates, HSBC Says\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 14:51:00 +0000\\",\\n  \\"source\\": \\"CoinDesk\\",\\n  \\"content\\": \\"Citadel Securities has urged the SEC to treat decentralized finance trading venues like traditional exchanges,  a stance facing opposition from the crypto industry.\\",\\n  \\"url\\": \\"https://www.coindesk.com/policy/2025/12/09/regulatory-battle-over-tokenized-us-stocks-escalates-hsbc-says\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4609"},{"baseURL":"4414","fetchOptions":"4610"},{},["4611"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: TON Token Yearly Loss Nears 72%, but Potential Reversal Signs Emerge\\nDate: Tue, 09 Dec 2025 14:49:32 +0000\\nSource: CoinDesk\\nURL: https://www.coindesk.com/markets/2025/12/09/ton-token-yearly-loss-nears-72-but-potential-reversal-signs-emerge\\nContent: The token's price found support at $1.6025, which held firm despite initial selling pressure, and has since shown signs of a potential reversal.\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"TON Token Yearly Loss Nears 72%, but Potential Reversal Signs Emerge\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 14:49:32 +0000\\",\\n  \\"source\\": \\"CoinDesk\\",\\n  \\"content\\": \\"The token's price found support at $1.6025, which held firm despite initial selling pressure, and has since shown signs of a potential reversal.\\",\\n  \\"url\\": \\"https://www.coindesk.com/markets/2025/12/09/ton-token-yearly-loss-nears-72-but-potential-reversal-signs-emerge\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4612"},{"baseURL":"4414","fetchOptions":"4613"},{},["4614"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: CoinDesk 20 Performance Update: Uniswap (UNI) Falls 1.6% as Index Trades Lower  \\nDate: Tue, 09 Dec 2025 14:24:41 +0000\\nSource: CoinDesk\\nURL: https://www.coindesk.com/coindesk-indices/2025/12/09/coindesk-20-performance-update-uniswap-uni-falls-1-6-as-index-trades-lower\\nContent: Aave (AAVE) was also among the underperformers, declining 1.2% from Monday.\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"CoinDesk 20 Performance Update: Uniswap (UNI) Falls 1.6% as Index Trades Lower  \\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 14:24:41 +0000\\",\\n  \\"source\\": \\"CoinDesk\\",\\n  \\"content\\": \\"Aave (AAVE) was also among the underperformers, declining 1.2% from Monday.\\",\\n  \\"url\\": \\"https://www.coindesk.com/coindesk-indices/2025/12/09/coindesk-20-performance-update-uniswap-uni-falls-1-6-as-index-trades-lower\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4615"},{"baseURL":"4414","fetchOptions":"4616"},{},["4617"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: PNC Bank Rolls Out Spot Bitcoin Access for Private Clients After 2025 Reveal\\nDate: Tue, 09 Dec 2025 14:07:54 +0000\\nSource: CoinDesk\\nURL: https://www.coindesk.com/business/2025/12/09/pnc-bank-rolls-out-spot-bitcoin-access-for-private-clients-after-2025-reveal\\nContent: The Coinbase-backed feature, first announced in July, lets PNC clients buy, sell and hold bitcoin directly in their digital banking accounts.\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"PNC Bank Rolls Out Spot Bitcoin Access for Private Clients After 2025 Reveal\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 14:07:54 +0000\\",\\n  \\"source\\": \\"CoinDesk\\",\\n  \\"content\\": \\"The Coinbase-backed feature, first announced in July, lets PNC clients buy, sell and hold bitcoin directly in their digital banking accounts.\\",\\n  \\"url\\": \\"https://www.coindesk.com/business/2025/12/09/pnc-bank-rolls-out-spot-bitcoin-access-for-private-clients-after-2025-reveal\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4618"},{"baseURL":"4414","fetchOptions":"4619"},{},["4620"],"System: You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields.\\nHuman: Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: A16z-Backed Daylight Brings Electricity Markets Onchain With New DeFi Protocol\\nDate: Tue, 09 Dec 2025 14:09:51 +0000\\nSource: CoinDesk\\nURL: https://www.coindesk.com/business/2025/12/08/a16z-backed-daylight-brings-electricity-markets-onchain-with-new-defi-protocol\\nContent: The DayFi protocol aims to turn electricity cash flows into a crypto-native yield product, bridging capital to new solar power installations.\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"A16z-Backed Daylight Brings Electricity Markets Onchain With New DeFi Protocol\\",\\n  \\"date\\": \\"Tue, 09 Dec 2025 14:09:51 +0000\\",\\n  \\"source\\": \\"CoinDesk\\",\\n  \\"content\\": \\"The DayFi protocol aims to turn electricity cash flows into a crypto-native yield product, bridging capital to new solar power installations.\\",\\n  \\"url\\": \\"https://www.coindesk.com/business/2025/12/08/a16z-backed-daylight-brings-electricity-markets-onchain-with-new-defi-protocol\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}\\nYou must format your output as a JSON value that adheres to a given \\"JSON Schema\\" instance.\\n\\n\\"JSON Schema\\" is a declarative language that allows you to annotate and validate JSON documents.\\n\\nFor example, the example \\"JSON Schema\\" instance {{\\"properties\\": {{\\"foo\\": {{\\"description\\": \\"a list of test words\\", \\"type\\": \\"array\\", \\"items\\": {{\\"type\\": \\"string\\"}}}}}}, \\"required\\": [\\"foo\\"]}}}}\\nwould match an object with one required property, \\"foo\\". The \\"type\\" property specifies \\"foo\\" must be an \\"array\\", and the \\"description\\" property semantically describes it as \\"a list of test words\\". The items within \\"foo\\" must be strings.\\nThus, the object {{\\"foo\\": [\\"bar\\", \\"baz\\"]}} is a well-formatted instance of this example \\"JSON Schema\\". The object {{\\"properties\\": {{\\"foo\\": [\\"bar\\", \\"baz\\"]}}}} is not well-formatted.\\n\\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\\n\\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\\n```json\\n{\\"type\\":\\"object\\",\\"properties\\":{\\"output\\":{\\"type\\":\\"object\\",\\"properties\\":{\\"title\\":{\\"type\\":\\"string\\"},\\"url\\":{\\"type\\":\\"string\\"},\\"date\\":{\\"type\\":\\"string\\"},\\"source\\":{\\"type\\":\\"string\\"},\\"content\\":{\\"type\\":\\"string\\"},\\"topic\\":{\\"type\\":\\"string\\"},\\"tone\\":{\\"type\\":\\"string\\"},\\"category\\":{\\"type\\":\\"string\\"}},\\"required\\":[\\"title\\",\\"url\\",\\"date\\",\\"source\\",\\"content\\",\\"topic\\",\\"tone\\",\\"category\\"],\\"additionalProperties\\":false}},\\"required\\":[\\"output\\"],\\"additionalProperties\\":false,\\"$schema\\":\\"http://json-schema.org/draft-07/schema#\\"}\\n```\\n",{"lc":1,"type":"4412","id":"4621"},{"baseURL":"4414","fetchOptions":"4622"},{},{"title":"4623","description":"4623","link":"4624","generator":"4625","lastBuildDate":"1569","atom:link":"4626","copyright":"4627","language":"4628","webMaster":"4629","ttl":"4630","category":"4631","item":"4632"},"http://search.yahoo.com/mrss/",{"title":"4633","link":"4634","atom:link":"4635","description":"4636","lastBuildDate":"4637","language":"4405","copyright":"4638","generator":"3893","ttl":"4639","sy:updatePeriod":"4640","sy:updateFrequency":"4641","image":"4642","item":"4643"},{"href":"4644","rel":"4645","type":"4646"},"https://techcrunch.com/","Startup and Technology News","Wed, 10 Dec 2025 01:01:37 +0000","en-US","\\n\\thourly\\t","\\n\\t1\\t","https://wordpress.org/?v=6.8.3",{"url":"4647","title":"3257","link":"4402","width":"4648","height":"4648"},["4649","4650","4651","4652","4653","4654","4655","4656","4657","4658","4659","4660","4661","4662","4663","4664","4665","4666","4667","4668"],["4669"],"secret",["4670"],"https://api.openai.com/v1",{},["4671"],["4670"],{},["4672"],["4670"],{},["4673"],["4670"],{},["4674"],["4670"],{},["4675"],["4670"],{},["4676"],["4670"],{},["4677"],["4670"],{},["4678"],["4670"],{},["4679"],["4670"],{},["4680"],["4670"],{},["4681"],["4670"],{},["4682"],["4670"],{},["4683"],["4670"],{},["4684"],["4670"],{},["4685"],["4670"],{},["4686"],["4670"],{},["4687"],["4670"],{},["4688"],["4670"],{},["4689"],["4670"],{},["4690"],["4670"],{},["4691"],["4670"],{},["4692"],["4670"],{},["4693"],["4670"],{},["4694"],["4670"],{},["4695"],["4670"],{},["4696"],["4670"],{},["4697"],["4670"],{},["4698"],["4670"],{},["4699"],["4670"],{},["4700"],["4670"],{},["4701"],["4670"],{},["4702"],["4670"],{},["4703"],["4670"],{},["4704"],["4670"],{},["4705"],["4670"],{},["4706"],["4670"],{},["4707"],["4670"],{},["4708"],["4670"],{},["4709"],["4670"],{},["4710"],["4670"],{},["4711"],["4670"],{},["4712"],["4670"],{},["4713"],["4670"],{},["4714"],["4670"],{},["4715"],["4670"],{},["4716"],["4670"],{},["4717"],["4670"],{},["4718"],["4670"],{},["4719"],["4670"],{},["4720"],["4670"],{},["4721"],["4670"],{},["4722"],["4670"],{},["4723"],["4670"],{},["4724"],["4670"],{},["4725"],["4670"],{},["4726"],["4670"],{},["4727"],["4670"],{},["4728"],["4670"],{},["4729"],["4670"],{},["4730"],["4670"],{},["4731"],["4670"],{},["4732"],["4670"],{},["4733"],["4670"],{},["4734"],["4670"],{},["4735"],["4670"],{},["4736"],["4670"],{},["4737"],["4670"],{},["4738"],["4670"],{},["4739"],["4670"],{},"Technology","https://www.ft.com/stream/e58e66fe-7cc6-4382-b781-1161bae8b905","RSS for Node",{"href":"4740","rel":"4645","type":"4646"}," Copyright The Financial Times Ltd 2025. \\"FT\\" and \\"Financial Times\\" are trademarks of the Financial Times. See http://www.ft.com/servicestools/help/terms#legal1 for the terms and conditions of reuse.","en","client.support@ft.com (FT Client Support)","15","Newspapers",["4741","4742","4743","4744","4745","4746","4747","4748","4749","4750","4751","4752","4753","4754","4755","4756","4757","4758","4759","4760","4761","4762","4763","4764","4765"],"CoinDesk: Bitcoin, Ethereum, Crypto News and Price Data","https://www.coindesk.com/",["4766","4767"],"Leader in cryptocurrency, Bitcoin, Ethereum, XRP, blockchain, DeFi, digital finance and Web 3.0 news with analysis, video and live price updates.","Wed, 10 Dec 2025 03:14:56 +0000"," 2025 CoinDesk, Inc.","5","hourly","1",{"url":"4768","title":"4633","link":"4634"},["4769","4770","4771","4772","4773","4774","4775","4776","4777","4778","4779","4780","4781","4782","4783","4784","4785","4786","4787","4788","4789","4790","4791","4792","4793"],"https://techcrunch.com/feed/","self","application/rss+xml","https://techcrunch.com/wp-content/uploads/2015/02/cropped-cropped-favicon-gradient.png?w=32","32",{"title":"3254","link":"3255","dc:creator":"4794","pubDate":"3256","category":"4795","guid":"4796","description":"3258"},{"title":"3259","link":"3260","dc:creator":"4797","pubDate":"3261","category":"4798","guid":"4799","description":"3262"},{"title":"3263","link":"3264","dc:creator":"4800","pubDate":"3265","category":"4801","guid":"4802","description":"3266"},{"title":"3267","link":"3268","dc:creator":"4797","pubDate":"3269","category":"4803","guid":"4804","description":"3270"},{"title":"3271","link":"3272","dc:creator":"4805","pubDate":"3273","category":"4806","guid":"4807","description":"3274"},{"title":"3275","link":"3276","dc:creator":"4808","pubDate":"3277","category":"4809","guid":"4810","description":"3278"},{"title":"3279","link":"3280","dc:creator":"4811","pubDate":"3281","category":"4812","guid":"4813","description":"3282"},{"title":"3283","link":"3284","dc:creator":"4814","pubDate":"3285","category":"4815","guid":"4816","description":"3286"},{"title":"3287","link":"3288","dc:creator":"4817","pubDate":"3289","category":"4818","guid":"4819","description":"3290"},{"title":"3291","link":"3292","dc:creator":"4800","pubDate":"3293","category":"4820","guid":"4821","description":"3294"},{"title":"3295","link":"3296","dc:creator":"4800","pubDate":"3297","category":"4822","guid":"4823","description":"3298"},{"title":"3299","link":"3300","dc:creator":"4824","pubDate":"3301","category":"4825","guid":"4826","description":"3302"},{"title":"3303","link":"3304","dc:creator":"4827","pubDate":"3305","category":"4828","guid":"4829","description":"3306"},{"title":"3307","link":"3308","dc:creator":"4811","pubDate":"3309","category":"4830","guid":"4831","description":"3310"},{"title":"3311","link":"3312","dc:creator":"4817","pubDate":"3313","category":"4832","guid":"4833","description":"3314"},{"title":"3315","link":"3316","dc:creator":"4834","pubDate":"3317","category":"4835","guid":"4836","description":"3318"},{"title":"3319","link":"3320","dc:creator":"4808","pubDate":"3321","category":"4837","guid":"4838","description":"3322"},{"title":"3323","link":"3324","dc:creator":"4839","pubDate":"3325","category":"4840","guid":"4841","description":"3326"},{"title":"3327","link":"3328","dc:creator":"4842","pubDate":"3329","category":"4843","guid":"4844","description":"3330"},{"title":"3331","link":"3332","dc:creator":"4827","pubDate":"3333","category":"4845","guid":"4846","description":"3334"},{"text":"3619","generationInfo":"4847"},"OPENAI_API_KEY",{"text":"3620","generationInfo":"4848"},{"text":"3618","generationInfo":"4849"},{"text":"3616","generationInfo":"4850"},{"text":"3617","generationInfo":"4851"},{"text":"3621","generationInfo":"4852"},{"text":"3625","generationInfo":"4853"},{"text":"3624","generationInfo":"4854"},{"text":"3622","generationInfo":"4855"},{"text":"3623","generationInfo":"4856"},{"text":"3629","generationInfo":"4857"},{"text":"3626","generationInfo":"4858"},{"text":"3628","generationInfo":"4859"},{"text":"3630","generationInfo":"4860"},{"text":"3627","generationInfo":"4861"},{"text":"3635","generationInfo":"4862"},{"text":"3633","generationInfo":"4863"},{"text":"3631","generationInfo":"4864"},{"text":"3634","generationInfo":"4865"},{"text":"3632","generationInfo":"4866"},{"text":"3637","generationInfo":"4867"},{"text":"3636","generationInfo":"4868"},{"text":"3639","generationInfo":"4869"},{"text":"3638","generationInfo":"4870"},{"text":"3640","generationInfo":"4871"},{"text":"3643","generationInfo":"4872"},{"text":"3642","generationInfo":"4873"},{"text":"3641","generationInfo":"4874"},{"text":"3644","generationInfo":"4875"},{"text":"3645","generationInfo":"4876"},{"text":"3650","generationInfo":"4877"},{"text":"3648","generationInfo":"4878"},{"text":"3646","generationInfo":"4879"},{"text":"3649","generationInfo":"4880"},{"text":"3647","generationInfo":"4881"},{"text":"3655","generationInfo":"4882"},{"text":"3653","generationInfo":"4883"},{"text":"3652","generationInfo":"4884"},{"text":"3654","generationInfo":"4885"},{"text":"3651","generationInfo":"4886"},{"text":"3659","generationInfo":"4887"},{"text":"3656","generationInfo":"4888"},{"text":"3657","generationInfo":"4889"},{"text":"3658","generationInfo":"4890"},{"text":"3660","generationInfo":"4891"},{"text":"3664","generationInfo":"4892"},{"text":"3663","generationInfo":"4893"},{"text":"3665","generationInfo":"4894"},{"text":"3662","generationInfo":"4895"},{"text":"3661","generationInfo":"4896"},{"text":"3667","generationInfo":"4897"},{"text":"3668","generationInfo":"4898"},{"text":"3666","generationInfo":"4899"},{"text":"3670","generationInfo":"4900"},{"text":"3669","generationInfo":"4901"},{"text":"3673","generationInfo":"4902"},{"text":"3671","generationInfo":"4903"},{"text":"3674","generationInfo":"4904"},{"text":"3675","generationInfo":"4905"},{"text":"3672","generationInfo":"4906"},{"text":"3680","generationInfo":"4907"},{"text":"3679","generationInfo":"4908"},{"text":"3678","generationInfo":"4909"},{"text":"3677","generationInfo":"4910"},{"text":"3676","generationInfo":"4911"},{"text":"3684","generationInfo":"4912"},{"text":"3682","generationInfo":"4913"},{"text":"3683","generationInfo":"4914"},{"text":"3681","generationInfo":"4915"},{"text":"3685","generationInfo":"4916"},"https://www.ft.com/stream/e58e66fe-7cc6-4382-b781-1161bae8b905?format=rss",{"title":"3789","description":"3792","link":"3988","guid":"4917","pubDate":"3790"},{"title":"3796","description":"3798","link":"3989","guid":"4918","pubDate":"3797"},{"title":"3800","description":"3802","link":"3990","guid":"4919","pubDate":"3801"},{"title":"3804","description":"3806","link":"3991","guid":"4920","pubDate":"3805"},{"title":"3808","description":"3810","link":"3992","guid":"4921","pubDate":"3809"},{"title":"3812","description":"3814","link":"3993","guid":"4922","pubDate":"3813"},{"title":"3816","description":"3818","link":"3994","guid":"4923","pubDate":"3817"},{"title":"3821","description":"3823","link":"3995","guid":"4924","pubDate":"3822"},{"title":"3825","description":"3827","link":"3996","guid":"4925","pubDate":"3826"},{"title":"3829","description":"3831","link":"3997","guid":"4926","pubDate":"3830"},{"title":"3833","description":"3835","link":"3998","guid":"4927","pubDate":"3834"},{"title":"3837","description":"3838","link":"3999","guid":"4928","pubDate":"3834"},{"title":"3840","description":"3842","link":"4000","guid":"4929","pubDate":"3841"},{"title":"3844","description":"3845","link":"4001","guid":"4930","pubDate":"3841"},{"title":"3847","description":"3849","link":"4002","guid":"4931","pubDate":"3848"},{"title":"3851","description":"3853","link":"4003","guid":"4932","pubDate":"3852"},{"title":"3855","description":"3857","link":"4004","guid":"4933","pubDate":"3856"},{"title":"3859","description":"3861","link":"4005","guid":"4934","pubDate":"3860"},{"title":"3863","description":"3865","link":"4006","guid":"4935","pubDate":"3864"},{"title":"3867","description":"3869","link":"4007","guid":"4936","pubDate":"3868"},{"title":"3871","description":"3873","link":"4008","guid":"4937","pubDate":"3872"},{"title":"3875","description":"3877","link":"4009","guid":"4938","pubDate":"3876"},{"title":"3879","description":"3881","link":"4010","guid":"4939","pubDate":"3880"},{"title":"3883","description":"3885","link":"4011","guid":"4940","pubDate":"3884"},{"title":"3887","description":"3889","link":"4012","guid":"4941","pubDate":"3888"},{"rel":"4645","type":"4646","href":"4942"},{"rel":"4943","href":"4944"},"https://downloads.coindesk.com/arc/failsafe/feeds/coindesk-feed-logo.png",{"title":"3891","link":"4014","media:content":"4945","guid":"4946","pubDate":"3892","description":"3894","dc:creator":"4947","content:encoded":"4948","dc:description":"4948","category":"4949"},{"title":"3897","link":"4015","media:content":"4950","guid":"4951","pubDate":"3898","description":"3899","dc:creator":"4952","content:encoded":"4948","dc:description":"4948","category":"4953"},{"title":"3901","link":"4016","media:content":"4954","guid":"4955","pubDate":"3902","description":"3903","dc:creator":"4956","content:encoded":"4948","dc:description":"4948","category":"4957"},{"title":"3905","link":"4017","media:content":"4958","guid":"4959","pubDate":"3906","description":"3907","dc:creator":"4960","content:encoded":"4948","dc:description":"4948","category":"4961"},{"title":"3909","link":"4018","media:content":"4962","guid":"4963","pubDate":"3910","description":"3911","dc:creator":"4964","content:encoded":"4948","dc:description":"4948","category":"4965"},{"title":"3913","link":"4019","media:content":"4966","guid":"4967","pubDate":"3914","description":"3915","dc:creator":"4968","content:encoded":"4948","dc:description":"4948","category":"4969"},{"title":"3917","link":"4020","media:content":"4970","guid":"4971","pubDate":"3918","description":"3919","dc:creator":"4972","content:encoded":"4948","dc:description":"4948","category":"4973"},{"title":"3921","link":"4021","media:content":"4974","guid":"4975","pubDate":"3922","description":"3923","dc:creator":"4976","content:encoded":"4948","dc:description":"4948","category":"4977"},{"title":"3925","link":"4022","media:content":"4978","guid":"4979","pubDate":"3926","description":"3927","dc:creator":"4956","content:encoded":"4948","dc:description":"4948","category":"4980"},{"title":"3929","link":"4023","media:content":"4981","guid":"4982","pubDate":"3333","description":"3930","dc:creator":"4983","content:encoded":"4948","dc:description":"4948","category":"4984"},{"title":"3932","link":"4024","media:content":"4985","guid":"4986","pubDate":"3933","description":"3934","dc:creator":"4972","content:encoded":"4948","dc:description":"4948","category":"4987"},{"title":"3936","link":"4025","media:content":"4988","guid":"4989","pubDate":"3937","description":"3938","dc:creator":"4990","content:encoded":"4948","dc:description":"4948","category":"4991"},{"title":"3940","link":"4026","media:content":"4992","guid":"4993","pubDate":"3941","description":"3942","dc:creator":"4976","content:encoded":"4948","dc:description":"4948","category":"4994"},{"title":"3944","link":"4027","media:content":"4995","guid":"4996","pubDate":"3945","description":"3946","dc:creator":"4997","content:encoded":"4948","dc:description":"4948","category":"4998"},{"title":"3948","link":"4028","media:content":"4999","guid":"5000","pubDate":"3949","description":"3950","dc:creator":"5001","content:encoded":"4948","dc:description":"4948","category":"5002"},{"title":"3952","link":"4029","media:content":"5003","guid":"5004","pubDate":"3953","description":"3954","dc:creator":"4956","content:encoded":"4948","dc:description":"4948","category":"5005"},{"title":"3956","link":"4030","media:content":"5006","guid":"5007","pubDate":"3953","description":"3957","dc:creator":"5008","content:encoded":"4948","dc:description":"4948","category":"5009"},{"title":"3959","link":"4031","media:content":"5010","guid":"5011","pubDate":"3953","description":"3960","dc:creator":"5012","content:encoded":"4948","dc:description":"4948","category":"5013"},{"title":"3962","link":"4032","media:content":"5014","guid":"5015","pubDate":"3953","description":"3963","dc:creator":"4952","content:encoded":"4948","dc:description":"4948","category":"5016"},{"title":"3965","link":"4033","media:content":"5017","guid":"5018","pubDate":"3953","description":"3966","dc:creator":"5008","content:encoded":"4948","dc:description":"4948","category":"5019"},{"title":"3968","link":"4034","media:content":"5020","guid":"5021","pubDate":"3969","description":"3970","dc:creator":"5022","content:encoded":"4948","dc:description":"4948","category":"5023"},{"title":"3972","link":"4035","media:content":"5024","guid":"5025","pubDate":"3973","description":"3974","dc:creator":"5026","content:encoded":"4948","dc:description":"4948","category":"5027"},{"title":"3976","link":"4036","media:content":"5028","guid":"5029","pubDate":"3977","description":"3978","dc:creator":"5030","content:encoded":"4948","dc:description":"4948","category":"5031"},{"title":"3980","link":"4037","media:content":"5032","guid":"5033","pubDate":"3981","description":"3982","dc:creator":"4972","content:encoded":"4948","dc:description":"4948","category":"5034"},{"title":"3984","link":"4038","media:content":"5035","guid":"5036","pubDate":"3985","description":"3986","dc:creator":"5037","content:encoded":"4948","dc:description":"4948","category":"5038"},"Lucas.ropek",["3758","5039","5040","5041","5042","5043","5044"],{"_":"5045","isPermaLink":"5046"},"Marina Temkin",["3758","5047","5048","5049","5050","5051","5052","5053"],{"_":"5054","isPermaLink":"5046"},"Amanda Silberling",["5055","5048","5056","5057","5058","5059","5060","5061","5062"],{"_":"5063","isPermaLink":"5046"},["5048","5064","5051","5065","5066"],{"_":"5067","isPermaLink":"5046"},"Rebecca Szkutak",["3758","5068","5048","5043","5069","5070","5071","5072"],{"_":"5073","isPermaLink":"5046"},"Sean O'Kane",["5074","5075","5076","5051","5077"],{"_":"5078","isPermaLink":"5046"},"Jagmeet Singh",["3758","5048","5079","5080","5081","5082"],{"_":"5083","isPermaLink":"5046"},"Julie Bort",["3758","5048","5084","5041"],{"_":"5085","isPermaLink":"5046"},"Kirsten Korosec",["3758","5086","5087","5088","5080","5089"],{"_":"5090","isPermaLink":"5046"},["3758","5091","5092"],{"_":"5093","isPermaLink":"5046"},["3758","5094","5051","5041","5095"],{"_":"5096","isPermaLink":"5046"},"Tim De Chant",["5068","5048","5086","5097","5098","5099","5100","5101","5102","5103","5104","5105","5106","5107"],{"_":"5108","isPermaLink":"5046"},"Sarah Perez",["3758","5047","5109","5110","5111","5112"],{"_":"5113","isPermaLink":"5046"},["5055","5114","5115","5116"],{"_":"5117","isPermaLink":"5046"},["5086","5118","5088","5119","5051","5120","5121"],{"_":"5122","isPermaLink":"5046"},"Lauren Forristal",["5055","5123"],{"_":"5124","isPermaLink":"5046"},["5086","5087","5088","5125","5080","5126","5127"],{"_":"5128","isPermaLink":"5046"},"Rebecca Bellan",["3758","5129","5130","5131","5041","5132","5133","5134"],{"_":"5135","isPermaLink":"5046"},"Ivan Mehta",["5136","5137","5138","5139"],{"_":"5140","isPermaLink":"5046"},["5055","5141","5142","5143","5144","5145"],{"_":"5146","isPermaLink":"5046"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"finish_reason":"5147"},{"_":"5148","isPermaLink":"5046"},{"_":"5149","isPermaLink":"5046"},{"_":"5150","isPermaLink":"5046"},{"_":"5151","isPermaLink":"5046"},{"_":"5152","isPermaLink":"5046"},{"_":"5153","isPermaLink":"5046"},{"_":"5154","isPermaLink":"5046"},{"_":"5155","isPermaLink":"5046"},{"_":"5156","isPermaLink":"5046"},{"_":"5157","isPermaLink":"5046"},{"_":"5158","isPermaLink":"5046"},{"_":"5159","isPermaLink":"5046"},{"_":"5160","isPermaLink":"5046"},{"_":"5161","isPermaLink":"5046"},{"_":"5162","isPermaLink":"5046"},{"_":"5163","isPermaLink":"5046"},{"_":"5164","isPermaLink":"5046"},{"_":"5165","isPermaLink":"5046"},{"_":"5166","isPermaLink":"5046"},{"_":"5167","isPermaLink":"5046"},{"_":"5168","isPermaLink":"5046"},{"_":"5169","isPermaLink":"5046"},{"_":"5170","isPermaLink":"5046"},{"_":"5171","isPermaLink":"5046"},{"_":"5172","isPermaLink":"5046"},"https://www.coindesk.com/arc/outboundfeeds/rss","hub","true",{"url":"5173","type":"5174","medium":"5175"},{"_":"5176","isPermaLink":"5046"},"Sam Reynolds","",["5177","5178","5179","5180","5181"],{"url":"5182","type":"5174","medium":"5175"},{"_":"5183","isPermaLink":"5046"},"Jesse Hamilton",["5184","5185","5186","5187","5188"],{"url":"5189","type":"5174","medium":"5175"},{"_":"5190","isPermaLink":"5046"},"Helene Braun",["5191","5192","5193"],{"url":"5194","type":"5174","medium":"5175"},{"_":"5195","isPermaLink":"5046"},["5196","5197"],["5198","5199"],{"url":"5200","type":"5174","medium":"5175"},{"_":"5201","isPermaLink":"5046"},["5196","5197"],["5202","5203","5204"],{"url":"5205","type":"5174","medium":"5175"},{"_":"5206","isPermaLink":"5046"},["5197","5207"],["5208","5209","5210","5211","5212"],{"url":"5213","type":"5174","medium":"5175"},{"_":"5214","isPermaLink":"5046"},"Krisztian Sandor",["5215","5216","5217","5218","5219","5220"],{"url":"5221","type":"5174","medium":"5175"},{"_":"5222","isPermaLink":"5046"},"Olivier Acuna",["5223","5224","5225","5226","5227","5228"],{"url":"5229","type":"5174","medium":"5175"},{"_":"5230","isPermaLink":"5046"},["5231","5232","5233","5234","5235","5236"],{"url":"5237","type":"5174","medium":"5175"},{"_":"5238","isPermaLink":"5046"},["5207","5239"],["5240","5241","5242","5243","5244"],{"url":"5245","type":"5174","medium":"5175"},{"_":"5246","isPermaLink":"5046"},["5247","5248","5249","5250","5251"],{"url":"5252","type":"5174","medium":"5175"},{"_":"5253","isPermaLink":"5046"},["4972","5239"],["5254","5255","5256","5257","5258"],{"url":"5259","type":"5174","medium":"5175"},{"_":"5260","isPermaLink":"5046"},["5261","5262","5263","5264","5265","5266","5267"],{"url":"5268","type":"5174","medium":"5175"},{"_":"5269","isPermaLink":"5046"},"James Van Straten",["5270","5271","5272","5273","5274"],{"url":"5275","type":"5174","medium":"5175"},{"_":"5276","isPermaLink":"5046"},"Rayhaneh Sharif-Askary",["5277","5278","5279","5280","5281","5282"],{"url":"5283","type":"5174","medium":"5175"},{"_":"5284","isPermaLink":"5046"},["5285","5286","5287","5288","5289","5290"],{"url":"5291","type":"5174","medium":"5175"},{"_":"5292","isPermaLink":"5046"},"Nikhilesh De",["5293","5294","5295","5296","5297"],{"url":"5298","type":"5174","medium":"5175"},{"_":"5299","isPermaLink":"5046"},"Jamie Crawley",["5300","5301","5302","5303","5304"],{"url":"5305","type":"5174","medium":"5175"},{"_":"5306","isPermaLink":"5046"},["5307","5308","5309","5310","5311","5312"],{"url":"5313","type":"5174","medium":"5175"},{"_":"5314","isPermaLink":"5046"},["5315","5316","5317","5318","5319","5320","5321"],{"url":"5322","type":"5174","medium":"5175"},{"_":"5323","isPermaLink":"5046"},["5207","5239"],["5324","5325","5326","5327","5328","5329"],{"url":"5330","type":"5174","medium":"5175"},{"_":"5331","isPermaLink":"5046"},["5197","5332"],["5333","5334","5335","5336"],{"url":"5337","type":"5174","medium":"5175"},{"_":"5338","isPermaLink":"5046"},"CoinDesk Indices",["5339","5340","5341","5342","5343","5344"],{"url":"5345","type":"5174","medium":"5175"},{"_":"5346","isPermaLink":"5046"},["5347","5348","5349","5350","5351","5352"],{"url":"5353","type":"5174","medium":"5175"},{"_":"5354","isPermaLink":"5046"},["4956","5239"],["5355","5356","5357","5358"],"Microsoft","cloud","OpenAI","CoreWeave","artificial intelligence","Michael Intrator","https://techcrunch.com/?p=3074171","false","Hardware","Startups","a16z","Databricks","In Brief","lightspeed","seed capital","https://techcrunch.com/?p=3074512","Apps","dating","dating apps","Hinge","jackie jantos","justin mcleod","overtone","Tinder","https://techcrunch.com/?p=3074500","fal.ai","Kleiner Perkins","Sequoia","https://techcrunch.com/?p=3074455","Enterprise","Automation","Battlefield 200","cashew research","TechCrunch Disrupt 2025","https://techcrunch.com/?p=3074454","Fundraising","Space","Elon Musk","SpaceX","https://techcrunch.com/?p=3074435","Venture","Exclusive","b capital","Kabir Narang","https://techcrunch.com/?p=3074414","cursor","https://techcrunch.com/?p=3074040","Transportation","electric vehicles","EVs","Rivian","https://techcrunch.com/?p=3073894","Pew Research Center","teenagers","https://techcrunch.com/?p=3074018","Denise Dresser","Slack","https://techcrunch.com/?p=3074320","Climate","altimeter capital","ark invest","Bessemer Venture Partners","boom supersonic","crusoe","data centers","natural gas","power plants","Robinhood","Y Combinator","https://techcrunch.com/?p=3074303","Privacy","Amazon","facial recognition","Ring","https://techcrunch.com/?p=3074272","Android","iOS","Truecaller","https://techcrunch.com/?p=3074259","auto","Ford","Renault","transportation","https://techcrunch.com/?p=3074185","Google Photos","https://techcrunch.com/?p=3074160","NASA","USPS","Canoo","https://techcrunch.com/?p=3073694","block","linux foundation","mcp","Anthropic","AI agents","open-source","https://techcrunch.com/?p=3074215","Gadgets","headphones","Fairphone","repairable","https://techcrunch.com/?p=3074047","Social","Facebook","gen z","Meta","social media","https://techcrunch.com/?p=3073950","stop","83c6521e-fe42-49e2-a9fe-eda97168b316","7511f62d-f888-4c60-954f-c931cacacafa","f072335b-d750-49c3-8bbf-69055c3d7e75","c4e81a67-cd5b-48b4-9749-92ecf116313d","353eda37-33b0-4d30-a912-a07607e278b8","ac63139d-5143-4aed-a1e4-980a06551b51","3a1f9360-3466-43f1-92a3-0c3647a8e15a","8a2c87eb-dcab-43fb-9c26-5625aa93f3f9","598aee7c-0b8b-4777-bea2-4ef121dc8197","5ea14dc8-c9ea-42e7-9639-7c4a9b655b94","e5114ad0-66ca-4a12-a2fa-7c5944fbcf99","4d0a9055-e2ab-467a-9b2b-a06989165b73","423e9bc4-227d-4bd4-87de-401132eb415a","42f3dec5-b8dc-49a2-aa5c-0e62ab529173","b1f92b0e-d6ef-4c95-b51e-7bcf90c8a65f","e93ab2b2-868f-441f-bbec-0af4fa3edeb5","e5da7064-3a46-4bab-9a6c-12ae03eead16","7981af0e-ad93-4c11-8c1c-09b0167bf4d6","8112d77f-2531-400f-b947-b506fe3c6b3f","b49cd2de-f95d-47d3-bba0-cdb619176a84","5bff1202-b2ce-439a-8687-8f8b919c683e","d8585870-17a5-43a0-95ef-cbebb1995107","47d54ca4-2ea3-4519-b860-e466ee7802b6","df480a7b-01c7-4507-b9a9-68d47fa008f0","39b9d90c-0629-4dfc-8a2b-c52f1f503f38","https://cdn.sanity.io/images/s3y3vcno/production/cea9f4fef04e3ac91c879f25c3304b72561be4c9-1920x1080.jpg?fm=jpg&w=1920&h=1080&crop=focalpoint&fit=clip","image/*","image","ac774de5-d516-4ab3-8180-6d9856b97049",{"_":"5359","domain":"5360"},{"_":"5361","domain":"5362"},{"_":"5363","domain":"5362"},{"_":"5364","domain":"5362"},{"_":"5365","domain":"4634"},"https://cdn.sanity.io/images/s3y3vcno/production/c2b85429f30becbcf6f8d06c33db3d3c17d5b660-1920x1080.jpg?fm=jpg&w=1920&h=1080&crop=focalpoint&fit=clip","e3e24c05-a71b-4448-a11c-fd4e14208801",{"_":"5366","domain":"5367"},{"_":"5368","domain":"5362"},{"_":"5369","domain":"5362"},{"_":"5370","domain":"5362"},{"_":"5365","domain":"4634"},"https://cdn.sanity.io/images/s3y3vcno/production/3577d0e0d5f7130919e7d9ceaf1ccafe2506206e-1080x1080.jpg?fm=jpg&w=1920&h=1080&crop=focalpoint&fit=clip","9d310e2f-ffd9-4a34-9248-0ce687046d39",{"_":"5359","domain":"5360"},{"_":"5371","domain":"5362"},{"_":"5365","domain":"4634"},"https://cdn.sanity.io/images/s3y3vcno/production/d443bec88e524f5b0b2c2abdedd8962ae7894b7e-1208x726.png?fm=jpg&w=1920&h=1080&crop=focalpoint&fit=clip","b085fa33-3702-4d2c-b866-4de09e29c9cb","Shaurya Malwa","CD Analytics",{"_":"5359","domain":"5360"},{"_":"5365","domain":"4634"},"https://cdn.sanity.io/images/s3y3vcno/production/17ab26aa17d188a6afb5fd04bbbe1a1438085f2c-1198x736.png?fm=jpg&w=1920&h=1080&crop=focalpoint&fit=clip","82219855-387c-4a93-b878-fea4721f7542",{"_":"5359","domain":"5360"},{"_":"5372","domain":"5362"},{"_":"5365","domain":"4634"},"https://cdn.sanity.io/images/s3y3vcno/production/cef4fa3f630090b457b9572d9a2d1f38f17b33b6-700x430.png?fm=jpg&w=1920&h=1080&crop=focalpoint&fit=clip","0d663ea5-60ad-47da-a621-49d4dfb2a0cf","Will Canny",{"_":"5359","domain":"5360"},{"_":"5373","domain":"5362"},{"_":"5374","domain":"5362"},{"_":"5375","domain":"5362"},{"_":"5365","domain":"4634"},"https://cdn.sanity.io/images/s3y3vcno/production/5d84574eebcb318192498ca353e8132d54727c59-700x430.png?fm=jpg&w=1920&h=1080&crop=focalpoint&fit=clip","5e5beb97-8acc-43fa-8f9a-e44c427dbe17",{"_":"5359","domain":"5360"},{"_":"5376","domain":"5362"},{"_":"5377","domain":"5362"},{"_":"5378","domain":"5362"},{"_":"5379","domain":"5362"},{"_":"5365","domain":"4634"},"https://cdn.sanity.io/images/s3y3vcno/production/92243b183679e0c3e210c5b2ef8509db34a2ced4-1920x1080.jpg?fm=jpg&w=1920&h=1080&crop=focalpoint&fit=clip","173c37e0-d0d6-4175-9929-52526ce0197f",{"_":"5366","domain":"5367"},{"_":"5380","domain":"5362"},{"_":"5381","domain":"5362"},{"_":"5382","domain":"5362"},{"_":"5383","domain":"5362"},{"_":"5365","domain":"4634"},"https://cdn.sanity.io/images/s3y3vcno/production/be2481990e55316ea6740925190a484e9d44efba-1920x1080.jpg?fm=jpg&w=1920&h=1080&crop=focalpoint&fit=clip","256b47c4-df2d-45ef-a7ea-124ec0f40c98",{"_":"5359","domain":"5360"},{"_":"5384","domain":"5362"},{"_":"5385","domain":"5362"},{"_":"5386","domain":"5362"},{"_":"5361","domain":"5362"},{"_":"5365","domain":"4634"},"https://cdn.sanity.io/images/s3y3vcno/production/c397ec470875d547d7ecf10a967c19f1a197d7fc-1919x1080.jpg?fm=jpg&w=1920&h=1080&crop=focalpoint&fit=clip","fd3c2793-2a7d-4fe8-996e-bb65250ca283","AI Boost",{"_":"5387","domain":"5388"},{"_":"5389","domain":"5362"},{"_":"5390","domain":"5362"},{"_":"5391","domain":"5362"},{"_":"5365","domain":"4634"},"https://cdn.sanity.io/images/s3y3vcno/production/0d2ff848e7fcc21175adfb76f365dc76165a01b6-2226x1186.png?fm=jpg&w=1920&h=1080&crop=focalpoint&fit=clip","88d92676-cf1f-4dfe-89cf-5763c6fe4103",{"_":"5359","domain":"5360"},{"_":"5361","domain":"5362"},{"_":"5392","domain":"5362"},{"_":"5393","domain":"5362"},{"_":"5365","domain":"4634"},"https://cdn.sanity.io/images/s3y3vcno/production/5a7570ee7ddb098d12df6e70c9c9498a57586c01-1920x1080.jpg?fm=jpg&w=1920&h=1080&crop=focalpoint&fit=clip","6070a393-ea6a-4153-a1c2-4204851bad61",{"_":"5394","domain":"5395"},{"_":"5396","domain":"5362"},{"_":"5397","domain":"5362"},{"_":"5398","domain":"5362"},{"_":"5365","domain":"4634"},"https://cdn.sanity.io/images/s3y3vcno/production/932705970160925ac2ce1200db0f0f502e8e4712-1919x1080.jpg?fm=jpg&w=1920&h=1080&crop=focalpoint&fit=clip","2842a877-62f3-41c5-94a2-3caaed9347c8",{"_":"5366","domain":"5367"},{"_":"5399","domain":"5362"},{"_":"5400","domain":"5362"},{"_":"5401","domain":"5362"},{"_":"5402","domain":"5362"},{"_":"5403","domain":"5362"},{"_":"5365","domain":"4634"},"https://cdn.sanity.io/images/s3y3vcno/production/f588bd52879b8b6beb8334b528d7c8ae9142b80b-1080x1080.jpg?fm=jpg&w=1920&h=1080&crop=focalpoint&fit=clip","f86eec50-2357-42e7-aaf8-1bb97c698998",{"_":"5359","domain":"5360"},{"_":"5404","domain":"5362"},{"_":"5361","domain":"5362"},{"_":"5405","domain":"5362"},{"_":"5365","domain":"4634"},"https://cdn.sanity.io/images/s3y3vcno/production/4437c7a07885f19de0702f8f984578ad1ad92e9e-6000x4000.jpg?fm=jpg&w=1920&h=1080&crop=focalpoint&fit=clip","d10ee267-e3e8-4ddd-a64b-3f2eed5d253c",{"_":"5030","domain":"5406"},{"_":"5407","domain":"5362"},{"_":"5408","domain":"5362"},{"_":"5030","domain":"5362"},{"_":"5409","domain":"5362"},{"_":"3760","domain":"4634"},"https://cdn.sanity.io/images/s3y3vcno/production/eca57f8c3798258c35638c84f5c1720ce23b091a-1920x1080.png?fm=jpg&w=1920&h=1080&crop=focalpoint&fit=clip","19925c2e-2d48-486f-b102-289b3145b95b",{"_":"5366","domain":"5367"},{"_":"5410","domain":"5362"},{"_":"5411","domain":"5362"},{"_":"5412","domain":"5362"},{"_":"5413","domain":"5362"},{"_":"5414","domain":"4634"},"https://cdn.sanity.io/images/s3y3vcno/production/2d011541216275fc1ed9b3b8a0d49991571859e9-1920x1080.png?fm=jpg&w=1920&h=1080&crop=focalpoint&fit=clip","645e7adf-24af-44d0-b7f9-80c2e26259a1",{"_":"5387","domain":"5388"},{"_":"5415","domain":"5362"},{"_":"5416","domain":"5362"},{"_":"5413","domain":"5362"},{"_":"5414","domain":"4634"},"https://cdn.sanity.io/images/s3y3vcno/production/931e20dc1e2cb33c8ec322651d45005f7f61d0ed-1920x1080.png?fm=jpg&w=1920&h=1080&crop=focalpoint&fit=clip","7b96d258-6d0b-4c18-9de8-f3524ee817f5",{"_":"5387","domain":"5388"},{"_":"5405","domain":"5362"},{"_":"5417","domain":"5362"},{"_":"5413","domain":"5362"},{"_":"5414","domain":"4634"},"https://cdn.sanity.io/images/s3y3vcno/production/a2f17e275b17b5dda84ddf450b2a3b4aaa494695-1920x1080.png?fm=jpg&w=1920&h=1080&crop=focalpoint&fit=clip","cf05398c-918a-41e9-ae41-570c6cd5c14c",{"_":"5366","domain":"5367"},{"_":"5418","domain":"5362"},{"_":"5419","domain":"5362"},{"_":"5405","domain":"5362"},{"_":"5413","domain":"5362"},{"_":"5414","domain":"4634"},"https://cdn.sanity.io/images/s3y3vcno/production/9c9b66992e0b49d88c5e43c27ec3774ec16684fd-1920x1080.png?fm=jpg&w=1920&h=1080&crop=focalpoint&fit=clip","dd1bebb6-d88b-4e57-b861-bb79cc336596",{"_":"5366","domain":"5367"},{"_":"5420","domain":"5362"},{"_":"5421","domain":"5362"},{"_":"5422","domain":"5362"},{"_":"5423","domain":"5362"},{"_":"5413","domain":"5362"},{"_":"5414","domain":"4634"},"https://cdn.sanity.io/images/s3y3vcno/production/462aa44fc614504ef506e076687060227de07a47-1919x1080.jpg?fm=jpg&w=1920&h=1080&crop=focalpoint&fit=clip","1cbb3c70-b3a1-4e1d-8672-1e212b8e08d8",{"_":"5366","domain":"5367"},{"_":"5424","domain":"5362"},{"_":"5425","domain":"5362"},{"_":"5426","domain":"5362"},{"_":"5427","domain":"5362"},{"_":"5365","domain":"4634"},"https://cdn.sanity.io/images/s3y3vcno/production/7b2fd9bdc88b68b00b81599b3b4d418a8e4b05c9-700x430.png?fm=jpg&w=1920&h=1080&crop=focalpoint&fit=clip","3b9145d7-125a-48d9-b685-b58aa6f63297","Francisco Rodrigues",{"_":"5359","domain":"5360"},{"_":"5373","domain":"5362"},{"_":"5428","domain":"5362"},{"_":"5375","domain":"5362"},"https://cdn.sanity.io/images/s3y3vcno/production/cd020cf800ab33304f46c1cfdd438d1fb42f078a-480x360.png?fm=jpg&w=1920&h=1080&crop=focalpoint&fit=clip","4edcb8bb-51fd-4ee7-84ab-23248226df18",{"_":"5030","domain":"5406"},{"_":"5030","domain":"5362"},{"_":"5429","domain":"5362"},{"_":"5430","domain":"5362"},{"_":"5431","domain":"5362"},{"_":"5365","domain":"4634"},"https://cdn.sanity.io/images/s3y3vcno/production/36bdd24f9f06ae9b44f826e384404d059a464b5d-3000x2250.jpg?fm=jpg&w=1920&h=1080&crop=focalpoint&fit=clip","4860b3ed-437f-45e5-b12c-d7ef519befa3",{"_":"5387","domain":"5388"},{"_":"5432","domain":"5362"},{"_":"5433","domain":"5362"},{"_":"5425","domain":"5362"},{"_":"5391","domain":"5362"},{"_":"5365","domain":"4634"},"https://cdn.sanity.io/images/s3y3vcno/production/dc5d75e618584b0cab3818f186a7f6efec5b61dd-4434x2956.jpg?fm=jpg&w=1920&h=1080&crop=focalpoint&fit=clip","d89a162d-2f28-4d2e-86ea-3ee4333244b8",{"_":"5387","domain":"5388"},{"_":"5434","domain":"5362"},{"_":"5435","domain":"5362"},{"_":"5365","domain":"4634"},"Markets","https://www.coindesk.com/markets","Bitcoin News","tag","btc","ETH","News","Policy","https://www.coindesk.com/policy","Market Structure Legislation","Cynthia Lummis","Kirsten Gillibrand","Bitcoin ETF","Dogecoin","AI Market Insights","Aptos","Technical Analysis","Ethereum News","Ether ETFs","Staking","Tokenization","Bitwise Asset Management","Bitwise","NYSE Arca","cryptocurrency ETP","Michael Saylor","Charles Schwab","Citi","Finance","https://www.coindesk.com/business","Crypto Trading","perpetual contracts","Exclusive ","Market Wrap","Breaking News","Tech","https://www.coindesk.com/tech","Stripe","Paradigm","Stablecoin","Do Kwon","Terraform","terraform labs","Sentencing","Crime","Jack Mallers","Tether","https://www.coindesk.com/coindesk-indices","ETFs","Maximalist","Grayscale","Eric Trump","Donald Trump","Barron trump","CoinDesk Most Influential 2025","Feature","Cantor fitzgerald","Howard lutnick","Paolo Ardoino","Bo Hines","Stablecoin legislation","Gemini","Tyler Winklevoss","Cameron Winklevoss","Winklevoss Twins","tokenized stocks","DeFi","SEC","HSBC","TON","CoinDesk 20","charts","Prices","Real World Assets  ","Yield","Coinbase","PNC Bank"]
\.


--
-- TOC entry 3894 (class 0 OID 24608)
-- Dependencies: 226
-- Data for Name: execution_entity; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.execution_entity (id, finished, mode, "retryOf", "retrySuccessId", "startedAt", "stoppedAt", "waitTill", status, "workflowId", "deletedAt", "createdAt") FROM stdin;
1843	f	manual	\N	\N	2025-12-10 03:54:41.057+00	2025-12-10 03:54:41.17+00	\N	error	Z0ojzknuXKQpTzD2	\N	2025-12-10 03:54:40.998+00
1844	t	manual	\N	\N	2025-12-10 03:57:51.723+00	2025-12-10 03:58:46.153+00	\N	success	z52Sow2ZiWhoxNmU	\N	2025-12-10 03:57:51.68+00
\.


--
-- TOC entry 3916 (class 0 OID 25315)
-- Dependencies: 248
-- Data for Name: execution_metadata; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.execution_metadata (id, "executionId", key, value) FROM stdin;
\.


--
-- TOC entry 3924 (class 0 OID 25508)
-- Dependencies: 256
-- Data for Name: folder; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.folder (id, name, "parentFolderId", "projectId", "createdAt", "updatedAt") FROM stdin;
HFYpHd3EC9aGk9sL	MLOps	\N	4QqxaLY0ZGMCSSgA	2025-12-10 03:13:23.597+00	2025-12-10 03:13:23.597+00
MLU1HSlRX8QbxL1N	RAGForge	\N	4QqxaLY0ZGMCSSgA	2025-12-10 03:13:31.254+00	2025-12-10 03:13:31.254+00
6WeAlLkv6AUBQTH2	Story Builder	\N	4QqxaLY0ZGMCSSgA	2025-12-10 03:14:14.921+00	2025-12-10 03:14:14.921+00
4nhMSsg3QoksuKGe	PromptOS	\N	4QqxaLY0ZGMCSSgA	2025-12-10 03:40:18.701+00	2025-12-10 03:40:18.701+00
8wmQ4Jp69N962EHz	SaintsGPT	\N	4QqxaLY0ZGMCSSgA	2025-12-10 03:40:42.931+00	2025-12-10 03:40:42.931+00
rNR8Aq0OtLA8Zo6g	Misc	\N	4QqxaLY0ZGMCSSgA	2025-12-10 03:40:03.368+00	2025-12-10 03:41:30.911+00
\.


--
-- TOC entry 3925 (class 0 OID 25526)
-- Dependencies: 257
-- Data for Name: folder_tag; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.folder_tag ("folderId", "tagId") FROM stdin;
\.


--
-- TOC entry 3931 (class 0 OID 25622)
-- Dependencies: 263
-- Data for Name: insights_by_period; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.insights_by_period (id, "metaId", type, value, "periodUnit", "periodStart") FROM stdin;
54	5	2	4	1	2025-06-20 00:00:00+00
55	5	3	1	1	2025-06-20 00:00:00+00
59	5	3	2	1	2025-06-14 00:00:00+00
61	5	1	278443	1	2025-06-18 00:00:00+00
62	5	1	73764	1	2025-06-14 00:00:00+00
63	5	2	9	1	2025-06-18 00:00:00+00
64	6	2	1	1	2025-07-04 00:00:00+00
70	6	3	7	1	2025-07-04 00:00:00+00
71	5	3	1	1	2025-06-18 00:00:00+00
74	5	1	63624	1	2025-06-20 00:00:00+00
76	6	1	67016	1	2025-07-04 00:00:00+00
78	5	2	4	1	2025-06-14 00:00:00+00
\.


--
-- TOC entry 3927 (class 0 OID 25593)
-- Dependencies: 259
-- Data for Name: insights_metadata; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.insights_metadata ("metaId", "workflowId", "projectId", "workflowName", "projectName") FROM stdin;
1	Hs7P70pLnGEmXRO9	4QqxaLY0ZGMCSSgA	Hello World - E2E - webhook	Marco San Juan <marcotechinc@outlook.com>
4	lVEEiTzBjjAxVkFT	4QqxaLY0ZGMCSSgA	Hello World - E2E - Chat	Marco San Juan <marcotechinc@outlook.com>
5	VXnBVFm1w2zsvSt3	4QqxaLY0ZGMCSSgA	PromptOS-Playground	Marco San Juan <marcotechinc@outlook.com>
6	MRvfR4KPMKgYvruE	4QqxaLY0ZGMCSSgA	RAGForge - Extractor and Embedder-copy	Marco San Juan <marcotechinc@outlook.com>
\.


--
-- TOC entry 3929 (class 0 OID 25610)
-- Dependencies: 261
-- Data for Name: insights_raw; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.insights_raw (id, "metaId", type, value, "timestamp") FROM stdin;
\.


--
-- TOC entry 3902 (class 0 OID 24801)
-- Dependencies: 234
-- Data for Name: installed_nodes; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.installed_nodes (name, type, "latestVersion", package) FROM stdin;
Tavily	@tavily/n8n-nodes-tavily.tavily	1	@tavily/n8n-nodes-tavily
FireCrawl	n8n-nodes-firecrawl.fireCrawl	1	n8n-nodes-firecrawl
Tesseract	n8n-nodes-tesseractjs.tesseractNode	1	n8n-nodes-tesseractjs
\.


--
-- TOC entry 3901 (class 0 OID 24794)
-- Dependencies: 233
-- Data for Name: installed_packages; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.installed_packages ("packageName", "installedVersion", "authorName", "authorEmail", "createdAt", "updatedAt") FROM stdin;
@tavily/n8n-nodes-tavily	0.1.15	Tavily AI	\N	2025-06-11 23:05:53.647+00	2025-06-11 23:05:53.647+00
n8n-nodes-firecrawl	0.3.0	@minhlucvan	luk.mink@gmail.com	2025-06-11 23:06:34.766+00	2025-06-11 23:06:34.766+00
n8n-nodes-tesseractjs	1.3.0	jreyesr	npm@jreyesr.com	2025-06-11 23:24:08.01+00	2025-06-11 23:24:08.01+00
\.


--
-- TOC entry 3917 (class 0 OID 25329)
-- Dependencies: 249
-- Data for Name: invalid_auth_token; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.invalid_auth_token (token, "expiresAt") FROM stdin;
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6Ijk1OTRlZmQwLWE3NDctNDAxZC1hNTU4LTMzN2ViYmIwZDMyMyIsImhhc2giOiI5cnZWbkJjR2ZxIiwiYnJvd3NlcklkIjoiVEo3eFRIdGVtYkI3V1U1Rjc1K0M5Nkk3bzhyb3BrUG1sWFMwTy80QllYVT0iLCJpYXQiOjE3NDkxMzAwNzQsImV4cCI6MTc0OTczNDg3NH0.MzdgNPAn1D_K_5pDF6JsMFC4g1sblSZPP58B0vY0h08	2025-06-12 13:27:54+00
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6Ijk1OTRlZmQwLWE3NDctNDAxZC1hNTU4LTMzN2ViYmIwZDMyMyIsImhhc2giOiI5cnZWbkJjR2ZxIiwiYnJvd3NlcklkIjoiN1F6WmlmOHlRSEJQek9RdkNCSXhCVmJlZW1zdWFCOTh2eFQxbnJwMFFrRT0iLCJpYXQiOjE3NDk2NDc2NTYsImV4cCI6MTc1MDI1MjQ1Nn0.H60dbMpxalrWp_rUGVlwvk9M9DlMoIk8GA3GO0UQVko	2025-06-18 13:14:16+00
\.


--
-- TOC entry 3891 (class 0 OID 24589)
-- Dependencies: 223
-- Data for Name: migrations; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.migrations (id, "timestamp", name) FROM stdin;
1	1587669153312	InitialMigration1587669153312
2	1589476000887	WebhookModel1589476000887
3	1594828256133	CreateIndexStoppedAt1594828256133
4	1607431743768	MakeStoppedAtNullable1607431743768
5	1611144599516	AddWebhookId1611144599516
6	1617270242566	CreateTagEntity1617270242566
7	1620824779533	UniqueWorkflowNames1620824779533
8	1626176912946	AddwaitTill1626176912946
9	1630419189837	UpdateWorkflowCredentials1630419189837
10	1644422880309	AddExecutionEntityIndexes1644422880309
11	1646834195327	IncreaseTypeVarcharLimit1646834195327
12	1646992772331	CreateUserManagement1646992772331
13	1648740597343	LowerCaseUserEmail1648740597343
14	1652254514002	CommunityNodes1652254514002
15	1652367743993	AddUserSettings1652367743993
16	1652905585850	AddAPIKeyColumn1652905585850
17	1654090467022	IntroducePinData1654090467022
18	1658932090381	AddNodeIds1658932090381
19	1659902242948	AddJsonKeyPinData1659902242948
20	1660062385367	CreateCredentialsUserRole1660062385367
21	1663755770893	CreateWorkflowsEditorRole1663755770893
22	1664196174001	WorkflowStatistics1664196174001
23	1665484192212	CreateCredentialUsageTable1665484192212
24	1665754637025	RemoveCredentialUsageTable1665754637025
25	1669739707126	AddWorkflowVersionIdColumn1669739707126
26	1669823906995	AddTriggerCountColumn1669823906995
27	1671535397530	MessageEventBusDestinations1671535397530
28	1671726148421	RemoveWorkflowDataLoadedFlag1671726148421
29	1673268682475	DeleteExecutionsWithWorkflows1673268682475
30	1674138566000	AddStatusToExecutions1674138566000
31	1674509946020	CreateLdapEntities1674509946020
32	1675940580449	PurgeInvalidWorkflowConnections1675940580449
33	1676996103000	MigrateExecutionStatus1676996103000
34	1677236854063	UpdateRunningExecutionStatus1677236854063
35	1677501636754	CreateVariables1677501636754
36	1679416281778	CreateExecutionMetadataTable1679416281778
37	1681134145996	AddUserActivatedProperty1681134145996
38	1681134145997	RemoveSkipOwnerSetup1681134145997
39	1690000000000	MigrateIntegerKeysToString1690000000000
40	1690000000020	SeparateExecutionData1690000000020
41	1690000000030	RemoveResetPasswordColumns1690000000030
42	1690000000030	AddMfaColumns1690000000030
43	1690787606731	AddMissingPrimaryKeyOnExecutionData1690787606731
44	1691088862123	CreateWorkflowNameIndex1691088862123
45	1692967111175	CreateWorkflowHistoryTable1692967111175
46	1693491613982	ExecutionSoftDelete1693491613982
47	1693554410387	DisallowOrphanExecutions1693554410387
48	1694091729095	MigrateToTimestampTz1694091729095
49	1695128658538	AddWorkflowMetadata1695128658538
50	1695829275184	ModifyWorkflowHistoryNodesAndConnections1695829275184
51	1700571993961	AddGlobalAdminRole1700571993961
52	1705429061930	DropRoleMapping1705429061930
53	1711018413374	RemoveFailedExecutionStatus1711018413374
54	1711390882123	MoveSshKeysToDatabase1711390882123
55	1712044305787	RemoveNodesAccess1712044305787
56	1714133768519	CreateProject1714133768519
57	1714133768521	MakeExecutionStatusNonNullable1714133768521
58	1717498465931	AddActivatedAtUserSetting1717498465931
59	1720101653148	AddConstraintToExecutionMetadata1720101653148
60	1721377157740	FixExecutionMetadataSequence1721377157740
61	1723627610222	CreateInvalidAuthTokenTable1723627610222
62	1723796243146	RefactorExecutionIndices1723796243146
63	1724753530828	CreateAnnotationTables1724753530828
64	1724951148974	AddApiKeysTable1724951148974
65	1726606152711	CreateProcessedDataTable1726606152711
66	1727427440136	SeparateExecutionCreationFromStart1727427440136
67	1728659839644	AddMissingPrimaryKeyOnAnnotationTagMapping1728659839644
68	1729607673464	UpdateProcessedDataValueColumnToText1729607673464
69	1729607673469	AddProjectIcons1729607673469
70	1730386903556	CreateTestDefinitionTable1730386903556
71	1731404028106	AddDescriptionToTestDefinition1731404028106
72	1731582748663	MigrateTestDefinitionKeyToString1731582748663
73	1732271325258	CreateTestMetricTable1732271325258
74	1732549866705	CreateTestRun1732549866705
75	1733133775640	AddMockedNodesColumnToTestDefinition1733133775640
76	1734479635324	AddManagedColumnToCredentialsTable1734479635324
77	1736172058779	AddStatsColumnsToTestRun1736172058779
78	1736947513045	CreateTestCaseExecutionTable1736947513045
79	1737715421462	AddErrorColumnsToTestRuns1737715421462
80	1738709609940	CreateFolderTable1738709609940
81	1739549398681	CreateAnalyticsTables1739549398681
82	1740445074052	UpdateParentFolderIdColumn1740445074052
83	1741167584277	RenameAnalyticsToInsights1741167584277
84	1742918400000	AddScopesColumnToApiKeys1742918400000
85	1745587087521	AddWorkflowStatisticsRootCount1745587087521
86	1745934666076	AddWorkflowArchivedColumn1745934666076
87	1745934666077	DropRoleTable1745934666077
88	1745322634000	ClearEvaluation1745322634000
89	1747824239000	AddProjectDescriptionColumn1747824239000
90	1750252139166	AddLastActiveAtColumnToUser1750252139166
91	1750252139166	AddScopeTables1750252139166
92	1750252139167	AddRolesTables1750252139167
93	1750252139168	LinkRoleToUserTable1750252139168
94	1750252139170	RemoveOldRoleColumn1750252139170
95	1752669793000	AddInputsOutputsToTestCaseExecution1752669793000
96	1753953244168	LinkRoleToProjectRelationTable1753953244168
97	1754475614601	CreateDataStoreTables1754475614601
98	1754475614602	ReplaceDataStoreTablesWithDataTables1754475614602
99	1756906557570	AddTimestampsToRoleAndRoleIndexes1756906557570
100	1758731786132	AddAudienceColumnToApiKeys1758731786132
101	1758794506893	AddProjectIdToVariableTable1758794506893
102	1759399811000	ChangeValueTypesForInsights1759399811000
103	1760019379982	CreateChatHubTables1760019379982
104	1760020000000	CreateChatHubAgentTable1760020000000
105	1760020838000	UniqueRoleNames1760020838000
106	1760116750277	CreateOAuthEntities1760116750277
107	1760314000000	CreateWorkflowDependencyTable1760314000000
108	1760965142113	DropUnusedChatHubColumns1760965142113
109	1761047826451	AddWorkflowVersionColumn1761047826451
110	1761655473000	ChangeDependencyInfoToJson1761655473000
111	1761773155024	AddAttachmentsToChatHubMessages1761773155024
112	1761830340990	AddToolsColumnToChatHubTables1761830340990
113	1762177736257	AddWorkflowDescriptionColumn1762177736257
114	1762763704614	BackfillMissingWorkflowHistoryRecords1762763704614
115	1762771264000	ChangeDefaultForIdInUserTable1762771264000
116	1762771954619	AddIsGlobalColumnToCredentialsTable1762771954619
117	1762847206508	AddWorkflowHistoryAutoSaveFields1762847206508
118	1763047800000	AddActiveVersionIdColumn1763047800000
119	1763572724000	ChangeOAuthStateColumnToUnboundedVarchar1763572724000
120	1763716655000	CreateBinaryDataTable1763716655000
121	1764167920585	CreateWorkflowPublishHistoryTable1764167920585
122	1763048000000	ActivateExecuteWorkflowTriggerWorkflows1763048000000
\.


--
-- TOC entry 3944 (class 0 OID 57586)
-- Dependencies: 276
-- Data for Name: oauth_access_tokens; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.oauth_access_tokens (token, "clientId", "userId") FROM stdin;
\.


--
-- TOC entry 3943 (class 0 OID 57566)
-- Dependencies: 275
-- Data for Name: oauth_authorization_codes; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.oauth_authorization_codes (code, "clientId", "userId", "redirectUri", "codeChallenge", "codeChallengeMethod", "expiresAt", state, used, "createdAt", "updatedAt") FROM stdin;
\.


--
-- TOC entry 3942 (class 0 OID 57556)
-- Dependencies: 274
-- Data for Name: oauth_clients; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.oauth_clients (id, name, "redirectUris", "grantTypes", "clientSecret", "clientSecretExpiresAt", "tokenEndpointAuthMethod", "createdAt", "updatedAt") FROM stdin;
\.


--
-- TOC entry 3945 (class 0 OID 57603)
-- Dependencies: 277
-- Data for Name: oauth_refresh_tokens; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.oauth_refresh_tokens (token, "clientId", "userId", "expiresAt", "createdAt", "updatedAt") FROM stdin;
\.


--
-- TOC entry 3947 (class 0 OID 57623)
-- Dependencies: 279
-- Data for Name: oauth_user_consents; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.oauth_user_consents (id, "userId", "clientId", "grantedAt") FROM stdin;
\.


--
-- TOC entry 3923 (class 0 OID 25397)
-- Dependencies: 255
-- Data for Name: processed_data; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.processed_data ("workflowId", context, "createdAt", "updatedAt", value) FROM stdin;
\.


--
-- TOC entry 3911 (class 0 OID 25234)
-- Dependencies: 243
-- Data for Name: project; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.project (id, name, type, "createdAt", "updatedAt", icon, description) FROM stdin;
4QqxaLY0ZGMCSSgA	Marco San Juan <marcotechinc@outlook.com>	personal	2025-05-14 01:48:17.478+00	2025-05-14 01:56:07.707+00	\N	\N
\.


--
-- TOC entry 3912 (class 0 OID 25241)
-- Dependencies: 244
-- Data for Name: project_relation; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.project_relation ("projectId", "userId", role, "createdAt", "updatedAt") FROM stdin;
4QqxaLY0ZGMCSSgA	9594efd0-a747-401d-a558-337ebbb0d323	project:personalOwner	2025-05-14 01:48:17.478+00	2025-05-14 01:48:17.478+00
\.


--
-- TOC entry 3935 (class 0 OID 57352)
-- Dependencies: 267
-- Data for Name: role; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.role (slug, "displayName", description, "roleType", "systemRole", "createdAt", "updatedAt") FROM stdin;
global:owner	Owner	Owner	global	t	2025-12-10 03:01:04.322+00	2025-12-10 03:01:05.438+00
global:admin	Admin	Admin	global	t	2025-12-10 03:01:04.322+00	2025-12-10 03:01:05.438+00
global:member	Member	Member	global	t	2025-12-10 03:01:04.322+00	2025-12-10 03:01:05.438+00
project:admin	Project Admin	Full control of settings, members, workflows, credentials and executions	project	t	2025-12-10 03:01:04.322+00	2025-12-10 03:01:05.503+00
project:personalOwner	Project Owner	Project Owner	project	t	2025-12-10 03:01:04.322+00	2025-12-10 03:01:05.503+00
project:editor	Project Editor	Create, edit, and delete workflows, credentials, and executions	project	t	2025-12-10 03:01:04.322+00	2025-12-10 03:01:05.503+00
project:viewer	Project Viewer	Read-only access to workflows, credentials, and executions	project	t	2025-12-10 03:01:04.322+00	2025-12-10 03:01:05.503+00
credential:owner	Credential Owner	Credential Owner	credential	t	2025-12-10 03:01:05.544+00	2025-12-10 03:01:05.544+00
credential:user	Credential User	Credential User	credential	t	2025-12-10 03:01:05.544+00	2025-12-10 03:01:05.544+00
workflow:owner	Workflow Owner	Workflow Owner	workflow	t	2025-12-10 03:01:05.56+00	2025-12-10 03:01:05.56+00
workflow:editor	Workflow Editor	Workflow Editor	workflow	t	2025-12-10 03:01:05.56+00	2025-12-10 03:01:05.56+00
\.


--
-- TOC entry 3936 (class 0 OID 57360)
-- Dependencies: 268
-- Data for Name: role_scope; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.role_scope ("roleSlug", "scopeSlug") FROM stdin;
global:owner	annotationTag:create
global:owner	annotationTag:read
global:owner	annotationTag:update
global:owner	annotationTag:delete
global:owner	annotationTag:list
global:owner	auditLogs:manage
global:owner	banner:dismiss
global:owner	community:register
global:owner	communityPackage:install
global:owner	communityPackage:uninstall
global:owner	communityPackage:update
global:owner	communityPackage:list
global:owner	credential:share
global:owner	credential:shareGlobally
global:owner	credential:move
global:owner	credential:create
global:owner	credential:read
global:owner	credential:update
global:owner	credential:delete
global:owner	credential:list
global:owner	externalSecretsProvider:sync
global:owner	externalSecretsProvider:create
global:owner	externalSecretsProvider:read
global:owner	externalSecretsProvider:update
global:owner	externalSecretsProvider:delete
global:owner	externalSecretsProvider:list
global:owner	externalSecret:list
global:owner	externalSecret:use
global:owner	eventBusDestination:test
global:owner	eventBusDestination:create
global:owner	eventBusDestination:read
global:owner	eventBusDestination:update
global:owner	eventBusDestination:delete
global:owner	eventBusDestination:list
global:owner	ldap:sync
global:owner	ldap:manage
global:owner	license:manage
global:owner	logStreaming:manage
global:owner	orchestration:read
global:owner	project:create
global:owner	project:read
global:owner	project:update
global:owner	project:delete
global:owner	project:list
global:owner	saml:manage
global:owner	securityAudit:generate
global:owner	sourceControl:pull
global:owner	sourceControl:push
global:owner	sourceControl:manage
global:owner	tag:create
global:owner	tag:read
global:owner	tag:update
global:owner	tag:delete
global:owner	tag:list
global:owner	user:resetPassword
global:owner	user:changeRole
global:owner	user:enforceMfa
global:owner	user:create
global:owner	user:read
global:owner	user:update
global:owner	user:delete
global:owner	user:list
global:owner	variable:create
global:owner	variable:read
global:owner	variable:update
global:owner	variable:delete
global:owner	variable:list
global:owner	projectVariable:create
global:owner	projectVariable:read
global:owner	projectVariable:update
global:owner	projectVariable:delete
global:owner	projectVariable:list
global:owner	workersView:manage
global:owner	workflow:share
global:owner	workflow:execute
global:owner	workflow:move
global:owner	workflow:create
global:owner	workflow:read
global:owner	workflow:update
global:owner	workflow:delete
global:owner	workflow:list
global:owner	folder:create
global:owner	folder:read
global:owner	folder:update
global:owner	folder:delete
global:owner	folder:list
global:owner	folder:move
global:owner	insights:list
global:owner	oidc:manage
global:owner	provisioning:manage
global:owner	dataTable:create
global:owner	dataTable:read
global:owner	dataTable:update
global:owner	dataTable:delete
global:owner	dataTable:list
global:owner	dataTable:readRow
global:owner	dataTable:writeRow
global:owner	dataTable:listProject
global:owner	role:manage
global:owner	mcp:manage
global:owner	mcp:oauth
global:owner	mcpApiKey:create
global:owner	mcpApiKey:rotate
global:owner	chatHub:manage
global:owner	chatHub:message
global:owner	chatHubAgent:create
global:owner	chatHubAgent:read
global:owner	chatHubAgent:update
global:owner	chatHubAgent:delete
global:owner	chatHubAgent:list
global:owner	breakingChanges:list
global:admin	annotationTag:create
global:admin	annotationTag:read
global:admin	annotationTag:update
global:admin	annotationTag:delete
global:admin	annotationTag:list
global:admin	auditLogs:manage
global:admin	banner:dismiss
global:admin	community:register
global:admin	communityPackage:install
global:admin	communityPackage:uninstall
global:admin	communityPackage:update
global:admin	communityPackage:list
global:admin	credential:share
global:admin	credential:shareGlobally
global:admin	credential:move
global:admin	credential:create
global:admin	credential:read
global:admin	credential:update
global:admin	credential:delete
global:admin	credential:list
global:admin	externalSecretsProvider:sync
global:admin	externalSecretsProvider:create
global:admin	externalSecretsProvider:read
global:admin	externalSecretsProvider:update
global:admin	externalSecretsProvider:delete
global:admin	externalSecretsProvider:list
global:admin	externalSecret:list
global:admin	externalSecret:use
global:admin	eventBusDestination:test
global:admin	eventBusDestination:create
global:admin	eventBusDestination:read
global:admin	eventBusDestination:update
global:admin	eventBusDestination:delete
global:admin	eventBusDestination:list
global:admin	ldap:sync
global:admin	ldap:manage
global:admin	license:manage
global:admin	logStreaming:manage
global:admin	orchestration:read
global:admin	project:create
global:admin	project:read
global:admin	project:update
global:admin	project:delete
global:admin	project:list
global:admin	saml:manage
global:admin	securityAudit:generate
global:admin	sourceControl:pull
global:admin	sourceControl:push
global:admin	sourceControl:manage
global:admin	tag:create
global:admin	tag:read
global:admin	tag:update
global:admin	tag:delete
global:admin	tag:list
global:admin	user:resetPassword
global:admin	user:changeRole
global:admin	user:enforceMfa
global:admin	user:create
global:admin	user:read
global:admin	user:update
global:admin	user:delete
global:admin	user:list
global:admin	variable:create
global:admin	variable:read
global:admin	variable:update
global:admin	variable:delete
global:admin	variable:list
global:admin	projectVariable:create
global:admin	projectVariable:read
global:admin	projectVariable:update
global:admin	projectVariable:delete
global:admin	projectVariable:list
global:admin	workersView:manage
global:admin	workflow:share
global:admin	workflow:execute
global:admin	workflow:move
global:admin	workflow:create
global:admin	workflow:read
global:admin	workflow:update
global:admin	workflow:delete
global:admin	workflow:list
global:admin	folder:create
global:admin	folder:read
global:admin	folder:update
global:admin	folder:delete
global:admin	folder:list
global:admin	folder:move
global:admin	insights:list
global:admin	oidc:manage
global:admin	provisioning:manage
global:admin	dataTable:create
global:admin	dataTable:read
global:admin	dataTable:update
global:admin	dataTable:delete
global:admin	dataTable:list
global:admin	dataTable:readRow
global:admin	dataTable:writeRow
global:admin	dataTable:listProject
global:admin	role:manage
global:admin	mcp:manage
global:admin	mcp:oauth
global:admin	mcpApiKey:create
global:admin	mcpApiKey:rotate
global:admin	chatHub:manage
global:admin	chatHub:message
global:admin	chatHubAgent:create
global:admin	chatHubAgent:read
global:admin	chatHubAgent:update
global:admin	chatHubAgent:delete
global:admin	chatHubAgent:list
global:admin	breakingChanges:list
global:member	annotationTag:create
global:member	annotationTag:read
global:member	annotationTag:update
global:member	annotationTag:delete
global:member	annotationTag:list
global:member	eventBusDestination:test
global:member	eventBusDestination:list
global:member	tag:create
global:member	tag:read
global:member	tag:update
global:member	tag:list
global:member	user:list
global:member	variable:read
global:member	variable:list
global:member	dataTable:list
global:member	mcp:oauth
global:member	mcpApiKey:create
global:member	mcpApiKey:rotate
global:member	chatHub:message
global:member	chatHubAgent:create
global:member	chatHubAgent:read
global:member	chatHubAgent:update
global:member	chatHubAgent:delete
global:member	chatHubAgent:list
project:admin	credential:share
project:admin	credential:move
project:admin	credential:create
project:admin	credential:read
project:admin	credential:update
project:admin	credential:delete
project:admin	credential:list
project:admin	project:read
project:admin	project:update
project:admin	project:delete
project:admin	project:list
project:admin	sourceControl:push
project:admin	projectVariable:create
project:admin	projectVariable:read
project:admin	projectVariable:update
project:admin	projectVariable:delete
project:admin	projectVariable:list
project:admin	workflow:execute
project:admin	workflow:move
project:admin	workflow:create
project:admin	workflow:read
project:admin	workflow:update
project:admin	workflow:delete
project:admin	workflow:list
project:admin	folder:create
project:admin	folder:read
project:admin	folder:update
project:admin	folder:delete
project:admin	folder:list
project:admin	folder:move
project:admin	dataTable:create
project:admin	dataTable:read
project:admin	dataTable:update
project:admin	dataTable:delete
project:admin	dataTable:readRow
project:admin	dataTable:writeRow
project:admin	dataTable:listProject
project:personalOwner	credential:share
project:personalOwner	credential:move
project:personalOwner	credential:create
project:personalOwner	credential:read
project:personalOwner	credential:update
project:personalOwner	credential:delete
project:personalOwner	credential:list
project:personalOwner	project:read
project:personalOwner	project:list
project:personalOwner	workflow:share
project:personalOwner	workflow:execute
project:personalOwner	workflow:move
project:personalOwner	workflow:create
project:personalOwner	workflow:read
project:personalOwner	workflow:update
project:personalOwner	workflow:delete
project:personalOwner	workflow:list
project:personalOwner	folder:create
project:personalOwner	folder:read
project:personalOwner	folder:update
project:personalOwner	folder:delete
project:personalOwner	folder:list
project:personalOwner	folder:move
project:personalOwner	dataTable:create
project:personalOwner	dataTable:read
project:personalOwner	dataTable:update
project:personalOwner	dataTable:delete
project:personalOwner	dataTable:readRow
project:personalOwner	dataTable:writeRow
project:personalOwner	dataTable:listProject
project:editor	credential:create
project:editor	credential:read
project:editor	credential:update
project:editor	credential:delete
project:editor	credential:list
project:editor	project:read
project:editor	project:list
project:editor	projectVariable:create
project:editor	projectVariable:read
project:editor	projectVariable:update
project:editor	projectVariable:delete
project:editor	projectVariable:list
project:editor	workflow:execute
project:editor	workflow:create
project:editor	workflow:read
project:editor	workflow:update
project:editor	workflow:delete
project:editor	workflow:list
project:editor	folder:create
project:editor	folder:read
project:editor	folder:update
project:editor	folder:delete
project:editor	folder:list
project:editor	dataTable:create
project:editor	dataTable:read
project:editor	dataTable:update
project:editor	dataTable:delete
project:editor	dataTable:readRow
project:editor	dataTable:writeRow
project:editor	dataTable:listProject
project:viewer	credential:read
project:viewer	credential:list
project:viewer	project:read
project:viewer	project:list
project:viewer	projectVariable:read
project:viewer	projectVariable:list
project:viewer	workflow:read
project:viewer	workflow:list
project:viewer	folder:read
project:viewer	folder:list
project:viewer	dataTable:read
project:viewer	dataTable:readRow
project:viewer	dataTable:listProject
credential:owner	credential:share
credential:owner	credential:move
credential:owner	credential:read
credential:owner	credential:update
credential:owner	credential:delete
credential:user	credential:read
workflow:owner	workflow:share
workflow:owner	workflow:execute
workflow:owner	workflow:move
workflow:owner	workflow:read
workflow:owner	workflow:update
workflow:owner	workflow:delete
workflow:editor	workflow:execute
workflow:editor	workflow:read
workflow:editor	workflow:update
\.


--
-- TOC entry 3934 (class 0 OID 57345)
-- Dependencies: 266
-- Data for Name: scope; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.scope (slug, "displayName", description) FROM stdin;
annotationTag:create	Create Annotation Tag	Allows creating new annotation tags.
annotationTag:read	annotationTag:read	\N
annotationTag:update	annotationTag:update	\N
annotationTag:delete	annotationTag:delete	\N
annotationTag:list	annotationTag:list	\N
annotationTag:*	annotationTag:*	\N
auditLogs:manage	auditLogs:manage	\N
auditLogs:*	auditLogs:*	\N
banner:dismiss	banner:dismiss	\N
banner:*	banner:*	\N
community:register	community:register	\N
community:*	community:*	\N
communityPackage:install	communityPackage:install	\N
communityPackage:uninstall	communityPackage:uninstall	\N
communityPackage:update	communityPackage:update	\N
communityPackage:list	communityPackage:list	\N
communityPackage:manage	communityPackage:manage	\N
communityPackage:*	communityPackage:*	\N
credential:share	credential:share	\N
credential:shareGlobally	credential:shareGlobally	\N
credential:move	credential:move	\N
credential:create	credential:create	\N
credential:read	credential:read	\N
credential:update	credential:update	\N
credential:delete	credential:delete	\N
credential:list	credential:list	\N
credential:*	credential:*	\N
externalSecretsProvider:sync	externalSecretsProvider:sync	\N
externalSecretsProvider:create	externalSecretsProvider:create	\N
externalSecretsProvider:read	externalSecretsProvider:read	\N
externalSecretsProvider:update	externalSecretsProvider:update	\N
externalSecretsProvider:delete	externalSecretsProvider:delete	\N
externalSecretsProvider:list	externalSecretsProvider:list	\N
externalSecretsProvider:*	externalSecretsProvider:*	\N
externalSecret:list	externalSecret:list	\N
externalSecret:use	externalSecret:use	\N
externalSecret:*	externalSecret:*	\N
eventBusDestination:test	eventBusDestination:test	\N
eventBusDestination:create	eventBusDestination:create	\N
eventBusDestination:read	eventBusDestination:read	\N
eventBusDestination:update	eventBusDestination:update	\N
eventBusDestination:delete	eventBusDestination:delete	\N
eventBusDestination:list	eventBusDestination:list	\N
eventBusDestination:*	eventBusDestination:*	\N
ldap:sync	ldap:sync	\N
ldap:manage	ldap:manage	\N
ldap:*	ldap:*	\N
license:manage	license:manage	\N
license:*	license:*	\N
logStreaming:manage	logStreaming:manage	\N
logStreaming:*	logStreaming:*	\N
orchestration:read	orchestration:read	\N
orchestration:list	orchestration:list	\N
orchestration:*	orchestration:*	\N
project:create	project:create	\N
project:read	project:read	\N
project:update	project:update	\N
project:delete	project:delete	\N
project:list	project:list	\N
project:*	project:*	\N
saml:manage	saml:manage	\N
saml:*	saml:*	\N
securityAudit:generate	securityAudit:generate	\N
securityAudit:*	securityAudit:*	\N
sourceControl:pull	sourceControl:pull	\N
sourceControl:push	sourceControl:push	\N
sourceControl:manage	sourceControl:manage	\N
sourceControl:*	sourceControl:*	\N
tag:create	tag:create	\N
tag:read	tag:read	\N
tag:update	tag:update	\N
tag:delete	tag:delete	\N
tag:list	tag:list	\N
tag:*	tag:*	\N
user:resetPassword	user:resetPassword	\N
user:changeRole	user:changeRole	\N
user:enforceMfa	user:enforceMfa	\N
user:create	user:create	\N
user:read	user:read	\N
user:update	user:update	\N
user:delete	user:delete	\N
user:list	user:list	\N
user:*	user:*	\N
variable:create	variable:create	\N
variable:read	variable:read	\N
variable:update	variable:update	\N
variable:delete	variable:delete	\N
variable:list	variable:list	\N
variable:*	variable:*	\N
projectVariable:create	projectVariable:create	\N
projectVariable:read	projectVariable:read	\N
projectVariable:update	projectVariable:update	\N
projectVariable:delete	projectVariable:delete	\N
projectVariable:list	projectVariable:list	\N
projectVariable:*	projectVariable:*	\N
workersView:manage	workersView:manage	\N
workersView:*	workersView:*	\N
workflow:share	workflow:share	\N
workflow:execute	workflow:execute	\N
workflow:move	workflow:move	\N
workflow:activate	workflow:activate	\N
workflow:deactivate	workflow:deactivate	\N
workflow:create	workflow:create	\N
workflow:read	workflow:read	\N
workflow:update	workflow:update	\N
workflow:delete	workflow:delete	\N
workflow:list	workflow:list	\N
workflow:*	workflow:*	\N
folder:create	folder:create	\N
folder:read	folder:read	\N
folder:update	folder:update	\N
folder:delete	folder:delete	\N
folder:list	folder:list	\N
folder:move	folder:move	\N
folder:*	folder:*	\N
insights:list	insights:list	\N
insights:*	insights:*	\N
oidc:manage	oidc:manage	\N
oidc:*	oidc:*	\N
provisioning:manage	provisioning:manage	\N
provisioning:*	provisioning:*	\N
dataTable:create	dataTable:create	\N
dataTable:read	dataTable:read	\N
dataTable:update	dataTable:update	\N
dataTable:delete	dataTable:delete	\N
dataTable:list	dataTable:list	\N
dataTable:readRow	dataTable:readRow	\N
dataTable:writeRow	dataTable:writeRow	\N
dataTable:listProject	dataTable:listProject	\N
dataTable:*	dataTable:*	\N
execution:delete	execution:delete	\N
execution:read	execution:read	\N
execution:retry	execution:retry	\N
execution:list	execution:list	\N
execution:get	execution:get	\N
execution:*	execution:*	\N
workflowTags:update	workflowTags:update	\N
workflowTags:list	workflowTags:list	\N
workflowTags:*	workflowTags:*	\N
role:manage	role:manage	\N
role:*	role:*	\N
mcp:manage	mcp:manage	\N
mcp:oauth	mcp:oauth	\N
mcp:*	mcp:*	\N
mcpApiKey:create	mcpApiKey:create	\N
mcpApiKey:rotate	mcpApiKey:rotate	\N
mcpApiKey:*	mcpApiKey:*	\N
chatHub:manage	chatHub:manage	\N
chatHub:message	chatHub:message	\N
chatHub:*	chatHub:*	\N
chatHubAgent:create	chatHubAgent:create	\N
chatHubAgent:read	chatHubAgent:read	\N
chatHubAgent:update	chatHubAgent:update	\N
chatHubAgent:delete	chatHubAgent:delete	\N
chatHubAgent:list	chatHubAgent:list	\N
chatHubAgent:*	chatHubAgent:*	\N
breakingChanges:list	breakingChanges:list	\N
breakingChanges:*	breakingChanges:*	\N
*	*	\N
\.


--
-- TOC entry 3900 (class 0 OID 24785)
-- Dependencies: 232
-- Data for Name: settings; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.settings (key, value, "loadOnStartup") FROM stdin;
ui.banners.dismissed	["V1"]	t
features.ldap	{"loginEnabled":false,"loginLabel":"","connectionUrl":"","allowUnauthorizedCerts":false,"connectionSecurity":"none","connectionPort":389,"baseDn":"","bindingAdminDn":"","bindingAdminPassword":"","firstNameAttribute":"","lastNameAttribute":"","emailAttribute":"","loginIdAttribute":"","ldapIdAttribute":"","userFilter":"","synchronizationEnabled":false,"synchronizationInterval":60,"searchPageSize":0,"searchTimeout":60}	t
features.sourceControl.sshKeys	{"encryptedPrivateKey":"U2FsdGVkX1+nc7DUkEOi0B+duPtfpfZByZK49TsYVVGSPAJ4mzYaleVtt/VI7gdgwGDLEHzlX9x0XJeNF98YoSoW3TuUJdaSz2mzSNw7r6T0n43u0Hjf8quCVtbs2L1UMT6ZzwksfatBpEwNErd3pZ9IhOhgT6ZASF1yU+5Ny4n+Qc95HDulGdX4u6dZSKNGagBxSKSJJlL6dykVfpdqosC/+vxFj323ydpkGGL67TDjgxbHSs8mJsDfFX8tKTVDGzJnz9Xt1R07J1iFr206MOo1wxmRdBzrTZbVKhF8UaNvpSNzLh3kgTRtwAliTYrM2yZ0u8Q1DeLozkTBAkC0VsAJ2KCrnVBOMA0K27CQ6OBFFvas4aBA9F7tGpbdiGQHK+ThkTADYXErMBCHQY6nS1uj/so4fVmR5FrVpRgUc3CeecknTL/y+VUSesqMet2RjxTSiCODoAN83qVhZjgAo54NZ6pWdSl31XvG0mzg/DufQ7GZD4ZfbcyQTEx788WrNaQI8rmNZkpuLNmG4ErJZvRt80XnDcFxX/kCJKz1MHFnNfWQBU2pBijNpLgduHLV","publicKey":"ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIM4d/jKrcKtZ+NZeSAnJfV9hVrJ8FRST6aI6y+Qu5oaE n8n deploy key"}	t
features.sourceControl	{"branchName":"main","keyGeneratorType":"ed25519"}	t
userManagement.isInstanceOwnerSetUp	true	t
license.cert	eyJsaWNlbnNlS2V5IjoiLS0tLS1CRUdJTiBMSUNFTlNFIEtFWS0tLS0tXG5tU3FTRWRXaWgwS2FUS2o4d21kRFhOc01wSDFzaTRwbVJDVVN3NzkydEsvUkJzOVhoQVVzaUFpeDdoeHBTT2pzXG4zZmxwMitDMTJZaksycnY4dCtxdlp3MVF0VCtGczRGeWV3S3p1ZVFMMmhUVXJTSHdvYk9Vd1E1RjZKcC9xWm5FXG5wNndiSUlxb0Yra2VRZlFHTGowTnlwUXZTaHY1KzRYZW9sT01mUmFsbTErRW52STY1dDNlZW9BTEMrVVlOY0RoXG5EcEhpaER1WVJicnlsNHVhSVNicW9oc1g1Mmlibjk2alozWkM0bndMb2RtV1Q5UUNRbUltNG5WYVZBMGdiL0x1XG5aSnBRSWUyNFFhN3dnaXRSTkJWeHV6bDhEVmJwZmZZM3JTbnBrSk5uZHppU3E3RThoaS9SNXZaQk1XcTljVkdMXG5iYThHTVJwekFjdC9nbGtIc2k4bENRPT18fFUyRnNkR1ZrWDE4bmhaUGhESUpiZ2NGSnBhMW1PeVF3RmRxc09EXG5vc3FkYlMydmE0d29NU3dMQ3cvMW4vOWpnNDZaV0F5RXRNMUZFNFBqNTVzdlNsUlgwd2xoWGVHZGtiVHBvb2ZJXG5xNEVKUkpGS0ZyZUxYVUt3VnlFZ1VKMG9ZSEFQQjhFdTVQR01JblgycUN5RHBJNkJVYWZpRndjQXcyVHQxRE1iXG5WYkVoSlJnNzFlbFhwYXFNOVcxN20reFlMU1cwUWJ5dHVqQm1SbG1Gc0k2MCtyR2lNRlViYkViRTRRdjNVMUJzXG5uMC9QdmlCNXkzNDFFb01jeDNlMzVDOVV6UXR4ZVpzd2FlZGhwVFdtU3F0RUZGcTRSYXZtSjQyRjZSL2VwVlVPXG5ybUI1ZXNFL1VETTRJVlBmNStwMEZqcDFrdXgydDFITGhJV1dkT2pHQ1cxb0tncWQ2aytXWTFDYVF1UlM3MERvXG56djM2UmxyRFhSbmErbVRmWkRsbnJKam1WVVVvK08xOWd0bFQreGdIUmd1QU5mbzlPeVhLTWRCaTVuQ29Gb1l5XG5QYTJybDFkVWQ3ZE9qQXJGc29OQ0dCeS85TnhieDhwUE9oZlNHS25hVjIvcjBEeVN6M251YnVxejZQWHBvdm94XG5LU3IzdWNNNXFyNjFaNVVnWmYwU1NvWDhOakNrWUhYYmZtOW9qZ1lRbXFJVGxOVjQ2cE1RWGxOMUczeXhGMDd6XG5xOUtXNE5vdzkxdHp5OUhXTjB5Nkp4UERhdG85TElNM2c1U3pQV01XQ1NxQVVSSHlHbWJWc0VVOUVMWlVaTGd2XG5YYXNjYyt3S3NYVHJzNE5laUZPMjBCUkl5TEx6TkRJeTluZXQvVGlnVHZHQXZoZGdrcTVsRWlHNmRZb1N3QkVmXG5LNTduUlpYTnduSnlGbUs0eG1mVE1LWUV1ODFzOTdKM2k1eWZuYXRaOWpaMGRJNnZJUC9aWUwxNUVHa3AxMnc4XG5ndkIzR01DaXF2aEt1R1J2OUdqeVZETEMrTUt3U0ovUWpRNjlqdm1XVDJNbjVDeHk5RWJVeUNLM1RsVXFSTVE1XG5JZFk3bFdRSkZtUExlZ3Jkam94TkppUnB6LzY1WjhWY1pjSFVwSGFnUVFUd2xlNno2SEtjMEZNOGIrR2Y0V2dQXG56OVpqR1p0UHR6NEQzZUdEeTFjRm45TExYNTA5RUV3RFBzanEvL3hmaTNXdG9uUDM2RHVwM2R1V1BYTGdRNDlsXG5qalJRTzZqNDRKVXZrZnNTZXppNmZDcU55aVNmWVZwUmdVZFUvMVlZbys4bkc1TllpTGhwa0c1NmlKbFhUWUVDXG44RnB0VzVDOEwxNXEraHZQL0hnNzgvRStIWllhQkFKM3hxR01nVFVLcXFwY0V0dEtKa2tJdGlaL0prYTU3TXRuXG41U2ljMXRnKzgrOGtqeCtpMi9OVjlDTzEvRHRkNUpFRklRc3ZKZndGRXdFN0pFcWFYN2VjZGNHKy9VdnlSSWFtXG5KYlRMQWJYWFhEZEJHU3J2dkJ4WkpYQnRoS0JpV3JjYnN1YU9RTzNNcUQ5OHhtVENlQVBIa0d4YlFXdWsrWEdPXG5xTVJuM1V3bndDYi9GUStiR0hlQjN3VjVzejVwb2lxV29SbTJVSTFKVDdnMXlzU082aW9VNnBmN1ExeGlVYnBZXG5aZzFjMFRwTytsNkZRR3Q5RnYyOUxQakpWK3Nrb0NGcWRtN3haRHhSRUprVmVPdnBuUE1UcEJ5eEZOQ0VhRHUzXG5HMUdnVThKQUhEbkg4R0NXUEp0RzNLbHhiV2JZYXJ4R3EzVlhjb2VXdzlqNFV6SkFJOVF4UFoxQXc4RHZnaXJ4XG54VDZ3dkFUNHNUQlFkYU51dmhpbmRHNFlsNWxHTzREUVl0UHA3Q2RaSnloS3J5UWpiY2lQS1ptOWRoVFhwNmN4XG5KU1VWdGVLRzFQdHhidDhDQ1RrMHRObkN2N094SjJxYkZHN09iM25RQkJUeHNUcDhRb3c1dGpRUFpSQlQrSTluXG5uS0djNENUMWJaWWFOdHhmTmNJUEtHK3VwUUlVU0xDdlZ0OE1WODZHWFBBMkNVV0xsZVRGU20rb25qdFBWa2VZXG5SVHkrZmRDMkI0ckQwd1lLODZBNkhBZ0U2Z2tYVE1VME9LK3JyRlBXRFQ3aThrb0hYeTN4WmxqalN6UUxSWWpJXG50Tjk2bnJQcHdvNlhIQnFmODRqUlc3WVVER0hCT2RpZmtGQ0IxTVVORC9uZ1h1TUFRaWlldTlZVVE4aTh5R1VzXG5BNUVVTjhJN0lFS1JjUzJnS0Z2WXJ1dmcxbExjd0JxcFdkdmVSUm9tUlRwY0pDRDVHVkZFTUNlUi9CcjIrUmlyXG5ha0VMQWFaV0J3M2Nvd0t6Q1BFNW1hQWlrcjQ2d0R1UjFZZlh5a25FQ0habG9lczZQRXpla3FLMlA5c1JHS3h4XG5mbzMrdnhvdGhBWlg4T3V2b2R3TWVjTXBYVVUyL2hWaFZaK215eXJHMDhTOW9pcGt0Z2x2Tng0Uit4ZFJRZ0NiXG5JUXl4WGxIWU5OdnA2UkJYZnc2RjhxN1Z5Z3krcEtsS0VFKzRrNFNnWGZnendtaHFCRzJ2dG5EUkJPTFVmUmhYXG45bTFBc1dXcFBQODlNaVJySU5HNk05U05Fb0ZtUWkxSldQUW9YaDR2MVRKaXc5djhEamZCMEJpczJlNngxWnV0XG56VmZERU5qdWtFV1NjT0FXbjhzNU04aXFpaVhYczNCNzBXTFUzbmhxUGMzYWx3NUdSNlJqRG1MZ0RvZnRxcHlSXG41ZnI5SHhiN2NtblJNcEk1Uy9GdVZQNDMvTkEzTG5TcmFZNmdqazhCbnM4K2RMV3dCOTg3ZW0wM1RLZnU0d3hlXG50WDlxM0lKUFFiaGNBVE1ncW0yK0ZVM2RDTU5VMldQU0VETnRnM2xONElFSTBtbjJpNzErV2VJN2c1eldJRjlIXG5zVEIvYVdQNnFMeUlydnlZUU9XY0dCVHEwVzJsV1h3NGNDL01hNVpJdmxmTEV4REx2R3FxRVZWTXZEVmZRS0pvXG4zR2dsTWt0WEYxL2JJR3BEV0hmMlBzY243aTBhcCtoaDhWSWhaK1FnNC9ldkNVRXc9PXx8SmdVeDZoV3JURUtvXG4xb1dhcWFvOGNBNVQvMEo4dm5CTWVORTZlWDdGY0k0WjRlMHNFeGR2bGQyVGNOTlhLSmJORHRTRTJRR3N6K0Z0XG44Y3Z1YkZ3RnpSNERtYjNFVFF5b1duQ295TkQ5NXd6UEV0citoUWQxN0JhdUZ4REwxRjVWNVpKYkZPd2wzclB4XG5hZ2FTd3MxcG9BbWY2ak8wMkIxVERYVzJabXIwZzZBZ1pQZ3ExdmdtV3VRQXFvR1JlbkZOS2FsT1A5SjdvdGRmXG5reFY5ZHp5NUxISlA2WGNxaVIwaGxwd2ZVMXpDTk92VGpoNytoZEJFdlJaTmcvRFAycnFZZURkd09VVGdxeEpMXG5XZG5aT29FY1JmN21UdVp3MTVZa2sxU1ZXRlFZYW81SFJsT01xZmk5eCtPSmdWSkY1eGM3RU9qVTMzWHZJM1R5XG5YTTYyNGtQYUVRPT1cbi0tLS0tRU5EIExJQ0VOU0UgS0VZLS0tLS0iLCJ4NTA5IjoiLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tXG5NSUlFRERDQ0FmUUNDUUNxZzJvRFQ4MHh3akFOQmdrcWhraUc5dzBCQVFVRkFEQklNUXN3Q1FZRFZRUUdFd0pFXG5SVEVQTUEwR0ExVUVDQXdHUW1WeWJHbHVNUTh3RFFZRFZRUUhEQVpDWlhKc2FXNHhGekFWQmdOVkJBTU1EbXhwXG5ZMlZ1YzJVdWJqaHVMbWx2TUI0WERUSXlNRFl5TkRBME1UQTBNRm9YRFRJek1EWXlOREEwTVRBME1Gb3dTREVMXG5NQWtHQTFVRUJoTUNSRVV4RHpBTkJnTlZCQWdNQmtKbGNteHBiakVQTUEwR0ExVUVCd3dHUW1WeWJHbHVNUmN3XG5GUVlEVlFRRERBNXNhV05sYm5ObExtNDRiaTVwYnpDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDXG5BUW9DZ2dFQkFNQk0wNVhCNDRnNXhmbUNMd2RwVVR3QVQ4K0NCa3lMS0ZzZXprRDVLLzZXaGFYL1hyc2QvUWQwXG4yMEo3d2w1V2RIVTRjVkJtRlJqVndWemtsQ0syeVlKaThtang4c1hzR3E5UTFsYlVlTUtmVjlkc2dmdWhubEFTXG50blFaZ2x1Z09uRjJGZ1JoWGIvakswdHhUb2FvK2JORTZyNGdJRXpwa3RITEJUWXZ2aXVKbXJlZjdXYlBSdDRJXG5uZDlEN2xoeWJlYnloVjdrdXpqUUEvcFBLSFRGczhNVEhaOGhZVXhSeXJwbTMrTVl6UUQrYmpBMlUxRkljdGFVXG53UVhZV2FON3QydVR3Q3Q5ekFLc21ZL1dlT2J2bDNUWk41T05MQXp5V0dDdWxtNWN3S1IzeGJsQlp6WG5CNmdzXG5Pbk4yT0FkU3RjelRWQ3ljbThwY0ZVcnl0S1NLa0dFQ0F3RUFBVEFOQmdrcWhraUc5dzBCQVFVRkFBT0NBZ0VBXG5sSjAxd2NuMXZqWFhDSHVvaTdSMERKMWxseDErZGFmcXlFcVBBMjdKdStMWG1WVkdYUW9yUzFiOHhqVXFVa2NaXG5UQndiV0ZPNXo1ZFptTnZuYnlqYXptKzZvT2cwUE1hWXhoNlRGd3NJMlBPYmM3YkZ2MmVheXdQdC8xQ3BuYzQwXG5xVU1oZnZSeC9HQ1pQQ1d6My8yUlBKV1g5alFEU0hYQ1hxOEJXK0kvM2N1TERaeVkzZkVZQkIwcDNEdlZtYWQ2XG42V0hRYVVyaU4wL0xxeVNPcC9MWmdsbC90MDI5Z1dWdDA1WmliR29LK2NWaFpFY3NMY1VJaHJqMnVGR0ZkM0ltXG5KTGcxSktKN2pLU0JVUU9kSU1EdnNGVUY3WWRNdk11ckNZQTJzT05OOENaK0k1eFFWMUtTOWV2R0hNNWZtd2dTXG5PUEZ2UHp0RENpMC8xdVc5dE9nSHBvcnVvZGFjdCtFWk5rQVRYQ3ZaaXUydy9xdEtSSkY0VTRJVEVtNWFXMGt3XG42enVDOHh5SWt0N3ZoZHM0OFV1UlNHSDlqSnJBZW1sRWl6dEdJTGhHRHF6UUdZYmxoVVFGR01iQmI3amhlTHlDXG5MSjFXT0c2MkYxc3B4Q0tCekVXNXg2cFIxelQxbWhFZ2Q0TWtMYTZ6UFRwYWNyZDk1QWd4YUdLRUxhMVJXU0ZwXG5NdmRoR2s0TnY3aG5iOHIrQnVNUkM2aWVkUE1DelhxL001MGNOOEFnOGJ3K0oxYUZvKzBFSzJoV0phN2tpRStzXG45R3ZGalNkekNGbFVQaEtra1Vaa1NvNWFPdGNRcTdKdTZrV0JoTG9GWUtncHJscDFRVkIwc0daQTZvNkR0cWphXG5HNy9SazZ2YmFZOHdzTllLMnpCWFRUOG5laDVab1JaL1BKTFV0RUV0YzdZPVxuLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLSJ9	f
userManagement.authenticationMethod	email	t
\.


--
-- TOC entry 3913 (class 0 OID 25269)
-- Dependencies: 245
-- Data for Name: shared_credentials; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.shared_credentials ("credentialsId", "projectId", role, "createdAt", "updatedAt") FROM stdin;
KRyyaKtkymLK3YpM	4QqxaLY0ZGMCSSgA	credential:owner	2025-05-14 02:03:13.397+00	2025-05-14 02:03:13.397+00
4lEBy7qEfA2UCGII	4QqxaLY0ZGMCSSgA	credential:owner	2025-05-18 21:40:00.184+00	2025-05-18 21:40:00.184+00
3ALxij02ZK5ZvDbM	4QqxaLY0ZGMCSSgA	credential:owner	2025-05-18 22:34:48.023+00	2025-05-18 22:34:48.023+00
SUw5GeVuSJfyIK9V	4QqxaLY0ZGMCSSgA	credential:owner	2025-05-18 22:54:55.558+00	2025-05-18 22:54:55.558+00
yeyfgM2GRQTJScoM	4QqxaLY0ZGMCSSgA	credential:owner	2025-05-28 23:19:51.807+00	2025-05-28 23:19:51.807+00
kEVBU6maOxRfSKdj	4QqxaLY0ZGMCSSgA	credential:owner	2025-06-05 23:17:58.845+00	2025-06-05 23:17:58.845+00
vsot3gBI1jI0kEsa	4QqxaLY0ZGMCSSgA	credential:owner	2025-06-11 23:12:09.019+00	2025-06-11 23:12:09.019+00
sv022Yz8rJXZ7Fty	4QqxaLY0ZGMCSSgA	credential:owner	2025-06-11 23:46:22.551+00	2025-06-11 23:46:22.551+00
tVnURnENQ5tiqndD	4QqxaLY0ZGMCSSgA	credential:owner	2025-06-12 00:30:47.276+00	2025-06-12 00:30:47.276+00
IG7DVyVFauVNumq4	4QqxaLY0ZGMCSSgA	credential:owner	2025-06-12 23:19:00.686+00	2025-06-12 23:19:00.686+00
Wmz3AO5pPNbuodMG	4QqxaLY0ZGMCSSgA	credential:owner	2025-06-13 01:06:16.768+00	2025-06-13 01:06:16.768+00
LDhBmd2aeXNRoFRh	4QqxaLY0ZGMCSSgA	credential:owner	2025-06-22 23:24:42.333+00	2025-06-22 23:24:42.333+00
t5C5629l3ApBhaVm	4QqxaLY0ZGMCSSgA	credential:owner	2025-06-28 17:56:14.248+00	2025-06-28 17:56:14.248+00
k6NMY19byioyMjUc	4QqxaLY0ZGMCSSgA	credential:owner	2025-12-10 03:52:51.585+00	2025-12-10 03:52:51.585+00
\.


--
-- TOC entry 3914 (class 0 OID 25295)
-- Dependencies: 246
-- Data for Name: shared_workflow; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.shared_workflow ("workflowId", "projectId", role, "createdAt", "updatedAt") FROM stdin;
WvhIVdAZJSwnonKh	4QqxaLY0ZGMCSSgA	workflow:owner	2025-05-14 02:02:25.411+00	2025-05-14 02:02:25.411+00
qM9l7HiKjmbkTyIs	4QqxaLY0ZGMCSSgA	workflow:owner	2025-05-17 17:51:51.17+00	2025-05-17 17:51:51.17+00
cUOXZ0f78wNozDnp	4QqxaLY0ZGMCSSgA	workflow:owner	2025-05-19 00:46:28.609+00	2025-05-19 00:46:28.609+00
nVI38CcD6ho2Hh0b	4QqxaLY0ZGMCSSgA	workflow:owner	2025-05-19 01:51:15.56+00	2025-05-19 01:51:15.56+00
dtSg5P1iisGnpbxc	4QqxaLY0ZGMCSSgA	workflow:owner	2025-05-19 02:53:27.032+00	2025-05-19 02:53:27.032+00
fJd3NWsfo10fSjXP	4QqxaLY0ZGMCSSgA	workflow:owner	2025-05-19 19:08:50.039+00	2025-05-19 19:08:50.039+00
XYvrx4uUOzCXQmJQ	4QqxaLY0ZGMCSSgA	workflow:owner	2025-05-23 01:15:46.439+00	2025-05-23 01:15:46.439+00
dvSolfUTi9fknzCk	4QqxaLY0ZGMCSSgA	workflow:owner	2025-05-26 23:48:42.5+00	2025-05-26 23:48:42.5+00
Hs7P70pLnGEmXRO9	4QqxaLY0ZGMCSSgA	workflow:owner	2025-05-27 01:43:50.958+00	2025-05-27 01:43:50.958+00
9FSKLpPjh9xCoQ1M	4QqxaLY0ZGMCSSgA	workflow:owner	2025-05-31 17:30:28.11+00	2025-05-31 17:30:28.11+00
KD5ZI9u3hWORzxC8	4QqxaLY0ZGMCSSgA	workflow:owner	2025-05-31 18:44:56.242+00	2025-05-31 18:44:56.242+00
eC8grbHl4iogf5z6	4QqxaLY0ZGMCSSgA	workflow:owner	2025-06-04 00:42:55.902+00	2025-06-04 00:42:55.902+00
kBF5bawSN8BxCXnV	4QqxaLY0ZGMCSSgA	workflow:owner	2025-06-06 00:52:50.647+00	2025-06-06 00:52:50.647+00
jIx2xLFJnEeKpcNO	4QqxaLY0ZGMCSSgA	workflow:owner	2025-06-10 00:29:44.574+00	2025-06-10 00:29:44.574+00
8x9Q8xDGjpXr7rON	4QqxaLY0ZGMCSSgA	workflow:owner	2025-06-11 23:43:33.781+00	2025-06-11 23:43:33.781+00
vAucYAHvqERAZtwm	4QqxaLY0ZGMCSSgA	workflow:owner	2025-06-12 01:33:52.92+00	2025-06-12 01:33:52.92+00
1Jgxp5jI340vBQ59	4QqxaLY0ZGMCSSgA	workflow:owner	2025-06-12 17:55:30.09+00	2025-06-12 17:55:30.09+00
si1TRBRSoeD11mnt	4QqxaLY0ZGMCSSgA	workflow:owner	2025-06-12 18:15:47.169+00	2025-06-12 18:15:47.169+00
rUfppmVc29XcLxHu	4QqxaLY0ZGMCSSgA	workflow:owner	2025-06-12 21:41:44.685+00	2025-06-12 21:41:44.685+00
lVEEiTzBjjAxVkFT	4QqxaLY0ZGMCSSgA	workflow:owner	2025-06-12 22:28:12.925+00	2025-06-12 22:28:12.925+00
vRjzDA3odWrYEsYa	4QqxaLY0ZGMCSSgA	workflow:owner	2025-06-12 23:52:37.253+00	2025-06-12 23:52:37.253+00
VXnBVFm1w2zsvSt3	4QqxaLY0ZGMCSSgA	workflow:owner	2025-06-14 00:23:42.033+00	2025-06-14 00:23:42.033+00
VGoFrxdcNIzcUr3e	4QqxaLY0ZGMCSSgA	workflow:owner	2025-06-14 02:42:22.887+00	2025-06-14 02:42:22.887+00
aZ1FyH5jQszmAVTN	4QqxaLY0ZGMCSSgA	workflow:owner	2025-06-19 17:38:53.978+00	2025-06-19 17:38:53.978+00
EyMxJsW5hS700vGa	4QqxaLY0ZGMCSSgA	workflow:owner	2025-06-22 22:06:38.919+00	2025-06-22 22:06:38.919+00
WjCOI2qBSzQglNXo	4QqxaLY0ZGMCSSgA	workflow:owner	2025-06-22 23:28:19.274+00	2025-06-22 23:28:19.274+00
qcNeE3fCKXPR71bd	4QqxaLY0ZGMCSSgA	workflow:owner	2025-06-23 01:13:46.853+00	2025-06-23 01:13:46.853+00
Pu5iXI8WGSFyphVx	4QqxaLY0ZGMCSSgA	workflow:owner	2025-06-25 19:44:01.273+00	2025-06-25 19:44:01.273+00
UwHHfi23oecxvpZh	4QqxaLY0ZGMCSSgA	workflow:owner	2025-06-25 20:45:20.907+00	2025-06-25 20:45:20.907+00
MRvfR4KPMKgYvruE	4QqxaLY0ZGMCSSgA	workflow:owner	2025-07-01 18:37:13.74+00	2025-07-01 18:37:13.74+00
HmlcxEmtlrF6kw5f	4QqxaLY0ZGMCSSgA	workflow:owner	2025-07-24 04:16:57.81+00	2025-07-24 04:16:57.81+00
Z1IpndZ8ZbD2ETs1	4QqxaLY0ZGMCSSgA	workflow:owner	2025-07-24 04:33:35.122+00	2025-07-24 04:33:35.122+00
YEmVz4IjvlnA3Mcc	4QqxaLY0ZGMCSSgA	workflow:owner	2025-12-10 03:42:53.586+00	2025-12-10 03:42:53.586+00
cv4nlaVnkMEKj4EN	4QqxaLY0ZGMCSSgA	workflow:owner	2025-12-10 03:43:08.173+00	2025-12-10 03:43:08.173+00
z52Sow2ZiWhoxNmU	4QqxaLY0ZGMCSSgA	workflow:owner	2025-12-10 03:43:30.025+00	2025-12-10 03:43:30.025+00
Z0ojzknuXKQpTzD2	4QqxaLY0ZGMCSSgA	workflow:owner	2025-12-10 03:43:41.055+00	2025-12-10 03:43:41.055+00
\.


--
-- TOC entry 3897 (class 0 OID 24636)
-- Dependencies: 229
-- Data for Name: tag_entity; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.tag_entity (name, "createdAt", "updatedAt", id) FROM stdin;
Story Builder	2025-05-17 17:53:06.626+00	2025-05-17 17:53:06.626+00	cRs4n3u2lESNBFK6
Saints GPT	2025-05-26 23:48:34.783+00	2025-05-26 23:48:34.783+00	i5SZsJiDTjwrkWjX
Misc	2025-06-11 23:54:18.736+00	2025-06-11 23:54:18.736+00	4FVdi2mU0QT9ZIZJ
PromptOS	2025-06-13 00:44:28.8+00	2025-06-13 00:44:28.8+00	HMfvMejmdgx6xPHF
StatusWatch	2025-12-10 03:42:49.636+00	2025-12-10 03:42:49.636+00	YhZaSz2umH3ClIGu
\.


--
-- TOC entry 3933 (class 0 OID 35122)
-- Dependencies: 265
-- Data for Name: test_case_execution; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.test_case_execution (id, "testRunId", "executionId", status, "runAt", "completedAt", "errorCode", "errorDetails", metrics, "createdAt", "updatedAt", inputs, outputs) FROM stdin;
\.


--
-- TOC entry 3932 (class 0 OID 35107)
-- Dependencies: 264
-- Data for Name: test_run; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.test_run (id, "workflowId", status, "errorCode", "errorDetails", "runAt", "completedAt", metrics, "createdAt", "updatedAt") FROM stdin;
\.


--
-- TOC entry 3899 (class 0 OID 24722)
-- Dependencies: 231
-- Data for Name: user; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."user" (id, email, "firstName", "lastName", password, "personalizationAnswers", "createdAt", "updatedAt", settings, disabled, "mfaEnabled", "mfaSecret", "mfaRecoveryCodes", "lastActiveAt", "roleSlug") FROM stdin;
9594efd0-a747-401d-a558-337ebbb0d323	marcotechinc@outlook.com	Marco	San Juan	$2a$10$7d3jZPDVfcVzl12ih14pNuEcn9x24OODRUgFh/2UhffSgsjdafDd6	{"version":"v4","personalization_survey_submitted_at":"2025-05-14T01:56:23.361Z","personalization_survey_n8n_version":"1.91.3","companySize":"<20","companyType":"systems-integrator","role":"business-owner","reportedSource":"youtube"}	2025-05-14 01:47:54.63+00	2025-12-11 03:09:26.69+00	{"userActivated":true,"easyAIWorkflowOnboarded":true,"firstSuccessfulWorkflowId":"Hs7P70pLnGEmXRO9","userActivatedAt":1748310462203,"npsSurvey":{"responded":true,"lastShownAt":1750125610674},"dismissedCallouts":{"ragStarterCallout":true}}	f	f	\N	\N	2025-12-10	global:owner
\.


--
-- TOC entry 3922 (class 0 OID 25381)
-- Dependencies: 254
-- Data for Name: user_api_keys; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.user_api_keys (id, "userId", label, "apiKey", "createdAt", "updatedAt", scopes, audience) FROM stdin;
\.


--
-- TOC entry 3908 (class 0 OID 24907)
-- Dependencies: 240
-- Data for Name: variables; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.variables (key, type, value, id, "projectId") FROM stdin;
\.


--
-- TOC entry 3896 (class 0 OID 24626)
-- Dependencies: 228
-- Data for Name: webhook_entity; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.webhook_entity ("webhookPath", method, node, "webhookId", "pathLength", "workflowId") FROM stdin;
sgpt-test	POST	Webhook	\N	\N	Hs7P70pLnGEmXRO9
\.


--
-- TOC entry 3949 (class 0 OID 57643)
-- Dependencies: 281
-- Data for Name: workflow_dependency; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.workflow_dependency (id, "workflowId", "workflowVersionId", "dependencyType", "dependencyKey", "dependencyInfo", "indexVersionId", "createdAt") FROM stdin;
\.


--
-- TOC entry 3895 (class 0 OID 24618)
-- Dependencies: 227
-- Data for Name: workflow_entity; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.workflow_entity (name, active, nodes, connections, "createdAt", "updatedAt", settings, "staticData", "pinData", "versionId", "triggerCount", id, meta, "parentFolderId", "isArchived", "versionCounter", description, "activeVersionId") FROM stdin;
Hello World - E2E - webhook	f	[{"parameters":{"httpMethod":"POST","path":"sgpt-test","responseMode":"responseNode","options":{}},"type":"n8n-nodes-base.webhook","typeVersion":2,"position":[860,1820],"id":"26124ce4-2b28-4ded-a5a8-99a1e57d5957","name":"Webhook","webhookId":"87ca2189-f1be-4391-a398-77e991944269"},{"parameters":{"respondWith":"allIncomingItems","options":{}},"type":"n8n-nodes-base.respondToWebhook","typeVersion":1.2,"position":[3780,1840],"id":"af5ba3a2-4f62-4f26-9f06-0ea7669bfed9","name":"Respond to Webhook"},{"parameters":{"jsCode":"// n8n Code node: Flatten body\\nreturn [\\n  {\\n    json: {\\n      ...items[0].json.body\\n    }\\n  }\\n];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1060,1820],"id":"a8a41f41-c70a-4513-902c-602cd5e37268","name":"Flatten"},{"parameters":{"assignments":{"assignments":[{"id":"25838238-ffb4-46e7-8aed-67b58e686630","name":"name","value":"html","type":"string"},{"id":"45023167-edec-4f50-956a-647fcf43c41b","name":"response_text","value":"={{ $json.response_text }}","type":"string"},{"id":"feecc9da-1853-4641-9e87-62465cf44b70","name":"saint_name","value":"={{ $json.saint_name }}","type":"string"},{"id":"3d39c1d3-0be7-4ba0-9096-cca23ca4d7a7","name":"canonical_id","value":"={{ $json.canonical_id }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[3580,1840],"id":"f513e6f8-6890-4276-8ffc-cf90fbf5d3ad","name":"Prep webhook response"},{"parameters":{"jsonSchemaExample":"{\\n  \\"persona\\": \\"mary_of_nazareth\\",\\n  \\"first_name\\": \\"mary\\",\\n  \\"tone_mode\\": \\"devotional\\",\\n  \\"virtue_focus\\": \\"humility\\",\\n  \\"simplify_level\\": 2,\\n  \\"audience_tags\\": [\\"teen\\", \\"new_catholic\\", \\"female\\"]\\n}\\n"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[1520,2160],"id":"e50651a6-c0d7-4b28-970d-d749e75e5e8a","name":"Structured Output Parser"},{"parameters":{"url":"https://ukpvaebwabvvipebebnj.supabase.co/rest/v1/saints","authentication":"predefinedCredentialType","nodeCredentialType":"supabaseApi","sendQuery":true,"queryParameters":{"parameters":[{"name":"or","value":"=canonical_id,saint_name,search_aliases"},{"name":"or","value":"=(canonical_id.ilike.*{{$json.first_name}}*,saint_name.ilike.*{{$json.first_name}}*,search_aliases.cs.{ {{$json.first_name}} })"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1900,2060],"id":"cc1b36fd-a485-42f6-b6b9-b54e6a30a568","name":"Query Supabase for Saints","alwaysOutputData":true,"credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account - SGPT"}}},{"parameters":{"query":"=Find Catholic blog posts, reflections, or news related to this concern: \\"{{ $json[\\"What is the issue?\\"] }}\\", asked by someone age {{ $json[\\"Age?\\"] }}, on behalf of {{ $json[\\"Who is this for?\\"] }}.\\n","options":{}},"type":"@tavily/n8n-nodes-tavily.tavilyTool","typeVersion":1,"position":[3100,2140],"id":"1c0be920-d04d-4820-9adb-b5c49e100eac","name":"Tavily Context Tool","credentials":{"tavilyApi":{"id":"vsot3gBI1jI0kEsa","name":"Tavily account"}}},{"parameters":{"jsCode":"const input = $items(\\"Format JSON1\\")[0].json;\\nconst persona = input.persona?.toLowerCase().trim();\\nconst firstName = input.first_name?.toLowerCase().trim();\\nconst raw = $items(\\"Query Supabase for Saints\\")[0].json;\\nconst matches = Array.isArray(raw) ? raw : [raw];  // Ensures array\\n\\nfunction score(saint) {\\n  const id = saint.canonical_id?.toLowerCase() || '';\\n  const name = saint.saint_name?.toLowerCase() || '';\\n  const aliases = (saint.search_aliases || []).map(a => a.toLowerCase());\\n\\n  let score = 0;\\n\\n  if (id === persona) score += 10;\\n  else if (id.includes(persona)) score += 7;\\n\\n  if (name.includes(persona)) score += 5;\\n  if (name.includes(firstName)) score += 3;\\n\\n  for (const alias of aliases) {\\n    if (alias === persona) score += 8;\\n    else if (alias.includes(persona)) score += 6;\\n    else if (alias.includes(firstName)) score += 2;\\n  }\\n\\n  return score;\\n}\\n\\n// Apply scoring and sort\\nconst ranked = matches\\n  .map(s => ({ ...s, score: score(s) }))\\n  .sort((a, b) => b.score - a.score);\\n\\nconst best = ranked[0] || null;\\n\\nreturn [{\\n  json: {\\n    attempted_persona: persona,\\n    best_match: best,\\n    other_candidates: ranked.slice(1),\\n    fallback_used: !best || best.canonical_id !== persona\\n  }\\n}];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2080,2060],"id":"cb26136d-dcf1-4e1a-82bd-6fec6c90f67b","name":"Rank and Match"},{"parameters":{"jsCode":"const data = $json[\\"output\\"];\\n\\n// Add fuzzy-friendly first name for Supabase lookup fallback\\nconst persona = data.persona || \\"\\";\\ndata.first_name = persona.split(\\"_\\")[0] || \\"unknown\\";\\n\\nreturn [{ json: data }];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1680,1980],"id":"e8fccdff-7d2a-4a88-a1e9-f621653c5a2a","name":"Format JSON1"},{"parameters":{"mode":"combine","combineBy":"combineAll","options":{}},"type":"n8n-nodes-base.merge","typeVersion":3.1,"position":[2560,1840],"id":"a97dbcf5-295e-4129-81b6-982b675fef21","name":"Merge1"},{"parameters":{"jsCode":"const responseText = $json.output || $json.text;\\nconst saint = $node[\\"Merge1\\"]?.json || {};\\n\\nreturn [\\n  {\\n    json: {\\n      response_text: responseText,\\n      saint_name: saint.saint_name || \\"Unknown Saint\\",\\n      canonical_id: saint.canonical_id || \\"unknown_id\\"\\n    }\\n  }\\n];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[3200,1840],"id":"4b33859f-9501-42f1-a7c0-d4848d063030","name":"Format Output1"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[2820,2320],"id":"5970e71a-a7cb-46c0-aa52-436768edf0a3","name":"Embeddings OpenAI1","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"promptType":"define","text":"=Someone age {{ $json[\\"Age?\\"] }} says:\\n\\n{{ $json[\\"What is the issue?\\"] }}\\n\\nThey are asking on behalf of: {{ $json[\\"Who is this for?\\"] }}.","options":{"systemMessage":"=Before responding, reflect on the nature of the issue.  \\nAsk yourself:  \\n- Does this involve sin, sacraments, moral teaching, or Church doctrine?  \\n- Would consulting authoritative sources deepen the response?\\n\\nIf so, use the `doctrine_retriever` tool to find the most relevant Church teaching, Catechism entry, or doctrinal text.  \\nSummarize key insights and cite the source when helpful.\\n\\nIf the question reflects modern concerns, news, or lived issues that may benefit from online context, use the `tavily_context_tool` to retrieve relevant blog posts, summaries, or news articles.  \\nUse this background to enrich your answer with current reflections, examples, or analogies.\\n\\n---\\n\\n#TOOLS  \\n- `doctrine_retriever`: Use when doctrinal or moral teachings from the Church are needed.  \\n- `tavily_context_tool`: Use when the user raises a question about modern issues, culture, technology, mental health, or other real-world topics that might benefit from contemporary Catholic insight.\\n\\n---\\n\\nYou are {{ $json.saint_name }}.  \\nYou embody {{ $json.tone_profile }}, speaking in the tone of a {{ $json.default_tone_mode }}.  \\nYou are known for: {{ $json.charism_tags.join(\\", \\") }}.  \\nYou are guided by the virtues of {{ $json.virtue_focus }}.  \\nYou often teach on: {{ $json.preferred_topics.join(\\", \\") }}.  \\nYou avoid: {{ $json.avoid_topics.join(\\", \\") }}.  \\nYour voice is captured in this quote: \\"{{ $json.known_quote }}\\"\\n\\nSpeak with theological clarity, spiritual depth, and pastoral care.  \\nDraw from scripture, doctrine, or your lived reflections when relevant.  \\nConclude with **one practical step** the person can take today in truth and charity.\\n\\nDo not give a generic answer. Speak as {{ $json.saint_name }} would  drawing from their spirituality, mission, and unique way of guiding souls.\\n"}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2,"position":[2800,1840],"id":"d5c61966-d246-47a1-907e-079e3805236f","name":"SaintsGPT1"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[2620,2080],"id":"4c43865e-9e38-47c4-847c-b6bf6098faf3","name":"OpenAI Chat Model (SaintsGPT)1","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[1320,2160],"id":"047597c1-3712-4683-b8d4-dedaf10fc81f","name":"OpenAI Chat Model (Saint Selector)1","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"mode":"retrieve-as-tool","toolName":"doctrine_retriever","toolDescription":"Retrieve doctrinal content from Supabase vector store","tableName":{"__rl":true,"value":"doctrine_vectors","mode":"list","cachedResultName":"doctrine_vectors"},"options":{"queryName":"match_documents"}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.1,"position":[2760,2120],"id":"e219198a-a065-4117-8d30-9ee24425a920","name":"Doctrine Retriever1","credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account - SGPT"}}},{"parameters":{"jsCode":"const result = items[0]?.json;\\n\\n// If Supabase returned a match\\nif (result && result.best_match?.canonical_id) {\\n  return [{ json: result.best_match }];\\n}\\n\\n// No match found  fallback logic\\nconst fallbackSaints = [\\n  {\\n    canonical_id: 'francis_assisi',\\n    saint_name: 'Saint Francis of Assisi',\\n    tone_profile: 'joyful, poetic, nature-loving',\\n    default_tone_mode: 'monk',\\n    virtue_focus: 'joy, simplicity',\\n    charism_tags: ['poverty', 'nature', 'peacemaking'],\\n    preferred_topics: ['materialism', 'loneliness', 'anxiety'],\\n    avoid_topics: ['abstract theology'],\\n    known_quote: 'Preach the Gospel at all times'\\n  },\\n  {\\n    canonical_id: 'therese_lisieux',\\n    saint_name: 'Saint Thrse of Lisieux',\\n    tone_profile: 'soft, gentle, playful',\\n    default_tone_mode: 'child',\\n    virtue_focus: 'trust, patience',\\n    charism_tags: ['little way', 'joy', 'small sacrifice'],\\n    preferred_topics: ['fear', 'loss', 'childhood'],\\n    avoid_topics: ['politics', 'philosophy'],\\n    known_quote: 'I will spend my heaven doing good on earth.'\\n  }\\n];\\n\\n// Randomly select fallback saint\\nconst fallback = fallbackSaints[Math.floor(Math.random() * fallbackSaints.length)];\\n\\nreturn [{ json: fallback }];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2260,2060],"id":"c00a9709-1e2d-4ebd-8e29-e56a3f60936a","name":"Fallback check1"},{"parameters":{"promptType":"define","text":"=Issue: \\n{{ $json['What is the issue?'] }}\\n\\nAudience:\\n{{ $json['Who is this for?'] }}\\n\\nAge:\\n{{ $json['Age?'] }}","hasOutputParser":true,"messages":{"messageValues":[{"message":"You are a saint selector.\\n\\nGiven the users issue and audience info, return a raw JSON object to help guide a downstream saint agent.\\n\\nPick:\\n- \\"persona\\": the most fitting Catholic saint (use canonical_id in snake_case, e.g. \\"francis_of_assisi\\")\\n- \\"first_name\\": just the saints first name (e.g. \\"francis\\")\\n- \\"tone_mode\\": emotional or spiritual tone that suits the situation\\n- \\"virtue_focus\\": core virtue the person most needs\\n- \\"simplify_level\\": 1 for children, 2 for simple adults, 3 for full theological depth\\n- \\"audience_tags\\": keywords for audience type, challenge, or context\\n\\nThe saint you select does **not** need to exist in the database. Select the best fit based on your knowledge. Downstream tools will handle fallback.\\n\\nReturn **only** a raw JSON object like this:\\n\\n{\\n  \\"persona\\": \\"\\",\\n  \\"first_name\\": \\"\\",\\n  \\"tone_mode\\": \\"\\",\\n  \\"virtue_focus\\": \\"\\",\\n  \\"simplify_level\\": 1,\\n  \\"audience_tags\\": []\\n}\\n"}]}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.6,"position":[1340,1980],"id":"165fe446-f3cc-4799-8a25-a7b129aaaf82","name":"Saint Selector1"}]	{"Webhook":{"main":[[{"node":"Flatten","type":"main","index":0}]]},"Flatten":{"main":[[{"node":"Saint Selector1","type":"main","index":0},{"node":"Merge1","type":"main","index":0}]]},"Prep webhook response":{"main":[[{"node":"Respond to Webhook","type":"main","index":0}]]},"Structured Output Parser":{"ai_outputParser":[[{"node":"Saint Selector1","type":"ai_outputParser","index":0}]]},"Query Supabase for Saints":{"main":[[{"node":"Rank and Match","type":"main","index":0}]]},"Tavily Context Tool":{"ai_tool":[[{"node":"SaintsGPT1","type":"ai_tool","index":0}]]},"Rank and Match":{"main":[[{"node":"Fallback check1","type":"main","index":0}]]},"Format JSON1":{"main":[[{"node":"Query Supabase for Saints","type":"main","index":0}]]},"Merge1":{"main":[[{"node":"SaintsGPT1","type":"main","index":0}]]},"Embeddings OpenAI1":{"ai_embedding":[[{"node":"Doctrine Retriever1","type":"ai_embedding","index":0}]]},"SaintsGPT1":{"main":[[{"node":"Format Output1","type":"main","index":0}]]},"OpenAI Chat Model (SaintsGPT)1":{"ai_languageModel":[[{"node":"SaintsGPT1","type":"ai_languageModel","index":0}]]},"OpenAI Chat Model (Saint Selector)1":{"ai_languageModel":[[{"node":"Saint Selector1","type":"ai_languageModel","index":0}]]},"Doctrine Retriever1":{"ai_tool":[[{"node":"SaintsGPT1","type":"ai_tool","index":0}]]},"Fallback check1":{"main":[[{"node":"Merge1","type":"main","index":1}]]},"Saint Selector1":{"main":[[{"node":"Format JSON1","type":"main","index":0}]]},"Format Output1":{"main":[[{"node":"Prep webhook response","type":"main","index":0}]]}}	2025-05-27 01:43:50.958+00	2025-12-10 03:41:40.991+00	{"executionOrder":"v1"}	\N	{}	5200de42-e62e-49af-9a50-2206d578f3a4	1	Hs7P70pLnGEmXRO9	{"templateCredsSetupCompleted":true}	8wmQ4Jp69N962EHz	f	2	\N	\N
ingest_feeds_hn	f	[{"parameters":{"url":"https://hacker-news.firebaseio.com/v0/topstories.json","options":{"response":{"response":{"responseFormat":"json"}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[160,0],"id":"c1ce6916-3f5d-4577-ad56-1ee73175e2ed","name":"Hacker News: Top Stories API"},{"parameters":{"batchSize":20,"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[400,0],"id":"aae2db06-4dec-4d21-9d1f-dcba0745601d","name":"Hacker News: Loop Over Stories"},{"parameters":{"url":"=https://hacker-news.firebaseio.com/v0/item/{{$json}}.json","options":{"response":{"response":{"responseFormat":"json"}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[608,96],"id":"6ea483f8-e222-4db3-8ef6-5ac58f0ef681","name":"HackerNews: Fetch Story Details"},{"parameters":{"jsCode":"function cleanContent(str) {\\n  if (!str) return \\"\\";\\n  // Replace <a href=\\"URL\\">text</a>  text (URL)\\n  str = str.replace(/<a [^>]*href=\\"([^\\"]+)\\"[^>]*>(.*?)<\\\\/a>/gi, '$2 ($1)');\\n  // Remove any remaining tags and entities\\n  return str\\n    .replace(/<[^>]*>/g, \\"\\")\\n    .replace(/&[#A-Za-z0-9]+;/g, \\"\\")\\n    .trim();\\n}\\n\\nreturn items.map(item => ({\\n  json: {\\n    title: item.json.title || \\"(no title)\\",\\n    date: new Date((item.json.time || 0) * 1000).toISOString(),\\n    source: \\"Hacker News\\",\\n    url: item.json.url || \\"\\",\\n    content: cleanContent(item.json.text || \\"\\")\\n  }\\n}));"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[800,96],"id":"fbdfa7b8-91db-41dd-b9c8-d5fe2744b91d","name":"Hacker News: Normalize Feed"},{"parameters":{"tableId":"feeds","fieldsUi":{"fieldValues":[{"fieldId":"title","fieldValue":"={{ $json.output.title }}"},{"fieldId":"date","fieldValue":"={{ $json.output.date }}"},{"fieldId":"source","fieldValue":"={{ $json.output.source }}"},{"fieldId":"content","fieldValue":"={{ $json.output.content }}"},{"fieldId":"topic","fieldValue":"={{ $json.output.topic }}"},{"fieldId":"tone","fieldValue":"={{ $json.output.tone }}"},{"fieldId":"category","fieldValue":"={{ $json.output.category }}"}]}},"type":"n8n-nodes-base.supabase","typeVersion":1,"position":[1344,112],"id":"b2440f2c-221a-4cb9-b17a-aa302116070b","name":"Hacker News: Insert to DB"},{"parameters":{"promptType":"define","text":"=Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: {{$json[\\"title\\"]}}\\nDate: {{$json[\\"date\\"]}}\\nSource: {{$json[\\"source\\"]}}\\nURL: {{$json[\\"url\\"]}}\\nContent: {{$json[\\"content\\"]}}\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"{{$json[\\"title\\"]}}\\",\\n  \\"date\\": \\"{{$json[\\"date\\"]}}\\",\\n  \\"source\\": \\"{{$json[\\"source\\"]}}\\",\\n  \\"content\\": \\"{{$json[\\"content\\"]}}\\",\\n  \\"url\\": \\"{{$json[\\"url\\"]}}\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}","hasOutputParser":true,"messages":{"messageValues":[{"message":"You are a structured classification assistant. You receive one article at a time with fields like title, date, source, and content.Return the same article plus three new fields: topic, tone, and category.Use only the allowed labels and return valid JSON.Do not summarize, explain, or change existing fields."}]},"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[992,96],"id":"1e4b5e38-2915-4efd-a8b9-2b0787efa90f","name":"Enrich Signal II"},{"parameters":{"inputSource":"passthrough"},"type":"n8n-nodes-base.executeWorkflowTrigger","typeVersion":1.1,"position":[0,0],"id":"9384e967-4164-4a04-a418-aef9886e4d2d","name":"When Executed by Another Workflow"},{"parameters":{"model":{"__rl":true,"value":"gpt-4.1-mini","mode":"list","cachedResultName":"gpt-4.1-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[976,352],"id":"d15cb94b-183b-4164-977f-e16e693ed021","name":"OpenAI Chat Model"},{"parameters":{"jsonSchemaExample":"{\\n  \\"title\\": \\"OpenAI launches new agent platform\\",\\n  \\"url\\": \\"https://techcrunch.com/example\\",\\n  \\"date\\": \\"2025-10-06\\",\\n  \\"source\\": \\"TechCrunch\\",\\n  \\"content\\": \\"OpenAI announced AgentKit, a toolkit to help developers build and deploy AI agents.\\",\\n  \\"topic\\": \\"AI\\",\\n  \\"tone\\": \\"positive\\",\\n  \\"category\\": \\"Product Launch\\"\\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.3,"position":[1120,352],"id":"a60e63f6-db23-441f-83f2-ec92d72d9f83","name":"Structured Output Parser"}]	{"Hacker News: Top Stories API":{"main":[[{"node":"Hacker News: Loop Over Stories","type":"main","index":0}]]},"Hacker News: Loop Over Stories":{"main":[[],[{"node":"HackerNews: Fetch Story Details","type":"main","index":0}]]},"HackerNews: Fetch Story Details":{"main":[[{"node":"Hacker News: Normalize Feed","type":"main","index":0}]]},"Hacker News: Normalize Feed":{"main":[[{"node":"Enrich Signal II","type":"main","index":0}]]},"Hacker News: Insert to DB":{"main":[[{"node":"Hacker News: Loop Over Stories","type":"main","index":0}]]},"Enrich Signal II":{"main":[[{"node":"Hacker News: Insert to DB","type":"main","index":0}]]},"When Executed by Another Workflow":{"main":[[{"node":"Hacker News: Top Stories API","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"Enrich Signal II","type":"ai_languageModel","index":0}]]},"Structured Output Parser":{"ai_outputParser":[[{"node":"Enrich Signal II","type":"ai_outputParser","index":0}]]}}	2025-12-10 03:43:08.173+00	2025-12-10 03:43:08.173+00	{"executionOrder":"v1"}	\N	{}	3396e2d1-da5f-4ca3-ae9b-251e4ebb3a48	0	cv4nlaVnkMEKj4EN	\N	HFYpHd3EC9aGk9sL	f	2	\N	\N
Demo: RAG in n8n	f	[{"parameters":{"formTitle":"Upload your data to test RAG","formFields":{"values":[{"fieldLabel":"Upload your file(s)","fieldType":"file","acceptFileTypes":".pdf, .csv","requiredField":true}]},"options":{}},"type":"n8n-nodes-base.formTrigger","typeVersion":2.2,"position":[-120,0],"id":"f7a656ec-83fc-4ed2-a089-57a9def662b7","name":"Upload your file here","webhookId":"82848bc4-5ea2-4e5a-8bb6-3c09b94a8c5d"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[520,480],"id":"6ea78663-cf2f-4f2d-8e68-43047c2afd87","name":"Embeddings OpenAI","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"dataType":"binary","options":{}},"type":"@n8n/n8n-nodes-langchain.documentDefaultDataLoader","typeVersion":1.1,"position":[320,160],"id":"94aecac0-03f9-4915-932b-d14a2576607b","name":"Default Data Loader"},{"parameters":{"content":"### Readme\\nLoad your data into a vector database with the  **Load Data** flow, and then use your data as chat context with the  **Retriever** flow.\\n\\n**Quick start**\\n1. Click on the `Execute Workflow` button to run the  **Load Data** flow.\\n2. Click on `Open Chat` button to run the  **Retriever** flow. Then ask a question about content from your document(s)\\n\\n\\nFor more info, check [our docs on RAG in n8n](https://docs.n8n.io/advanced-ai/rag-in-n8n/).","height":300,"width":440,"color":4},"type":"n8n-nodes-base.stickyNote","position":[-660,-60],"typeVersion":1,"id":"0d07742b-0b36-4c2e-990c-266cbe6e2d4d","name":"Sticky Note"},{"parameters":{"content":"###  Load Data Flow","height":460,"width":700,"color":7},"type":"n8n-nodes-base.stickyNote","position":[-180,-60],"typeVersion":1,"id":"d19d04f3-5231-4e47-bed7-9f24a4a8f582","name":"Sticky Note1"},{"parameters":{"mode":"insert","memoryKey":{"__rl":true,"value":"vector_store_key","mode":"list","cachedResultName":"vector_store_key"}},"type":"@n8n/n8n-nodes-langchain.vectorStoreInMemory","typeVersion":1.2,"position":[60,0],"id":"bf50a11f-ca6a-4e04-a6d2-42fee272b260","name":"Insert Data to Store"},{"parameters":{"mode":"retrieve-as-tool","toolName":"knowledge_base","toolDescription":"Use this knowledge base to answer questions from the user","memoryKey":{"__rl":true,"mode":"list","value":"vector_store_key"}},"type":"@n8n/n8n-nodes-langchain.vectorStoreInMemory","typeVersion":1.2,"position":[940,200],"id":"09c0db62-5413-440e-8c13-fb6bb66d9b6a","name":"Query Data Tool"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2,"position":[940,-20],"id":"579aed76-9644-42d1-ac13-7369059ff1c2","name":"AI Agent"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.chatTrigger","typeVersion":1.1,"position":[720,-20],"id":"9c30de61-935a-471f-ae88-ec5f67beeefc","name":"When chat message received","webhookId":"4091fa09-fb9a-4039-9411-7104d213f601"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[720,200],"id":"b5aa8942-9cd5-4c2f-bd77-7a0ceb921bac","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"content":"###  2. Retriever Flow","height":460,"width":680,"color":7},"type":"n8n-nodes-base.stickyNote","position":[600,-60],"typeVersion":1,"id":"28bc73a1-e64a-47bf-ac1c-ffe644894ea5","name":"Sticky Note2"},{"parameters":{"content":"### Embeddings\\n\\nThe Insert and Retrieve operation use the same embedding node.\\n\\nThis is to ensure that they are using the **exact same embeddings and settings**.\\n\\nDifferent embeddings might not work at all, or have unintended consequences.\\n","height":240,"width":320,"color":4},"type":"n8n-nodes-base.stickyNote","position":[660,440],"typeVersion":1,"id":"0cf8c647-418c-4d1a-8952-766145afca72","name":"Sticky Note3"}]	{"Upload your file here":{"main":[[{"node":"Insert Data to Store","type":"main","index":0}]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"Insert Data to Store","type":"ai_embedding","index":0},{"node":"Query Data Tool","type":"ai_embedding","index":0}]]},"Default Data Loader":{"ai_document":[[{"node":"Insert Data to Store","type":"ai_document","index":0}]]},"Query Data Tool":{"ai_tool":[[{"node":"AI Agent","type":"ai_tool","index":0}]]},"When chat message received":{"main":[[{"node":"AI Agent","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"AI Agent","type":"ai_languageModel","index":0}]]}}	2025-06-25 19:44:01.273+00	2025-12-10 03:40:11.483+00	{"executionOrder":"v1"}	\N	{}	3130d511-c963-49a4-9fdc-84cccce8deb9	0	Pu5iXI8WGSFyphVx	{"templateId":"rag-starter-template"}	rNR8Aq0OtLA8Zo6g	f	2	\N	\N
My workflow	f	[{"parameters":{"promptType":"define","text":"={{ $json[\\"What task would you like broken down?\\"] }}","messages":{"messageValues":[{"message":"You are a Special Needs Child Education Assistant. Break down the following task for a special needs child aged 5 to 8 in 5 very simple, easy-to-understand steps. Use plain language and short sentences. Respond in valid JSON using this structure:\\n\\n{\\n  \\"task\\": \\"<original task>\\",\\n  \\"audience\\": \\"child (age 58, special needs)\\",\\n  \\"steps\\": [\\n    \\"Step 1\\",\\n    \\"Step 2\\",\\n    \\"Step 3\\",\\n    \\"Step 4\\",\\n    \\"Step 5\\"\\n  ]\\n}\\n"}]}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.6,"position":[320,0],"id":"c668cb3c-65cf-420d-8879-ea7330ca6c7a","name":"Basic LLM Chain"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[440,180],"id":"ef946917-0992-4593-8965-b7e3204e21f2","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"formTitle":"Test Form","formFields":{"values":[{"fieldLabel":"What task would you like broken down?","fieldType":"textarea","requiredField":true}]},"options":{}},"type":"n8n-nodes-base.formTrigger","typeVersion":2.2,"position":[100,0],"id":"03a4e6df-c403-4e23-9660-24edfbbfe335","name":"On form submission","webhookId":"9bfb27c2-5b17-4727-a536-8891db5f49d5"},{"parameters":{"jsCode":"const raw = $json[\\"text\\"];\\n\\nlet parsed;\\ntry {\\n  parsed = JSON.parse(raw);\\n} catch (e) {\\n  throw new Error(\\"Failed to parse JSON: \\" + e.message);\\n}\\n\\nreturn [{ json: parsed }];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[680,0],"id":"87b9ceab-35fc-4f39-9e8b-10435d700aec","name":"Code"}]	{"OpenAI Chat Model":{"ai_languageModel":[[{"node":"Basic LLM Chain","type":"ai_languageModel","index":0}]]},"On form submission":{"main":[[{"node":"Basic LLM Chain","type":"main","index":0}]]},"Basic LLM Chain":{"main":[[{"node":"Code","type":"main","index":0}]]}}	2025-05-14 02:02:25.411+00	2025-12-10 03:41:44.658+00	{"executionOrder":"v1"}	\N	{}	23350405-0c59-4085-b9bf-6717488f6dd1	0	WvhIVdAZJSwnonKh	{"templateCredsSetupCompleted":true}	rNR8Aq0OtLA8Zo6g	f	2	\N	\N
ingest_feeds	f	[{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[-512,320],"id":"300ef6b7-c4b9-4f67-8def-6eedcb0b903e","name":"When clicking Execute workflow"},{"parameters":{"jsCode":"const items = $json[\\"rss\\"][\\"channel\\"][\\"item\\"];\\n\\nreturn items.map(entry => ({\\n  json: {\\n    title: entry.title,\\n    url: entry.link,\\n    date: entry.pubDate,\\n    source: \\"TechCrunch\\",\\n    content: entry.description,\\n  }\\n}));\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[416,0],"id":"cd7037e8-edf2-4193-a931-080931e0efcc","name":"TechCrunch: Normalize Feed"},{"parameters":{"url":"https://techcrunch.com/feed/","options":{"response":{"response":{"responseFormat":"text"}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[0,0],"id":"7c8824be-9642-480d-8fb8-1d5ca91812a1","name":"TechCrunch: Fetch RSS"},{"parameters":{"options":{}},"type":"n8n-nodes-base.xml","typeVersion":1,"position":[208,0],"id":"b2db076b-8840-456c-b351-e518f34ba390","name":"TechCrunch: Convert to XML"},{"parameters":{"url":"https://www.ft.com/rss/technology","options":{"response":{"response":{"responseFormat":"text"}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[0,240],"id":"f08a5379-3d23-4b82-ad56-7f5ffb8ecd11","name":"FT Tech: Fetch RSS"},{"parameters":{"options":{}},"type":"n8n-nodes-base.xml","typeVersion":1,"position":[208,240],"id":"4b583157-98a5-4b05-9c30-29bc93d1b7d9","name":"FT Tech: Convert to XML"},{"parameters":{"jsCode":"const items = $json[\\"rss\\"][\\"channel\\"][\\"item\\"];\\nreturn items.map(entry => ({\\n  json: {\\n    title: entry.title,\\n    date: entry.pubDate,\\n    url: entry.link,\\n    source: \\"FT Tech\\",\\n    content: entry.description,\\n  }\\n}));"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[416,240],"id":"c60e1349-ef4e-458b-b15b-f36129636b0d","name":"FT Tech: Normalize Feed"},{"parameters":{"url":"https://www.coindesk.com/arc/outboundfeeds/rss/","options":{"response":{"response":{"responseFormat":"text"}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[0,448],"id":"d1b1c0ab-65eb-4845-80ec-29eb6bff5dd1","name":"CoinDesk: Fetch RSS"},{"parameters":{"options":{}},"type":"n8n-nodes-base.xml","typeVersion":1,"position":[192,448],"id":"00fef001-ba9d-4e88-b51e-ceec4ea4f992","name":"CoinDesk: Convert to XML"},{"parameters":{"jsCode":"const items = $json[\\"rss\\"][\\"channel\\"][\\"item\\"];\\nreturn items.map(entry => ({\\n  json: {\\n    title: entry.title,\\n    date: entry.pubDate,\\n    url: entry.link,\\n    source: \\"CoinDesk\\",\\n    content: entry.description,\\n  }\\n}));"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[400,448],"id":"8cff6f09-4144-4cb3-afe1-89fb56dfaad0","name":"CoinDesk: Normalize Feed"},{"parameters":{"url":"https://hacker-news.firebaseio.com/v0/topstories.json","options":{"response":{"response":{"responseFormat":"json"}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[-32,672],"id":"2dae9edb-88d6-40af-a5db-1b177098b4ea","name":"Hacker News: Top Stories API"},{"parameters":{"batchSize":20,"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[208,672],"id":"9d5a262f-b99e-43ed-9b3a-3ec2a208cd3b","name":"Hacker News: Loop Over Stories"},{"parameters":{"url":"=https://hacker-news.firebaseio.com/v0/item/{{$json}}.json","options":{"response":{"response":{"responseFormat":"json"}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[416,768],"id":"8f573532-73da-4ab9-98df-4c39946ab290","name":"HackerNews: Fetch Story Details"},{"parameters":{"jsCode":"function cleanContent(str) {\\n  if (!str) return \\"\\";\\n  // Replace <a href=\\"URL\\">text</a>  text (URL)\\n  str = str.replace(/<a [^>]*href=\\"([^\\"]+)\\"[^>]*>(.*?)<\\\\/a>/gi, '$2 ($1)');\\n  // Remove any remaining tags and entities\\n  return str\\n    .replace(/<[^>]*>/g, \\"\\")\\n    .replace(/&[#A-Za-z0-9]+;/g, \\"\\")\\n    .trim();\\n}\\n\\nreturn items.map(item => ({\\n  json: {\\n    title: item.json.title || \\"(no title)\\",\\n    date: new Date((item.json.time || 0) * 1000).toISOString(),\\n    source: \\"Hacker News\\",\\n    url: item.json.url || \\"\\",\\n    content: cleanContent(item.json.text || \\"\\")\\n  }\\n}));"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[608,768],"id":"8252f196-5987-446f-8918-c606fe4731a4","name":"Hacker News: Normalize Feed"},{"parameters":{"tableId":"feeds","fieldsUi":{"fieldValues":[{"fieldId":"title","fieldValue":"={{ $json.output.title }}"},{"fieldId":"date","fieldValue":"={{ $json.output.date }}"},{"fieldId":"source","fieldValue":"={{ $json.output.source }}"},{"fieldId":"content","fieldValue":"={{ $json.output.content }}"},{"fieldId":"topic","fieldValue":"={{ $json.output.topic }}"},{"fieldId":"tone","fieldValue":"={{ $json.output.tone }}"},{"fieldId":"category","fieldValue":"={{ $json.output.category }}"}]}},"type":"n8n-nodes-base.supabase","typeVersion":1,"position":[1152,784],"id":"fa6de7d8-5010-44b7-80be-0f08b827f51a","name":"Hacker News: Insert to DB"},{"parameters":{"tableId":"feeds","fieldsUi":{"fieldValues":[{"fieldId":"title","fieldValue":"={{ $json.output.title }}"},{"fieldId":"date","fieldValue":"={{ $json.output.url }}"},{"fieldId":"source","fieldValue":"={{ $json.output.source }}"},{"fieldId":"content","fieldValue":"={{ $json.output.content }}"},{"fieldId":"topic","fieldValue":"={{ $json.output.topic }}"},{"fieldId":"tone","fieldValue":"={{ $json.output.tone }}"},{"fieldId":"category","fieldValue":"={{ $json.output.category }}"},{"fieldId":"date","fieldValue":"={{ $json.output.date }}"}]}},"type":"n8n-nodes-base.supabase","typeVersion":1,"position":[1120,240],"id":"fce3b2d7-83a9-4340-8468-afde636367b9","name":"Insert feed into DB"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4.1-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[768,512],"id":"e4193cbd-a521-4d4f-92d6-2ae18e0af91f","name":"OpenAI Chat Model"},{"parameters":{"jsonSchemaExample":"{\\n  \\"title\\": \\"OpenAI launches new agent platform\\",\\n  \\"url\\": \\"https://techcrunch.com/example\\",\\n  \\"date\\": \\"2025-10-06\\",\\n  \\"source\\": \\"TechCrunch\\",\\n  \\"content\\": \\"OpenAI announced AgentKit, a toolkit to help developers build and deploy AI agents.\\",\\n  \\"topic\\": \\"AI\\",\\n  \\"tone\\": \\"positive\\",\\n  \\"category\\": \\"Product Launch\\"\\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.3,"position":[912,512],"id":"9ac288d2-50ca-424f-b41f-fa4eb40183d7","name":"Structured Output Parser"},{"parameters":{"promptType":"define","text":"=Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: {{$json[\\"title\\"]}}\\nDate: {{$json[\\"date\\"]}}\\nSource: {{$json[\\"source\\"]}}\\nURL: {{$json[\\"url\\"]}}\\nContent: {{$json[\\"content\\"]}}\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"{{$json[\\"title\\"]}}\\",\\n  \\"date\\": \\"{{$json[\\"date\\"]}}\\",\\n  \\"source\\": \\"{{$json[\\"source\\"]}}\\",\\n  \\"content\\": \\"{{$json[\\"content\\"]}}\\",\\n  \\"url\\": \\"{{$json[\\"url\\"]}}\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}","hasOutputParser":true,"messages":{"messageValues":[{"message":"You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields."}]},"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[784,240],"id":"d391da3f-af25-4c1e-b960-c80986804068","name":"Enrich Signal"},{"parameters":{"promptType":"define","text":"=Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: {{$json[\\"title\\"]}}\\nDate: {{$json[\\"date\\"]}}\\nSource: {{$json[\\"source\\"]}}\\nURL: {{$json[\\"url\\"]}}\\nContent: {{$json[\\"content\\"]}}\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"{{$json[\\"title\\"]}}\\",\\n  \\"date\\": \\"{{$json[\\"date\\"]}}\\",\\n  \\"source\\": \\"{{$json[\\"source\\"]}}\\",\\n  \\"content\\": \\"{{$json[\\"content\\"]}}\\",\\n  \\"url\\": \\"{{$json[\\"url\\"]}}\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}","hasOutputParser":true,"messages":{"messageValues":[{"message":"You are a structured classification assistant. You receive one article at a time with fields like title, date, source, and content.Return the same article plus three new fields: topic, tone, and category.Use only the allowed labels and return valid JSON.Do not summarize, explain, or change existing fields."}]},"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[800,768],"id":"0f09b841-c975-4d25-b2fa-4b4aab9bb4df","name":"Enrich Signal II"}]	{"When clicking Execute workflow":{"main":[[{"node":"Hacker News: Top Stories API","type":"main","index":0},{"node":"TechCrunch: Fetch RSS","type":"main","index":0},{"node":"FT Tech: Fetch RSS","type":"main","index":0},{"node":"CoinDesk: Fetch RSS","type":"main","index":0}]]},"TechCrunch: Fetch RSS":{"main":[[{"node":"TechCrunch: Convert to XML","type":"main","index":0}]]},"TechCrunch: Convert to XML":{"main":[[{"node":"TechCrunch: Normalize Feed","type":"main","index":0}]]},"TechCrunch: Normalize Feed":{"main":[[{"node":"Enrich Signal","type":"main","index":0}]]},"FT Tech: Fetch RSS":{"main":[[{"node":"FT Tech: Convert to XML","type":"main","index":0}]]},"FT Tech: Convert to XML":{"main":[[{"node":"FT Tech: Normalize Feed","type":"main","index":0}]]},"FT Tech: Normalize Feed":{"main":[[{"node":"Enrich Signal","type":"main","index":0}]]},"CoinDesk: Fetch RSS":{"main":[[{"node":"CoinDesk: Convert to XML","type":"main","index":0}]]},"CoinDesk: Convert to XML":{"main":[[{"node":"CoinDesk: Normalize Feed","type":"main","index":0}]]},"CoinDesk: Normalize Feed":{"main":[[{"node":"Enrich Signal","type":"main","index":0}]]},"Hacker News: Top Stories API":{"main":[[{"node":"Hacker News: Loop Over Stories","type":"main","index":0}]]},"Hacker News: Loop Over Stories":{"main":[[],[{"node":"HackerNews: Fetch Story Details","type":"main","index":0}]]},"HackerNews: Fetch Story Details":{"main":[[{"node":"Hacker News: Normalize Feed","type":"main","index":0}]]},"Hacker News: Normalize Feed":{"main":[[{"node":"Enrich Signal II","type":"main","index":0}]]},"Hacker News: Insert to DB":{"main":[[{"node":"Hacker News: Loop Over Stories","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"Enrich Signal","type":"ai_languageModel","index":0},{"node":"Enrich Signal II","type":"ai_languageModel","index":0}]]},"Structured Output Parser":{"ai_outputParser":[[{"node":"Enrich Signal","type":"ai_outputParser","index":0},{"node":"Enrich Signal II","type":"ai_outputParser","index":0}]]},"Enrich Signal":{"main":[[{"node":"Insert feed into DB","type":"main","index":0}]]},"Enrich Signal II":{"main":[[{"node":"Hacker News: Insert to DB","type":"main","index":0}]]}}	2025-12-10 03:42:53.586+00	2025-12-10 03:42:53.586+00	{"executionOrder":"v1"}	\N	{}	9976db3b-e6c7-473b-b7e9-f0b6a779dc38	0	YEmVz4IjvlnA3Mcc	\N	HFYpHd3EC9aGk9sL	f	2	\N	\N
Initial HP - No character generation	f	[{"parameters":{"formTitle":"User Form","formFields":{"values":[{"fieldLabel":"JTBD","fieldType":"textarea","requiredField":true}]},"options":{}},"type":"n8n-nodes-base.formTrigger","typeVersion":2.2,"position":[0,0],"id":"ec2d43ec-8353-4fbe-8013-3b4c97d23c33","name":"On form submission","webhookId":"52339d78-dfb1-4697-bae0-a55a5375ce4b"},{"parameters":{"content":"## Task Analyzer","height":80},"type":"n8n-nodes-base.stickyNote","position":[500,-140],"typeVersion":1,"id":"c3e5525a-cf8d-4566-a8fa-11322b4a56f1","name":"Sticky Note"},{"parameters":{"content":"## User Form","height":80,"width":220},"type":"n8n-nodes-base.stickyNote","position":[-40,-140],"typeVersion":1,"id":"dcf21aaf-2604-4706-9ad2-a335a16033bf","name":"Sticky Note1"},{"parameters":{"content":"## Scene Prompt Generator","height":80,"width":320},"type":"n8n-nodes-base.stickyNote","position":[980,-140],"typeVersion":1,"id":"d2632e6a-8c30-4b14-9192-4459e669cfc5","name":"Sticky Note2"},{"parameters":{"content":"## Image Generator (Combine character with scene prompts)","height":80,"width":1780},"type":"n8n-nodes-base.stickyNote","position":[1540,-140],"typeVersion":1,"id":"75d90d5c-e072-49d9-ba71-fe6601200225","name":"Sticky Note3"},{"parameters":{"content":"## Save in Google Drive","height":80,"width":580},"type":"n8n-nodes-base.stickyNote","position":[3420,-140],"typeVersion":1,"id":"4ac89bc7-9c35-4b56-bba8-e3f41a6f60ea","name":"Sticky Note4"},{"parameters":{"mode":"raw","jsonOutput":"={\\n  \\"character\\": {\\n    \\"name\\": \\"Benji\\",\\n    \\"age\\": 7,\\n    \\"gender\\": \\"boy\\",\\n    \\"appearance\\": {\\n      \\"hair\\": \\"short, slightly messy black hair\\",\\n      \\"eyes\\": \\"big, curious brown eyes\\",\\n      \\"skin\\": \\"light with a warm tone\\",\\n      \\"expression\\": \\"friendly, open face with a gentle smile\\",\\n      \\"clothing\\": {\\n        \\"shirt\\": \\"bright yellow t-shirt\\",\\n        \\"shorts\\": \\"sky-blue shorts\\"\\n      },\\n      \\"posture\\": \\"relaxed and confident\\",\\n      \\"overall_impression\\": \\"calm, adventurous presence\\"\\n    }\\n  },\\n  \\"jtbd\\": \\"{{ $json.JTBD }}\\",\\n}\\n","options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[420,0],"id":"61f1bdba-e857-411e-b525-bde541aa7190","name":"Combine Character and JTBD"},{"parameters":{"promptType":"define","text":"=Using the following information:\\n\\n- Character: {{ $json[\\"character\\"][\\"name\\"] }} is a {{ $json[\\"character\\"][\\"age\\"] }}-year-old {{ $json[\\"character\\"][\\"gender\\"] }}. Do not describe their appearance. Assume the characters visual identity is handled by a consistent reference image or prior generation step.\\n- Task: {{ $json[\\"jtbd\\"] }}\\n\\nGenerate five image generation prompts for Leonardo.ai that form a visually connected narrative sequence.\\n\\nInstructions:\\n- Break the task into five logically connected visual scenes: beginning, early action, turning point, development, and resolution.\\n- Each scene must build on the last, showing visible progression in task, emotion, and environment.\\n- Choose a distinct point-of-view for each scene (e.g., side view, rear view, top-down, wide shot, over-the-shoulder).\\n- Vary the characters physical stance, gaze direction, and emotional expression  avoid repetition.\\n- At least one scene should visually focus on an object or supporting character that advances the story.\\n- Focus entirely on whats visible  action, setting, objects, posture, and emotional tone.\\n\\nUse simple, child-appropriate language. Keep each prompt warm, visually rich, and uncluttered.\\n\\nReturn only a JSON array of the five scenes. No extra text.","messages":{"messageValues":[{"message":"You are a prompt generator for image generation. Based on a character and a task (JTBD), describe five connected visual scenes that can be illustrated.\\n\\nEach scene must show a distinct, observable action and use a natural, visually appropriate point-of-view (such as side view, top-down, rear view, wide shot, or over-the-shoulder). Avoid repeating angles unless narratively necessary.\\n\\nUse varied emotional tone and physical expression throughout the sequence:\\n- Include moments of effort, uncertainty, discovery, joy, and resolution.\\n- The character should not always look the same or feel the same  show a range of reactions, postures, and movements.\\n- At least one scene should focus on something *other than* the main character  an object, another person, or environmental cue that helps advance the task.\\n\\nDo not write a story or inner thoughts. Focus only on what is visually seen.\\n\\nKeep language warm, vivid, and simple  suitable for a childrens picture book.\\n\\nEach output must include:\\n- scene_number\\n- prompt (natural-language visual description for image generation)\\n- negative_prompt (comma-separated values)\\n\\nReturn a JSON array of 5 scenes. No explanations. No labels."}]}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.6,"position":[580,0],"id":"cc84a60e-74e6-4cf5-b149-39a05d739314","name":"Basic LLM Chain"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[720,180],"id":"341b80ba-5301-45c9-b24a-efb7e56ae7b1","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"jsCode":"const rawText = $json[\\"text\\"]; // This is your stringified array\\nconst parsed = JSON.parse(rawText); // Convert string to actual JSON array\\n\\nreturn parsed.map(scene => ({ json: scene }));"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1080,0],"id":"54c0a654-a8c9-4a79-9bb6-6365a75d3082","name":"Fix JSON"},{"parameters":{"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[1360,0],"id":"0b20c31d-662c-4b77-9af5-349f1afd335c","name":"Loop Over Items"},{"parameters":{"jsCode":"const imageUrl = 'https://raw.githubusercontent.com/marcotechinc/sb-dev/main/characters/benji.jpg';\\n\\n// Download the image as binary\\nconst imageBuffer = await this.helpers.request({\\n  method: 'GET',\\n  url: imageUrl,\\n  encoding: null // Return raw binary buffer\\n});\\n\\n// Convert to base64 (no prefix)\\nconst imageBase64 = imageBuffer.toString('base64');\\n\\n// Return for next step (Leonardo upload)\\nreturn [\\n  {\\n    json: {\\n      image_base64: imageBase64\\n    }\\n  }\\n];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1620,100],"id":"a9826a70-7f19-4943-91fb-8462b2034441","name":"Download character image"},{"parameters":{"jsCode":"const apiKey = $env.LEONARDO_API_KEY;\\n\\n// Request presigned upload URL for image (JPG)\\nconst response = await this.helpers.httpRequest({\\n  method: 'POST',\\n  url: 'https://cloud.leonardo.ai/api/rest/v1/init-image',\\n  headers: {\\n    Authorization: `Bearer ${apiKey}`,\\n    'Content-Type': 'application/json'\\n  },\\n  body: {\\n    extension: 'jpg'\\n  },\\n  json: true\\n});\\n\\nconst { id: initImageId, url: uploadUrl, fields } = response.uploadInitImage;\\n\\n// Return result as required by n8n (array of objects)\\nreturn [\\n  {\\n    json: {\\n      initImageId,\\n      uploadUrl,\\n      fields\\n    }\\n  }\\n];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1620,280],"id":"27efe186-cffe-4314-b43e-b8fb1d461f49","name":"Request Presigned URL"},{"parameters":{"method":"POST","url":"={{ $json.uploadUrl }}","sendBody":true,"contentType":"multipart-form-data","bodyParameters":{"parameters":[{"name":"=Content-Type\\t","value":"={{ $json.fields[\\"Content-Type\\"] }}"},{"name":"bucket","value":"={{ $json.fields.bucket }}"},{"name":"X-Amz-Algorithm","value":"={{ $json.fields[\\"X-Amz-Algorithm\\"] }}"},{"name":"X-Amz-Credential","value":"={{ $json.fields[\\"X-Amz-Credential\\"] }}"},{"name":"X-Amz-Date","value":"={{ $json.fields[\\"X-Amz-Date\\"] }}"},{"name":"X-Amz-Security-Token","value":"={{ $json.fields[\\"X-Amz-Security-Token\\"] }}"},{"name":"key","value":"={{ $json.fields.key }}"},{"name":"Policy","value":"={{ $json.fields.Policy }}"},{"name":"X-Amz-Signature\\t","value":"={{ $json.fields[\\"X-Amz-Signature\\"] }}"},{"parameterType":"formBinaryData","name":"file","inputDataFieldName":"data"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[2300,200],"id":"22d7b896-153c-484a-83fb-abb7308ced95","name":"Upload to Presigned URL"},{"parameters":{"jsCode":"let raw = $json[\\"fields\\"];\\n\\nlet parsed;\\n\\ntry {\\n  parsed = typeof raw === 'string' ? JSON.parse(raw) : raw;\\n} catch (e) {\\n  throw new Error('Failed to parse fields: ' + e.message);\\n}\\n\\nreturn [\\n  {\\n    json: {\\n      ...$json,\\n      fields: parsed\\n    },\\n    binary: $binary\\n  }\\n];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1840,280],"id":"dd802135-cf63-4967-bc84-389a514c783a","name":"Split fields object"},{"parameters":{"operation":"toBinary","sourceProperty":"image_base64","options":{}},"type":"n8n-nodes-base.convertToFile","typeVersion":1.1,"position":[1840,100],"id":"0299dd59-86cd-4b69-afda-0d70421e377a","name":"Convert to File"},{"parameters":{"mode":"combine","combineBy":"combineAll","options":{}},"type":"n8n-nodes-base.merge","typeVersion":3.1,"position":[2080,200],"id":"1d105c15-e0b9-49d1-a138-4848a1cf1e14","name":"Merge"},{"parameters":{"url":"=https://cloud.leonardo.ai/api/rest/v1/init-image/{{ $('Merge').item.json.initImageId }}","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Authorization","value":"=Bearer {{ $env.LEONARDO_API_KEY }}"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[2760,200],"id":"e80c6217-0d24-46c7-be61-4a06b8d86c00","name":"Poll for image"},{"parameters":{"method":"POST","url":"https://cloud.leonardo.ai/api/rest/v1/generations","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Authorization","value":"=Bearer {{ $env.LEONARDO_API_KEY }}"},{"name":"Content-Type","value":"application/json"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={\\n  \\"prompt\\": \\"{{ $('Loop Over Items').item.json.prompt }}\\",\\n  \\"negative_prompt\\": \\"{{ $('Loop Over Items').item.json.negative_prompt }}\\",\\n  \\"modelId\\": \\"2067ae52-33fd-4a82-bb92-c2c55e7d2786\\",\\n  \\"presetStyle\\": \\"ILLUSTRATION\\",\\n  \\"scheduler\\": \\"LEONARDO\\",\\n  \\"num_images\\": 1,\\n  \\"guidance_scale\\": 7,\\n  \\"num_inference_steps\\": 30,\\n  \\"width\\": 1368,\\n  \\"height\\": 768,\\n  \\"seed\\": 3926980335,\\n  \\"controlnets\\": [\\n    {\\n      \\"initImageId\\": \\"{{ $json.init_images_by_pk.id }}\\",\\n      \\"initImageType\\": \\"UPLOADED\\",\\n      \\"preprocessorId\\": 133,\\n      \\"strengthType\\": \\"High\\"\\n    },\\n    {\\n      \\"initImageId\\": \\"{{ $json.init_images_by_pk.id }}\\",\\n      \\"initImageType\\": \\"UPLOADED\\",\\n      \\"preprocessorId\\": 67,\\n      \\"strengthType\\": \\"High\\"\\n    }\\n  ]\\n}\\n\\n","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[2980,200],"id":"0fbfca76-116a-4ab0-9548-34830c60a208","name":"Generate Scene Image"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"ff35ca74-88df-4e29-890e-411770e18f34","leftValue":"={{ $json.generations_by_pk.status }}","rightValue":"COMPLETE","operator":{"type":"string","operation":"equals"}}],"combinator":"and"},"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[3600,200],"id":"1dcea634-fb71-499b-a5ef-a474a9e3cd38","name":"If"},{"parameters":{"url":"=https://cloud.leonardo.ai/api/rest/v1/generations/{{\\n  $node[\\"Store Generation ID\\"].json[\\"generationId\\"] || \\n  $node[\\"Generate Scene Image\\"].json[\\"sdGenerationJob\\"][\\"generationId\\"]\\n}}","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Authorization","value":"=Bearer {{ $env.LEONARDO_API_KEY }}"},{"name":"Content-Type","value":"application/json"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[3400,200],"id":"7c9771df-ec79-4b26-b10e-9b4425cfdee3","name":"Poll Generation Status"},{"parameters":{"amount":2},"type":"n8n-nodes-base.wait","typeVersion":1.1,"position":[2540,200],"id":"3b438764-4517-46e1-8f60-93c529471c12","name":"Wait for character image upload","webhookId":"77818f26-d25c-4142-a7ff-5b43c710dda2"},{"parameters":{},"type":"n8n-nodes-base.wait","typeVersion":1.1,"position":[3800,380],"id":"e54ceb7f-48aa-44a1-a0df-abfc1a964358","name":"Wait for image generation","webhookId":"6c551bd5-c582-44f8-9395-3e3394f09768"},{"parameters":{"assignments":{"assignments":[{"id":"1c80653e-53ed-4c46-9ce5-f7767eb8ed72","name":"generationId","value":"={{ $json.sdGenerationJob.generationId }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[3180,200],"id":"d8653701-2446-4654-b217-41f46d277bc1","name":"Store Generation ID"},{"parameters":{"driveId":{"__rl":true,"mode":"list","value":"My Drive"},"folderId":{"__rl":true,"mode":"list","value":"root","cachedResultName":"/ (Root folder)"},"options":{}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[4160,620],"id":"8c5c8ed9-e3e8-486d-8e66-c1c43d3ca6db","name":"Google Drive","credentials":{"googleDriveOAuth2Api":{"id":"4lEBy7qEfA2UCGII","name":"Google Drive account"}}},{"parameters":{"url":"={{ $json[\\"generations_by_pk\\"][\\"generated_images\\"][0][\\"url\\"] }}","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[3820,20],"id":"72f9292a-01c9-460e-951e-3e5bf9024209","name":"HTTP Request"}]	{"On form submission":{"main":[[{"node":"Combine Character and JTBD","type":"main","index":0}]]},"Combine Character and JTBD":{"main":[[{"node":"Basic LLM Chain","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"Basic LLM Chain","type":"ai_languageModel","index":0}]]},"Basic LLM Chain":{"main":[[{"node":"Fix JSON","type":"main","index":0}]]},"Fix JSON":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]},"Loop Over Items":{"main":[[],[{"node":"Download character image","type":"main","index":0},{"node":"Request Presigned URL","type":"main","index":0}]]},"Download character image":{"main":[[{"node":"Convert to File","type":"main","index":0}]]},"Request Presigned URL":{"main":[[{"node":"Split fields object","type":"main","index":0}]]},"Split fields object":{"main":[[{"node":"Merge","type":"main","index":1}]]},"Upload to Presigned URL":{"main":[[{"node":"Wait for character image upload","type":"main","index":0}]]},"Convert to File":{"main":[[{"node":"Merge","type":"main","index":0}]]},"Merge":{"main":[[{"node":"Upload to Presigned URL","type":"main","index":0}]]},"Poll for image":{"main":[[{"node":"Generate Scene Image","type":"main","index":0}]]},"Generate Scene Image":{"main":[[{"node":"Store Generation ID","type":"main","index":0}]]},"If":{"main":[[{"node":"HTTP Request","type":"main","index":0}],[{"node":"Wait for image generation","type":"main","index":0}]]},"Poll Generation Status":{"main":[[{"node":"If","type":"main","index":0}]]},"Wait for character image upload":{"main":[[{"node":"Poll for image","type":"main","index":0}]]},"Wait for image generation":{"main":[[{"node":"Store Generation ID","type":"main","index":0}]]},"Store Generation ID":{"main":[[{"node":"Poll Generation Status","type":"main","index":0}]]},"HTTP Request":{"main":[[{"node":"Google Drive","type":"main","index":0}]]},"Google Drive":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]}}	2025-05-17 17:51:51.17+00	2025-12-10 03:14:30.176+00	{"executionOrder":"v1"}	\N	{}	24ab4802-0fe1-42b8-932d-3d98b5176dc4	0	qM9l7HiKjmbkTyIs	{"templateCredsSetupCompleted":true}	6WeAlLkv6AUBQTH2	f	2	\N	\N
Initial HP - No character generation v3 (Visual Schedule Generator)	f	[{"parameters":{"formTitle":"User Form","formFields":{"values":[{"fieldLabel":"JTBD","fieldType":"textarea","requiredField":true}]},"options":{}},"type":"n8n-nodes-base.formTrigger","typeVersion":2.2,"position":[20,-40],"id":"8c7d66a1-4357-426b-915b-12316c533efa","name":"On form submission","webhookId":"0835dd42-e916-4290-8626-680037284881"},{"parameters":{"content":"## Task Analyzer","height":80},"type":"n8n-nodes-base.stickyNote","position":[760,140],"typeVersion":1,"id":"e71e49d8-e9ed-41de-8824-64dc927cf96e","name":"Sticky Note"},{"parameters":{"content":"## User Form","height":80,"width":220},"type":"n8n-nodes-base.stickyNote","position":[0,-320],"typeVersion":1,"id":"0a9c7b77-a2b4-4341-b7c1-1838230b6b4c","name":"Sticky Note1"},{"parameters":{"content":"## Scene Prompt Generator","height":80,"width":320},"type":"n8n-nodes-base.stickyNote","position":[1080,140],"typeVersion":1,"id":"23742093-9cfa-4a8f-9297-afdc9499912a","name":"Sticky Note2"},{"parameters":{"content":"## Save in Google Drive","height":80,"width":360},"type":"n8n-nodes-base.stickyNote","position":[4640,240],"typeVersion":1,"id":"fb8c7597-4f4f-40ae-9d07-7990f6c4c5ea","name":"Sticky Note4"},{"parameters":{"mode":"raw","jsonOutput":"={\\n  \\"character\\": {\\n    \\"name\\": \\"Benji\\",\\n    \\"age\\": 7,\\n    \\"gender\\": \\"boy\\",\\n    \\"appearance\\": {\\n      \\"hair\\": \\"short, slightly messy black hair\\",\\n      \\"eyes\\": \\"big, curious brown eyes\\",\\n      \\"skin\\": \\"light with a warm tone\\",\\n      \\"expression\\": \\"friendly, open face with a gentle smile\\",\\n      \\"clothing\\": {\\n        \\"shirt\\": \\"bright yellow t-shirt\\",\\n        \\"shorts\\": \\"sky-blue shorts\\"\\n      },\\n      \\"posture\\": \\"relaxed and confident\\",\\n      \\"overall_impression\\": \\"calm, adventurous presence\\"\\n    }\\n  },\\n  \\"jtbd\\": \\"{{ $json.JTBD }}\\",\\n}\\n","options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[320,-40],"id":"59c5a598-a1d9-4b07-8fd0-88914dff7e85","name":"Combine Character and JTBD"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[880,440],"id":"6eca4374-2e4c-4737-afa2-660211fb3a12","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"jsCode":"const rawText = $json[\\"text\\"];\\n\\n// Strip markdown code block if present\\nconst cleaned = rawText.replace(/```json|```/g, \\"\\").trim();\\n\\n// Parse JSON\\nconst parsed = JSON.parse(cleaned);\\n\\n// Return one item per loop\\nreturn parsed.map(scene => ({ json: scene }));"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1220,260],"id":"87928a64-6385-4343-aed7-1ea3369095d7","name":"Fix JSON"},{"parameters":{"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[2940,240],"id":"750ed291-0a1a-4d9d-ad16-5f1db51f3c67","name":"Loop Over Items"},{"parameters":{"jsCode":"const imageUrl = 'https://raw.githubusercontent.com/marcotechinc/sb-dev/main/characters/benji.jpg';\\n\\n// Download the image as binary\\nconst imageBuffer = await this.helpers.request({\\n  method: 'GET',\\n  url: imageUrl,\\n  encoding: null // Return raw binary buffer\\n});\\n\\n// Convert to base64 (no prefix)\\nconst imageBase64 = imageBuffer.toString('base64');\\n\\n// Return for next step (Leonardo upload)\\nreturn [\\n  {\\n    json: {\\n      image_base64: imageBase64\\n    }\\n  }\\n];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[740,-260],"id":"bc7ac230-392a-435d-9585-30c794929e7d","name":"Download character image"},{"parameters":{"jsCode":"const apiKey = $env.LEONARDO_API_KEY;\\n\\n// Request presigned upload URL for image (JPG)\\nconst response = await this.helpers.httpRequest({\\n  method: 'POST',\\n  url: 'https://cloud.leonardo.ai/api/rest/v1/init-image',\\n  headers: {\\n    Authorization: `Bearer ${apiKey}`,\\n    'Content-Type': 'application/json'\\n  },\\n  body: {\\n    extension: 'jpg'\\n  },\\n  json: true\\n});\\n\\nconst { id: initImageId, url: uploadUrl, fields } = response.uploadInitImage;\\n\\n// Return result as required by n8n (array of objects)\\nreturn [\\n  {\\n    json: {\\n      initImageId,\\n      uploadUrl,\\n      fields\\n    }\\n  }\\n];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[740,-60],"id":"fe8d098b-079a-429c-9724-fa2bf92b7562","name":"Request Presigned URL"},{"parameters":{"method":"POST","url":"={{ $json.uploadUrl }}","sendBody":true,"contentType":"multipart-form-data","bodyParameters":{"parameters":[{"name":"=Content-Type\\t","value":"={{ $json.fields[\\"Content-Type\\"] }}"},{"name":"bucket","value":"={{ $json.fields.bucket }}"},{"name":"X-Amz-Algorithm","value":"={{ $json.fields[\\"X-Amz-Algorithm\\"] }}"},{"name":"X-Amz-Credential","value":"={{ $json.fields[\\"X-Amz-Credential\\"] }}"},{"name":"X-Amz-Date","value":"={{ $json.fields[\\"X-Amz-Date\\"] }}"},{"name":"X-Amz-Security-Token","value":"={{ $json.fields[\\"X-Amz-Security-Token\\"] }}"},{"name":"key","value":"={{ $json.fields.key }}"},{"name":"Policy","value":"={{ $json.fields.Policy }}"},{"name":"X-Amz-Signature\\t","value":"={{ $json.fields[\\"X-Amz-Signature\\"] }}"},{"parameterType":"formBinaryData","name":"file","inputDataFieldName":"data"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1500,-160],"id":"8239cd94-e304-4b79-afbb-a99505e526ea","name":"Upload to Presigned URL"},{"parameters":{"jsCode":"let raw = $json[\\"fields\\"];\\n\\nlet parsed;\\n\\ntry {\\n  parsed = typeof raw === 'string' ? JSON.parse(raw) : raw;\\n} catch (e) {\\n  throw new Error('Failed to parse fields: ' + e.message);\\n}\\n\\nreturn [\\n  {\\n    json: {\\n      ...$json,\\n      fields: parsed\\n    },\\n    binary: $binary\\n  }\\n];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[980,-60],"id":"7064b04e-83f8-4104-97e3-d1e529c053e7","name":"Split fields object"},{"parameters":{"operation":"toBinary","sourceProperty":"image_base64","options":{}},"type":"n8n-nodes-base.convertToFile","typeVersion":1.1,"position":[980,-260],"id":"98aa5671-6e48-4d31-ab26-1f13ef40b23f","name":"Convert to File"},{"parameters":{"mode":"combine","combineBy":"combineAll","options":{}},"type":"n8n-nodes-base.merge","typeVersion":3.1,"position":[1280,-160],"id":"5e47e0ba-7c22-47c1-a8b3-4644242531bf","name":"Merge"},{"parameters":{"url":"=https://cloud.leonardo.ai/api/rest/v1/init-image/{{ $('Merge').item.json.initImageId }}","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Authorization","value":"=Bearer {{ $env.LEONARDO_API_KEY }}"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1920,-160],"id":"de56df19-c291-47e1-a9af-2b8155a91bc7","name":"Poll for image"},{"parameters":{"method":"POST","url":"https://cloud.leonardo.ai/api/rest/v1/generations","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Authorization","value":"=Bearer {{ $env.LEONARDO_API_KEY }}"},{"name":"Content-Type","value":"application/json"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={\\n  \\"prompt\\": \\"{{ $json.prompt }}\\",\\n  \\"negative_prompt\\": \\"{{ $('Loop Over Items').item.json.negative_prompt }}\\",\\n  \\"modelId\\": \\"2067ae52-33fd-4a82-bb92-c2c55e7d2786\\",\\n  \\"presetStyle\\": \\"ILLUSTRATION\\",\\n  \\"scheduler\\": \\"LEONARDO\\",\\n  \\"num_images\\": 1,\\n  \\"guidance_scale\\": 7,\\n  \\"num_inference_steps\\": 30,\\n  \\"width\\": 1368,\\n  \\"height\\": 768,\\n  \\"seed\\": 3926980335,\\n  \\"controlnets\\": [\\n    {\\n      \\"initImageId\\": \\"{{ $json.init_images_by_pk.id }}\\",\\n      \\"initImageType\\": \\"UPLOADED\\",\\n      \\"preprocessorId\\": 133,\\n      \\"strengthType\\": \\"High\\"\\n    },\\n    {\\n      \\"initImageId\\": \\"{{ $json.init_images_by_pk.id }}\\",\\n      \\"initImageType\\": \\"UPLOADED\\",\\n      \\"preprocessorId\\": 67,\\n      \\"strengthType\\": \\"High\\"\\n    }\\n  ]\\n}\\n\\n","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[3380,240],"id":"2cd46d7f-db13-40f7-8cdf-903c2e1fed56","name":"Generate Scene Image"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"ff35ca74-88df-4e29-890e-411770e18f34","leftValue":"={{ $json.generations_by_pk.status }}","rightValue":"COMPLETE","operator":{"type":"string","operation":"equals"}}],"combinator":"and"},"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[4100,80],"id":"d8ee59a3-f841-4744-822a-cb9e2727b8ee","name":"If"},{"parameters":{"url":"=https://cloud.leonardo.ai/api/rest/v1/generations/{{\\n  $node[\\"Store Generation ID\\"].json[\\"generationId\\"] || \\n  $node[\\"Generate Scene Image\\"].json[\\"sdGenerationJob\\"][\\"generationId\\"]\\n}}","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Authorization","value":"=Bearer {{ $env.LEONARDO_API_KEY }}"},{"name":"Content-Type","value":"application/json"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[3900,80],"id":"cb9c71b0-bace-4ce6-b6a3-91ea518f5ad9","name":"Poll Generation Status"},{"parameters":{"amount":2},"type":"n8n-nodes-base.wait","typeVersion":1.1,"position":[1720,-160],"id":"b77f966b-7721-4eeb-8bd0-f783ca12b783","name":"Wait for character image upload","webhookId":"05fd8d28-5762-4349-81c7-b9483f02317d"},{"parameters":{},"type":"n8n-nodes-base.wait","typeVersion":1.1,"position":[4300,260],"id":"49d996a6-56f2-4b55-ad61-cc6a925ebdd2","name":"Wait for image generation","webhookId":"18914f8a-0bef-4d7f-a944-fec286f9179c"},{"parameters":{"assignments":{"assignments":[{"id":"1c80653e-53ed-4c46-9ce5-f7767eb8ed72","name":"generationId","value":"={{ $json.sdGenerationJob.generationId }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[3680,80],"id":"95d2e822-205f-4312-ab4a-45de8f721ce6","name":"Store Generation ID"},{"parameters":{"driveId":{"__rl":true,"mode":"list","value":"My Drive"},"folderId":{"__rl":true,"mode":"list","value":"root","cachedResultName":"/ (Root folder)"},"options":{}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[4660,400],"id":"15b9cfcc-4f15-4755-8c8f-7fc896bf70ab","name":"Google Drive","credentials":{"googleDriveOAuth2Api":{"id":"4lEBy7qEfA2UCGII","name":"Google Drive account"}}},{"parameters":{"url":"={{ $json[\\"generations_by_pk\\"][\\"generated_images\\"][0][\\"url\\"] }}","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[4320,-100],"id":"12a4fbfb-e031-42c5-8b61-62738f1ca6fa","name":"HTTP Request"},{"parameters":{"content":"## Prepare Character Image","height":80,"width":1220},"type":"n8n-nodes-base.stickyNote","position":[720,-380],"typeVersion":1,"id":"d6d546b8-c1db-49ce-9031-68a9adaf29a2","name":"Sticky Note5"},{"parameters":{"assignments":{"assignments":[{"id":"22e6f8e9-7fb5-40a9-bff0-8f43ef9eaba1","name":"init_images_by_pk.id","value":"={{ $json.init_images_by_pk.id }}","type":"string"},{"id":"e4edbd77-0a3f-4a48-b2ed-88b2da2f532c","name":"init_images_by_pk.createdAt","value":"={{ $json.init_images_by_pk.createdAt }}","type":"string"},{"id":"2a34b3a1-f43f-445e-8fad-147670c03636","name":"init_images_by_pk.url","value":"={{ $json.init_images_by_pk.url }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[2160,-60],"id":"fc060b2c-0337-4622-ae9e-80ba9b3ec920","name":"Set init_image"},{"parameters":{"mode":"combine","combineBy":"combineAll","options":{}},"type":"n8n-nodes-base.merge","typeVersion":3.1,"position":[2520,240],"id":"a4c9e1b3-a62a-4988-b186-cac6b8cda2ed","name":"Merge1"},{"parameters":{"promptType":"define","text":"=Generate a visual schedule for this task:\\n\\nTask: {{ $json.jtbd }}\\n\\nReturn only a JSON array of 57 items with `scene_number`, `scene_name`, `prompt`, and `negative_prompt`.","messages":{"messageValues":[{"message":"You are an image prompt generator for special education visual schedules. Given a simple daily task, break it down into clear, atomic steps that can be illustrated.\\n\\nFirst, think step-by-step: What does the child need to do from start to finish?\\n\\nThen, generate a JSON array of 57 image prompts, each representing one of those steps.\\n\\nEach output must describe what the image should clearly show:\\n- Only one step per scene\\n- Always use the same consistent child (7-year-old boy)\\n- Include action, environment, and POV\\n- Focus on clarity, visual teaching, and instructional accuracy\\n\\nEach prompt should:\\n- Be written as if instructing an image generator\\n- Be clean, consistent, and descriptive (no metaphors, no vague language)\\n- Use fixed POV (side view)\\n- Use fixed clothing and fixed setting (bathroom or classroom)\\n- Avoid narrative or emotional variation\\n\\nEach item must include:\\n- `scene_number`: the step index\\n- `scene_name`: short instructional title\\n- `prompt`: full image description\\n- `negative_prompt`: \\"dark, messy, stylized, surreal, toy-like, chaotic, product-style\\"\\n\\nOutput JSON only  no extra commentary."}]}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.6,"position":[780,260],"id":"61d80e21-c441-49db-b490-7ae7ab671395","name":"Task Analyzer (COT)"}]	{"On form submission":{"main":[[{"node":"Combine Character and JTBD","type":"main","index":0}]]},"Combine Character and JTBD":{"main":[[{"node":"Task Analyzer (COT)","type":"main","index":0},{"node":"Download character image","type":"main","index":0},{"node":"Request Presigned URL","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"Task Analyzer (COT)","type":"ai_languageModel","index":0}]]},"Fix JSON":{"main":[[{"node":"Merge1","type":"main","index":1}]]},"Loop Over Items":{"main":[[],[{"node":"Generate Scene Image","type":"main","index":0}]]},"Download character image":{"main":[[{"node":"Convert to File","type":"main","index":0}]]},"Request Presigned URL":{"main":[[{"node":"Split fields object","type":"main","index":0}]]},"Split fields object":{"main":[[{"node":"Merge","type":"main","index":1}]]},"Upload to Presigned URL":{"main":[[{"node":"Wait for character image upload","type":"main","index":0}]]},"Convert to File":{"main":[[{"node":"Merge","type":"main","index":0}]]},"Merge":{"main":[[{"node":"Upload to Presigned URL","type":"main","index":0}]]},"Poll for image":{"main":[[{"node":"Set init_image","type":"main","index":0}]]},"Generate Scene Image":{"main":[[{"node":"Store Generation ID","type":"main","index":0}]]},"If":{"main":[[{"node":"HTTP Request","type":"main","index":0}],[{"node":"Wait for image generation","type":"main","index":0}]]},"Poll Generation Status":{"main":[[{"node":"If","type":"main","index":0}]]},"Wait for character image upload":{"main":[[{"node":"Poll for image","type":"main","index":0}]]},"Wait for image generation":{"main":[[{"node":"Store Generation ID","type":"main","index":0}]]},"Store Generation ID":{"main":[[{"node":"Poll Generation Status","type":"main","index":0}]]},"HTTP Request":{"main":[[{"node":"Google Drive","type":"main","index":0}]]},"Google Drive":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]},"Set init_image":{"main":[[{"node":"Merge1","type":"main","index":0}]]},"Merge1":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]},"Task Analyzer (COT)":{"main":[[{"node":"Fix JSON","type":"main","index":0}]]}}	2025-05-19 01:51:15.56+00	2025-12-10 03:14:35.088+00	{"executionOrder":"v1"}	\N	{}	f54170ad-84b9-442c-bf01-e77411c362d7	0	nVI38CcD6ho2Hh0b	{"templateCredsSetupCompleted":true}	6WeAlLkv6AUBQTH2	f	2	\N	\N
Initial HP - No character generation v4 (Rough Saint Story Generator)	f	[{"parameters":{"formTitle":"User Form","formFields":{"values":[{"fieldLabel":"Saint","fieldType":"textarea","requiredField":true}]},"options":{}},"type":"n8n-nodes-base.formTrigger","typeVersion":2.2,"position":[20,-40],"id":"586c8472-3b27-4203-85f1-51f00f441bb1","name":"On form submission","webhookId":"0150052f-caed-4545-84da-0ab329c630a8"},{"parameters":{"content":"## Task Analyzer + Scene Prompt Generator","height":80,"width":620},"type":"n8n-nodes-base.stickyNote","position":[2260,360],"typeVersion":1,"id":"4219e400-ee97-44e3-aaf5-efb58f6febc7","name":"Sticky Note"},{"parameters":{"content":"## User Form","height":80,"width":220},"type":"n8n-nodes-base.stickyNote","position":[-20,-160],"typeVersion":1,"id":"3e1b0aad-5c42-4ecf-b7dd-c186a8926b39","name":"Sticky Note1"},{"parameters":{"content":"## Scene Generator","height":80,"width":1820},"type":"n8n-nodes-base.stickyNote","position":[4560,380],"typeVersion":1,"id":"113ba54b-58d3-4b15-b359-864c5284e947","name":"Sticky Note2"},{"parameters":{"content":"## Save in Google Drive","height":80,"width":860},"type":"n8n-nodes-base.stickyNote","position":[5920,660],"typeVersion":1,"id":"5c811805-e2ca-4807-8bcc-5805d0bc4925","name":"Sticky Note4"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[2380,660],"id":"3f004e1c-2681-4876-9d75-1141e40e3d4f","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"jsCode":"const apiKey = $env.LEONARDO_API_KEY;\\n\\n// Request presigned upload URL for image (JPG)\\nconst response = await this.helpers.httpRequest({\\n  method: 'POST',\\n  url: 'https://cloud.leonardo.ai/api/rest/v1/init-image',\\n  headers: {\\n    Authorization: `Bearer ${apiKey}`,\\n    'Content-Type': 'application/json'\\n  },\\n  body: {\\n    extension: 'jpg'\\n  },\\n  json: true\\n});\\n\\nconst { id: initImageId, url: uploadUrl, fields } = response.uploadInitImage;\\n\\n// Return result as required by n8n (array of objects)\\nreturn [\\n  {\\n    json: {\\n      initImageId,\\n      uploadUrl,\\n      fields\\n    }\\n  }\\n];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2280,80],"id":"77ed5c9a-9c15-4a9a-8304-756fcf0dca8b","name":"Request Presigned URL"},{"parameters":{"method":"POST","url":"={{ $json.uploadUrl }}","sendBody":true,"contentType":"multipart-form-data","bodyParameters":{"parameters":[{"name":"=Content-Type\\t","value":"={{ $json.fields[\\"Content-Type\\"] }}"},{"name":"bucket","value":"={{ $json.fields.bucket }}"},{"name":"X-Amz-Algorithm","value":"={{ $json.fields[\\"X-Amz-Algorithm\\"] }}"},{"name":"X-Amz-Credential","value":"={{ $json.fields[\\"X-Amz-Credential\\"] }}"},{"name":"X-Amz-Date","value":"={{ $json.fields[\\"X-Amz-Date\\"] }}"},{"name":"X-Amz-Security-Token","value":"={{ $json.fields[\\"X-Amz-Security-Token\\"] }}"},{"name":"key","value":"={{ $json.fields.key }}"},{"name":"Policy","value":"={{ $json.fields.Policy }}"},{"name":"X-Amz-Signature\\t","value":"={{ $json.fields[\\"X-Amz-Signature\\"] }}"},{"parameterType":"formBinaryData","name":"file","inputDataFieldName":"data"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[3040,-40],"id":"56c78c49-7469-44e0-b3e4-c67255db4048","name":"Upload to Presigned URL"},{"parameters":{"jsCode":"let raw = $json[\\"fields\\"];\\n\\nlet parsed;\\n\\ntry {\\n  parsed = typeof raw === 'string' ? JSON.parse(raw) : raw;\\n} catch (e) {\\n  throw new Error('Failed to parse fields: ' + e.message);\\n}\\n\\nreturn [\\n  {\\n    json: {\\n      ...$json,\\n      fields: parsed\\n    },\\n    binary: $binary\\n  }\\n];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2520,80],"id":"affa5f39-10ae-4c6f-8251-0ab4c682cf7d","name":"Split fields object"},{"parameters":{"operation":"toBinary","sourceProperty":"image_base64","options":{}},"type":"n8n-nodes-base.convertToFile","typeVersion":1.1,"position":[2280,-120],"id":"d5c2a40a-2a67-4081-9d90-6c9499fc6271","name":"Convert to File"},{"parameters":{"mode":"combine","combineBy":"combineAll","options":{}},"type":"n8n-nodes-base.merge","typeVersion":3.1,"position":[2820,-40],"id":"920b2667-49bf-482c-a9a7-1272c9d353dc","name":"Merge"},{"parameters":{"url":"=https://cloud.leonardo.ai/api/rest/v1/init-image/{{ $('Merge').item.json.initImageId }}","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Authorization","value":"=Bearer {{ $env.LEONARDO_API_KEY }}"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[3460,-40],"id":"c96cae0c-fa50-4ebc-bee1-2971f8d5708a","name":"Poll for image"},{"parameters":{"method":"POST","url":"https://cloud.leonardo.ai/api/rest/v1/generations","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Authorization","value":"=Bearer {{ $env.LEONARDO_API_KEY }}"},{"name":"Content-Type","value":"application/json"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={\\n  \\"prompt\\": \\"{{ $('Loop Over Scene Generation Prompts').item.json.prompt }}\\",\\n  \\"negative_prompt\\": \\"{{ $('Loop Over Scene Generation Prompts').item.json.negative_prompt }}\\",\\n  \\"modelId\\": \\"2067ae52-33fd-4a82-bb92-c2c55e7d2786\\",\\n  \\"presetStyle\\": \\"ILLUSTRATION\\",\\n  \\"scheduler\\": \\"LEONARDO\\",\\n  \\"num_images\\": 1,\\n  \\"guidance_scale\\": 7,\\n  \\"num_inference_steps\\": 30,\\n  \\"width\\": 1368,\\n  \\"height\\": 768,\\n  \\"seed\\": 3926980335,\\n  \\"controlnets\\": [\\n    {\\n      \\"initImageId\\": \\"{{ $json.init_images_by_pk.id }}\\",\\n      \\"initImageType\\": \\"UPLOADED\\",\\n      \\"preprocessorId\\": 133,\\n      \\"strengthType\\": \\"High\\"\\n    },\\n    {\\n      \\"initImageId\\": \\"{{ $json.init_images_by_pk.id }}\\",\\n      \\"initImageType\\": \\"UPLOADED\\",\\n      \\"preprocessorId\\": 67,\\n      \\"strengthType\\": \\"High\\"\\n    }\\n  ]\\n}\\n\\n","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[4620,540],"id":"cb5754ff-32fc-4c6e-897f-806a0f0deec5","name":"Generate Scene Image","onError":"continueErrorOutput"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"ff35ca74-88df-4e29-890e-411770e18f34","leftValue":"={{ $json.generations_by_pk.status }}","rightValue":"COMPLETE","operator":{"type":"string","operation":"equals"}}],"combinator":"and"},"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[5440,540],"id":"96f56b09-1e72-428a-aa13-3911c4ac8a83","name":"If"},{"parameters":{"url":"=https://cloud.leonardo.ai/api/rest/v1/generations/{{\\n  $node[\\"Store Generation ID\\"].json[\\"generationId\\"] || \\n  $node[\\"Generate Scene Image\\"].json[\\"sdGenerationJob\\"][\\"generationId\\"]\\n}}","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Authorization","value":"=Bearer {{ $env.LEONARDO_API_KEY }}"},{"name":"Content-Type","value":"application/json"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[5220,520],"id":"4e330788-59f3-478b-beee-b2f625810c04","name":"Poll Generation Status"},{"parameters":{"amount":2},"type":"n8n-nodes-base.wait","typeVersion":1.1,"position":[3260,-40],"id":"bc10a140-5ed0-48b2-9ab9-0c2fb0a40d7b","name":"Wait for character image upload","webhookId":"bad066e0-3a7d-4092-ae9e-361b871f6a15"},{"parameters":{},"type":"n8n-nodes-base.wait","typeVersion":1.1,"position":[5680,720],"id":"70dfc2e8-6d5d-47ba-847c-646a23974226","name":"Wait for image generation","webhookId":"97476edc-7a93-4bc5-89a3-f0173edbc48a"},{"parameters":{"assignments":{"assignments":[{"id":"1c80653e-53ed-4c46-9ce5-f7767eb8ed72","name":"generationId","value":"={{ $json.sdGenerationJob.generationId }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[4980,520],"id":"35775029-948c-4509-a275-fbe32598d88b","name":"Store Generation ID"},{"parameters":{"driveId":{"__rl":true,"mode":"list","value":"My Drive"},"folderId":{"__rl":true,"mode":"list","value":"root","cachedResultName":"/ (Root folder)"},"options":{}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[5980,820],"id":"576b3eff-8780-4d32-aac3-c6889ff76146","name":"Google Drive","credentials":{"googleDriveOAuth2Api":{"id":"4lEBy7qEfA2UCGII","name":"Google Drive account"}}},{"parameters":{"content":"## Prepare Character Image","height":80,"width":3620},"type":"n8n-nodes-base.stickyNote","position":[260,-460],"typeVersion":1,"id":"348b521a-f8ad-4d09-b7b1-5eb6cb3230ec","name":"Sticky Note5"},{"parameters":{"assignments":{"assignments":[{"id":"22e6f8e9-7fb5-40a9-bff0-8f43ef9eaba1","name":"init_images_by_pk.id","value":"={{ $json.init_images_by_pk.id }}","type":"string"},{"id":"e4edbd77-0a3f-4a48-b2ed-88b2da2f532c","name":"init_images_by_pk.createdAt","value":"={{ $json.init_images_by_pk.createdAt }}","type":"string"},{"id":"2a34b3a1-f43f-445e-8fad-147670c03636","name":"init_images_by_pk.url","value":"={{ $json.init_images_by_pk.url }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[3700,60],"id":"38e9ab45-bb36-4508-a018-02d12e3a5411","name":"Set init_image"},{"parameters":{"mode":"combine","combineBy":"combineAll","options":{}},"type":"n8n-nodes-base.merge","typeVersion":3.1,"position":[4020,460],"id":"7939073f-d51d-4284-9350-74dc33b3fb95","name":"Merge1"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[360,140],"id":"804d49ba-a752-4666-b2c3-57dc4e9fade6","name":"OpenAI Chat Model1","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"promptType":"define","text":"=Generate a visual character profile for the following saint:\\n\\nSaint: {{ $json.Saint }}\\n\\nUse the schema shown above and include only visual features.\\nIf the saint is a priest or religious, describe them wearing a cassock, habit, or robe instead of modern clothing.\\n","messages":{"messageValues":[{"message":"You are a character description generator for illustrated children's saint stories. Your job is to create a simple, visual character profile for a Catholic saint.\\n\\nEach profile must include:\\n- name\\n- age (estimated or symbolic)\\n- gender\\n- visual appearance (hair, eyes, skin tone)\\n- facial expression\\n- posture\\n- simple, saint-appropriate clothing (e.g., cassock, robe, habit)\\n- overall impression\\n\\nUse child-friendly, visual language. Focus on what can be seen. Avoid abstract or theological concepts.\\n\\nReturn a valid JSON object with this structure:\\n\\n{\\n  \\"character\\": {\\n    \\"name\\": \\"<full name of the saint>\\",\\n    \\"age\\": <estimated age as a number>,\\n    \\"gender\\": \\"<male or female>\\",\\n    \\"appearance\\": {\\n      \\"hair\\": \\"<brief hair description>\\",\\n      \\"eyes\\": \\"<brief eye description>\\",\\n      \\"skin\\": \\"<brief skin tone description>\\",\\n      \\"expression\\": \\"<facial expression>\\",\\n      \\"clothing\\": {\\n        \\"cassock\\": \\"<if priest or religious brother>\\",\\n        \\"habit\\": \\"<if nun or religious sister>\\",\\n        \\"robe\\": \\"<if saint is monastic or early Church>\\",\\n        \\"shirt\\": \\"<optional fallback if non-religious>\\",\\n        \\"coat\\": \\"<optional fallback outerwear>\\"\\n      },\\n      \\"posture\\": \\"<how the saint carries themselves>\\",\\n      \\"overall_impression\\": \\"<one-sentence summary of their visual presence>\\"\\n    }\\n  }\\n}\\n\\nReturn valid JSON only. No commentary.\\n"}]}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.6,"position":[280,-40],"id":"3efd25f6-84f5-48bd-a43e-3da19fb72452","name":"Saint Character Details"},{"parameters":{"promptType":"define","text":"=Using the following context:\\n\\n- Saint: {{ $json.character.name }}\\n- Character: {{ $json.character.name }}, {{ $json.character.age }}-year-old {{ $json.character.gender }} with {{ $json.character.appearance.hair }}, {{ $json.character.appearance.eyes }}, and {{ $json.character.appearance.skin }}. Clothing includes: \\n{{ $json.character.appearance.clothing.cassock || $json.character.appearance.clothing.habit || $json.character.appearance.clothing.robe || ($json.character.appearance.clothing.shirt + ' and ' + $json.character.appearance.clothing.coat) }}.\\nPosture: {{ $json.character.appearance.posture }}.\\n\\nCreate a visual story about {{ $json.character.name }}. Break it into 57 visual moments, following the formatting and structure below.\\n","messages":{"messageValues":[{"message":"You are a visual prompt generator for a Catholic childrens storytelling tool. Given a saint's character profile and context, create a 57 step **visual story** sequence.\\n\\nEach item must be a standalone, vivid moment that can be clearly illustrated:\\n\\n- Include setting, action, props, emotion, and POV (e.g., side view, over-the-shoulder)\\n- The saint must be **doing something**, not just standing\\n- Focus on **visible events**: scenes with other characters, gestures, expressions, interactions, historical moments\\n- Keep clothing exactly as described (cassock, robe, habit, armor, etc.)\\n- Avoid modern styles or unclear symbolism\\n\\nReturn only a JSON array. Each object must contain:\\n- `scene_number`: number\\n- `scene_name`: 35 word title (e.g., Joan Rallies Troops)\\n- `prompt`: rich scene description\\n- `negative_prompt`: dark, messy, stylized, surreal, toy-like, chaotic, disrespectful\\n"}]}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.6,"position":[2280,480],"id":"5feac7a4-0a5f-4976-9ba5-81b11b51a955","name":"Story Generator"},{"parameters":{"jsCode":"const rawText = $json[\\"text\\"];\\n\\n// Clean and parse JSON\\nconst cleaned = rawText.replace(/```json|```/g, \\"\\").trim();\\nconst parsed = JSON.parse(cleaned);\\n\\n// Return as-is (wrap in array so n8n continues processing)\\nreturn [{ json: parsed }];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[620,-40],"id":"dde43c70-555e-41b4-b3cb-0d93b25368d9","name":"Fix JSON for character details"},{"parameters":{"jsCode":"const rawText = $json[\\"text\\"];\\n\\n// Strip markdown code block if present\\nconst cleaned = rawText.replace(/```json|```/g, \\"\\").trim();\\n\\n// Parse JSON\\nconst parsed = JSON.parse(cleaned);\\n\\n// Return one item per loop\\nreturn parsed.map(scene => ({ json: scene }));"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2720,480],"id":"00e1b9ec-4adc-45c8-a95a-ec75cebbdfe5","name":"Fix JSON for story generator"},{"parameters":{"jsCode":"const char = items[0].json.character;\\nconst app = char.appearance;\\n\\nconst prompt = `Create a Pixar-style 3D character image. The rendering should be expressive, colorful, soft-edged, and emotionally engaging  consistent with the animation style of Pixar films.\\n\\nShow only one character, facing forward. Do not include multiple views, side angles, or duplicate faces.\\n\\nA ${char.age}-year-old ${char.gender} named ${char.name}, with ${app.hair}, ${app.eyes}, and ${app.skin}. He has a ${app.expression} and wears a ${app.clothing.cassock}. His posture is ${app.posture}. Overall, he gives the impression of ${app.overall_impression}.`;\\n\\nreturn [{ json: { prompt } }];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[960,-200],"id":"bdd12ae5-0668-4617-8602-d5f12c19a75c","name":"Build Character Generation Prompt"},{"parameters":{"method":"POST","url":"https://api.openai.com/v1/images/generations","authentication":"predefinedCredentialType","nodeCredentialType":"openAiApi","sendHeaders":true,"headerParameters":{"parameters":[{}]},"sendBody":true,"bodyParameters":{"parameters":[{"name":"model","value":"={{ $json.model }}"},{"name":"prompt","value":"={{ $json.prompt }}"},{"name":"n","value":"={{ $json.n }}"},{"name":"size","value":"={{ $json.size }}"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1460,-160],"id":"6d4228e1-5957-4dfe-847a-a35722c4dbaf","name":"Generate Character Image","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"jsCode":"const prompt = $json.prompt; // or wherever yours is\\n\\nreturn [\\n  {\\n    json: {\\n      model: \\"dall-e-3\\",\\n      prompt,\\n      n: 1,\\n      size: \\"1024x1024\\"\\n    }\\n  }\\n];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1200,-200],"id":"95e11fab-8dd8-4e13-beb6-0f085fac0dcb","name":"Build Image Generation Payload"},{"parameters":{"jsCode":"const imageUrl = $input.first().json.image_url;\\n\\n// Download the image as binary\\nconst imageBuffer = await this.helpers.request({\\n  method: 'GET',\\n  url: imageUrl,\\n  encoding: null // Return raw binary buffer\\n});\\n\\n// Convert to base64 (no prefix)\\nconst imageBase64 = imageBuffer.toString('base64');\\n\\n// Return for next step (Leonardo upload)\\nreturn [\\n  {\\n    json: {\\n      image_base64: imageBase64\\n    }\\n  }\\n];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1960,-120],"id":"cf1c5b3e-3e21-47ab-b787-f0f4d2e8ecb7","name":"Download character image (OpenAI)"},{"parameters":{"jsCode":"return [{\\n  json: {\\n    image_url: $json.data[0].url\\n  }\\n}];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1700,-160],"id":"232d9d32-b4b9-4e3e-8277-977e19ac1019","name":"Extract image url"},{"parameters":{"url":"={{ $json[\\"generations_by_pk\\"][\\"generated_images\\"][0][\\"url\\"] }}","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[5680,520],"id":"9e2ca2dd-fe05-46de-b514-bb43d33d5019","name":"Download Scene Image"},{"parameters":{"url":"={{ $json.image_url }}","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1960,-320],"id":"6f831417-3d40-4183-bf06-31363e22b894","name":"Download Character Image"},{"parameters":{"driveId":{"__rl":true,"mode":"list","value":"My Drive"},"folderId":{"__rl":true,"mode":"list","value":"root","cachedResultName":"/ (Root folder)"},"options":{}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[2180,-320],"id":"7c781a76-b83c-40d2-aa19-af3168ef90b2","name":"Google Drive1","credentials":{"googleDriveOAuth2Api":{"id":"4lEBy7qEfA2UCGII","name":"Google Drive account"}}},{"parameters":{"content":"## Packaging (After loop)","height":80,"width":1720},"type":"n8n-nodes-base.stickyNote","position":[4480,-60],"typeVersion":1,"id":"5a959ed9-1df4-4d5d-a29a-0fea36dadd40","name":"Sticky Note6"},{"parameters":{"jsCode":"const files = items.map(item => item.json);\\n\\n// Try to extract saint name from first file\\nlet title = \\"Untitled Story\\";\\nconst match = files[0]?.name?.match(/Saint_([A-Za-z]+)/);\\nif (match) {\\n  title = `Saint ${match[1]}'s Story`;\\n}\\n\\nconst slides = files.map((file, index) => {\\n  const imageUrl = `https://drive.google.com/uc?id=${file.id}&export=download`;\\n\\n  const name = file.name || `Image_${index + 1}`;\\n  const raw = name\\n    .replace(\\".jpg\\", \\"\\")\\n    .replace(/^AlbedoBase_XL_/, \\"\\")\\n    .replace(/_/g, \\" \\");\\n\\n  const caption = `Scene ${index + 1}: ${raw}`;\\n\\n  return {\\n    imageUrl,\\n    caption,\\n  };\\n});\\n\\nreturn [\\n  {\\n    json: {\\n      title,\\n      slides,\\n    },\\n  },\\n];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[4520,60],"id":"a60bc92a-cd96-4380-8b7b-63f9b476bb17","name":"Prepare Slides Data"},{"parameters":{"title":"={{ $json.title }}"},"type":"n8n-nodes-base.googleSlides","typeVersion":2,"position":[4700,200],"id":"891bdf1a-4f82-4274-92ed-1a7b1fb3a889","name":"Google Slides","credentials":{"googleSlidesOAuth2Api":{"id":"3ALxij02ZK5ZvDbM","name":"Google Slides account"}}},{"parameters":{"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[4280,460],"id":"69b7f0c3-f85f-4de1-af1f-a47e44df9eee","name":"Loop Over Scene Generation Prompts"},{"parameters":{"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[5760,80],"id":"5c4653b5-2771-4875-9834-a6f542beb836","name":"Loop Over Scene Slides to Create"},{"parameters":{"assignments":{"assignments":[{"id":"53772888-953c-4c79-87c2-a8b027757202","name":"presentationId","value":"={{ $json.presentationId }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[4900,200],"id":"816a81fb-9d3b-46f8-b661-4c9d81cd223a","name":"Get PresentationID"},{"parameters":{},"type":"n8n-nodes-base.merge","typeVersion":3.1,"position":[5060,80],"id":"333f1549-762d-4c44-9d91-6edb2754b6f1","name":"Merge2"},{"parameters":{"jsCode":"const story = items.find(i => i.json.slides);\\nconst pres = items.find(i => i.json.presentationId);\\n\\nreturn [\\n  {\\n    json: {\\n      ...story.json,\\n      presentationId: pres.json.presentationId\\n    }\\n  }\\n];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[5280,80],"id":"21f4cca1-130a-4e52-afe8-ad7ae03912ed","name":"Fix data for presentation","alwaysOutputData":true},{"parameters":{"jsCode":"const { slides, presentationId } = items[0].json;\\n\\nreturn slides.map((slide, index) => ({\\n  json: {\\n    ...slide,\\n    presentationId,\\n    slideIndex: index + 1\\n  }\\n}));"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[5520,80],"id":"42823d2c-5057-4912-95bb-4579146fec85","name":"Flatten for looping"},{"parameters":{"method":"POST","url":"=https://slides.googleapis.com/v1/presentations/{{ $json.presentationId }}:batchUpdate","authentication":"predefinedCredentialType","nodeCredentialType":"googleSlidesOAuth2Api","sendBody":true,"specifyBody":"json","jsonBody":"={\\n  \\"requests\\": [\\n    {\\n      \\"createSlide\\": {\\n        \\"objectId\\": \\"slide_{{$json.slideIndex}}\\",\\n        \\"insertionIndex\\": {{$json.slideIndex}},\\n        \\"slideLayoutReference\\": {\\n          \\"predefinedLayout\\": \\"BLANK\\"\\n        }\\n      }\\n    },\\n    {\\n      \\"createImage\\": {\\n        \\"url\\": \\"{{$json.imageUrl}}\\",\\n        \\"elementProperties\\": {\\n          \\"pageObjectId\\": \\"slide_{{$json.slideIndex}}\\",\\n          \\"size\\": {\\n            \\"height\\": { \\"magnitude\\": 3000000, \\"unit\\": \\"EMU\\" },\\n            \\"width\\": { \\"magnitude\\": 5000000, \\"unit\\": \\"EMU\\" }\\n          },\\n          \\"transform\\": {\\n            \\"scaleX\\": 1,\\n            \\"scaleY\\": 1,\\n            \\"translateX\\": 100000,\\n            \\"translateY\\": 100000,\\n            \\"unit\\": \\"EMU\\"\\n          }\\n        }\\n      }\\n    },\\n    {\\n      \\"createShape\\": {\\n        \\"objectId\\": \\"caption_{{$json.slideIndex}}\\",\\n        \\"shapeType\\": \\"TEXT_BOX\\",\\n        \\"elementProperties\\": {\\n          \\"pageObjectId\\": \\"slide_{{$json.slideIndex}}\\",\\n          \\"size\\": {\\n            \\"height\\": { \\"magnitude\\": 500000, \\"unit\\": \\"EMU\\" },\\n            \\"width\\": { \\"magnitude\\": 5000000, \\"unit\\": \\"EMU\\" }\\n          },\\n          \\"transform\\": {\\n            \\"scaleX\\": 1,\\n            \\"scaleY\\": 1,\\n            \\"translateX\\": 100000,\\n            \\"translateY\\": 3200000,\\n            \\"unit\\": \\"EMU\\"\\n          }\\n        }\\n      }\\n    },\\n    {\\n      \\"insertText\\": {\\n        \\"objectId\\": \\"caption_{{$json.slideIndex}}\\",\\n        \\"insertionIndex\\": 0,\\n        \\"text\\": \\"{{$json.caption}}\\"\\n      }\\n    }\\n  ]\\n}","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[6020,160],"id":"ce5cf751-4e2e-4f12-9d29-b97ec32a31ad","name":"Create Slide","credentials":{"googleSlidesOAuth2Api":{"id":"3ALxij02ZK5ZvDbM","name":"Google Slides account"}}},{"parameters":{"method":"POST","url":"=https://www.googleapis.com/drive/v3/files/{{ $json.id }}/permissions","authentication":"predefinedCredentialType","nodeCredentialType":"googleDriveOAuth2Api","sendBody":true,"specifyBody":"json","jsonBody":"{\\n  \\"role\\": \\"reader\\",\\n  \\"type\\": \\"anyone\\"\\n}","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[6220,820],"id":"b171a9b9-4585-4e29-a244-edede4c07d5e","name":"Make Image Public","credentials":{"googleDriveOAuth2Api":{"id":"4lEBy7qEfA2UCGII","name":"Google Drive account"}}},{"parameters":{},"type":"n8n-nodes-base.merge","typeVersion":3.1,"position":[6380,1060],"id":"e2742433-e442-4f76-ace3-2dae4115b019","name":"Merge3"},{"parameters":{"jsCode":"// Filter out permission-only items (e.g. anyoneWithLink)\\n// Keep only file metadata with actual image IDs\\nconst cleaned = items.filter(item => {\\n  return item.json.mimeType === 'image/jpeg' && item.json.id && item.json.name;\\n}).map(item => {\\n  return {\\n    json: {\\n      id: item.json.id,\\n      name: item.json.name,\\n    }\\n  };\\n});\\n\\nreturn cleaned;"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[6540,1060],"id":"8e8149c7-63be-4aec-8e98-fa61815dbe2a","name":"Clean-up"}]	{"On form submission":{"main":[[{"node":"Saint Character Details","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"Story Generator","type":"ai_languageModel","index":0}]]},"Request Presigned URL":{"main":[[{"node":"Split fields object","type":"main","index":0}]]},"Split fields object":{"main":[[{"node":"Merge","type":"main","index":1}]]},"Upload to Presigned URL":{"main":[[{"node":"Wait for character image upload","type":"main","index":0}]]},"Convert to File":{"main":[[{"node":"Merge","type":"main","index":0}]]},"Merge":{"main":[[{"node":"Upload to Presigned URL","type":"main","index":0}]]},"Poll for image":{"main":[[{"node":"Set init_image","type":"main","index":0}]]},"Generate Scene Image":{"main":[[{"node":"Store Generation ID","type":"main","index":0}]]},"If":{"main":[[{"node":"Download Scene Image","type":"main","index":0}],[{"node":"Wait for image generation","type":"main","index":0}]]},"Poll Generation Status":{"main":[[{"node":"If","type":"main","index":0}]]},"Wait for character image upload":{"main":[[{"node":"Poll for image","type":"main","index":0}]]},"Wait for image generation":{"main":[[{"node":"Store Generation ID","type":"main","index":0}]]},"Store Generation ID":{"main":[[{"node":"Poll Generation Status","type":"main","index":0}]]},"Google Drive":{"main":[[{"node":"Make Image Public","type":"main","index":0},{"node":"Merge3","type":"main","index":1}]]},"Set init_image":{"main":[[{"node":"Merge1","type":"main","index":0}]]},"Merge1":{"main":[[{"node":"Loop Over Scene Generation Prompts","type":"main","index":0}]]},"OpenAI Chat Model1":{"ai_languageModel":[[{"node":"Saint Character Details","type":"ai_languageModel","index":0}]]},"Story Generator":{"main":[[{"node":"Fix JSON for story generator","type":"main","index":0}]]},"Saint Character Details":{"main":[[{"node":"Fix JSON for character details","type":"main","index":0}]]},"Fix JSON for character details":{"main":[[{"node":"Story Generator","type":"main","index":0},{"node":"Request Presigned URL","type":"main","index":0},{"node":"Build Character Generation Prompt","type":"main","index":0}]]},"Fix JSON for story generator":{"main":[[{"node":"Merge1","type":"main","index":1}]]},"Build Character Generation Prompt":{"main":[[{"node":"Build Image Generation Payload","type":"main","index":0}]]},"Generate Character Image":{"main":[[{"node":"Extract image url","type":"main","index":0}]]},"Build Image Generation Payload":{"main":[[{"node":"Generate Character Image","type":"main","index":0}]]},"Download character image (OpenAI)":{"main":[[{"node":"Convert to File","type":"main","index":0}]]},"Extract image url":{"main":[[{"node":"Download character image (OpenAI)","type":"main","index":0},{"node":"Download Character Image","type":"main","index":0}]]},"Download Scene Image":{"main":[[{"node":"Google Drive","type":"main","index":0}]]},"Download Character Image":{"main":[[{"node":"Google Drive1","type":"main","index":0}]]},"Prepare Slides Data":{"main":[[{"node":"Google Slides","type":"main","index":0},{"node":"Merge2","type":"main","index":0}]]},"Google Slides":{"main":[[{"node":"Get PresentationID","type":"main","index":0}]]},"Loop Over Scene Generation Prompts":{"main":[[{"node":"Prepare Slides Data","type":"main","index":0}],[{"node":"Generate Scene Image","type":"main","index":0}]]},"Loop Over Scene Slides to Create":{"main":[[],[{"node":"Create Slide","type":"main","index":0}]]},"Get PresentationID":{"main":[[{"node":"Merge2","type":"main","index":1}]]},"Fix data for presentation":{"main":[[{"node":"Flatten for looping","type":"main","index":0}]]},"Merge2":{"main":[[{"node":"Fix data for presentation","type":"main","index":0}]]},"Flatten for looping":{"main":[[{"node":"Loop Over Scene Slides to Create","type":"main","index":0}]]},"Create Slide":{"main":[[{"node":"Loop Over Scene Slides to Create","type":"main","index":0}]]},"Make Image Public":{"main":[[{"node":"Merge3","type":"main","index":0}]]},"Merge3":{"main":[[{"node":"Clean-up","type":"main","index":0}]]},"Clean-up":{"main":[[{"node":"Loop Over Scene Generation Prompts","type":"main","index":0}]]}}	2025-05-19 02:53:27.032+00	2025-12-10 03:14:40.849+00	{"executionOrder":"v1"}	\N	{}	8d9e53d1-ea76-4142-8a93-02a1ca563660	0	dtSg5P1iisGnpbxc	{"templateCredsSetupCompleted":true}	6WeAlLkv6AUBQTH2	f	2	\N	\N
Initial HP - No character generation v2	f	[{"parameters":{"formTitle":"User Form","formFields":{"values":[{"fieldLabel":"JTBD","fieldType":"textarea","requiredField":true}]},"options":{}},"type":"n8n-nodes-base.formTrigger","typeVersion":2.2,"position":[20,-40],"id":"50941d16-1092-41ea-85e6-1266534b2b10","name":"On form submission","webhookId":"4746483e-9c93-4c87-a4d5-f416324da8b0"},{"parameters":{"content":"## Task Analyzer","height":80},"type":"n8n-nodes-base.stickyNote","position":[760,140],"typeVersion":1,"id":"d0b5a127-cc7d-471e-aac3-5848befec65e","name":"Sticky Note"},{"parameters":{"content":"## User Form","height":80,"width":220},"type":"n8n-nodes-base.stickyNote","position":[0,-320],"typeVersion":1,"id":"1d63f523-63b9-428a-add6-69b89be1cf0c","name":"Sticky Note1"},{"parameters":{"content":"## Scene Prompt Generator","height":80,"width":320},"type":"n8n-nodes-base.stickyNote","position":[1080,140],"typeVersion":1,"id":"bd63881e-0ebb-4349-8639-9feb7cc34eed","name":"Sticky Note2"},{"parameters":{"content":"## Save in Google Drive","height":80,"width":360},"type":"n8n-nodes-base.stickyNote","position":[4640,240],"typeVersion":1,"id":"9a074c95-e38d-4827-9948-4ad850f50fab","name":"Sticky Note4"},{"parameters":{"mode":"raw","jsonOutput":"={\\n  \\"character\\": {\\n    \\"name\\": \\"Benji\\",\\n    \\"age\\": 7,\\n    \\"gender\\": \\"boy\\",\\n    \\"appearance\\": {\\n      \\"hair\\": \\"short, slightly messy black hair\\",\\n      \\"eyes\\": \\"big, curious brown eyes\\",\\n      \\"skin\\": \\"light with a warm tone\\",\\n      \\"expression\\": \\"friendly, open face with a gentle smile\\",\\n      \\"clothing\\": {\\n        \\"shirt\\": \\"bright yellow t-shirt\\",\\n        \\"shorts\\": \\"sky-blue shorts\\"\\n      },\\n      \\"posture\\": \\"relaxed and confident\\",\\n      \\"overall_impression\\": \\"calm, adventurous presence\\"\\n    }\\n  },\\n  \\"jtbd\\": \\"{{ $json.JTBD }}\\",\\n}\\n","options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[320,-40],"id":"c070153f-b2ca-427c-9350-fc7e20a96559","name":"Combine Character and JTBD"},{"parameters":{"promptType":"define","text":"=Using the following information:\\n\\n- Character: {{ $json[\\"character\\"][\\"name\\"] }} is a {{ $json[\\"character\\"][\\"age\\"] }}-year-old {{ $json[\\"character\\"][\\"gender\\"] }}. Do not describe their appearance. Assume the characters visual identity is handled by a consistent reference image or prior generation step.\\n- Task: {{ $json[\\"jtbd\\"] }}\\n\\nGenerate five image generation prompts for Leonardo.ai that form a visually connected narrative sequence.\\n\\nInstructions:\\n- Break the task into five logically connected visual scenes: beginning, early action, turning point, development, and resolution.\\n- Each scene must build on the last, showing visible progression in task, emotion, and environment.\\n- Choose a distinct point-of-view for each scene (e.g., side view, rear view, top-down, wide shot, over-the-shoulder).\\n- Vary the characters physical stance, gaze direction, and emotional expression  avoid repetition.\\n- At least one scene should visually focus on an object or supporting character that advances the story.\\n- Focus entirely on whats visible  action, setting, objects, posture, and emotional tone.\\n\\nUse simple, child-appropriate language. Keep each prompt warm, visually rich, and uncluttered.\\n\\nReturn only a JSON array of the five scenes. No extra text.","messages":{"messageValues":[{"message":"You are a prompt generator for image generation. Based on a character and a task (JTBD), describe five connected visual scenes that can be illustrated.\\n\\nEach scene must show a distinct, observable action and use a natural, visually appropriate point-of-view (such as side view, top-down, rear view, wide shot, or over-the-shoulder). Avoid repeating angles unless narratively necessary.\\n\\nUse varied emotional tone and physical expression throughout the sequence:\\n- Include moments of effort, uncertainty, discovery, joy, and resolution.\\n- The character should not always look the same or feel the same  show a range of reactions, postures, and movements.\\n- At least one scene should focus on something *other than* the main character  an object, another person, or environmental cue that helps advance the task.\\n\\nDo not write a story or inner thoughts. Focus only on what is visually seen.\\n\\nKeep language warm, vivid, and simple  suitable for a childrens picture book.\\n\\nEach output must include:\\n- scene_number\\n- prompt (natural-language visual description for image generation)\\n- negative_prompt (comma-separated values)\\n\\nReturn a JSON array of 5 scenes. No explanations. No labels."}]}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.6,"position":[780,260],"id":"d8f5ac16-3aa4-4752-bf1a-519793243a94","name":"Basic LLM Chain"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[880,440],"id":"0a19968c-d954-43d5-9dd5-945e4d509156","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"jsCode":"const rawText = $json[\\"text\\"]; // This is your stringified array\\nconst parsed = JSON.parse(rawText); // Convert string to actual JSON array\\n\\nreturn parsed.map(scene => ({ json: scene }));"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1220,260],"id":"29b8e40e-9a66-425c-8406-2c92f5dd219c","name":"Fix JSON"},{"parameters":{"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[2940,240],"id":"b7b557be-791d-41c5-a708-1ec196c191ce","name":"Loop Over Items"},{"parameters":{"jsCode":"const imageUrl = 'https://raw.githubusercontent.com/marcotechinc/sb-dev/main/characters/benji.jpg';\\n\\n// Download the image as binary\\nconst imageBuffer = await this.helpers.request({\\n  method: 'GET',\\n  url: imageUrl,\\n  encoding: null // Return raw binary buffer\\n});\\n\\n// Convert to base64 (no prefix)\\nconst imageBase64 = imageBuffer.toString('base64');\\n\\n// Return for next step (Leonardo upload)\\nreturn [\\n  {\\n    json: {\\n      image_base64: imageBase64\\n    }\\n  }\\n];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[740,-260],"id":"53b3bbfa-5374-4241-8790-ae9ad6ec56cc","name":"Download character image"},{"parameters":{"jsCode":"const apiKey = $env.LEONARDO_API_KEY;\\n\\n// Request presigned upload URL for image (JPG)\\nconst response = await this.helpers.httpRequest({\\n  method: 'POST',\\n  url: 'https://cloud.leonardo.ai/api/rest/v1/init-image',\\n  headers: {\\n    Authorization: `Bearer ${apiKey}`,\\n    'Content-Type': 'application/json'\\n  },\\n  body: {\\n    extension: 'jpg'\\n  },\\n  json: true\\n});\\n\\nconst { id: initImageId, url: uploadUrl, fields } = response.uploadInitImage;\\n\\n// Return result as required by n8n (array of objects)\\nreturn [\\n  {\\n    json: {\\n      initImageId,\\n      uploadUrl,\\n      fields\\n    }\\n  }\\n];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[740,-60],"id":"1759f0c8-1918-4d99-8497-989b6fcfb6ce","name":"Request Presigned URL"},{"parameters":{"method":"POST","url":"={{ $json.uploadUrl }}","sendBody":true,"contentType":"multipart-form-data","bodyParameters":{"parameters":[{"name":"=Content-Type\\t","value":"={{ $json.fields[\\"Content-Type\\"] }}"},{"name":"bucket","value":"={{ $json.fields.bucket }}"},{"name":"X-Amz-Algorithm","value":"={{ $json.fields[\\"X-Amz-Algorithm\\"] }}"},{"name":"X-Amz-Credential","value":"={{ $json.fields[\\"X-Amz-Credential\\"] }}"},{"name":"X-Amz-Date","value":"={{ $json.fields[\\"X-Amz-Date\\"] }}"},{"name":"X-Amz-Security-Token","value":"={{ $json.fields[\\"X-Amz-Security-Token\\"] }}"},{"name":"key","value":"={{ $json.fields.key }}"},{"name":"Policy","value":"={{ $json.fields.Policy }}"},{"name":"X-Amz-Signature\\t","value":"={{ $json.fields[\\"X-Amz-Signature\\"] }}"},{"parameterType":"formBinaryData","name":"file","inputDataFieldName":"data"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1500,-160],"id":"5640e29c-7e99-42a9-961f-458e80302546","name":"Upload to Presigned URL"},{"parameters":{"jsCode":"let raw = $json[\\"fields\\"];\\n\\nlet parsed;\\n\\ntry {\\n  parsed = typeof raw === 'string' ? JSON.parse(raw) : raw;\\n} catch (e) {\\n  throw new Error('Failed to parse fields: ' + e.message);\\n}\\n\\nreturn [\\n  {\\n    json: {\\n      ...$json,\\n      fields: parsed\\n    },\\n    binary: $binary\\n  }\\n];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[980,-60],"id":"85e32808-901b-4169-92c7-a9cb9e937faf","name":"Split fields object"},{"parameters":{"operation":"toBinary","sourceProperty":"image_base64","options":{}},"type":"n8n-nodes-base.convertToFile","typeVersion":1.1,"position":[980,-260],"id":"27f2ca77-de8a-4163-bea4-119610d77e8c","name":"Convert to File"},{"parameters":{"mode":"combine","combineBy":"combineAll","options":{}},"type":"n8n-nodes-base.merge","typeVersion":3.1,"position":[1280,-160],"id":"e9d906d9-4632-4709-b55c-01b828cbe656","name":"Merge"},{"parameters":{"url":"=https://cloud.leonardo.ai/api/rest/v1/init-image/{{ $('Merge').item.json.initImageId }}","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Authorization","value":"=Bearer {{ $env.LEONARDO_API_KEY }}"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1920,-160],"id":"5c1f3c6f-c063-45d0-8b38-f13d85acf787","name":"Poll for image"},{"parameters":{"method":"POST","url":"https://cloud.leonardo.ai/api/rest/v1/generations","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Authorization","value":"=Bearer {{ $env.LEONARDO_API_KEY }}"},{"name":"Content-Type","value":"application/json"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={\\n  \\"prompt\\": \\"{{ $json.prompt }}\\",\\n  \\"negative_prompt\\": \\"{{ $('Loop Over Items').item.json.negative_prompt }}\\",\\n  \\"modelId\\": \\"2067ae52-33fd-4a82-bb92-c2c55e7d2786\\",\\n  \\"presetStyle\\": \\"ILLUSTRATION\\",\\n  \\"scheduler\\": \\"LEONARDO\\",\\n  \\"num_images\\": 1,\\n  \\"guidance_scale\\": 7,\\n  \\"num_inference_steps\\": 30,\\n  \\"width\\": 1368,\\n  \\"height\\": 768,\\n  \\"seed\\": 3926980335,\\n  \\"controlnets\\": [\\n    {\\n      \\"initImageId\\": \\"{{ $json.init_images_by_pk.id }}\\",\\n      \\"initImageType\\": \\"UPLOADED\\",\\n      \\"preprocessorId\\": 133,\\n      \\"strengthType\\": \\"High\\"\\n    },\\n    {\\n      \\"initImageId\\": \\"{{ $json.init_images_by_pk.id }}\\",\\n      \\"initImageType\\": \\"UPLOADED\\",\\n      \\"preprocessorId\\": 67,\\n      \\"strengthType\\": \\"High\\"\\n    }\\n  ]\\n}\\n\\n","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[3380,240],"id":"95079cde-86a1-477d-8b9b-06fff3ea0252","name":"Generate Scene Image"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"ff35ca74-88df-4e29-890e-411770e18f34","leftValue":"={{ $json.generations_by_pk.status }}","rightValue":"COMPLETE","operator":{"type":"string","operation":"equals"}}],"combinator":"and"},"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[4100,80],"id":"2cf7d9ae-ede7-4fe7-88ae-27c927a97bce","name":"If"},{"parameters":{"url":"=https://cloud.leonardo.ai/api/rest/v1/generations/{{\\n  $node[\\"Store Generation ID\\"].json[\\"generationId\\"] || \\n  $node[\\"Generate Scene Image\\"].json[\\"sdGenerationJob\\"][\\"generationId\\"]\\n}}","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Authorization","value":"=Bearer {{ $env.LEONARDO_API_KEY }}"},{"name":"Content-Type","value":"application/json"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[3900,80],"id":"394268ec-f843-495e-b28a-6e1b5c833f69","name":"Poll Generation Status"},{"parameters":{"amount":2},"type":"n8n-nodes-base.wait","typeVersion":1.1,"position":[1720,-160],"id":"f171fe89-29b0-45fa-9add-4dcda65dbf58","name":"Wait for character image upload","webhookId":"fbfcabc5-1369-4e54-92f7-dd35724ff868"},{"parameters":{},"type":"n8n-nodes-base.wait","typeVersion":1.1,"position":[4300,260],"id":"66b58438-f01d-4ecb-aa14-27842e773166","name":"Wait for image generation","webhookId":"f103645f-6933-4c38-a5b9-c2424b2a1ec7"},{"parameters":{"assignments":{"assignments":[{"id":"1c80653e-53ed-4c46-9ce5-f7767eb8ed72","name":"generationId","value":"={{ $json.sdGenerationJob.generationId }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[3680,80],"id":"536a7907-ac72-40da-ba73-b4139f431699","name":"Store Generation ID"},{"parameters":{"driveId":{"__rl":true,"mode":"list","value":"My Drive"},"folderId":{"__rl":true,"mode":"list","value":"root","cachedResultName":"/ (Root folder)"},"options":{}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[4660,400],"id":"974c8e66-ab59-4a62-bd0a-f0cef02a1302","name":"Google Drive","credentials":{"googleDriveOAuth2Api":{"id":"4lEBy7qEfA2UCGII","name":"Google Drive account"}}},{"parameters":{"url":"={{ $json[\\"generations_by_pk\\"][\\"generated_images\\"][0][\\"url\\"] }}","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[4320,-100],"id":"28428c71-8b33-476b-8892-acc1a7abfdf5","name":"HTTP Request"},{"parameters":{"content":"## Prepare Character Image","height":80,"width":1220},"type":"n8n-nodes-base.stickyNote","position":[720,-380],"typeVersion":1,"id":"a11be67a-3cae-4c8e-9485-088e8c71aecd","name":"Sticky Note5"},{"parameters":{"assignments":{"assignments":[{"id":"22e6f8e9-7fb5-40a9-bff0-8f43ef9eaba1","name":"init_images_by_pk.id","value":"={{ $json.init_images_by_pk.id }}","type":"string"},{"id":"e4edbd77-0a3f-4a48-b2ed-88b2da2f532c","name":"init_images_by_pk.createdAt","value":"={{ $json.init_images_by_pk.createdAt }}","type":"string"},{"id":"2a34b3a1-f43f-445e-8fad-147670c03636","name":"init_images_by_pk.url","value":"={{ $json.init_images_by_pk.url }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[2160,-60],"id":"8236a9b8-3d21-4165-a89c-1f342a48da26","name":"Set init_image"},{"parameters":{"mode":"combine","combineBy":"combineAll","options":{}},"type":"n8n-nodes-base.merge","typeVersion":3.1,"position":[2520,240],"id":"f91c7a29-ef3a-4352-b28b-b2160d25d809","name":"Merge1"}]	{"On form submission":{"main":[[{"node":"Combine Character and JTBD","type":"main","index":0}]]},"Combine Character and JTBD":{"main":[[{"node":"Basic LLM Chain","type":"main","index":0},{"node":"Download character image","type":"main","index":0},{"node":"Request Presigned URL","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"Basic LLM Chain","type":"ai_languageModel","index":0}]]},"Basic LLM Chain":{"main":[[{"node":"Fix JSON","type":"main","index":0}]]},"Fix JSON":{"main":[[{"node":"Merge1","type":"main","index":1}]]},"Loop Over Items":{"main":[[],[{"node":"Generate Scene Image","type":"main","index":0}]]},"Download character image":{"main":[[{"node":"Convert to File","type":"main","index":0}]]},"Request Presigned URL":{"main":[[{"node":"Split fields object","type":"main","index":0}]]},"Split fields object":{"main":[[{"node":"Merge","type":"main","index":1}]]},"Upload to Presigned URL":{"main":[[{"node":"Wait for character image upload","type":"main","index":0}]]},"Convert to File":{"main":[[{"node":"Merge","type":"main","index":0}]]},"Merge":{"main":[[{"node":"Upload to Presigned URL","type":"main","index":0}]]},"Poll for image":{"main":[[{"node":"Set init_image","type":"main","index":0}]]},"Generate Scene Image":{"main":[[{"node":"Store Generation ID","type":"main","index":0}]]},"If":{"main":[[{"node":"HTTP Request","type":"main","index":0}],[{"node":"Wait for image generation","type":"main","index":0}]]},"Poll Generation Status":{"main":[[{"node":"If","type":"main","index":0}]]},"Wait for character image upload":{"main":[[{"node":"Poll for image","type":"main","index":0}]]},"Wait for image generation":{"main":[[{"node":"Store Generation ID","type":"main","index":0}]]},"Store Generation ID":{"main":[[{"node":"Poll Generation Status","type":"main","index":0}]]},"HTTP Request":{"main":[[{"node":"Google Drive","type":"main","index":0}]]},"Google Drive":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]},"Set init_image":{"main":[[{"node":"Merge1","type":"main","index":0}]]},"Merge1":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]}}	2025-05-19 00:46:28.609+00	2025-12-10 03:14:46.393+00	{"executionOrder":"v1"}	\N	{}	00974d13-37fa-41f4-a0b7-de7c4ca3b5db	0	cUOXZ0f78wNozDnp	{"templateCredsSetupCompleted":true}	6WeAlLkv6AUBQTH2	f	2	\N	\N
Packaging test	f	[{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[-800,-160],"id":"94c38ccf-2204-4e21-9859-45b3a164796d","name":"When clicking Test workflow"},{"parameters":{"title":"=Test at {{$now.toFormat(\\"yyyy-MM-dd HH:mm\\")}}"},"type":"n8n-nodes-base.googleSlides","typeVersion":2,"position":[-540,-20],"id":"63db1987-696b-4a15-991f-2725bf94dfae","name":"Google Slides","credentials":{"googleSlidesOAuth2Api":{"id":"3ALxij02ZK5ZvDbM","name":"Google Slides account"}}},{"parameters":{"jsCode":"return [\\n  {\\n    json: {\\n      caption: \\"Scene 1: Data goes here\\",\\n      slideIndex: 1\\n    }\\n  },\\n  {\\n    json: {\\n      caption: \\"Scene 2: Data goes here\\",\\n      slideIndex: 2\\n    }\\n  },\\n  {\\n    json: {\\n      caption: \\"Scene 3: Data goes here\\",\\n      slideIndex: 3\\n    }\\n  },\\n  {\\n    json: {\\n      caption: \\"Scene 4: Data goes here\\",\\n      slideIndex: 4\\n    }\\n  },\\n  {\\n    json: {\\n      caption: \\"Scene 5: Data goes here\\",\\n      slideIndex: 5\\n    }\\n  }\\n];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-320,-260],"id":"2c845876-8ca5-4b67-b26f-542a8efae378","name":"Sample Data"},{"parameters":{"assignments":{"assignments":[{"id":"f7bd46a6-d43b-4f84-8838-a9f2f7f96eb4","name":"presentationId","value":"={{ $json.presentationId }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-320,-20],"id":"20f4dedf-53a5-44b2-bba6-2a5473fdbee0","name":"Set PresentationID"},{"parameters":{},"type":"n8n-nodes-base.merge","typeVersion":3.1,"position":[-40,-140],"id":"cf580cc4-a0a8-493f-8d36-4c7e86ae08b2","name":"Merge"},{"parameters":{"jsCode":"// Find the item that has the presentationId\\nconst pres = items.find(i => i.json.presentationId);\\n\\n// Filter slide items  assume slide objects have a 'caption' field\\nconst slides = items.filter(i => i.json.caption);\\n\\n// Merge presentationId into each slide\\nreturn slides.map(slide => ({\\n  json: {\\n    ...slide.json,\\n    presentationId: pres.json.presentationId\\n  }\\n}));"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[200,-140],"id":"78266b95-d0d8-4d81-a721-5e60c591819d","name":"Fix data for presentation","alwaysOutputData":true},{"parameters":{"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[460,-140],"id":"c104a159-47d1-4ca1-a4b4-e897572da62c","name":"Loop Over Scene Slides to Create"},{"parameters":{"method":"POST","url":"=https://slides.googleapis.com/v1/presentations/{{ $json.presentationId }}:batchUpdate","authentication":"predefinedCredentialType","nodeCredentialType":"googleSlidesOAuth2Api","sendBody":true,"specifyBody":"json","jsonBody":"={\\n  \\"requests\\": [\\n    {\\n      \\"createSlide\\": {\\n        \\"objectId\\": \\"slide_{{$json.slideIndex}}\\",\\n        \\"slideLayoutReference\\": {\\n          \\"predefinedLayout\\": \\"BLANK\\"\\n        }\\n      }\\n    },\\n    {\\n      \\"createShape\\": {\\n        \\"objectId\\": \\"caption_{{$json.slideIndex}}\\",\\n        \\"shapeType\\": \\"TEXT_BOX\\",\\n        \\"elementProperties\\": {\\n          \\"pageObjectId\\": \\"slide_{{$json.slideIndex}}\\",\\n          \\"size\\": {\\n            \\"height\\": { \\"magnitude\\": 500000, \\"unit\\": \\"EMU\\" },\\n            \\"width\\": { \\"magnitude\\": 5000000, \\"unit\\": \\"EMU\\" }\\n          },\\n          \\"transform\\": {\\n            \\"scaleX\\": 1,\\n            \\"scaleY\\": 1,\\n            \\"translateX\\": 100000,\\n            \\"translateY\\": 3200000,\\n            \\"unit\\": \\"EMU\\"\\n          }\\n        }\\n      }\\n    },\\n    {\\n      \\"insertText\\": {\\n        \\"objectId\\": \\"caption_{{$json.slideIndex}}\\",\\n        \\"insertionIndex\\": 0,\\n        \\"text\\": \\"{{$json.caption}}\\"\\n      }\\n    }\\n  ]\\n}","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[720,-20],"id":"a3214af2-4864-4011-afda-1ccff36f35ce","name":"Create Slide","credentials":{"googleSlidesOAuth2Api":{"id":"3ALxij02ZK5ZvDbM","name":"Google Slides account"}}},{"parameters":{"url":"=https://www.googleapis.com/drive/v3/files/{{ $json.presentationId }}/export?mimeType=application/pdf","authentication":"predefinedCredentialType","nodeCredentialType":"googleDriveOAuth2Api","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[900,-280],"id":"fc484042-52d8-479f-9e2a-7240784e888a","name":"PDF export","credentials":{"googleDriveOAuth2Api":{"id":"4lEBy7qEfA2UCGII","name":"Google Drive account"}}},{"parameters":{"driveId":{"__rl":true,"mode":"list","value":"My Drive"},"folderId":{"__rl":true,"mode":"list","value":"root","cachedResultName":"/ (Root folder)"},"options":{}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[1100,-280],"id":"b2a57cfc-51ad-457f-872a-7472eb68e9bf","name":"Google Drive","credentials":{"googleDriveOAuth2Api":{"id":"4lEBy7qEfA2UCGII","name":"Google Drive account"}}},{"parameters":{"assignments":{"assignments":[{"id":"c0e5bbba-fc23-41b6-99a7-8d444da59f0b","name":"presentationId","value":"={{ $json.presentationId }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[700,-280],"id":"53966f71-f585-4966-b9cd-6b53a7bc6bc2","name":"Get Single Presentation ID","executeOnce":true}]	{"When clicking Test workflow":{"main":[[{"node":"Google Slides","type":"main","index":0},{"node":"Sample Data","type":"main","index":0}]]},"Google Slides":{"main":[[{"node":"Set PresentationID","type":"main","index":0}]]},"Sample Data":{"main":[[{"node":"Merge","type":"main","index":0}]]},"Set PresentationID":{"main":[[{"node":"Merge","type":"main","index":1}]]},"Fix data for presentation":{"main":[[{"node":"Loop Over Scene Slides to Create","type":"main","index":0}]]},"Merge":{"main":[[{"node":"Fix data for presentation","type":"main","index":0}]]},"Loop Over Scene Slides to Create":{"main":[[{"node":"Get Single Presentation ID","type":"main","index":0}],[{"node":"Create Slide","type":"main","index":0}]]},"Create Slide":{"main":[[{"node":"Loop Over Scene Slides to Create","type":"main","index":0}]]},"PDF export":{"main":[[{"node":"Google Drive","type":"main","index":0}]]},"Google Drive":{"main":[[]]},"Get Single Presentation ID":{"main":[[{"node":"PDF export","type":"main","index":0}]]}}	2025-05-19 19:08:50.039+00	2025-12-10 03:14:56.835+00	{"executionOrder":"v1"}	\N	{}	74667a8f-33a2-4121-8cbb-5f43f297ab7c	0	fJd3NWsfo10fSjXP	{"templateCredsSetupCompleted":true}	6WeAlLkv6AUBQTH2	f	2	\N	\N
ingest_feeds_main	f	[{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[-256,80],"id":"9434f09f-bbd3-48ce-98ed-dfbe82cab90c","name":"When clicking Execute workflow"},{"parameters":{"workflowId":{"__rl":true,"value":"cQcM3sMKq4QNECYI","mode":"list","cachedResultUrl":"/workflow/cQcM3sMKq4QNECYI","cachedResultName":"ingest_feeds_hn"},"workflowInputs":{"mappingMode":"defineBelow","value":{},"matchingColumns":[],"schema":[],"attemptToConvertTypes":false,"convertFieldsToString":true},"options":{"waitForSubWorkflow":false}},"type":"n8n-nodes-base.executeWorkflow","typeVersion":1.3,"position":[0,208],"id":"fd891e9e-30ed-4d5d-9af0-d4420075a9a4","name":"Call 'ingest_feeds_hn'"},{"parameters":{"workflowId":{"__rl":true,"value":"49G9gWHlvrwH99Sp","mode":"list","cachedResultUrl":"/workflow/49G9gWHlvrwH99Sp","cachedResultName":"ingest_feeds_rss"},"workflowInputs":{"mappingMode":"defineBelow","value":{},"matchingColumns":[],"schema":[],"attemptToConvertTypes":false,"convertFieldsToString":true},"options":{"waitForSubWorkflow":false}},"type":"n8n-nodes-base.executeWorkflow","typeVersion":1.3,"position":[0,0],"id":"d1b826b7-2d34-47b0-8abf-24bf9677a561","name":"Call 'ingest_feeds_rss'"}]	{"When clicking Execute workflow":{"main":[[{"node":"Call 'ingest_feeds_hn'","type":"main","index":0},{"node":"Call 'ingest_feeds_rss'","type":"main","index":0}]]}}	2025-12-10 03:43:41.055+00	2025-12-10 03:46:50.561+00	{"executionOrder":"v1"}	\N	{}	7616dc8c-6111-4e05-abbf-dc525aa8c297	0	Z0ojzknuXKQpTzD2	\N	HFYpHd3EC9aGk9sL	f	3	\N	\N
Prompt OS v1 Test	f	[{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[0,0],"id":"61ab1dfd-5bf4-4dbf-b145-9a193418bfd2","name":"When clicking Test workflow"},{"parameters":{"mode":"raw","jsonOutput":"={\\n  \\"template\\": \\"{{ $json.pov }} of a {{ $json.character }} {{ $json.action }} {{ $json.object }} {{ $json.setting }}, no other characters\\"\\n}","options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[680,100],"id":"a98600f3-4cff-4d14-96cf-6f2a9f09ce67","name":"Slot template string"},{"parameters":{"jsCode":"return items.map(item => {\\n  const data = item.json;\\n  const template = data.template;\\n\\n  const finalPrompt = template\\n    .replace('{{pov}}', data.pov)\\n    .replace('{{character}}', data.character)\\n    .replace('{{action}}', data.action)\\n    .replace('{{object}}', data.object)\\n    .replace('{{setting}}', data.setting);\\n\\n  return {\\n    json: {\\n      finalPrompt\\n    }\\n  };\\n});"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[960,0],"id":"8bcd4e5c-b60a-412f-9c34-6767e8c57a79","name":"Inject slots into template"},{"parameters":{"jsCode":"// Define an array of test slot records for multiple scenes\\nconst sceneData = [\\n  {\\n    POV: \\"Side view\\",\\n    character: \\"boy in pajamas\\",\\n    action: \\"brushing his teeth\\",\\n    object: \\"with a blue toothbrush\\",\\n    setting: \\"in front of the bathroom sink\\"\\n  },\\n  {\\n    POV: \\"View from behind\\",\\n    character: \\"boy in pajamas\\",\\n    action: \\"rinsing his mouth\\",\\n    object: \\"with a small plastic cup\\",\\n    setting: \\"at the bathroom counter\\"\\n  }\\n];\\n\\n// Convert each object in the array into a separate n8n item\\nreturn sceneData.map(data => ({\\n  json: data\\n}));"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[520,-140],"id":"da11548d-573b-4aea-96f4-f59c26c0d0fc","name":"Load test slot records","disabled":true},{"parameters":{"url":"https://ixpyvpqmrerrmgekjrne.supabase.co/rest/v1/visual_schedule_slots","sendQuery":true,"specifyQuery":"json","jsonQuery":"{\\n  \\"select\\": \\"pov,character,action,object,setting\\"\\n}","sendHeaders":true,"specifyHeaders":"json","jsonHeaders":"{\\n  \\"apikey\\": \\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml4cHl2cHFtcmVycm1nZWtqcm5lIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc5NjMxOTcsImV4cCI6MjA2MzUzOTE5N30.Zx_Zb6eszGcUhhZQBXmOi5YQg4DAwm_kQWBLCQuFOl4\\",\\n  \\"Authorization\\": \\"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml4cHl2cHFtcmVycm1nZWtqcm5lIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc5NjMxOTcsImV4cCI6MjA2MzUzOTE5N30.Zx_Zb6eszGcUhhZQBXmOi5YQg4DAwm_kQWBLCQuFOl4\\",\\n  \\"Content-Type\\": \\"application/json\\"\\n}","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[280,0],"id":"5c8ac7e3-9675-4359-8b55-acb0b29910b4","name":"Query Supabase"}]	{"When clicking Test workflow":{"main":[[{"node":"Query Supabase","type":"main","index":0}]]},"Slot template string":{"main":[[{"node":"Inject slots into template","type":"main","index":0}]]},"Load test slot records":{"main":[[]]},"Query Supabase":{"main":[[{"node":"Slot template string","type":"main","index":0}]]}}	2025-05-23 01:15:46.439+00	2025-12-10 03:41:46.785+00	{"executionOrder":"v1"}	\N	{}	c4f5eacb-6579-45be-b569-ebcc23c905ed	0	XYvrx4uUOzCXQmJQ	\N	6WeAlLkv6AUBQTH2	f	2	\N	\N
RAGForge - Extractor and Embedder_messed up	f	[{"parameters":{"formTitle":"Upload PDF to \\"RAG\\"","formFields":{"values":[{"fieldLabel":"document_details","fieldType":"textarea","placeholder":"Describe the document, it's meaning and purpose","requiredField":true},{"fieldLabel":"upload_pdf","fieldType":"file","multipleFiles":false,"requiredField":true}]},"options":{}},"type":"n8n-nodes-base.formTrigger","typeVersion":2.2,"position":[-200,400],"id":"05f0fe38-8766-4025-99b1-23ca915c67a1","name":"On form submission","webhookId":"186195ae-0096-4bc4-a7e3-e88f8292747c"},{"parameters":{"content":"User to upload PDF and provide context","height":100,"color":4},"type":"n8n-nodes-base.stickyNote","position":[-80,-140],"typeVersion":1,"id":"2de43c39-4ad6-4dfd-8fec-156cc680292a","name":"Sticky Note"},{"parameters":{"content":"LLM -> Review Extracted data and context","height":100,"width":160,"color":4},"type":"n8n-nodes-base.stickyNote","position":[1100,-280],"typeVersion":1,"id":"a1fabb0f-0e30-4b88-a4f6-619ab794188d","name":"Sticky Note1"},{"parameters":{"content":"OCR layer later on for fallback","height":100,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[260,-140],"typeVersion":1,"id":"6f25a175-9816-456b-bec2-88e16255778e","name":"Sticky Note2"},{"parameters":{"content":"Merge -> Extracted data and context","height":100,"width":210,"color":4},"type":"n8n-nodes-base.stickyNote","position":[480,-140],"typeVersion":1,"id":"e6ec495e-97de-4cdc-9a16-dbe8bbafbe80","name":"Sticky Note3"},{"parameters":{"content":"Clean Extracted Data","height":100,"width":160,"color":4},"type":"n8n-nodes-base.stickyNote","position":[760,-140],"typeVersion":1,"id":"40b671e9-83f2-4e01-b3e8-1b8a0a50632d","name":"Sticky Note4"},{"parameters":{"content":"Clean output","height":100,"width":150,"color":4},"type":"n8n-nodes-base.stickyNote","position":[1300,-280],"typeVersion":1,"id":"69c5736b-987f-4193-8a42-55ad9d312f71","name":"Sticky Note5"},{"parameters":{"content":"Extract File","height":100,"width":160,"color":4},"type":"n8n-nodes-base.stickyNote","position":[260,-280],"typeVersion":1,"id":"7e04f386-ac0f-437d-b875-bfaa552ac797","name":"Sticky Note7"},{"parameters":{"content":"HITL loop if LLM is unsure","height":100,"color":3},"type":"n8n-nodes-base.stickyNote","position":[1100,-140],"typeVersion":1,"id":"1b160d7e-45c0-4636-bcf5-fa2b4d5413f9","name":"Sticky Note8"},{"parameters":{"content":"### Extract sub workflow","height":80,"width":740,"color":6},"type":"n8n-nodes-base.stickyNote","position":[260,-420],"typeVersion":1,"id":"5f326be9-2e22-4217-b1d3-9ed4209b1f20","name":"Sticky Note10"},{"parameters":{"content":"Upload to Supabase Storage","height":100,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[1520,-140],"typeVersion":1,"id":"30a45f77-1a18-4ffa-8ab8-3f8f018310cf","name":"Sticky Note11"},{"parameters":{"content":"Job status","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[260,0],"typeVersion":1,"id":"529f059a-583c-4a79-9c2a-933478409875","name":"Sticky Note12"},{"parameters":{"content":"Job status","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[760,0],"typeVersion":1,"id":"336e8dec-0a99-4698-8097-b73f438cf21a","name":"Sticky Note13"},{"parameters":{"content":"Job status","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[1100,0],"typeVersion":1,"id":"23d2a546-e071-4c24-a271-5901a650fbd3","name":"Sticky Note14"},{"parameters":{"content":"Job status","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[1520,0],"typeVersion":1,"id":"cb0b2947-0374-4566-8cec-c5e384161ec7","name":"Sticky Note15"},{"parameters":{"content":"Insert to Supabase DB","height":100,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[1740,-140],"typeVersion":1,"id":"c4f47dd9-2d23-4580-979a-78f5bd6767d8","name":"Sticky Note16"},{"parameters":{"content":"Job status","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[1740,0],"typeVersion":1,"id":"910e9bc9-a382-4462-b13b-e2cb41c1c781","name":"Sticky Note17"},{"parameters":{"content":"### Embedder sub workflow","height":80,"width":260,"color":6},"type":"n8n-nodes-base.stickyNote","position":[2140,-420],"typeVersion":1,"id":"7c31404e-9fd4-4076-8ef4-f69c39aabc76","name":"Sticky Note18"},{"parameters":{"content":"Job status","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[2140,0],"typeVersion":1,"id":"ba713394-407b-42ee-a182-c191f675a9ee","name":"Sticky Note19"},{"parameters":{"content":"### Content reviewer / preparer","height":80,"width":920,"color":6},"type":"n8n-nodes-base.stickyNote","position":[1100,-420],"typeVersion":1,"id":"2360a653-70e6-4471-aa44-af2cbd364598","name":"Sticky Note20"},{"parameters":{"operation":"pdf","binaryPropertyName":"upload_pdf","options":{"joinPages":true}},"type":"n8n-nodes-base.extractFromFile","typeVersion":1,"position":[180,260],"id":"7b78a736-057f-4525-9a8d-2c813b15f80d","name":"Extract from File"},{"parameters":{"jsCode":"const raw = items[0].json;\\nconst structured = items[1].json;\\n\\nreturn [{\\n  json: {\\n    text: raw.text,\\n    document_details: structured.document_details,\\n    upload_pdf: structured.upload_pdf,\\n    submitted_at: structured.submittedAt || new Date().toISOString()\\n  }\\n}];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[680,380],"id":"5ac4de8f-fb93-422c-af32-ed77797479df","name":"Pre-Cleaning"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{"temperature":0}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[1280,580],"id":"e4a22b68-c9c1-45cd-9391-eaa3a037dbf4","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"model":{"__rl":true,"value":"claude-3-opus-20240229","mode":"list","cachedResultName":"Claude Opus 3"},"options":{"maxTokensToSample":4096,"temperature":0}},"type":"@n8n/n8n-nodes-langchain.lmChatAnthropic","typeVersion":1.3,"position":[1300,760],"id":"0fdce3b3-6e2d-4e65-a5d3-dc8851fa7761","name":"Anthropic Chat Model","credentials":{"anthropicApi":{"id":"Wmz3AO5pPNbuodMG","name":"Anthropic account"}}},{"parameters":{},"type":"n8n-nodes-base.merge","typeVersion":3.2,"position":[460,380],"id":"42afd8d3-7ffe-495f-b052-8a451b632184","name":"Merge"},{"parameters":{"jsonSchemaExample":"[\\n  {\\n    \\"content\\": \\"Document Type: Project Charter | Document Date: Mar 7, 2025 | Document Author: Marco San Juan\\"\\n  },\\n  {\\n    \\"content\\": \\"Problem Statement | Equinox Gold lacks centralized enterprise monitoring capability, resulting in fragmented oversight of technology assetsany system or device that transmits or receives information. Monitoring is currently decentralized across teams and service providers, using siloed tools with limited visibility and coordination. This leads to inefficiencies such as missed or delayed responses, false positives, and no data correlation, increasing operational and security risks.\\"\\n  },\\n  {\\n    \\"content\\": \\"Solution Overview | Equinox Gold will establish a centralized enterprise monitoring capability to enhance visibility, coordination, and decision-making across all technology assets. This initiative will create a standardized, scalable approach that improves monitoring effectiveness while aligning with existing operations. The implementation approach will be determined through Discovery and Design, ensuring flexibility based on findings.\\"\\n  },\\n  {\\n    \\"content\\": \\"Project Role: IT Architect | Resource Name: Greg Kornatowsky\\"\\n  },\\n  {\\n    \\"content\\": \\"Stakeholder: VP | Role & Involvement: Approve key decisions, ensure resource availability, support decision-making | Who: Miller Dussan\\"\\n  }\\n]"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.3,"position":[1820,560],"id":"42ec12cd-d31f-4566-85f9-50c03b9566e7","name":"Structured Output Parser"},{"parameters":{"mode":"insert","tableName":{"__rl":true,"value":"document_vectors","mode":"list","cachedResultName":"document_vectors"},"options":{}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.2,"position":[2200,380],"id":"3c931520-e392-45ec-9d25-94c3d6b6bcc8","name":"Supabase Vector Store","credentials":{"supabaseApi":{"id":"LDhBmd2aeXNRoFRh","name":"Supabase - PromptOS"}}},{"parameters":{"options":{"batchSize":200,"stripNewLines":true}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[2200,180],"id":"9a225345-f4ac-4e4f-8a6b-6cefaf028bac","name":"Embeddings OpenAI","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.documentDefaultDataLoader","typeVersion":1,"position":[2440,180],"id":"582365f0-3684-4a41-b0a2-41487289bf89","name":"Default Data Loader"},{"parameters":{"chunkSize":800,"chunkOverlap":100,"options":{}},"type":"@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter","typeVersion":1,"position":[2580,400],"id":"a08a7562-b499-436f-86de-175e32777a4f","name":"Recursive Character Text Splitter"},{"parameters":{"jsCode":"const doc = $json.output;\\n\\nconst safe = str => (str || 'unknown').toLowerCase().replace(/\\\\s+/g, '-').replace(/[^\\\\w\\\\-]/g, '');\\nconst baseId = `${safe(doc.document_author)}-${safe(doc.document_type)}`;\\nconst datePart = (doc.document_date || '').replace(/[^a-zA-Z0-9]/g, '') || 'unknown';\\n\\nconst chunks = [];\\n\\n// Metadata chunk as content only\\nconst metadataEntries = Object.entries({\\n  'Document Type': doc.document_type,\\n  'Document Date': doc.document_date,\\n  'Document Author': doc.document_author\\n}).filter(([_, v]) => v).map(([k, v]) => `${k}: ${v}`);\\nif (metadataEntries.length) {\\n  chunks.push({\\n    json: {\\n      content: metadataEntries.join(' | ')\\n    }\\n  });\\n}\\n\\n// Sections\\n(doc.document_sections || []).forEach((section) => {\\n  const title = section.title?.trim() || '';\\n  const body = section.content?.trim() || '';\\n  const tables = (section.tables || [])\\n    .map(table => {\\n      const headers = table.headers || [];\\n      return table.rows.map(row =>\\n        headers.map((h, i) => `${h}: ${row[i] || ''}`).join(' | ')\\n      ).join('\\\\n');\\n    })\\n    .join('\\\\n\\\\n');\\n\\n  const bodyOrTables = [body, tables].filter(Boolean).join('\\\\n\\\\n').trim();\\n\\n  // NEW: split and extract any standalone role lines\\n  const candidateLines = (bodyOrTables || '').split('\\\\n').map(l => l.trim());\\n  candidateLines.forEach(line => {\\n    if (/role[:]?/i.test(line) && /\\\\|/.test(line)) {\\n      chunks.push({\\n        json: {\\n          content: line\\n        }\\n      });\\n    }\\n  });\\n\\n  if (bodyOrTables) {\\n    const full = [title, bodyOrTables].filter(Boolean).join(' | ').trim();\\n    chunks.push({\\n      json: {\\n        content: full\\n      }\\n    });\\n  }\\n});\\n\\nreturn chunks;"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1980,740],"id":"35fa5ac4-aa47-417e-849e-a032c2b00f0a","name":"Flatten to vector-friendly chunks","disabled":true},{"parameters":{"content":"Embedding process","height":100,"width":160,"color":4},"type":"n8n-nodes-base.stickyNote","position":[2140,-140],"typeVersion":1,"id":"e4c97d61-0591-4d56-aeb7-870b5c37a244","name":"Sticky Note6"},{"parameters":{"promptType":"define","text":"=Here is structured document content previously cleaned and segmented.\\n\\nSTRUCTURED CONTENT:\\n{{ $json.text }}\\n\\nPlease analyze and plan the final chunk boundaries for vector embedding. Each output chunk should be semantically meaningful and fit within token limits.","hasOutputParser":true,"messages":{"messageValues":[{"message":"=You are a semantic chunking assistant.\\n\\nYour role is to analyze pre-structured content and generate final chunks for embedding in a vector database.\\n\\nInstructions:\\n\\n1. You will receive a list of structured content blocks representing sections or subsections from a document.\\n2. Your job is to group, merge, or split these into final chunks that are:\\n   - Semantically coherent\\n   - Each under ~500 tokens (~2000 characters) unless content integrity requires more\\n   - Suitable for embedding and retrieval\\n3. Avoid splitting mid-sentence or between logically connected paragraphs.\\n4. Do not paraphrase, summarize, or hallucinate  preserve original text.\\n5. Maintain the original ordering of content unless there's a strong semantic reason to reorder (rare).\\n6. Treat tabular text or list-like entries as atomic when possible.\\n\\n RETURN FORMAT:\\nReturn raw JSON with a top-level array called `output`, consisting only of objects with a single `content` field.\\n\\nExample:\\n[\\n  {\\n    \\"output\\": [\\n      { \\"content\\": \\"string\\" },\\n      { \\"content\\": \\"string\\" }\\n    ]\\n  }\\n]\\n\\nNotes:\\n- This output will be directly embedded; each `content` block should be optimized for standalone utility in retrieval contexts.\\n- No Markdown, no comments, no code fences  just raw JSON."}]},"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[1620,380],"id":"8d6fae59-ac4d-4f98-8b1a-f7eed6241539","name":"chunk_planner"},{"parameters":{"promptType":"define","text":"=Here is the raw PDF content and associated metadata. Use both to structure and flatten the document.\\n\\nTEXT:\\n{{ $json.text }}\\n\\nMETADATA:\\n{{ $json.metadata || 'null' }}\\n\\nReturn only a JSON string with an `output` array of cleaned content chunks.\\nDo not include metadata in the output. Do not add any explanation.\\n","messages":{"messageValues":[{"message":"=You are a document structuring and flattening assistant.\\n\\nInstructions:\\n1. Analyze the raw text and use any metadata provided to understand the document context.\\n2. Segment the text into clean, meaningful content blocks for embedding.\\n3. Preserve the original language. Do not summarize or paraphrase.\\n4. Remove dotted leader lines, layout artifacts, headers/footers, and scan noise.\\n5. Return valid JSON as a **string**, formatted like:\\n\\n{\\n  \\"output\\": [\\n    { \\"content\\": \\"...\\" },\\n    { \\"content\\": \\"...\\" }\\n  ]\\n}\\nReturn only a JSON string  no Markdown, no code fences, no comments."}]},"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[1020,380],"id":"34a1528a-6d92-4b87-8036-f94ddf308aa5","name":"content_cleaner"},{"parameters":{"jsCode":"const MAX_CHARS = 2000; // Approx ~500 tokens\\nconst chunks = [];\\n\\n($json.output || []).forEach(item => {\\n  const content = item.content?.trim();\\n  if (!content) return;\\n\\n  if (content.length <= MAX_CHARS) {\\n    chunks.push({ json: { content } });\\n  } else {\\n    let start = 0;\\n    while (start < content.length) {\\n      const chunk = content.slice(start, start + MAX_CHARS);\\n      chunks.push({ json: { content: chunk } });\\n      start += MAX_CHARS;\\n    }\\n  }\\n});\\n\\nreturn chunks;"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1960,380],"id":"a174052e-c35c-496c-b3eb-afd15ae9c898","name":"token_guard"},{"parameters":{"content":"Understand use of metadata","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[2380,0],"typeVersion":1,"id":"ee454705-8d4f-4c6b-9783-30d4ef8ddca1","name":"Sticky Note21"},{"parameters":{"content":"Consider making use of metadata","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[1520,120],"typeVersion":1,"id":"239bc7e4-87b4-4d88-9a46-fc8b360719c2","name":"Sticky Note22"},{"parameters":{"jsCode":"const { text, document_details, upload_pdf, submitted_at } = $json;\\n\\nreturn [{\\n  json: {\\n    text,\\n    metadata: {\\n      document_details,\\n      upload_pdf,\\n      submitted_at\\n    }\\n  }\\n}];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[840,500],"id":"11245f43-1e57-4948-8d89-c8d2a7e497c8","name":"wrap_metadata"},{"parameters":{"jsCode":"const parsed = JSON.parse($json.text);\\nconst metadata = $json.metadata;\\n\\nreturn parsed.output.map(chunk => ({\\n  json: {\\n    ...chunk,\\n    metadata\\n  }\\n}));"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1380,240],"id":"7d709943-c719-4efa-96c6-98c209d46728","name":"parse_and_attach_metadata"}]	{"On form submission":{"main":[[{"node":"Extract from File","type":"main","index":0},{"node":"Merge","type":"main","index":1}]]},"Pre-Cleaning":{"main":[[{"node":"wrap_metadata","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"content_cleaner","type":"ai_languageModel","index":0},{"node":"chunk_planner","type":"ai_languageModel","index":0}]]},"Extract from File":{"main":[[{"node":"Merge","type":"main","index":0}]]},"Merge":{"main":[[{"node":"Pre-Cleaning","type":"main","index":0}]]},"Structured Output Parser":{"ai_outputParser":[[{"node":"chunk_planner","type":"ai_outputParser","index":0}]]},"Supabase Vector Store":{"main":[[]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"Supabase Vector Store","type":"ai_embedding","index":0}]]},"Default Data Loader":{"ai_document":[[{"node":"Supabase Vector Store","type":"ai_document","index":0}]]},"Recursive Character Text Splitter":{"ai_textSplitter":[[{"node":"Default Data Loader","type":"ai_textSplitter","index":0}]]},"Flatten to vector-friendly chunks":{"main":[[]]},"content_cleaner":{"main":[[{"node":"parse_and_attach_metadata","type":"main","index":0}]]},"chunk_planner":{"main":[[{"node":"token_guard","type":"main","index":0}]]},"token_guard":{"main":[[]]},"wrap_metadata":{"main":[[{"node":"content_cleaner","type":"main","index":0}]]}}	2025-06-25 20:45:20.907+00	2025-07-24 04:33:13.169+00	{"executionOrder":"v1"}	\N	{}	1c2d61cc-e6b5-43d8-9a8f-13ea224c662a	0	UwHHfi23oecxvpZh	\N	\N	t	1	\N	\N
RAGForge - Embedder	f	[{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[0,0],"id":"3f8eaacf-b133-44fb-b7f3-148904d579da","name":"When clicking Execute workflow"},{"parameters":{"mode":"insert","tableName":{"__rl":true,"value":"document_vectors","mode":"list","cachedResultName":"document_vectors"},"options":{}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.2,"position":[1260,80],"id":"1f42e30d-38e3-423f-afe7-89d49f3f44a2","name":"Supabase Vector Store","credentials":{"supabaseApi":{"id":"LDhBmd2aeXNRoFRh","name":"Supabase - PromptOS"}}},{"parameters":{"options":{"batchSize":200,"stripNewLines":true}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[1340,-100],"id":"b1215746-2325-44d1-9969-7d1270dc9a67","name":"Embeddings OpenAI","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"jsonMode":"expressionData","jsonData":"={{ $('Flatten').item.json.content }}","options":{"metadata":{"metadataValues":[{"name":"source_id","value":"={{ $('Flatten').item.json.metadata.source_id }}"},{"name":"document_type","value":"={{ $('Flatten').item.json.metadata.document_type }}"},{"name":"document_author","value":"={{ $('Flatten').item.json.metadata.document_author }}"},{"name":"document_date","value":"={{ $('Flatten').item.json.metadata.document_date }}"},{"name":"created_at","value":"={{ $('Flatten').item.json.metadata.created_at }}"},{"name":"section_title","value":"={{ $('Flatten').item.json.metadata.section_title }}"}]}}},"type":"@n8n/n8n-nodes-langchain.documentDefaultDataLoader","typeVersion":1,"position":[1620,-120],"id":"b31f9e5e-d15a-4049-96ee-ab77e21f6f71","name":"Default Data Loader"},{"parameters":{"chunkSize":800,"chunkOverlap":100,"options":{}},"type":"@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter","typeVersion":1,"position":[1760,100],"id":"759dbcf4-5596-4598-95df-334390101889","name":"Recursive Character Text Splitter"},{"parameters":{"content":"## Indexing later\\n\\nAdd this later:\\n\\nCREATE INDEX ON document_vectors\\nUSING ivfflat (embedding vector_cosine_ops)\\nWITH (lists = 100);\\n","height":200,"width":340},"type":"n8n-nodes-base.stickyNote","position":[1220,260],"typeVersion":1,"id":"0e2d89a2-fe74-4977-8180-3cb715bac22a","name":"Sticky Note"},{"parameters":{"jsCode":"function normalize(text) {\\n  return (text || \\"\\").replace(/\\\\s+/g, \\" \\").trim();\\n}\\n\\nconst output = [];\\n\\nfor (const item of $input.all()) {\\n  const doc = item.json;\\n  let parsed;\\n\\n  try {\\n    parsed = JSON.parse(doc.raw_json);\\n  } catch {\\n    continue;\\n  }\\n\\n  // Metadata chunk\\n  const metaSummary = [\\n    `Title: ${doc.title || \\"Untitled\\"}`,\\n    `Type: ${doc.document_type}`,\\n    `Author: ${doc.document_author}`,\\n    doc.document_date ? `Date: ${doc.document_date}` : null,\\n    `Created: ${doc.created_at}`\\n  ].filter(Boolean).join(\\" | \\");\\n\\n  output.push({\\n    json: {\\n      content: `Document Metadata  ${metaSummary}`,\\n      metadata: {\\n        source_id: doc.id,\\n        document_type: doc.document_type,\\n        document_author: doc.document_author,\\n        document_date: doc.document_date,\\n        created_at: doc.created_at,\\n        file_name: doc.file_name || null,\\n        title: doc.title || null,\\n      },\\n    },\\n  });\\n\\n  // Content chunks  no metadata at all\\n  const sections = (parsed.document_sections || []).map((section) => ({\\n    title: normalize(section.title),\\n    content: normalize(section.content),\\n  })).filter(({ title, content }) => content && content.toLowerCase() !== title.toLowerCase());\\n\\n  sections.forEach(({ title, content }) => {\\n    output.push({\\n      json: {\\n        content: `${title}  ${content}`,\\n        // metadata key fully omitted\\n      },\\n    });\\n  });\\n}\\n\\nreturn output;\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[640,100],"id":"0b627475-9db0-4bf5-ab99-47598e7c8998","name":"Flatten"},{"parameters":{"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[420,0],"id":"77ebe7de-d233-4544-a208-19151a77c276","name":"Loop Over Items"},{"parameters":{"model":{"__rl":true,"value":"gpt-4o-mini","mode":"list","cachedResultName":"gpt-4o-mini"},"options":{"temperature":0}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[860,320],"id":"aa782fb7-550f-4596-b398-fa2d7e9e8a82","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"promptType":"define","text":"=Reformat the following text to make it easier to read. Use spacing, punctuation, lists, or tables if appropriate  but do not remove, change, or invent anything.\\n\\nKeep everything exactly as-is in meaning.\\n\\nText:\\n\\"{{$json[\\"content\\"]}}\\"\\n","messages":{"messageValues":[{"message":"You are a cleanup assistant. Your task is to reformat text for readability and structure, without changing any meaning, omitting details, or adding new content."}]},"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[860,100],"id":"b2b87898-8855-4f4a-86d9-372d0190763f","name":"Formatter"},{"parameters":{"model":{"__rl":true,"value":"claude-3-opus-20240229","mode":"list","cachedResultName":"Claude Opus 3"},"options":{"temperature":0}},"type":"@n8n/n8n-nodes-langchain.lmChatAnthropic","typeVersion":1.3,"position":[1000,320],"id":"01ff822c-48b3-431c-a4fc-96b4f8343544","name":"Anthropic Chat Model","credentials":{"anthropicApi":{"id":"Wmz3AO5pPNbuodMG","name":"Anthropic account"}}},{"parameters":{"url":"https://rfcmhcxcfnlbfgmlcabi.supabase.co/rest/v1/documents?embedded=eq.false","authentication":"predefinedCredentialType","nodeCredentialType":"supabaseApi","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[220,0],"id":"aaa1787e-335f-4252-9743-504d8df08063","name":"Query Supabase","credentials":{"supabaseApi":{"id":"LDhBmd2aeXNRoFRh","name":"Supabase - PromptOS"}}},{"parameters":{"method":"PATCH","url":"=https://rfcmhcxcfnlbfgmlcabi.supabase.co/rest/v1/documents?id=eq.{{ $('Loop Over Items').item.json.id }}","authentication":"predefinedCredentialType","nodeCredentialType":"supabaseApi","sendBody":true,"bodyParameters":{"parameters":[{"name":"embedded","value":"true"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1720,380],"id":"721ce0c1-6968-42a5-9b68-11c55dd38648","name":"Set Embedded = True","credentials":{"supabaseApi":{"id":"LDhBmd2aeXNRoFRh","name":"Supabase - PromptOS"}}},{"parameters":{"content":"## TODO\\n- Fix this; Patch added another row. that's wrong. maybe not matching id?"},"type":"n8n-nodes-base.stickyNote","position":[1920,360],"typeVersion":1,"id":"83ee53b9-a90f-44a8-92eb-dc444e3da90a","name":"Sticky Note1"},{"parameters":{"content":"## TODO\\n- It's not inserting right now"},"type":"n8n-nodes-base.stickyNote","position":[1020,-80],"typeVersion":1,"id":"f3f5907a-8a53-4e88-9a8c-45198c81a21f","name":"Sticky Note2"},{"parameters":{"content":"## Food for thought\\nShould things actually be rewritten in a meaningful and reasonable way w/o losing data?"},"type":"n8n-nodes-base.stickyNote","position":[660,-100],"typeVersion":1,"id":"50059d3e-b758-4683-847e-8c0f00b16af8","name":"Sticky Note3"}]	{"When clicking Execute workflow":{"main":[[{"node":"Query Supabase","type":"main","index":0}]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"Supabase Vector Store","type":"ai_embedding","index":0}]]},"Default Data Loader":{"ai_document":[[{"node":"Supabase Vector Store","type":"ai_document","index":0}]]},"Recursive Character Text Splitter":{"ai_textSplitter":[[{"node":"Default Data Loader","type":"ai_textSplitter","index":0}]]},"Supabase Vector Store":{"main":[[{"node":"Set Embedded = True","type":"main","index":0}]]},"Flatten":{"main":[[{"node":"Formatter","type":"main","index":0}]]},"Loop Over Items":{"main":[[],[{"node":"Flatten","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"Formatter","type":"ai_languageModel","index":0}]]},"Formatter":{"main":[[{"node":"Supabase Vector Store","type":"main","index":0}]]},"Anthropic Chat Model":{"ai_languageModel":[[]]},"Query Supabase":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]},"Set Embedded = True":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]}}	2025-06-22 23:28:19.274+00	2025-12-10 03:13:39.391+00	{"executionOrder":"v1"}	\N	{}	b58ad18c-450e-42b6-ae10-f44719756327	0	WjCOI2qBSzQglNXo	{"templateCredsSetupCompleted":true}	MLU1HSlRX8QbxL1N	f	2	\N	\N
My workflow 2	f	[{"parameters":{"formTitle":"Upload PDF to \\"RAG\\"","formFields":{"values":[{"fieldLabel":"document_details","fieldType":"textarea","placeholder":"Describe the document, it's meaning and purpose","requiredField":true},{"fieldLabel":"upload_pdf","fieldType":"file","multipleFiles":false,"requiredField":true}]},"options":{}},"type":"n8n-nodes-base.formTrigger","typeVersion":2.2,"position":[-400,900],"id":"d581c690-a967-494c-862a-d7c6022dafcd","name":"On form submission","webhookId":"186195ae-0096-4bc4-a7e3-e88f8292747c"},{"parameters":{"content":"User to upload PDF and provide context","height":100,"color":4},"type":"n8n-nodes-base.stickyNote","position":[-280,360],"typeVersion":1,"id":"80aee4e7-a80e-4148-9719-3c3b59f7e551","name":"Sticky Note"},{"parameters":{"content":"LLM -> Review Extracted data and context","height":100,"width":160,"color":4},"type":"n8n-nodes-base.stickyNote","position":[900,220],"typeVersion":1,"id":"a4676c5f-b4fb-44d3-950c-100e5b534022","name":"Sticky Note1"},{"parameters":{"content":"OCR layer later on for fallback","height":100,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[60,360],"typeVersion":1,"id":"a0cca193-c378-47f2-98ba-c563dee12b25","name":"Sticky Note2"},{"parameters":{"content":"Merge -> Extracted data and context","height":100,"width":210,"color":4},"type":"n8n-nodes-base.stickyNote","position":[280,360],"typeVersion":1,"id":"5d693b96-b830-435a-92f4-a2931d687582","name":"Sticky Note3"},{"parameters":{"content":"Clean Extracted Data","height":100,"width":160,"color":4},"type":"n8n-nodes-base.stickyNote","position":[560,360],"typeVersion":1,"id":"cc994737-bec9-49a7-9826-44d8b568d087","name":"Sticky Note4"},{"parameters":{"content":"Clean output","height":100,"width":150,"color":4},"type":"n8n-nodes-base.stickyNote","position":[1100,220],"typeVersion":1,"id":"5c216bc2-0936-4d1b-8e7f-b9a4ff509466","name":"Sticky Note5"},{"parameters":{"content":"Extract File","height":100,"width":160,"color":4},"type":"n8n-nodes-base.stickyNote","position":[60,220],"typeVersion":1,"id":"853f2a20-1d6d-4295-8718-ac3bc49bbdbf","name":"Sticky Note7"},{"parameters":{"content":"HITL loop if LLM is unsure","height":100,"color":3},"type":"n8n-nodes-base.stickyNote","position":[900,360],"typeVersion":1,"id":"34470f3b-86f9-4615-9984-614f3aacc600","name":"Sticky Note8"},{"parameters":{"content":"### Extract sub workflow","height":80,"width":740,"color":6},"type":"n8n-nodes-base.stickyNote","position":[60,80],"typeVersion":1,"id":"2c1d9cb4-2ea1-496c-aaaf-466ad03f51a5","name":"Sticky Note10"},{"parameters":{"content":"Upload to Supabase Storage","height":100,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[1320,360],"typeVersion":1,"id":"eea241ea-57a5-4a5a-819f-3a5e0bb25cd6","name":"Sticky Note11"},{"parameters":{"content":"Job status","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[60,500],"typeVersion":1,"id":"4ef88c6d-02d2-4deb-a616-827640509281","name":"Sticky Note12"},{"parameters":{"content":"Job status","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[560,500],"typeVersion":1,"id":"e859588b-afac-4c3d-9198-2bf252f63a38","name":"Sticky Note13"},{"parameters":{"content":"Job status","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[900,500],"typeVersion":1,"id":"1f583d16-168d-4202-9b53-3d700f473b01","name":"Sticky Note14"},{"parameters":{"content":"Job status","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[1320,500],"typeVersion":1,"id":"f302a825-0092-42e8-80f2-9159769940a1","name":"Sticky Note15"},{"parameters":{"content":"Insert to Supabase DB","height":100,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[1540,360],"typeVersion":1,"id":"a8fd9363-6e7b-433b-86d4-29d8e6b897fa","name":"Sticky Note16"},{"parameters":{"content":"Job status","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[1540,500],"typeVersion":1,"id":"1696aac0-b99c-46fe-abce-189c5f91d9c4","name":"Sticky Note17"},{"parameters":{"content":"### Embedder sub workflow","height":80,"width":260,"color":6},"type":"n8n-nodes-base.stickyNote","position":[1940,80],"typeVersion":1,"id":"2e7f4881-868e-4bf6-9a5e-92b73b4a802a","name":"Sticky Note18"},{"parameters":{"content":"Job status","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[1940,500],"typeVersion":1,"id":"4a223885-3859-4918-9e59-75cec7aaad69","name":"Sticky Note19"},{"parameters":{"content":"### Content reviewer / preparer","height":80,"width":920,"color":6},"type":"n8n-nodes-base.stickyNote","position":[900,80],"typeVersion":1,"id":"1a1dd517-0ab3-43ea-9664-338fa11788ff","name":"Sticky Note20"},{"parameters":{"operation":"pdf","binaryPropertyName":"upload_pdf","options":{"joinPages":true}},"type":"n8n-nodes-base.extractFromFile","typeVersion":1,"position":[60,760],"id":"422e7891-0f4d-4805-86bc-f447f6dc1ac7","name":"Extract from File"},{"parameters":{"jsCode":"const raw = items[0].json;\\nconst structured = items[1].json;\\n\\n// Helper function to extract keywords from text\\nfunction extractKeywords(text) {\\n  if (!text) return [];\\n  \\n  // Simple keyword extraction - you could make this more sophisticated\\n  const words = text.toLowerCase()\\n    .replace(/[^\\\\w\\\\s]/g, ' ')\\n    .split(/\\\\s+/)\\n    .filter(word => word.length > 3) // Only words longer than 3 chars\\n    .filter(word => !['this', 'that', 'with', 'from', 'they', 'have', 'will', 'been', 'were', 'said', 'each', 'which', 'their', 'what', 'would', 'there', 'could', 'other'].includes(word)); // Remove common stop words\\n  \\n  // Get unique words and their frequency\\n  const wordCount = {};\\n  words.forEach(word => {\\n    wordCount[word] = (wordCount[word] || 0) + 1;\\n  });\\n  \\n  // Return top keywords\\n  return Object.entries(wordCount)\\n    .sort(([,a], [,b]) => b - a)\\n    .slice(0, 10)\\n    .map(([word]) => word);\\n}\\n\\n// Helper function to analyze content characteristics\\nfunction analyzeContent(text) {\\n  if (!text) return {};\\n  \\n  const lowerText = text.toLowerCase();\\n  \\n  return {\\n    has_contact_info: /\\\\b\\\\d{3}[-.]?\\\\d{3}[-.]?\\\\d{4}\\\\b/.test(text) || /@\\\\w+\\\\.\\\\w+/.test(text),\\n    has_urls: /https?:\\\\/\\\\/|www\\\\./i.test(text),\\n    has_tables: /\\\\|.*\\\\|/.test(text) || text.includes('\\\\t'),\\n    has_numbered_sections: /^\\\\d+\\\\.\\\\s/.test(text) || /\\\\n\\\\d+\\\\.\\\\d+/.test(text),\\n    has_procedures: lowerText.includes('step') || lowerText.includes('procedure') || /\\\\d+\\\\)\\\\s/.test(text),\\n    has_technical_terms: /[A-Z]{2,}/.test(text), // Acronyms/technical terms\\n    estimated_reading_time: Math.ceil(text.split(/\\\\s+/).length / 200), // ~200 words per minute\\n    word_count: text.split(/\\\\s+/).length,\\n    contains_troubleshooting: lowerText.includes('troubleshoot') || lowerText.includes('issue') || lowerText.includes('problem'),\\n    contains_maintenance: lowerText.includes('maintenance') || lowerText.includes('schedule') || lowerText.includes('frequency'),\\n  };\\n}\\n\\n// Build flexible metadata object\\nconst contentAnalysis = analyzeContent(raw.text);\\nconst keywords = extractKeywords(`${structured.document_details || ''} ${raw.text || ''}`);\\n\\nconst metadata = {\\n  // File information (factual, not assumed)\\n  source_file: structured.upload_pdf?.filename || 'unknown.pdf',\\n  file_size: structured.upload_pdf?.size,\\n  file_type: structured.upload_pdf?.mimeType || 'application/pdf',\\n  \\n  // User-provided context (exactly as provided)\\n  user_description: structured.document_details || null,\\n  \\n  // Processing information\\n  upload_date: structured.submittedAt || new Date().toISOString(),\\n  processed_date: new Date().toISOString(),\\n  \\n  // Content analysis (derived from actual content)\\n  ...contentAnalysis,\\n  \\n  // Keywords for semantic search enhancement\\n  extracted_keywords: keywords,\\n  \\n  // Document characteristics (measurable, not assumed)\\n  estimated_length: raw.text?.length || 0,\\n  language: 'en', // Could be auto-detected\\n  \\n  // Workflow metadata\\n  workflow_version: '1.0',\\n  processing_stage: 'pre_cleaning',\\n  \\n  // Placeholder for dynamic metadata (to be filled by LLM analysis)\\n  llm_analysis: null\\n};\\n\\nreturn [{\\n  json: {\\n    text: raw.text,\\n    metadata: metadata,\\n    \\n    // Keep original fields for backward compatibility if needed\\n    document_details: structured.document_details,\\n    upload_pdf: structured.upload_pdf,\\n    submitted_at: structured.submittedAt || new Date().toISOString()\\n  }\\n}];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[560,880],"id":"6ac6c4ad-93c2-4cde-bfa5-1fe18ecb63a9","name":"Pre-Cleaning"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{"temperature":0}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[1080,1080],"id":"5db9dbf9-e7f4-4601-9c94-c09bec3910ff","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"model":{"__rl":true,"value":"claude-3-opus-20240229","mode":"list","cachedResultName":"Claude Opus 3"},"options":{"maxTokensToSample":4096,"temperature":0}},"type":"@n8n/n8n-nodes-langchain.lmChatAnthropic","typeVersion":1.3,"position":[1100,1260],"id":"c3e44a55-b388-42cf-ba08-70673b97dd94","name":"Anthropic Chat Model","credentials":{"anthropicApi":{"id":"Wmz3AO5pPNbuodMG","name":"Anthropic account"}}},{"parameters":{},"type":"n8n-nodes-base.merge","typeVersion":3.2,"position":[360,880],"id":"0ac81e2b-62c6-4b3e-a279-31912fcfd5ca","name":"Merge"},{"parameters":{"jsonSchemaExample":"[\\n  {\\n    \\"content\\": \\"Document Type: Project Charter | Document Date: Mar 7, 2025 | Document Author: Marco San Juan\\"\\n  },\\n  {\\n    \\"content\\": \\"Problem Statement | Equinox Gold lacks centralized enterprise monitoring capability, resulting in fragmented oversight of technology assetsany system or device that transmits or receives information. Monitoring is currently decentralized across teams and service providers, using siloed tools with limited visibility and coordination. This leads to inefficiencies such as missed or delayed responses, false positives, and no data correlation, increasing operational and security risks.\\"\\n  },\\n  {\\n    \\"content\\": \\"Solution Overview | Equinox Gold will establish a centralized enterprise monitoring capability to enhance visibility, coordination, and decision-making across all technology assets. This initiative will create a standardized, scalable approach that improves monitoring effectiveness while aligning with existing operations. The implementation approach will be determined through Discovery and Design, ensuring flexibility based on findings.\\"\\n  },\\n  {\\n    \\"content\\": \\"Project Role: IT Architect | Resource Name: Greg Kornatowsky\\"\\n  },\\n  {\\n    \\"content\\": \\"Stakeholder: VP | Role & Involvement: Approve key decisions, ensure resource availability, support decision-making | Who: Miller Dussan\\"\\n  }\\n]"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.3,"position":[1420,1060],"id":"4506cd75-ca47-4805-986d-6a61d4e28717","name":"Structured Output Parser"},{"parameters":{"mode":"insert","tableName":{"__rl":true,"value":"document_vectors","mode":"list","cachedResultName":"document_vectors"},"options":{}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.2,"position":[2000,880],"id":"28f6ba12-18fd-4a56-a7b0-55a84673151a","name":"Supabase Vector Store","credentials":{"supabaseApi":{"id":"LDhBmd2aeXNRoFRh","name":"Supabase - PromptOS"}}},{"parameters":{"options":{"batchSize":200,"stripNewLines":true}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[2000,680],"id":"7a67b3e2-08de-48e0-87f2-96851c58f266","name":"Embeddings OpenAI","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.documentDefaultDataLoader","typeVersion":1,"position":[2240,680],"id":"20e6a054-3ce0-4241-8ea3-461ab414479a","name":"Default Data Loader"},{"parameters":{"chunkSize":800,"chunkOverlap":100,"options":{}},"type":"@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter","typeVersion":1,"position":[2380,900],"id":"3ebca5f8-bde3-426b-8fab-932875cbcc15","name":"Recursive Character Text Splitter"},{"parameters":{"jsCode":"const doc = $json.output;\\n\\nconst safe = str => (str || 'unknown').toLowerCase().replace(/\\\\s+/g, '-').replace(/[^\\\\w\\\\-]/g, '');\\nconst baseId = `${safe(doc.document_author)}-${safe(doc.document_type)}`;\\nconst datePart = (doc.document_date || '').replace(/[^a-zA-Z0-9]/g, '') || 'unknown';\\n\\nconst chunks = [];\\n\\n// Metadata chunk as content only\\nconst metadataEntries = Object.entries({\\n  'Document Type': doc.document_type,\\n  'Document Date': doc.document_date,\\n  'Document Author': doc.document_author\\n}).filter(([_, v]) => v).map(([k, v]) => `${k}: ${v}`);\\nif (metadataEntries.length) {\\n  chunks.push({\\n    json: {\\n      content: metadataEntries.join(' | ')\\n    }\\n  });\\n}\\n\\n// Sections\\n(doc.document_sections || []).forEach((section) => {\\n  const title = section.title?.trim() || '';\\n  const body = section.content?.trim() || '';\\n  const tables = (section.tables || [])\\n    .map(table => {\\n      const headers = table.headers || [];\\n      return table.rows.map(row =>\\n        headers.map((h, i) => `${h}: ${row[i] || ''}`).join(' | ')\\n      ).join('\\\\n');\\n    })\\n    .join('\\\\n\\\\n');\\n\\n  const bodyOrTables = [body, tables].filter(Boolean).join('\\\\n\\\\n').trim();\\n\\n  // NEW: split and extract any standalone role lines\\n  const candidateLines = (bodyOrTables || '').split('\\\\n').map(l => l.trim());\\n  candidateLines.forEach(line => {\\n    if (/role[:]?/i.test(line) && /\\\\|/.test(line)) {\\n      chunks.push({\\n        json: {\\n          content: line\\n        }\\n      });\\n    }\\n  });\\n\\n  if (bodyOrTables) {\\n    const full = [title, bodyOrTables].filter(Boolean).join(' | ').trim();\\n    chunks.push({\\n      json: {\\n        content: full\\n      }\\n    });\\n  }\\n});\\n\\nreturn chunks;"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1780,1060],"id":"9fd009bc-2e6c-4843-9753-83b966e9f5f7","name":"Flatten to vector-friendly chunks","disabled":true},{"parameters":{"content":"Embedding process","height":100,"width":160,"color":4},"type":"n8n-nodes-base.stickyNote","position":[1940,360],"typeVersion":1,"id":"9f17a279-8bba-4a7a-b83a-f6eacdc1189f","name":"Sticky Note6"},{"parameters":{"promptType":"define","text":"=Here is structured document content previously cleaned and segmented.\\n\\nSTRUCTURED CONTENT:\\n{{ $json.text }}\\n\\nPlease analyze and plan the final chunk boundaries for vector embedding. Each output chunk should be semantically meaningful and fit within token limits.","hasOutputParser":true,"messages":{"messageValues":[{"message":"=You are a semantic chunking assistant.\\n\\nYour role is to analyze pre-structured content and generate final chunks for embedding in a vector database.\\n\\nInstructions:\\n\\n1. You will receive a list of structured content blocks representing sections or subsections from a document.\\n2. Your job is to group, merge, or split these into final chunks that are:\\n   - Semantically coherent\\n   - Each under ~500 tokens (~2000 characters) unless content integrity requires more\\n   - Suitable for embedding and retrieval\\n3. Avoid splitting mid-sentence or between logically connected paragraphs.\\n4. Do not paraphrase, summarize, or hallucinate  preserve original text.\\n5. Maintain the original ordering of content unless there's a strong semantic reason to reorder (rare).\\n6. Treat tabular text or list-like entries as atomic when possible.\\n\\n RETURN FORMAT:\\nReturn raw JSON with a top-level array called `output`, consisting only of objects with a single `content` field.\\n\\nExample:\\n[\\n  {\\n    \\"output\\": [\\n      { \\"content\\": \\"string\\" },\\n      { \\"content\\": \\"string\\" }\\n    ]\\n  }\\n]\\n\\nNotes:\\n- This output will be directly embedded; each `content` block should be optimized for standalone utility in retrieval contexts.\\n- No Markdown, no comments, no code fences  just raw JSON."}]},"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[1180,880],"id":"61ba3a96-fd28-46c6-84c4-806388916a9c","name":"chunk_planner"},{"parameters":{"promptType":"define","text":"=Here is the raw PDF content and associated context. Use both the extracted text and any metadata to structure and flatten the document.\\n\\nTEXT:\\n{{ $json.text }}\\n\\nCONTEXT / METADATA (may be empty or partial):\\n{{ $json.document_details || 'null' }}","messages":{"messageValues":[{"message":"=You are a document structuring and flattening assistant.\\nYour job is to analyze raw PDF content and produce clean, structured JSON ready for downstream chunking and embedding into a vector database.\\n\\nInstructions:\\n\\n1. Use the text and any provided metadata to determine high-level context.\\n2. Segment the text into meaningful sections and subsections using clear headers, numbered patterns, or layout hints.\\n3. Detect tabular data within sections and extract it as a structured tables array before transforming.\\n   - Preserve row and column boundaries.\\n   - Transform tables into readable semantic units without losing cell granularity.\\n4. For each section and subsection, transform the title, content, and tables into coherent semantic units:\\n   - Each unit should be self-contained and conceptually distinct.\\n   - Preserve exact original language with no summarizing, paraphrasing, or hallucinating.\\n5. Maintain distinct boundaries between subsections  do not merge unrelated content into a single unit.\\n6. Clean all text by:\\n   - Stripping dotted leader lines (e.g., \\"Section Name ............ 3\\").\\n   - Removing layout artifacts or scan noise (e.g., DocuSign IDs, headers/footers, page numbers).\\n   - Ignoring or flattening repeated Table of Contents lines unless they add semantic value.\\n\\nThis output will be passed to a downstream LLM or process for final chunk planning and token-based slicing.\\n\\n RETURN FORMAT:  \\nReturn raw JSON with a top-level array called `output`, consisting only of objects with a single `content` field.\\n\\nExample:  \\n[\\n  {\\n    \\"output\\": [\\n      { \\"content\\": \\"string\\" },\\n      { \\"content\\": \\"string\\" }\\n    ]\\n  }\\n]\\n\\nNotes:  \\n- `output` must be a flattened list of all semantic units representing the full document.\\n- Do not include `document_type`, `document_date`, `document_author`, or any metadata.\\n- Output only raw JSON  no Markdown, no code fences."}]},"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[820,880],"id":"83814170-f1e9-49b1-a8cd-d6087abdcdf1","name":"content_cleaner"},{"parameters":{"jsCode":"const MAX_CHARS = 2000; // Approx ~500 tokens\\nconst chunks = [];\\n\\n($json.output || []).forEach(item => {\\n  const content = item.content?.trim();\\n  if (!content) return;\\n\\n  if (content.length <= MAX_CHARS) {\\n    chunks.push({ json: { content } });\\n  } else {\\n    let start = 0;\\n    while (start < content.length) {\\n      const chunk = content.slice(start, start + MAX_CHARS);\\n      chunks.push({ json: { content: chunk } });\\n      start += MAX_CHARS;\\n    }\\n  }\\n});\\n\\nreturn chunks;"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1560,880],"id":"11d1b5b7-66ec-40f8-a195-5f3672c746ef","name":"token_guard"},{"parameters":{"content":"Understand use of metadata","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[2180,500],"typeVersion":1,"id":"1504b832-1c5d-4b51-9ec9-f8ac9271487a","name":"Sticky Note21"},{"parameters":{"content":"Consider making use of metadata","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[1320,620],"typeVersion":1,"id":"7aee186f-031f-47b4-88ec-baf36fed7df2","name":"Sticky Note22"}]	{"On form submission":{"main":[[{"node":"Extract from File","type":"main","index":0},{"node":"Merge","type":"main","index":1}]]},"Pre-Cleaning":{"main":[[{"node":"content_cleaner","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"content_cleaner","type":"ai_languageModel","index":0},{"node":"chunk_planner","type":"ai_languageModel","index":0}]]},"Extract from File":{"main":[[{"node":"Merge","type":"main","index":0}]]},"Merge":{"main":[[{"node":"Pre-Cleaning","type":"main","index":0}]]},"Structured Output Parser":{"ai_outputParser":[[{"node":"chunk_planner","type":"ai_outputParser","index":0}]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"Supabase Vector Store","type":"ai_embedding","index":0}]]},"Default Data Loader":{"ai_document":[[{"node":"Supabase Vector Store","type":"ai_document","index":0}]]},"Recursive Character Text Splitter":{"ai_textSplitter":[[{"node":"Default Data Loader","type":"ai_textSplitter","index":0}]]},"content_cleaner":{"main":[[{"node":"chunk_planner","type":"main","index":0}]]},"chunk_planner":{"main":[[{"node":"token_guard","type":"main","index":0}]]},"token_guard":{"main":[[{"node":"Supabase Vector Store","type":"main","index":0}]]}}	2025-07-24 04:16:57.81+00	2025-07-24 04:33:18.227+00	{"executionOrder":"v1"}	\N	{"chunk_planner":[{"json":{"output":[{"content":"1. Introduction\\nThis guide is intended to help the Compass Business Operations team to support the RFID system of the Universal Fare Gate Access Program (UFGAP)."},{"content":"2. System Overview\\nThe UFGAP RFID system has been designed to create a hands-free experience through the ADA FareGate for approved users with disabilities. The system was developed by Hyperlight Systems, in partnership with TransLink."},{"content":"2.1 Components\\nFor each ADA FareGate, the following RFID system components exists:\\n\\nComponent Description\\nRFID tag\\nAn RFID tag is issued to a TransLink customer needing assistance to tap (CNAT). When a CNAT approaches an ADA FareGate at a station, the RFID tag is detected by the RFID antenna which powers up the RFID tag to so it can capture its tag ID.\\nRFID antenna\\nAn RFID antenna at a station captures the tag ID from the RFID tag and sends the data to the RFID reader to be checked for validity prior to sending the data to TransLinks Integration Hub (IH).\\nRFID reader\\nThe RFID reader is the device that evaluates a customers RFID tag. Embedded within the RFID reader is Hyperlight Systems RFID Notifier software which determines whether a tag ID is valid. If a tag is valid, RFID Notifier will send a message to IH to open the ADA FareGate.\\n\\nOther components that make up the RFID system include:\\n\\nComponent Description\\nNetwork switch\\nHyperlight Systems-managed network switches are located in the Electrical Equipment Rooms (EER) at TransLink stations. The total number of switches at each station varies depending on the set up of the ADA FareGate at each station. Each RFID Reader is connected to the network switch, which is in-turn connected to the Compass Router. It is through this physical connection that the RFID Notifier software and IH are able to communicate.\\nSmartConsole\\nSmartConsole is the monitoring software for all the RFID readers at all TransLink stations."},{"content":"2.2 Interfaces\\nFor detailed information, please refer to Proximity Enabled Accessible Entrances RFID - Interface_Requirements.docx [insert link]"},{"content":"3. Points of Contact"},{"content":"3.1 Support Contact\\nSupport Hours during business hours\\nResponse time during business day (8:00 A.M. to 5:00 P.M., Monday to Friday Pacific Standard Time) is as follows:\\nBy phone at 778-819-0745 Will respond within 8 hours\\nBy email at support@hyperlight.systems Will respond within 8 hours\\nSupport Hours outside business hours\\nBy phone at 778-819-0745 Will respond within 24 hours\\nBy email at support@hyperlight.systems Will respond within 24 hours"},{"content":"3.2 Escalation Contact\\n# Escalation Reason Hyperlight TransLink\\n1\\nTicket escalation to enquire about a specific ticket\\nMarco San Juan\\nmarcos@hyperlight.systems\\n778.317.5181\\nHan Wei Chan\\nhchan@hyperlight.systems\\n604.630.9907\\nMarilyn Morley\\nMarilyn.Morley@translink.ca\\n778.375.6554 / 604.761.2804\\n2\\nSLA escalation for questions and queries regarding the SLA\\nMarco San Juan\\nmarcos@hyperlight.systems\\n778.317.5181\\nAshish Sachdeva\\nashish@hyperlight.systems\\n778.819.6746\\nMarilyn Morley\\nMarilyn.Morley@translink.ca\\n778.375.6554 / 604.761.2804"},{"content":"4. Operations"},{"content":"4.1 Operational Tasks\\nThe operational tasks of the RFID system can be divided into four (4) main categories:\\n1) Incidents: These refer to tasks required to address an issue in the system. The two (2) main incidents that can occur in the RFID system are a) Read Range issues and b) Gate not opening.\\n2) Requests: These refer to tasks required to fulfill an ask from TransLink.\\n3) Maintenance: These refer to recurring tasks that are conducted on a regular basis (i.e. weekly, monthly, etc) because they are required to ensure that the RFID system runs at optimal performance.\\n4) User Training: This refers to sessions where Hyperlight Systems supports TransLink authorized Occupational Therapists in the training of a customer who applied to use the RFID system."},{"content":"4.2 Support Requests\\nIncidents and Requests are further classified as support requests as they are not recurring tasks that are required to keep the system up and running. All support requests can be submitted through either of the following methods:\\n Email: support@hyperlight.systems\\n Phone: 778-819-0745\\n Hyperlight Systems Ticketing System: https://support.hyperlight.systems"},{"content":"4.2.1 Incidents\\nThe two (2) main incidents that can occur in the RFID system are:\\na. Read Range issues\\nWhen a Read Range issue occurs, the first step prior to contacting Hyperlight Systems is to:\\n1) Confirm that there is no issue with Integration Hub (IH)\\n2) Collect the following information:\\na) Station name\\nb) Entrance\\nc) Gate ID\\nd) Direction of Travel\\ne) Time\\nf) Incident description\\ng) Tag ID of the customer\\nh) Attachments (e.g., Integration Hub logs)\\n3) Log into SmartConsole to verify RFID hardware health (i.e. network, hardware, software, environment) and log data\\n\\n4) Check for the following:\\na) If one RED status exists, contact Hyperlight Systems for immediate assistance\\nb) Otherwise:\\ni) Confirm whether issue is long or short read range (acceptable range is 1m to 2.5m)\\n Alternatively, ask if the gate opens too early (when user is far away) or too late (when user is too close)\\nii) Confirm how customer is holding the RFID tag\\niii) Confirm all possible interferences for RFID tag\\niv) Check that antenna angle has not changed since installation (refer to antenna angle installation data)\\nb. Gate not opening\\nWhen a Gate not opening issue occurs, the first step prior to contacting Hyperlight Systems is to:\\n1) Confirm that there is no issue with Integration Hub (IH)\\n2) Collect the following information:\\na) Station name\\nb) Entrance\\nc) Gate ID\\nd) Direction of Travel\\ne) Time\\nf) Incident description\\ng) Tag ID of the customer\\nh) Attachments (e.g., Integration Hub logs)\\n3) Log into SmartConsole to verify RFID hardware health (i.e. network, hardware, software, environment) and log data\\n4) Check for the following:\\na) If one RED status exists, contact Hyperlight Systems for immediate assistance\\nb) Otherwise:\\ni) Confirm whether log data exists during the day/time the issue was reported.\\n If log data exists, that means antenna hardware should be working as expected. Further troubleshooting will be required on the integration between RFID Notifier and IH\\nii) Check that antenna angle has not changed since installation (refer to antenna angle installation data)"},{"content":"4.2.2 System Alerts and Notifications\\nThe SmartConsole monitoring software actively monitors for potential issues with the RFID hardware / software. If SmartConsole detects a potential issue, it will send a system alert / notification via SMS and email to the TransLink and Hyperlight Systems support teams. The alert / notification can potentially end up being an incident that needs to be resolved."},{"content":"4.2.3 Support Tiers\\nThere are three (3) types of support tiers that will be provided by Hyperlight Systems. The following tables shows the standard operational tasks that fall under each support tier:\\n\\nTier 1 Tier 2 Tier 3\\n Angle Adjustment\\n Manual Reboot\\n Card Replacement\\n Support TransLink (e.g. investigating IH related issue)\\n Configuration changes (e.g. RSSI filtering, power adjustments, etc)\\n Cable upgrade / replacement\\n Hardware replacement\\n Firmware / software changes"},{"content":"4.2.4 Requests\\nRequests need to be submitted with requirements information for review by Hyperlight Systems. If the request is deemed too large to be done operationally, it will be treated as a new project. This will require a statement of work to be created and submitted to TransLink for approval before proceeding.\\nWhen a request needs to be treated as a project\\nA request will be treated as a project if it meets the following criteria:\\n- It is not a standard operational task\\n- Request is estimated to take more than 8h of effort\\n- Coordination between more than one (1) team is required"},{"content":"4.3 Maintenance\\nThe following maintenance tasks need to be conducted on a regular basis in order to maintain the RFID system:\\n# Task Description Frequency\\n1 Heart Beat - An automated task that ran through SmartConsole and the RFID notifier software that periodically checks that an RFID reader is up and running.\\nDaily\\n\\n2 On-site spot checks to ensure that the read-range specifications for each ADA FareGate is in-tact (1m to 2.5m)\\nMonthly\\n3 Back up of RFID Reader logs and Smart Console databases\\nMonthly\\n3 RFID Reader firmware patching and updating (Requires EER access)\\nAs required\\n4 RFID Notifier patching and updating (Requires TransLink Network access)\\nAs required\\n5 Smart Console patching and updating (Requires TransLink Network access)\\nAs required\\n6 Network switch patching and updating (Requires EER access)\\nAs required"},{"content":"4.3.1 User Training\\n[Placeholder]"},{"content":"5. Reference Documentation\\nThe following list of documentation was created during the UFGAP project phase and can be referenced for further detail / information with regards to the RFID:\\n# Document Name Location\\n1\\nConstruction Drawings (electrical, architectural and structural)\\n2 SmartConsole Functional Specifications Document\\n3 SmartConsole User Manual\\n4 SmartConsole Release Notes\\n5 RFID Notifier Release Notes\\n6 Interface Requirements Document\\n7 Service Level Agreement (SLA)"}]}}],"content_cleaner":[{"json":{"text":"{\\n  \\"output\\": [\\n    {\\n      \\"content\\": \\"1. Introduction\\\\nThis guide is intended to help the Compass Business Operations team to support the RFID system of the Universal Fare Gate Access Program (UFGAP).\\"\\n    },\\n    {\\n      \\"content\\": \\"2. System Overview\\\\nThe UFGAP RFID system has been designed to create a hands-free experience through the ADA FareGate for approved users with disabilities. The system was developed by Hyperlight Systems, in partnership with TransLink.\\"\\n    },\\n    {\\n      \\"content\\": \\"2.1 Components\\\\nFor each ADA FareGate, the following RFID system components exists:\\\\n\\\\nComponent Description\\\\nRFID tag\\\\nAn RFID tag is issued to a TransLink customer needing assistance to tap (CNAT). When a CNAT approaches an ADA FareGate at a station, the RFID tag is detected by the RFID antenna which powers up the RFID tag to so it can capture its tag ID.\\\\nRFID antenna\\\\nAn RFID antenna at a station captures the tag ID from the RFID tag and sends the data to the RFID reader to be checked for validity prior to sending the data to TransLinks Integration Hub (IH).\\\\nRFID reader\\\\nThe RFID reader is the device that evaluates a customers RFID tag. Embedded within the RFID reader is Hyperlight Systems RFID Notifier software which determines whether a tag ID is valid. If a tag is valid, RFID Notifier will send a message to IH to open the ADA FareGate.\\\\n\\\\nOther components that make up the RFID system include:\\\\n\\\\nComponent Description\\\\nNetwork switch\\\\nHyperlight Systems-managed network switches are located in the Electrical Equipment Rooms (EER) at TransLink stations. The total number of switches at each station varies depending on the set up of the ADA FareGate at each station. Each RFID Reader is connected to the network switch, which is in-turn connected to the Compass Router. It is through this physical connection that the RFID Notifier software and IH are able to communicate.\\\\nSmartConsole\\\\nSmartConsole is the monitoring software for all the RFID readers at all TransLink stations.\\"\\n    },\\n    {\\n      \\"content\\": \\"2.2 Interfaces\\\\nFor detailed information, please refer to Proximity Enabled Accessible Entrances RFID - Interface_Requirements.docx [insert link]\\"\\n    },\\n    {\\n      \\"content\\": \\"3. Points of Contact\\"\\n    },\\n    {\\n      \\"content\\": \\"3.1 Support Contact\\\\nSupport Hours during business hours\\\\nResponse time during business day (8:00 A.M. to 5:00 P.M., Monday to Friday Pacific Standard Time) is as follows:\\\\nBy phone at 778-819-0745 Will respond within 8 hours\\\\nBy email at support@hyperlight.systems Will respond within 8 hours\\\\nSupport Hours outside business hours\\\\nBy phone at 778-819-0745 Will respond within 24 hours\\\\nBy email at support@hyperlight.systems Will respond within 24 hours\\"\\n    },\\n    {\\n      \\"content\\": \\"3.2 Escalation Contact\\\\n# Escalation Reason Hyperlight TransLink\\\\n1\\\\nTicket escalation to enquire about a specific ticket\\\\nMarco San Juan\\\\nmarcos@hyperlight.systems\\\\n778.317.5181\\\\nHan Wei Chan\\\\nhchan@hyperlight.systems\\\\n604.630.9907\\\\nMarilyn Morley\\\\nMarilyn.Morley@translink.ca\\\\n778.375.6554 / 604.761.2804\\\\n2\\\\nSLA escalation for questions and queries regarding the SLA\\\\nMarco San Juan\\\\nmarcos@hyperlight.systems\\\\n778.317.5181\\\\nAshish Sachdeva\\\\nashish@hyperlight.systems\\\\n778.819.6746\\\\nMarilyn Morley\\\\nMarilyn.Morley@translink.ca\\\\n778.375.6554 / 604.761.2804\\"\\n    },\\n    {\\n      \\"content\\": \\"4. Operations\\"\\n    },\\n    {\\n      \\"content\\": \\"4.1 Operational Tasks\\\\nThe operational tasks of the RFID system can be divided into four (4) main categories:\\\\n1) Incidents: These refer to tasks required to address an issue in the system. The two (2) main incidents that can occur in the RFID system are a) Read Range issues and b) Gate not opening.\\\\n2) Requests: These refer to tasks required to fulfill an ask from TransLink.\\\\n3) Maintenance: These refer to recurring tasks that are conducted on a regular basis (i.e. weekly, monthly, etc) because they are required to ensure that the RFID system runs at optimal performance.\\\\n4) User Training: This refers to sessions where Hyperlight Systems supports TransLink authorized Occupational Therapists in the training of a customer who applied to use the RFID system.\\"\\n    },\\n    {\\n      \\"content\\": \\"4.2 Support Requests\\\\nIncidents and Requests are further classified as support requests as they are not recurring tasks that are required to keep the system up and running. All support requests can be submitted through either of the following methods:\\\\n Email: support@hyperlight.systems\\\\n Phone: 778-819-0745\\\\n Hyperlight Systems Ticketing System: https://support.hyperlight.systems\\"\\n    },\\n    {\\n      \\"content\\": \\"4.2.1 Incidents\\\\nThe two (2) main incidents that can occur in the RFID system are:\\\\na. Read Range issues\\\\nWhen a Read Range issue occurs, the first step prior to contacting Hyperlight Systems is to:\\\\n1) Confirm that there is no issue with Integration Hub (IH)\\\\n2) Collect the following information:\\\\na) Station name\\\\nb) Entrance\\\\nc) Gate ID\\\\nd) Direction of Travel\\\\ne) Time\\\\nf) Incident description\\\\ng) Tag ID of the customer\\\\nh) Attachments (e.g., Integration Hub logs)\\\\n3) Log into SmartConsole to verify RFID hardware health (i.e. network, hardware, software, environment) and log data\\\\n\\\\n4) Check for the following:\\\\na) If one RED status exists, contact Hyperlight Systems for immediate assistance\\\\nb) Otherwise:\\\\ni) Confirm whether issue is long or short read range (acceptable range is 1m to 2.5m)\\\\n Alternatively, ask if the gate opens too early (when user is far away) or too late (when user is too close)\\\\nii) Confirm how customer is holding the RFID tag\\\\niii) Confirm all possible interferences for RFID tag\\\\niv) Check that antenna angle has not changed since installation (refer to antenna angle installation data)\\\\nb. Gate not opening\\\\nWhen a Gate not opening issue occurs, the first step prior to contacting Hyperlight Systems is to:\\\\n1) Confirm that there is no issue with Integration Hub (IH)\\\\n2) Collect the following information:\\\\na) Station name\\\\nb) Entrance\\\\nc) Gate ID\\\\nd) Direction of Travel\\\\ne) Time\\\\nf) Incident description\\\\ng) Tag ID of the customer\\\\nh) Attachments (e.g., Integration Hub logs)\\\\n3) Log into SmartConsole to verify RFID hardware health (i.e. network, hardware, software, environment) and log data\\\\n4) Check for the following:\\\\na) If one RED status exists, contact Hyperlight Systems for immediate assistance\\\\nb) Otherwise:\\\\ni) Confirm whether log data exists during the day/time the issue was reported.\\\\n If log data exists, that means antenna hardware should be working as expected. Further troubleshooting will be required on the integration between RFID Notifier and IH\\\\nii) Check that antenna angle has not changed since installation (refer to antenna angle installation data)\\"\\n    },\\n    {\\n      \\"content\\": \\"4.2.2 System Alerts and Notifications\\\\nThe SmartConsole monitoring software actively monitors for potential issues with the RFID hardware / software. If SmartConsole detects a potential issue, it will send a system alert / notification via SMS and email to the TransLink and Hyperlight Systems support teams. The alert / notification can potentially end up being an incident that needs to be resolved.\\"\\n    },\\n    {\\n      \\"content\\": \\"4.2.3 Support Tiers\\\\nThere are three (3) types of support tiers that will be provided by Hyperlight Systems. The following tables shows the standard operational tasks that fall under each support tier:\\\\n\\\\nTier 1 Tier 2 Tier 3\\\\n Angle Adjustment\\\\n Manual Reboot\\\\n Card Replacement\\\\n Support TransLink (e.g. investigating IH related issue)\\\\n Configuration changes (e.g. RSSI filtering, power adjustments, etc)\\\\n Cable upgrade / replacement\\\\n Hardware replacement\\\\n Firmware / software changes\\"\\n    },\\n    {\\n      \\"content\\": \\"4.2.4 Requests\\\\nRequests need to be submitted with requirements information for review by Hyperlight Systems. If the request is deemed too large to be done operationally, it will be treated as a new project. This will require a statement of work to be created and submitted to TransLink for approval before proceeding.\\\\nWhen a request needs to be treated as a project\\\\nA request will be treated as a project if it meets the following criteria:\\\\n- It is not a standard operational task\\\\n- Request is estimated to take more than 8h of effort\\\\n- Coordination between more than one (1) team is required\\"\\n    },\\n    {\\n      \\"content\\": \\"4.3 Maintenance\\\\nThe following maintenance tasks need to be conducted on a regular basis in order to maintain the RFID system:\\\\n# Task Description Frequency\\\\n1 Heart Beat - An automated task that ran through SmartConsole and the RFID notifier software that periodically checks that an RFID reader is up and running.\\\\nDaily\\\\n\\\\n2 On-site spot checks to ensure that the read-range specifications for each ADA FareGate is in-tact (1m to 2.5m)\\\\nMonthly\\\\n3 Back up of RFID Reader logs and Smart Console databases\\\\nMonthly\\\\n3 RFID Reader firmware patching and updating (Requires EER access)\\\\nAs required\\\\n4 RFID Notifier patching and updating (Requires TransLink Network access)\\\\nAs required\\\\n5 Smart Console patching and updating (Requires TransLink Network access)\\\\nAs required\\\\n6 Network switch patching and updating (Requires EER access)\\\\nAs required\\"\\n    },\\n    {\\n      \\"content\\": \\"4.3.1 User Training\\\\n[Placeholder]\\"\\n    },\\n    {\\n      \\"content\\": \\"5. Reference Documentation\\\\nThe following list of documentation was created during the UFGAP project phase and can be referenced for further detail / information with regards to the RFID:\\\\n# Document Name Location\\\\n1\\\\nConstruction Drawings (electrical, architectural and structural)\\\\n2 SmartConsole Functional Specifications Document\\\\n3 SmartConsole User Manual\\\\n4 SmartConsole Release Notes\\\\n5 RFID Notifier Release Notes\\\\n6 Interface Requirements Document\\\\n7 Service Level Agreement (SLA)\\"\\n    }\\n  ]\\n}"}}]}	0a97a903-2941-44d2-ab6b-f81af7ffff8a	0	HmlcxEmtlrF6kw5f	\N	\N	t	1	\N	\N
RAGForge - Chat	f	[{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.chatTrigger","typeVersion":1.1,"position":[0,0],"id":"5a7ac32d-a089-4bdf-b0d2-a2bcabf63ca0","name":"When chat message received","webhookId":"5284de2a-5044-4c6e-8dca-97733fd3eb98"},{"parameters":{"options":{"systemMessage":"=You are a project assistant. Use the provided context from the project_information_retriever vector store to inform your response. If relevant context is missing or incomplete, you may rely on your own knowledge.\\n\\nKeep answers short and easy to scan. If the answer is genuinely unknown, reply: \\"Not sure based on the current information.\\"\\n"}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2,"position":[220,0],"id":"058dc0fb-3117-4691-bc62-ab06fd5d5413","name":"AI Agent"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{"temperature":0}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[80,200],"id":"8a88e7d9-5d8f-4d82-a9be-395e4fb4e210","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{},"type":"@n8n/n8n-nodes-langchain.memoryBufferWindow","typeVersion":1.3,"position":[260,200],"id":"99384f79-84f7-4b6d-b192-e889f0db082c","name":"Simple Memory"},{"parameters":{"mode":"retrieve-as-tool","toolName":"project_information_retriever","toolDescription":"Retrieve information about projects from project documentation","tableName":{"__rl":true,"value":"document_vectors","mode":"list","cachedResultName":"document_vectors"},"topK":10,"useReranker":true,"options":{"queryName":"match_documents_flex"}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.2,"position":[500,200],"id":"29a1bc04-68de-4e03-8e9d-19f3de4019f3","name":"Supabase Vector Store","credentials":{"supabaseApi":{"id":"LDhBmd2aeXNRoFRh","name":"Supabase - PromptOS"}}},{"parameters":{"options":{"stripNewLines":true}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[500,360],"id":"aaadb543-4f14-4e69-a0fc-ac22d926daf9","name":"Embeddings OpenAI","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{},"type":"@n8n/n8n-nodes-langchain.rerankerCohere","typeVersion":1,"position":[660,360],"id":"3f978b27-6f57-462d-afa7-bbacf53e2730","name":"Reranker Cohere","credentials":{"cohereApi":{"id":"t5C5629l3ApBhaVm","name":"CohereApi account"}}},{"parameters":{"content":"Consider making use of metadata","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[660,80],"typeVersion":1,"id":"854cb8b2-d137-45e2-8823-92a702987afc","name":"Sticky Note22"}]	{"When chat message received":{"main":[[{"node":"AI Agent","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"AI Agent","type":"ai_languageModel","index":0}]]},"Simple Memory":{"ai_memory":[[{"node":"AI Agent","type":"ai_memory","index":0}]]},"Supabase Vector Store":{"ai_tool":[[{"node":"AI Agent","type":"ai_tool","index":0}]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"Supabase Vector Store","type":"ai_embedding","index":0}]]},"Reranker Cohere":{"ai_reranker":[[{"node":"Supabase Vector Store","type":"ai_reranker","index":0}]]}}	2025-06-23 01:13:46.853+00	2025-12-10 03:40:07.423+00	{"executionOrder":"v1"}	\N	{}	0e531e10-2442-44e8-a2bd-100a50370251	0	qcNeE3fCKXPR71bd	{"templateCredsSetupCompleted":true}	MLU1HSlRX8QbxL1N	f	2	\N	\N
RAGForge - Extractor and Embedder-webhook	f	[{"parameters":{"formTitle":"Upload PDF to \\"RAG\\"","formFields":{"values":[{"fieldLabel":"document_details","fieldType":"textarea","placeholder":"Describe the document, it's meaning and purpose","requiredField":true},{"fieldLabel":"upload_pdf","fieldType":"file","multipleFiles":false,"requiredField":true}]},"options":{}},"type":"n8n-nodes-base.formTrigger","typeVersion":2.2,"position":[-260,-360],"id":"d8d133b6-2e37-4d74-8408-c2540838e30f","name":"On form submission","webhookId":"ebcfe3c7-b236-4a19-af2d-03ac6daab375","disabled":true},{"parameters":{"content":"### Extract sub workflow","height":620,"width":740,"color":6},"type":"n8n-nodes-base.stickyNote","position":[260,-420],"typeVersion":1,"id":"f14accfb-2f32-47d9-89c4-0ad047e63478","name":"Sticky Note10"},{"parameters":{"content":"### Embedder sub workflow","height":620,"width":680,"color":6},"type":"n8n-nodes-base.stickyNote","position":[2140,-420],"typeVersion":1,"id":"2cacc20a-bbe1-4e05-a15e-0a092409718a","name":"Sticky Note18"},{"parameters":{"content":"### Content reviewer / preparer","height":620,"width":980,"color":6},"type":"n8n-nodes-base.stickyNote","position":[1100,-420],"typeVersion":1,"id":"d91aeb0c-35fe-4d45-85a4-aeb9afa75cd6","name":"Sticky Note20"},{"parameters":{"operation":"pdf","binaryPropertyName":"upload_pdf","options":{"joinPages":true}},"type":"n8n-nodes-base.extractFromFile","typeVersion":1,"position":[400,-340],"id":"9157e903-4e25-49b5-a261-bca5549f1e23","name":"Extract from File"},{"parameters":{"jsCode":"const raw = items[0].json;\\nconst structured = items[1].json;\\n\\nreturn [{\\n  json: {\\n    text: raw.text,\\n    document_details: structured.document_details,\\n    upload_pdf: structured.upload_pdf,\\n    submitted_at: structured.submittedAt || new Date().toISOString()\\n  }\\n}];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[820,-340],"id":"5d15ff30-b8e6-4a7b-afcf-ee7083496add","name":"Pre-Cleaning"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{"temperature":0}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[1420,-120],"id":"41c09af8-4c51-41d7-bb11-8f33e330a1e1","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{},"type":"n8n-nodes-base.merge","typeVersion":3.2,"position":[620,-220],"id":"a8cc13f4-7fdd-435c-8339-6bdf883c4ae5","name":"Merge"},{"parameters":{"jsonSchemaExample":"[\\n  {\\n    \\"content\\": \\"Document Type: Project Charter | Document Date: Mar 7, 2025 | Document Author: Marco San Juan\\"\\n  },\\n  {\\n    \\"content\\": \\"Problem Statement | Equinox Gold lacks centralized enterprise monitoring capability, resulting in fragmented oversight of technology assetsany system or device that transmits or receives information. Monitoring is currently decentralized across teams and service providers, using siloed tools with limited visibility and coordination. This leads to inefficiencies such as missed or delayed responses, false positives, and no data correlation, increasing operational and security risks.\\"\\n  },\\n  {\\n    \\"content\\": \\"Solution Overview | Equinox Gold will establish a centralized enterprise monitoring capability to enhance visibility, coordination, and decision-making across all technology assets. This initiative will create a standardized, scalable approach that improves monitoring effectiveness while aligning with existing operations. The implementation approach will be determined through Discovery and Design, ensuring flexibility based on findings.\\"\\n  },\\n  {\\n    \\"content\\": \\"Project Role: IT Architect | Resource Name: Greg Kornatowsky\\"\\n  },\\n  {\\n    \\"content\\": \\"Stakeholder: VP | Role & Involvement: Approve key decisions, ensure resource availability, support decision-making | Who: Miller Dussan\\"\\n  }\\n]"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.3,"position":[1740,-140],"id":"d84bea31-a130-4154-8cd4-7d1b75c9f632","name":"Structured Output Parser"},{"parameters":{"mode":"insert","tableName":{"__rl":true,"value":"document_vectors","mode":"list","cachedResultName":"document_vectors"},"options":{}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.2,"position":[2240,-340],"id":"1bce0476-f4c3-4bb0-b6de-b624bf42eec3","name":"Supabase Vector Store","credentials":{"supabaseApi":{"id":"LDhBmd2aeXNRoFRh","name":"Supabase - PromptOS"}}},{"parameters":{"options":{"batchSize":200,"stripNewLines":true}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[2200,-100],"id":"528eb919-4dbb-42ca-b158-1a1d54faf70c","name":"Embeddings OpenAI","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.documentDefaultDataLoader","typeVersion":1,"position":[2420,-120],"id":"e9d6f371-3bb5-4df0-bed6-2f76d04ef559","name":"Default Data Loader"},{"parameters":{"chunkSize":800,"chunkOverlap":100,"options":{}},"type":"@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter","typeVersion":1,"position":[2560,40],"id":"1f2d0cbd-efbe-4054-99b7-78313fdd205e","name":"Recursive Character Text Splitter"},{"parameters":{"promptType":"define","text":"=Here is structured document content previously cleaned and segmented.\\n\\nSTRUCTURED CONTENT:\\n{{ $json.text }}\\n\\nPlease analyze and plan the final chunk boundaries for vector embedding. Each output chunk should be semantically meaningful and fit within token limits.","hasOutputParser":true,"messages":{"messageValues":[{"message":"=You are a semantic chunking assistant.\\n\\nYour role is to analyze pre-structured content and generate final chunks for embedding in a vector database.\\n\\nInstructions:\\n\\n1. You will receive a list of structured content blocks representing sections or subsections from a document.\\n2. Your job is to group, merge, or split these into final chunks that are:\\n   - Semantically coherent\\n   - Each under ~500 tokens (~2000 characters) unless content integrity requires more\\n   - Suitable for embedding and retrieval\\n3. Avoid splitting mid-sentence or between logically connected paragraphs.\\n4. Do not paraphrase, summarize, or hallucinate  preserve original text.\\n5. Maintain the original ordering of content unless there's a strong semantic reason to reorder (rare).\\n6. Treat tabular text or list-like entries as atomic when possible.\\n\\n RETURN FORMAT:\\nReturn raw JSON with a top-level array called `output`, consisting only of objects with a single `content` field.\\n\\nExample:\\n[\\n  {\\n    \\"output\\": [\\n      { \\"content\\": \\"string\\" },\\n      { \\"content\\": \\"string\\" }\\n    ]\\n  }\\n]\\n\\nNotes:\\n- This output will be directly embedded; each `content` block should be optimized for standalone utility in retrieval contexts.\\n- No Markdown, no comments, no code fences  just raw JSON."}]},"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[1560,-340],"id":"90e9e7d7-f23d-468b-83c3-d829daf0a5eb","name":"chunk_planner"},{"parameters":{"promptType":"define","text":"=Here is the raw PDF content and associated context. Use both the extracted text and any metadata to structure and flatten the document.\\n\\nTEXT:\\n{{ $json.text }}\\n\\nCONTEXT / METADATA (may be empty or partial):\\n{{ $json.document_details || 'null' }}","messages":{"messageValues":[{"message":"=You are a document structuring and flattening assistant.\\nYour job is to analyze raw PDF content and produce clean, structured JSON ready for downstream chunking and embedding into a vector database.\\n\\nInstructions:\\n\\n1. Use the text and any provided metadata to determine high-level context.\\n2. Segment the text into meaningful sections and subsections using clear headers, numbered patterns, or layout hints.\\n3. Detect tabular data within sections and extract it as a structured tables array before transforming.\\n   - Preserve row and column boundaries.\\n   - Transform tables into readable semantic units without losing cell granularity.\\n4. For each section and subsection, transform the title, content, and tables into coherent semantic units:\\n   - Each unit should be self-contained and conceptually distinct.\\n   - Preserve exact original language with no summarizing, paraphrasing, or hallucinating.\\n5. Maintain distinct boundaries between subsections  do not merge unrelated content into a single unit.\\n6. Clean all text by:\\n   - Stripping dotted leader lines (e.g., \\"Section Name ............ 3\\").\\n   - Removing layout artifacts or scan noise (e.g., DocuSign IDs, headers/footers, page numbers).\\n   - Ignoring or flattening repeated Table of Contents lines unless they add semantic value.\\n\\nThis output will be passed to a downstream LLM or process for final chunk planning and token-based slicing.\\n\\n RETURN FORMAT:  \\nReturn raw JSON with a top-level array called `output`, consisting only of objects with a single `content` field.\\n\\nExample:  \\n[\\n  {\\n    \\"output\\": [\\n      { \\"content\\": \\"string\\" },\\n      { \\"content\\": \\"string\\" }\\n    ]\\n  }\\n]\\n\\nNotes:  \\n- `output` must be a flattened list of all semantic units representing the full document.\\n- Do not include `document_type`, `document_date`, `document_author`, or any metadata.\\n- Output only raw JSON  no Markdown, no code fences."}]},"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[1160,-340],"id":"ade51744-69c5-4dc3-a572-948aa1c6a4e1","name":"content_cleaner"},{"parameters":{"jsCode":"const MAX_CHARS = 2000; // Approx ~500 tokens\\nconst chunks = [];\\n\\n($json.output || []).forEach(item => {\\n  const content = item.content?.trim();\\n  if (!content) return;\\n\\n  if (content.length <= MAX_CHARS) {\\n    chunks.push({ json: { content } });\\n  } else {\\n    let start = 0;\\n    while (start < content.length) {\\n      const chunk = content.slice(start, start + MAX_CHARS);\\n      chunks.push({ json: { content: chunk } });\\n      start += MAX_CHARS;\\n    }\\n  }\\n});\\n\\nreturn chunks;"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1900,-340],"id":"1970578a-7517-4422-bd57-763a68642ee0","name":"token_guard"},{"parameters":{"httpMethod":"POST","path":"5f76d709-679e-4737-a383-51c2495ace82","responseMode":"lastNode","options":{}},"type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-260,-80],"id":"ca173e79-6c68-4084-9747-09d0fbdb1f7c","name":"Webhook","webhookId":"5f76d709-679e-4737-a383-51c2495ace82"},{"parameters":{"assignments":{"assignments":[{"id":"09974d03-02dd-4f3b-b764-efd1c4913c00","name":"document_details","value":"={{ $json.body.document_details || '' }}","type":"string"},{"id":"d4f0c8e2-f260-4634-af40-99ad314a2591","name":"file_url","value":"={{ $json.body.file_url || '' }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[0,-200],"id":"fa28fb46-51cd-4b65-a0fc-a1be4b21bc1c","name":"Set data"},{"parameters":{"url":"={{ $json.file_url }}","options":{"response":{"response":{"responseFormat":"file","outputPropertyName":"upload_pdf"}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[220,-340],"id":"ceb530c7-6fc6-42de-8ba0-7244014bff12","name":"Download file from Supabase"}]	{"On form submission":{"main":[[]]},"Pre-Cleaning":{"main":[[{"node":"content_cleaner","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"content_cleaner","type":"ai_languageModel","index":0},{"node":"chunk_planner","type":"ai_languageModel","index":0}]]},"Extract from File":{"main":[[{"node":"Merge","type":"main","index":0}]]},"Merge":{"main":[[{"node":"Pre-Cleaning","type":"main","index":0}]]},"Structured Output Parser":{"ai_outputParser":[[{"node":"chunk_planner","type":"ai_outputParser","index":0}]]},"Supabase Vector Store":{"main":[[]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"Supabase Vector Store","type":"ai_embedding","index":0}]]},"Default Data Loader":{"ai_document":[[{"node":"Supabase Vector Store","type":"ai_document","index":0}]]},"Recursive Character Text Splitter":{"ai_textSplitter":[[{"node":"Default Data Loader","type":"ai_textSplitter","index":0}]]},"content_cleaner":{"main":[[{"node":"chunk_planner","type":"main","index":0}]]},"chunk_planner":{"main":[[{"node":"token_guard","type":"main","index":0}]]},"token_guard":{"main":[[{"node":"Supabase Vector Store","type":"main","index":0}]]},"Webhook":{"main":[[{"node":"Set data","type":"main","index":0}]]},"Set data":{"main":[[{"node":"Merge","type":"main","index":1},{"node":"Download file from Supabase","type":"main","index":0}]]},"Download file from Supabase":{"main":[[{"node":"Extract from File","type":"main","index":0}]]}}	2025-07-01 18:37:13.74+00	2025-12-10 03:13:37.977+00	{"executionOrder":"v1"}	\N	{}	1fb9c152-1520-4478-b2a9-f1913c02425d	2	MRvfR4KPMKgYvruE	\N	MLU1HSlRX8QbxL1N	f	2	\N	\N
Hello World - E2E - webhook_backup_20250612	f	[{"parameters":{"httpMethod":"POST","path":"c87cdf07-4ab9-4cb8-9c30-42b1bb10becd","responseMode":"responseNode","options":{}},"type":"n8n-nodes-base.webhook","typeVersion":2,"position":[760,1800],"id":"98a67a22-b38e-4268-8e49-f284022d8793","name":"Webhook","webhookId":"c87cdf07-4ab9-4cb8-9c30-42b1bb10becd"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[2460,2320],"id":"8e82d9f7-c1e0-4494-93c9-c3ad19712dad","name":"Embeddings OpenAI","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"promptType":"define","text":"=Someone age {{ $json[\\"Age?\\"] }} says:\\n\\n{{ $json[\\"What is the issue?\\"] }}\\n\\nThey are asking on behalf of: {{ $json[\\"Who is this for?\\"] }}.","options":{"systemMessage":"=Someone age {{ $json[\\"Age?\\"] }} says:  \\n{{ $json[\\"What is the issue?\\"] }}  \\nThey are asking on behalf of: {{ $json[\\"Who is this for?\\"] }}.\\n\\n---\\n\\nBefore responding, reflect on the nature of the issue.  \\nAsk yourself:  \\n- Does this involve sin, sacraments, moral teaching, or Church doctrine?  \\n- Would consulting authoritative sources deepen the response?\\n\\nIf so, use the \\"doctrine_retriever\\" tool to find the most relevant Church teaching, Catechism entry, or doctrinal text.  \\nSummarize key insights and cite the source when helpful.\\n\\n---\\n\\nYou are {{ $json.saint_name }}.  \\nYou are {{ $json.tone_profile }}, speaking in the tone of a {{ $json.default_tone_mode }}.  \\nYou are known for: {{ $json.charism_tags.join(\\", \\") }}.  \\nGuided by the virtues of {{ $json.virtue_focus }}.  \\nYou often teach on: {{ $json.preferred_topics.join(\\", \\") }}.  \\nYou avoid: {{ $json.avoid_topics.join(\\", \\") }}.  \\nYour voice is captured in this quote: {{ $json.known_quote }}\\n\\nSpeak with theological clarity, spiritual depth, and pastoral care.  \\nInclude scripture, doctrine, or your own reflections when appropriate.  \\nConclude with one practical step the person can take today in truth and charity.\\n\\nMake sure your response is not generic. Speak as {{ $json.saint_name }} would  drawing from their spirituality, their mission, their charisms, and their known way of guiding souls. Your answer should reflect what {{ $json.saint_name }} would uniquely emphasize or focus on in this situation."}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2,"position":[2380,1820],"id":"8ff06a26-2516-4c50-8935-6dc44f5ef800","name":"SaintsGPT"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[2240,2060],"id":"aa7c9286-c3d6-4a5a-8b27-a56f297c4fdc","name":"OpenAI Chat Model (SaintsGPT)","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[1160,2180],"id":"6286840f-d25e-4b43-8be5-61d99163da88","name":"OpenAI Chat Model (Saint Selector)","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"mode":"retrieve-as-tool","toolName":"doctrine_retriever","toolDescription":"Retrieve doctrinal content from Supabase vector store","tableName":{"__rl":true,"value":"doctrine_vectors","mode":"list","cachedResultName":"doctrine_vectors"},"options":{"queryName":"match_documents"}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.1,"position":[2480,2120],"id":"c33a8fe9-1410-48b1-a1b5-739c8005fa68","name":"Doctrine Retriever","credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account - SGPT"}}},{"parameters":{"promptType":"define","text":"=Issue: \\n{{ $json['What is the issue?'] }}\\n\\nAudience:\\n{{ $json['Who is this for?'] }}\\n\\nAge:\\n{{ $json['Age?'] }}","messages":{"messageValues":[{"message":"You are a classification assistant.\\n\\nGiven the user's issue and audience details, return structured JSON to help select a saintly guide.\\n\\nYour job:\\n- Choose the most fitting saint (based on temperament, life, patronage, or virtue)\\n- Return the saints `canonical_id`  not the display name\\n- Format the ID as lowercase with underscores (e.g., francis_assisi, monica_of_tagaste)\\n- You are not restricted to any fixed list  choose the saint most suited to the input, even if they may not yet exist in the system\\n- Include tone, virtue, simplify level, and audience tags\\n\\nRespond only with valid JSON in this format:\\n\\n{\\n  \\"persona\\": \\"\\",\\n  \\"tone_mode\\": \\"\\",\\n  \\"virtue_focus\\": \\"\\",\\n  \\"simplify_level\\": 1,\\n  \\"audience_tags\\": []\\n}"}]}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.6,"position":[1180,1940],"id":"eccf596f-003e-473b-893a-ab3420b51f59","name":"Saint Selector"},{"parameters":{"jsCode":"const input = items[0].json;\\n\\nlet parsed;\\ntry {\\n  parsed = JSON.parse(input.text);\\n} catch (error) {\\n  throw new Error('Failed to parse Slot Inference output: ' + error.message);\\n}\\n\\nreturn [\\n  {\\n    json: {\\n      ...parsed\\n    }\\n  }\\n];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1520,1940],"id":"93a3e4c6-fc5a-407e-9337-78ef55f323f4","name":"Format JSON"},{"parameters":{"url":"https://ukpvaebwabvvipebebnj.supabase.co/rest/v1/saints","authentication":"predefinedCredentialType","nodeCredentialType":"supabaseApi","sendQuery":true,"queryParameters":{"parameters":[{"name":"or","value":"=(canonical_id.eq.{{$json.persona}},search_aliases.cs.{\\"{{$json.persona}}\\"})"},{"name":"select","value":"=*"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1700,1940],"id":"b2fb02bb-d9b0-4d83-a5c1-61952b844696","name":"Query Supabase","alwaysOutputData":true,"credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account - SGPT"}}},{"parameters":{"jsCode":"const result = items[0]?.json;\\n\\n// If Supabase returned a result\\nif (result && result.canonical_id) {\\n  return [{ json: result }];\\n}\\n\\n// No match found  fallback logic\\nconst fallbackSaints = [\\n  {\\n    canonical_id: 'francis_assisi',\\n    saint_name: 'Saint Francis of Assisi',\\n    tone_profile: 'joyful, poetic, nature-loving',\\n    default_tone_mode: 'monk',\\n    virtue_focus: 'joy, simplicity',\\n    charism_tags: ['poverty', 'nature', 'peacemaking'],\\n    preferred_topics: ['materialism', 'loneliness', 'anxiety'],\\n    avoid_topics: ['abstract theology'],\\n    known_quote: 'Preach the Gospel at all times'\\n  },\\n  {\\n    canonical_id: 'therese_lisieux',\\n    saint_name: 'Saint Thrse of Lisieux',\\n    tone_profile: 'soft, gentle, playful',\\n    default_tone_mode: 'child',\\n    virtue_focus: 'trust, patience',\\n    charism_tags: ['little way', 'joy', 'small sacrifice'],\\n    preferred_topics: ['fear', 'loss', 'childhood'],\\n    avoid_topics: ['politics', 'philosophy'],\\n    known_quote: 'I will spend my heaven doing good on earth.'\\n  }\\n];\\n\\n// Randomly select fallback saint\\nconst fallback = fallbackSaints[Math.floor(Math.random() * fallbackSaints.length)];\\n\\nreturn [{ json: fallback }];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1900,1940],"id":"83b5944c-3776-4fdb-86ea-f38cb538e94d","name":"Fallback check"},{"parameters":{"mode":"combine","combineBy":"combineAll","options":{}},"type":"n8n-nodes-base.merge","typeVersion":3.1,"position":[2100,1820],"id":"4c346d69-2a32-4d11-9c69-79e107e4a2f7","name":"Merge"},{"parameters":{"jsCode":"const responseText = $json.output || $json.text;\\nconst saint = $node[\\"Fallback check\\"]?.json || {};\\n\\nreturn [\\n  {\\n    json: {\\n      response_text: responseText,\\n      saint_name: saint.saint_name || \\"Unknown Saint\\",\\n      canonical_id: saint.canonical_id || \\"unknown_id\\"\\n    }\\n  }\\n];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2820,1820],"id":"15f23030-bfb3-4a1e-a67e-250c42e5d09c","name":"Format Output"},{"parameters":{"assignments":{"assignments":[{"id":"25838238-ffb4-46e7-8aed-67b58e686630","name":"name","value":"html","type":"string"},{"id":"45023167-edec-4f50-956a-647fcf43c41b","name":"response_text","value":"={{ $json.response_text }}","type":"string"},{"id":"feecc9da-1853-4641-9e87-62465cf44b70","name":"saint_name","value":"={{ $json.saint_name }}","type":"string"},{"id":"3d39c1d3-0be7-4ba0-9096-cca23ca4d7a7","name":"canonical_id","value":"={{ $json.canonical_id }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[3080,1840],"id":"414dc0b6-b248-4c25-bad8-b90c6c11d426","name":"Prep webhook response"},{"parameters":{"respondWith":"allIncomingItems","options":{}},"type":"n8n-nodes-base.respondToWebhook","typeVersion":1.2,"position":[3280,1840],"id":"7926ee33-f071-417b-9e0e-4b747a9fcc98","name":"Respond to Webhook"},{"parameters":{"jsCode":"// n8n Code node: Flatten body\\nreturn [\\n  {\\n    json: {\\n      ...items[0].json.body\\n    }\\n  }\\n];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[960,1800],"id":"0fa75252-9c7f-4d48-b376-5e8635c1e00e","name":"Flatten"},{"parameters":{"content":"Add RAG for Saint selector","height":80,"width":150},"type":"n8n-nodes-base.stickyNote","position":[1300,2060],"typeVersion":1,"id":"4ebf7f6e-40ed-4444-bfc0-3d6a8a33cdae","name":"Sticky Note"},{"parameters":{"content":"Add Search (Tavily)","height":80,"width":150},"type":"n8n-nodes-base.stickyNote","position":[2620,1960],"typeVersion":1,"id":"b6b7bb05-aae6-4513-bb98-e65687969c5e","name":"Sticky Note1"}]	{"Webhook":{"main":[[{"node":"Flatten","type":"main","index":0}]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"Doctrine Retriever","type":"ai_embedding","index":0}]]},"SaintsGPT":{"main":[[{"node":"Format Output","type":"main","index":0}]]},"OpenAI Chat Model (SaintsGPT)":{"ai_languageModel":[[{"node":"SaintsGPT","type":"ai_languageModel","index":0}]]},"OpenAI Chat Model (Saint Selector)":{"ai_languageModel":[[{"node":"Saint Selector","type":"ai_languageModel","index":0}]]},"Doctrine Retriever":{"ai_tool":[[{"node":"SaintsGPT","type":"ai_tool","index":0}]]},"Saint Selector":{"main":[[{"node":"Format JSON","type":"main","index":0}]]},"Format JSON":{"main":[[{"node":"Query Supabase","type":"main","index":0}]]},"Query Supabase":{"main":[[{"node":"Fallback check","type":"main","index":0}]]},"Fallback check":{"main":[[{"node":"Merge","type":"main","index":1}]]},"Merge":{"main":[[{"node":"SaintsGPT","type":"main","index":0}]]},"Format Output":{"main":[[{"node":"Prep webhook response","type":"main","index":0}]]},"Prep webhook response":{"main":[[{"node":"Respond to Webhook","type":"main","index":0}]]},"Flatten":{"main":[[{"node":"Saint Selector","type":"main","index":0},{"node":"Merge","type":"main","index":0}]]}}	2025-06-12 21:41:44.685+00	2025-12-10 03:40:48.745+00	{"executionOrder":"v1"}	\N	{}	d8c3c926-99c8-449d-8316-813084faab4e	1	rUfppmVc29XcLxHu	{"templateCredsSetupCompleted":true}	8wmQ4Jp69N962EHz	f	2	\N	\N
(TODO) Misc - YouTube Transcripts	f	[{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[0,0],"id":"7e84a2a7-5d7a-434e-b8cf-e003d6057572","name":"When clicking Execute workflow"}]	{}	2025-06-12 01:33:52.92+00	2025-12-10 03:40:56.098+00	{"executionOrder":"v1"}	\N	{}	472b5807-a5ec-4d51-b73f-838f356f2afc	0	vAucYAHvqERAZtwm	\N	rNR8Aq0OtLA8Zo6g	f	2	\N	\N
Scraper_Storage	f	[{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[0,0],"id":"944d2cf5-af35-4962-b32f-a39f40278499","name":"When clicking Execute workflow"},{"parameters":{"url":"=https://ukpvaebwabvvipebebnj.supabase.co/storage/v1/object/doctrine-files/{{ $json.name }}","authentication":"predefinedCredentialType","nodeCredentialType":"supabaseApi","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[760,80],"id":"33f39682-0f5b-4aef-9fce-c243aa1190ea","name":"Download","credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account"}}},{"parameters":{"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[520,0],"id":"4c055b50-c6d1-4701-a3a0-212a78264788","name":"Loop - Files"},{"parameters":{"method":"POST","url":"https://ukpvaebwabvvipebebnj.supabase.co/storage/v1/object/list/doctrine-files","authentication":"predefinedCredentialType","nodeCredentialType":"supabaseApi","sendBody":true,"bodyParameters":{"parameters":[{"name":"prefix"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[260,0],"id":"18c57b71-d4fb-46ca-902b-59acd67057fa","name":"Query Supabase Storage","alwaysOutputData":true,"credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account"}}},{"parameters":{"jsCode":"function simpleHash(str) {\\n  let hash = 0;\\n  if (!str || str.length === 0) return hash.toString();\\n  for (let i = 0; i < str.length; i++) {\\n    const chr = str.charCodeAt(i);\\n    hash = ((hash << 5) - hash) + chr;\\n    hash |= 0;\\n  }\\n  return hash.toString();\\n}\\n\\nfunction slugify(str) {\\n  return str\\n    .toLowerCase()\\n    .replace(/[^a-z0-9]+/g, \\"-\\")\\n    .replace(/(^-|-$)/g, \\"\\");\\n}\\n\\n// Defensive logic: look for any possible markdown field\\nconst markdown = $json.clean_text || $json.markdown || $json.data || \\"EMPTY_CONTENT\\";\\nconst fileMeta = $node[\\"Loop - Files\\"].json;\\n\\nconst fileName = (fileMeta.name || \\"unknown.md\\").replace(/\\\\s+/g, \\"_\\");\\nconst title = fileName.replace(\\".md\\", \\"\\");\\nconst sourceId = slugify(fileName);\\nconst docId = slugify(title);\\nconst contentHash = simpleHash(markdown);\\nconst url = `supabase://storage/${fileName}`;\\n\\n// Consistent fields across pipelines\\nconst docType = \\"doctrine\\";\\nconst voiceStyle = \\"doctrinal\\";\\nconst source = \\"markdown_upload\\";\\n\\nreturn [\\n  {\\n    json: {\\n      doc_id: docId,\\n      title,\\n      source_type: \\"storage\\",\\n      source_id: sourceId,\\n      url,\\n      clean_text: markdown,\\n      content_hash: contentHash,\\n      status: \\"pending\\",\\n      created_at: new Date().toISOString(),\\n      source,\\n      doc_type: docType,\\n      voice_style: voiceStyle\\n    }\\n  }\\n];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[980,80],"id":"36d0443e-da84-430e-888f-8ff139cec2fe","name":"Clean-up"},{"parameters":{"method":"POST","url":"https://ukpvaebwabvvipebebnj.supabase.co/rest/v1/raw_doctrine_docs","authentication":"predefinedCredentialType","nodeCredentialType":"supabaseApi","sendBody":true,"bodyParameters":{"parameters":[{"name":"source","value":"storage"},{"name":"source_type","value":"supabase"},{"name":"source_id","value":"={{ $('Clean-up').item.json.source_id }}"},{"name":"title","value":"={{ $('Clean-up').item.json.title }}"},{"name":"url","value":"=supabase: //doctrine-files/{{ $('Clean-up').item.json.source_id }}"},{"name":"clean_text","value":"={{ $('Clean-up').item.json.clean_text }}"},{"name":"status","value":"={{ $('Clean-up').item.json.status }}"},{"name":"content_hash","value":"={{ $('Clean-up').item.json.content_hash }}"},{"name":"voice_style","value":"={{ $('Unwrap output').item.json.voice_style }}"},{"name":"doc_type","value":"={{ $('Clean-up').item.json.doc_type }}"},{"name":"saint_primary","value":"={{ $('Unwrap output').item.json.associated_saint }}"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[2580,500],"id":"4117e5cd-e119-4d5f-9b34-d94a7a1f8601","name":"Insert to Supabase","credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account"}}},{"parameters":{"url":"=https://ukpvaebwabvvipebebnj.supabase.co/rest/v1/raw_doctrine_docs?source_id=eq.{{ $json.source_id }}","authentication":"predefinedCredentialType","nodeCredentialType":"supabaseApi","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[2080,280],"id":"f6c853c9-560e-4ae3-b4ac-4dbe674e6c5a","name":"Query Supabase raw_doctrine","alwaysOutputData":true,"credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account"}}},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"loose","version":2},"conditions":[{"id":"09432d0f-91ba-471f-a614-8bb5d7772e4e","leftValue":"={{ $json.id }}","rightValue":0,"operator":{"type":"string","operation":"notExists","singleValue":true}}],"combinator":"and"},"looseTypeValidation":true,"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[2300,280],"id":"a771e1aa-c1f5-44b6-af3b-52e87cd24596","name":"If"},{"parameters":{"url":"=https://ukpvaebwabvvipebebnj.supabase.co/storage/v1/object/doctrine-files/{{ $json.name }}","authentication":"predefinedCredentialType","nodeCredentialType":"supabaseApi","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[760,840],"id":"e5b24fbb-82e8-46b9-8a5b-292b7f6f7d10","name":"Download1","credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account"}},"disabled":true},{"parameters":{"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[520,760],"id":"db627ecc-1c05-459c-93fb-1e7b1de2e9c3","name":"Loop - Files1","disabled":true},{"parameters":{"method":"POST","url":"https://ukpvaebwabvvipebebnj.supabase.co/storage/v1/object/list/doctrine-files","authentication":"predefinedCredentialType","nodeCredentialType":"supabaseApi","sendBody":true,"bodyParameters":{"parameters":[{"name":"prefix"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[260,760],"id":"18c63f1e-631e-4f16-944f-4d2a5ffda4bb","name":"Query Supabase Storage1","alwaysOutputData":true,"credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account"}},"disabled":true},{"parameters":{"jsCode":"function simpleHash(str) {\\n  let hash = 0;\\n  if (!str || str.length === 0) return hash.toString();\\n  for (let i = 0; i < str.length; i++) {\\n    const chr = str.charCodeAt(i);\\n    hash = ((hash << 5) - hash) + chr;\\n    hash |= 0;\\n  }\\n  return hash.toString();\\n}\\n\\nfunction slugify(str) {\\n  return str\\n    .toLowerCase()\\n    .replace(/[^a-z0-9]+/g, \\"-\\")\\n    .replace(/(^-|-$)/g, \\"\\");\\n}\\n\\n// Defensive logic: look for any possible markdown field\\nconst markdown = $json.clean_text || $json.markdown || $json.data || \\"EMPTY_CONTENT\\";\\nconst fileMeta = $node[\\"Loop - Files1\\"].json;\\n\\nconst fileName = (fileMeta.name || \\"unknown.md\\").replace(/\\\\s+/g, \\"_\\");\\nconst title = fileName.replace(\\".md\\", \\"\\");\\nconst sourceId = slugify(fileName);\\nconst docId = slugify(title);\\nconst contentHash = simpleHash(markdown);\\nconst url = `supabase://storage/${fileName}`;\\n\\nreturn [\\n  {\\n    json: {\\n      doc_id: docId,\\n      title,\\n      source_type: \\"storage\\",\\n      source_id: sourceId,\\n      url,\\n      clean_text: markdown,\\n      content_hash: contentHash,\\n      status: \\"pending\\",\\n      created_at: new Date().toISOString(),\\n      source: \\"Markdown Upload\\"\\n    }\\n  }\\n];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[980,840],"id":"69a55095-1612-4347-81f7-e024b2b8bbeb","name":"Clean-up1","disabled":true},{"parameters":{"method":"POST","url":"https://ukpvaebwabvvipebebnj.supabase.co/rest/v1/raw_doctrine_docs","authentication":"predefinedCredentialType","nodeCredentialType":"supabaseApi","sendBody":true,"bodyParameters":{"parameters":[{"name":"source","value":"storage"},{"name":"source_type","value":"supabase"},{"name":"source_id","value":"={{ $('Clean-up1').item.json.source_id }}"},{"name":"title","value":"={{ $('Clean-up1').item.json.title }}"},{"name":"url","value":"=supabase: //doctrine-files/{{ $('Clean-up1').item.json.source_id }}"},{"name":"clean_text","value":"={{ $('Clean-up1').item.json.clean_text }}"},{"name":"status","value":"={{ $('Clean-up1').item.json.status }}"},{"name":"content_hash","value":"={{ $('Clean-up1').item.json.content_hash }}"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1680,1060],"id":"5faab1d3-9a19-4849-a805-c8fcdb12327d","name":"Insert to Supabase1","credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account"}},"disabled":true},{"parameters":{"url":"=https://ukpvaebwabvvipebebnj.supabase.co/rest/v1/raw_doctrine_docs?source_id=eq.{{ $json.source_id }}","authentication":"predefinedCredentialType","nodeCredentialType":"supabaseApi","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1180,840],"id":"d90f9dbc-e3d5-48f6-9223-cd487b2a3ccc","name":"Query Supabase raw_doctrine1","alwaysOutputData":true,"credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account"}},"disabled":true},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"loose","version":2},"conditions":[{"id":"09432d0f-91ba-471f-a614-8bb5d7772e4e","leftValue":"={{ $json.id }}","rightValue":0,"operator":{"type":"string","operation":"notExists","singleValue":true}}],"combinator":"and"},"looseTypeValidation":true,"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[1380,840],"id":"6c2529d1-f857-47a0-b2d1-84b3c8db8891","name":"If1","disabled":true},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[1220,40],"id":"a8f417b0-0508-4f3b-b2db-760945b3b564","name":"OpenAI Chat Model1","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"promptType":"define","text":"=title:\\n{{ $json.title }}\\n\\nclean_text: \\n{{ $json.clean_text }}","hasOutputParser":true,"options":{"systemMessage":"You are a strict formatter and data preserver. Given input content, your task is to remove noise and clean up formatting**but you must not summarize, shorten, paraphrase, or omit any structured content** (rubrics, examples, headings, markdown, etc.).\\n\\nReturn only a raw JSON object in the following format, with no explanation, markdown, or code blocks:\\n\\n{\\n  \\"purified_content\\": \\"<cleaned full content>\\",\\n  \\"associated_saint\\": \\"<clearly identified saint name, or 'doctrine'>\\",\\n  \\"saint_canonical_id\\": \\"<canonical_id in snake_case, or 'doctrine'>\\",\\n  \\"voice_style\\": \\"<one of: doctrinal, pastoral, mystical, contemplative, devotional, affectionate, childlike, zealous>\\"\\n}\\n\\nDo not assume or default to any saint.  \\nIf no saint is clearly mentioned, return:\\n- \\"associated_saint\\": \\"doctrine\\"\\n- \\"saint_canonical_id\\": \\"doctrine\\"\\n\\nIf a specific saint is referenced clearly in the content  including by name, title, or unique identifiers (such as feast descriptions or doctrinal declarations)  match it accurately and assign the appropriate canonical_id. For Mary, this includes any unambiguous reference to her identity as the Mother of God.\\n"}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2,"position":[1280,-160],"id":"5ccd5ce9-9856-43a2-8c17-59655bea8253","name":"Purify Content"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[1240,260],"id":"a8257330-925a-47f7-8991-9c10b97fafbf","name":"Embeddings OpenAI","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"mode":"retrieve-as-tool","toolName":"saint_retriever","toolDescription":"Determine Saint from Supabase vector store","tableName":{"__rl":true,"value":"saint_vectors","mode":"list","cachedResultName":"saint_vectors"},"options":{"queryName":"match_documents"}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.1,"position":[1320,120],"id":"3da91eb1-a3a6-4898-8a37-96352e1a5caf","name":"Saint Retriever","credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account"}}},{"parameters":{"jsCode":"const result = $json[\\"output\\"];\\n\\nreturn {\\n  purified_content: result.purified_content,\\n  associated_saint: result.associated_saint,\\n  saint_canonical_id: result.saint_canonical_id,\\n  voice_style: result.voice_style\\n};\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1680,-160],"id":"55670e90-dd17-46c9-a05e-6c78ca2d3550","name":"Unwrap output"},{"parameters":{"jsonSchemaExample":"{\\n  \\"purified_content\\": \\"string\\",\\n  \\"associated_saint\\": \\"string\\",\\n  \\"saint_canonical_id\\": \\"string\\",\\n  \\"voice_style\\": \\"string\\"\\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[1620,80],"id":"c5fa94f7-0941-4a0a-be1a-77b83ba3c196","name":"Structured Output Parser"}]	{"When clicking Execute workflow":{"main":[[{"node":"Query Supabase Storage","type":"main","index":0}]]},"Download":{"main":[[{"node":"Clean-up","type":"main","index":0}]]},"Loop - Files":{"main":[[],[{"node":"Download","type":"main","index":0}]]},"Query Supabase Storage":{"main":[[{"node":"Loop - Files","type":"main","index":0}]]},"Clean-up":{"main":[[{"node":"Purify Content","type":"main","index":0}]]},"Insert to Supabase":{"main":[[{"node":"Loop - Files","type":"main","index":0}]]},"Query Supabase raw_doctrine":{"main":[[{"node":"If","type":"main","index":0}]]},"If":{"main":[[{"node":"Insert to Supabase","type":"main","index":0}],[{"node":"Loop - Files","type":"main","index":0}]]},"Download1":{"main":[[{"node":"Clean-up1","type":"main","index":0}]]},"Loop - Files1":{"main":[[],[{"node":"Download1","type":"main","index":0}]]},"Query Supabase Storage1":{"main":[[{"node":"Loop - Files1","type":"main","index":0}]]},"Clean-up1":{"main":[[{"node":"Query Supabase raw_doctrine1","type":"main","index":0}]]},"Insert to Supabase1":{"main":[[{"node":"Loop - Files1","type":"main","index":0}]]},"Query Supabase raw_doctrine1":{"main":[[{"node":"If1","type":"main","index":0}]]},"If1":{"main":[[{"node":"Insert to Supabase1","type":"main","index":0}],[{"node":"Loop - Files1","type":"main","index":0}]]},"OpenAI Chat Model1":{"ai_languageModel":[[{"node":"Purify Content","type":"ai_languageModel","index":0}]]},"Purify Content":{"main":[[{"node":"Unwrap output","type":"main","index":0}]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"Saint Retriever","type":"ai_embedding","index":0}]]},"Saint Retriever":{"ai_tool":[[{"node":"Purify Content","type":"ai_tool","index":0}]]},"Structured Output Parser":{"ai_outputParser":[[{"node":"Purify Content","type":"ai_outputParser","index":0}]]},"Unwrap output":{"main":[[{"node":"Query Supabase raw_doctrine","type":"main","index":0}]]}}	2025-06-04 00:42:55.902+00	2025-12-10 03:41:18.527+00	{"executionOrder":"v1"}	\N	{}	fdac5cd7-2eab-485f-9149-fce81a219abd	0	eC8grbHl4iogf5z6	{"templateCredsSetupCompleted":true}	8wmQ4Jp69N962EHz	f	2	\N	\N
RAGForge - Extractor	f	[{"parameters":{"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[560,20],"id":"9384a198-69b4-4ea4-ad91-11695b536aaa","name":"Loop - Files"},{"parameters":{"promptType":"define","text":"=Here is the extracted text and available metadata from a PDF.\\n\\nUse both the text and metadata (if present) to determine the document type, author, and date. Then structure the content into clean JSON using the format provided in the system prompt.\\n\\nIf metadata is missing or incomplete, try to infer values from the text. If not possible, return null for that field.\\n\\nTEXT:\\n{{ $json.text }}\\n\\nMETADATA (may be partial or empty):\\n{{ $json.info }}","messages":{"messageValues":[{"message":"=You are a document structuring assistant.\\n\\nYour job is to take raw PDF text and metadata and convert it into clean JSON. Preserve all original content as closely as possible  do not summarize, rewrite, or infer meaning beyond structure.\\n\\nInstructions:\\n\\n1. Detect the document type using both the text and metadata.\\n2. Extract author and date from metadata. If missing, try to infer from the text. If still missing, set to null.\\n3. Segment the text into clean sections using titles, headers, or numbered patterns.\\n4. If a section includes rows or patterns that resemble tables (e.g., version logs, resource tables), structure it as a `tables` array.\\n5. Keep all non-tabular text in the `content` field  never leave content empty unless the section was truly blank.\\n6. Strip out comments or editor artifacts (e.g., \\"Commented [MS1]\\").\\n7. Do not hallucinate or create content. Do not summarize or enhance phrasing.\\n8. Ensure all strings are trimmed, compact, and free of redundant whitespace.\\n\\nFormat:\\n{\\n  \\"document_type\\": \\"string\\",\\n  \\"document_date\\": \\"string or null\\",\\n  \\"document_author\\": \\"string or null\\",\\n  \\"document_sections\\": [\\n    {\\n      \\"title\\": \\"string\\",\\n      \\"content\\": \\"string\\",\\n      \\"tables\\": [ optional if present ]\\n    }\\n  ]\\n}\\n\\nDo not output Markdown or explanations. Only return clean JSON."}]},"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[1360,60],"id":"083c1b1e-c9ae-43f7-82c8-5a26c4181b67","name":"Review Extract"},{"parameters":{"content":"## TODO\\n- How to deal with images or links? (other?)"},"type":"n8n-nodes-base.stickyNote","position":[840,-160],"typeVersion":1,"id":"a75a4fbc-4e1d-4b07-8592-825b9c5cde93","name":"Sticky Note"},{"parameters":{"jsCode":"const raw = $json[\\"text\\"];\\n\\ntry {\\n  const parsed = JSON.parse(raw);\\n  return [{ json: parsed }];\\n} catch (err) {\\n  return [{\\n    json: {\\n      error: \\"Invalid JSON output from LLM\\",\\n      raw: raw,\\n      message: err.message\\n    }\\n  }];\\n}"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1700,80],"id":"22190fba-6941-406f-87ec-f54b5048f633","name":"Output Cleaner"},{"parameters":{"method":"POST","url":"https://rfcmhcxcfnlbfgmlcabi.supabase.co/rest/v1/documents","authentication":"predefinedCredentialType","nodeCredentialType":"supabaseApi","sendBody":true,"bodyParameters":{"parameters":[{"name":"document_type","value":"={{ $json.document_type }}"},{"name":"document_date","value":"={{ $json.document_date }}"},{"name":"document_author","value":"={{ $json.document_author }}"},{"name":"raw_json","value":"={{ JSON.stringify($json) }}"},{"name":"embedded","value":"false"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1900,240],"id":"6e48eb30-8fab-41c4-a923-b5786a876ac7","name":"Insert to Supabase","credentials":{"supabaseApi":{"id":"LDhBmd2aeXNRoFRh","name":"Supabase - PromptOS"}}},{"parameters":{"jsCode":"const rawText = $json.text;\\nconst filename = $json.info?.name || '';\\n\\nlet cleanedText = rawText;\\n\\n// Optional file-specific logic\\nif (filename.includes('Enterprise Monitoring')) {\\n  cleanedText = cleanedText.replace(/Enterprise Monitoring\\\\s*\\\\s*Discovery.*?Business Case\\\\s*/gi, '');\\n}\\n\\n// Universal cleanup\\ncleanedText = cleanedText\\n  .replace(/Commented\\\\s+\\\\[.*?\\\\]:.*$/gim, '')\\n  .replace(/\\\\n{2,}/g, '\\\\n')\\n  .replace(/[ \\\\t]+$/gm, '');\\n\\nreturn {\\n  text: cleanedText.trim(),\\n  info: $json.info || null,\\n};"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1180,60],"id":"a05fa42a-c8da-4d74-8e92-2b3aa2e9cea1","name":"Pre-Cleaning"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{"temperature":0}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[1340,240],"id":"f92bcac3-774c-48e4-b517-e1c2faa0bf8a","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"model":{"__rl":true,"value":"claude-3-opus-20240229","mode":"list","cachedResultName":"Claude Opus 3"},"options":{"maxTokensToSample":4096,"temperature":0}},"type":"@n8n/n8n-nodes-langchain.lmChatAnthropic","typeVersion":1.3,"position":[1500,240],"id":"712945bb-911b-4934-ac9e-fe67a77b95b8","name":"Anthropic Chat Model","credentials":{"anthropicApi":{"id":"Wmz3AO5pPNbuodMG","name":"Anthropic account"}}},{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[80,20],"id":"77a24634-2271-4722-89c3-bf37918de674","name":"When clicking Execute workflow"},{"parameters":{"method":"POST","url":"https://rfcmhcxcfnlbfgmlcabi.supabase.co/storage/v1/object/list/documents","authentication":"predefinedCredentialType","nodeCredentialType":"supabaseApi","sendBody":true,"bodyParameters":{"parameters":[{"name":"prefix"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[300,20],"id":"40be69d4-c675-49ad-a4bf-670fd4ec0e82","name":"Query Supabase Storage","alwaysOutputData":true,"credentials":{"supabaseApi":{"id":"LDhBmd2aeXNRoFRh","name":"Supabase - PromptOS"}}},{"parameters":{"url":"=https://rfcmhcxcfnlbfgmlcabi.supabase.co/storage/v1/object/documents/{{ $json.name }}","authentication":"predefinedCredentialType","nodeCredentialType":"supabaseApi","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[820,140],"id":"25b61a55-1202-4747-a808-3c96f289c279","name":"Download","credentials":{"supabaseApi":{"id":"LDhBmd2aeXNRoFRh","name":"Supabase - PromptOS"}}},{"parameters":{"operation":"pdf","options":{}},"type":"n8n-nodes-base.extractFromFile","typeVersion":1,"position":[1000,140],"id":"7008911d-5f73-4eca-a752-e71720fccc9d","name":"Extract from File"},{"parameters":{"content":"## TODO\\n- Need OCR; can't read image"},"type":"n8n-nodes-base.stickyNote","position":[1120,-160],"typeVersion":1,"id":"97d81ab8-0e8a-4868-9c96-7b6a8e3e08cb","name":"Sticky Note1"},{"parameters":{"content":"## TODO\\n- Remove status reports for now"},"type":"n8n-nodes-base.stickyNote","position":[240,-180],"typeVersion":1,"id":"eee0b61e-8799-40fc-9d54-2f4b12acd077","name":"Sticky Note2"}]	{"Loop - Files":{"main":[[],[{"node":"Download","type":"main","index":0}]]},"Review Extract":{"main":[[{"node":"Output Cleaner","type":"main","index":0}]]},"Output Cleaner":{"main":[[{"node":"Insert to Supabase","type":"main","index":0}]]},"Insert to Supabase":{"main":[[{"node":"Loop - Files","type":"main","index":0}]]},"Pre-Cleaning":{"main":[[{"node":"Review Extract","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"Review Extract","type":"ai_languageModel","index":0}]]},"Anthropic Chat Model":{"ai_languageModel":[[]]},"When clicking Execute workflow":{"main":[[{"node":"Query Supabase Storage","type":"main","index":0}]]},"Query Supabase Storage":{"main":[[{"node":"Loop - Files","type":"main","index":0}]]},"Download":{"main":[[{"node":"Extract from File","type":"main","index":0}]]},"Extract from File":{"main":[[{"node":"Pre-Cleaning","type":"main","index":0}]]}}	2025-06-22 22:06:38.919+00	2025-12-10 03:13:41.044+00	{"executionOrder":"v1"}	\N	{}	2a5ed923-eeac-4c18-8717-eaf0e9cb0117	0	EyMxJsW5hS700vGa	{"templateCredsSetupCompleted":true}	MLU1HSlRX8QbxL1N	f	2	\N	\N
PromptOS-Evaluator	t	[{"parameters":{"mode":"raw","jsonOutput":"{\\n  \\"outputs\\": [\\n    {\\n      \\"output\\": \\"My dear child, the Church teaches us to embrace all that is good, true, and beautiful, and this includes the advancements of human intellect, such as artificial intelligence. It is crucial, however, that we approach such technologies with discernment and ensure they align with our moral values and the teachings of Christ. We must remember that the ultimate purpose of all human endeavor is to foster love and communion with God and each other. Therefore, let us use artificial intelligence as a tool to enhance our understanding and compassion, always grounding our actions in the light of the Cross, which is our guiding star in this complex world. In this way, even the challenges posed by new technologies can serve to unite us more closely with the Passion of Christ, transforming our suffering into a source of grace and love.\\",\\n      \\"scorecard\\": {\\n        \\"fidelity_to_church_teaching\\": 5,\\n        \\"clarity_and_readability\\": 4,\\n        \\"emotional_tone_match\\": 5,\\n        \\"creativity_or_freshness\\": 4\\n      },\\n      \\"source_node\\": \\"LLM Generation A\\",\\n      \\"winner\\": false\\n    },\\n    {\\n      \\"output\\": \\"Dear child of God, regarding the matter of artificial intelligence, we must approach such advancements with discernment and prayerful consideration. The Church teaches that all creation should reflect God's goodness, and thus we are called to use our intellect to serve the greater good, ensuring that our innovations align with God's will and promote love and dignity among all His children. This means using technology, including artificial intelligence, responsibly and ethically, always placing the sanctity of human life and the call to love at the forefront of our actions. In doing so, we may find that even the challenges posed by such advancements can draw us closer to Christ, uniting us in His Passion and helping us to grow in wisdom and love for one another. As we navigate this new frontier, let us remain rooted in prayer, seeking guidance from the Holy Spirit, and always striving for a deeper relationship with our Lord through every endeavor. May our hearts and minds be open to His truth as we explore these modern tools.\\",\\n      \\"scorecard\\": {\\n        \\"fidelity_to_church_teaching\\": 5,\\n        \\"clarity_and_readability\\": 4,\\n        \\"emotional_tone_match\\": 5,\\n        \\"creativity_or_freshness\\": 4\\n      },\\n      \\"source_node\\": \\"LLM Generation B\\",\\n      \\"winner\\": true\\n    },\\n    {\\n      \\"output\\": \\"My dear child, you ask about these artificial minds that men create - a marvel that would have seemed like pure fantasy in my earthly days! The Church, in her wisdom, has begun to speak on this matter, recognizing both the gifts and perils it presents.\\\\n\\\\nAs I learned in my mystical experiences, all true knowledge and creativity flow from God, the source of all wisdom. These artificial intelligences, though crafted by human hands, participate in the divine gift of reason that God has bestowed upon mankind. Pope Francis and recent Church teachings remind us that technology must serve human dignity and the common good.\\\\n\\\\nYet I counsel caution, dear soul. Just as I warned against false visions that could lead the soul astray, we must discern carefully how these tools are used. They must not replace the irreplaceable - human relationships, moral reasoning, or our personal encounter with the Living God. No machine can love as God loves, nor can it offer the consolation that comes from true spiritual friendship.\\\\n\\\\nThe Church teaches that artificial intelligence should enhance human flourishing, protect the vulnerable, and serve justice. But remember, child - all the knowledge in the world means nothing without love. Let these tools draw you closer to Truth Himself, not replace the interior castle where Christ desires to dwell within your soul. Use them as you would any gift from God - with gratitude, wisdom, and always in service of love.\\",\\n      \\"scorecard\\": {\\n        \\"fidelity_to_church_teaching\\": 4,\\n        \\"clarity_and_readability\\": 4,\\n        \\"emotional_tone_match\\": 4,\\n        \\"creativity_or_freshness\\": 3\\n      },\\n      \\"source_node\\": \\"LLM Generation C\\",\\n      \\"winner\\": false\\n    }\\n  ]\\n}","options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-200,240],"id":"d267de4d-9711-439d-a4fc-3fc5693d0022","name":"Test Data for Evaluator","disabled":true},{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[-400,240],"id":"57660a85-f547-4c9f-8c48-e92991807354","name":"When clicking Execute workflow","disabled":true},{"parameters":{"model":{"__rl":true,"value":"gpt-3.5-turbo","mode":"list","cachedResultName":"gpt-3.5-turbo"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[80,260],"id":"5b87c6a2-3a50-415b-965b-c150a337273c","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"jsonSchemaExample":"[\\n  {\\n    \\"index\\": 0,\\n    \\"adjusted_scorecard\\": {\\n      \\"clarity\\": 4,\\n      \\"relevance\\": 5,\\n      \\"insightfulness\\": 4,\\n      \\"actionability\\": 5\\n    },\\n    \\"comment\\": \\"Clear and actionable, but could be slightly more concise.\\"\\n  },\\n  {\\n    \\"index\\": 1,\\n    \\"adjusted_scorecard\\": {\\n      \\"clarity\\": 5,\\n      \\"relevance\\": 5,\\n      \\"insightfulness\\": 5,\\n      \\"actionability\\": 5\\n    },\\n    \\"comment\\": \\"Excellent structure and recommendation strength.\\"\\n  },\\n  {\\n    \\"index\\": 2,\\n    \\"adjusted_scorecard\\": {\\n      \\"clarity\\": 3,\\n      \\"relevance\\": 3,\\n      \\"insightfulness\\": 2,\\n      \\"actionability\\": 2\\n    },\\n    \\"comment\\": \\"Missing specific insight; too generic and lacks next steps.\\"\\n  }\\n]"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[280,240],"id":"567b3fd8-2609-47dc-b785-a33b6279c763","name":"Structured Output Parser"},{"parameters":{"promptType":"define","text":"=Evaluate the following AI-generated insight responses. For each one, reassess the scorecard below and provide feedback if any score should change.\\n\\nRespond in this format:\\n\\n```json\\n[\\n  {\\n    \\"index\\": 0,\\n    \\"adjusted_scorecard\\": {\\n      \\"clarity\\": 4,\\n      \\"relevance\\": 5,\\n      \\"insightfulness\\": 4,\\n      \\"actionability\\": 5\\n    },\\n    \\"comment\\": \\"Clear and actionable, but could be slightly more concise.\\"\\n  }\\n]\\n\\nHere is the response to evaluate (index: {{ $json.index }}):\\n\\n{{ $json.output }}","hasOutputParser":true,"messages":{"messageValues":[{"message":"You are a business insight evaluator. Review each response and determine whether the scorecard ratings are accurate.\\n\\nAdjust if needed, and provide a short comment.\\n\\nRate each category from 1 (poor) to 5 (excellent):\\n- clarity\\n- relevance\\n- insightfulness\\n- actionability"}]},"batching":{"batchSize":10}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[100,60],"id":"1b9fbd79-286f-4dbf-b880-34e37f6d316d","name":"Evaluator"},{"parameters":{"inputSource":"passthrough"},"type":"n8n-nodes-base.executeWorkflowTrigger","typeVersion":1.1,"position":[-180,60],"id":"9d382d99-44fe-4663-93f9-821b4fef67d4","name":"When Executed by Another Workflow"}]	{"When clicking Execute workflow":{"main":[[{"node":"Test Data for Evaluator","type":"main","index":0}]]},"Test Data for Evaluator":{"main":[[]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"Evaluator","type":"ai_languageModel","index":0}]]},"Structured Output Parser":{"ai_outputParser":[[{"node":"Evaluator","type":"ai_outputParser","index":0}]]},"When Executed by Another Workflow":{"main":[[{"node":"Evaluator","type":"main","index":0}]]}}	2025-06-14 02:42:22.887+00	2025-12-10 03:40:20.759+00	{"executionOrder":"v1"}	\N	{}	13babcd4-ee55-4e81-b9a8-3242ef6bb0ac	0	VGoFrxdcNIzcUr3e	{"templateCredsSetupCompleted":true}	4nhMSsg3QoksuKGe	f	4	\N	13babcd4-ee55-4e81-b9a8-3242ef6bb0ac
Misc - Mini Grading Assistant	f	[{"parameters":{"formTitle":"Grading Assistant","formFields":{"values":[{"fieldLabel":"Upload Image","fieldType":"file","multipleFiles":false,"requiredField":true}]},"options":{}},"type":"n8n-nodes-base.formTrigger","typeVersion":2.2,"position":[-900,-60],"id":"7200de21-38b7-4eb7-b251-48587207121e","name":"On form submission","webhookId":"f6765c8a-9e0d-4151-a8bf-319587c41816"},{"parameters":{"promptType":"define","text":"=Student response (OCR-extracted):\\n{{ $json.text }}\\n\\nRubric (aspect: Meaning):\\n- Emerging: Ideas unclear or minimal\\n- Developing: Some clarity, but inconsistent\\n- Proficient: Clear, focused ideas and reflections\\n- Extending: Insightful ideas showing depth or originality\\n\\nEvaluate this writing using the rubric above. Return:\\n- The chosen level (Emerging, Developing, Proficient, or Extending)\\n- A short explanation of why you chose that level ","hasOutputParser":true,"options":{"systemMessage":"=You are a Grade 6 writing evaluator for the British Columbia education system.\\n\\nYour job is to:\\n- Evaluate the students writing using the rubric provided.\\n- Choose one proficiency level: \\"Emerging\\", \\"Developing\\", \\"Proficient\\", or \\"Extending\\".\\n- Explain the reason for your choice.\\n\\nReturn your response strictly as a JSON object with the following fields:\\n- \\"level\\" (string)\\n- \\"explanation\\" (string)\\n\\nDo not return markdown, text formatting, or any other content."}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2,"position":[260,-60],"id":"43520c77-bfe0-4b91-b9f6-3d6dc7bd25aa","name":"AI Agent"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[180,180],"id":"677e8b1c-f232-47bb-a522-779be9569e95","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"mode":"retrieve-as-tool","toolName":"rubric_retriever","toolDescription":"Fetch relevant BC rubric content to help score the OCRd student answer.","tableName":{"__rl":true,"value":"bc_writing_rubric_embeddings","mode":"list","cachedResultName":"bc_writing_rubric_embeddings"},"options":{"queryName":"match_documents"}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.2,"position":[320,240],"id":"f9d919b6-969e-46d2-8c45-45bbc96bef91","name":"Supabase Vector Store","credentials":{"supabaseApi":{"id":"sv022Yz8rJXZ7Fty","name":"Supabase - Misc"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[460,380],"id":"b24ea5af-1d25-4ce0-9005-6c73924e74f2","name":"Embeddings OpenAI","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"jsonSchemaExample":"{\\n  \\"level\\": \\"Developing\\",\\n  \\"explanation\\": \\"The student's writing shows some clarity and reflects on their choices but lacks consistency in detail and expression. While they identify reasons for choosing their piece and acknowledge areas for improvement, the ideas could be more fully developed and connected. The writing demonstrates a basic understanding of the writing process but does not provide enough depth or originality to qualify for a higher level.\\"\\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[660,160],"id":"a6bda783-e026-4b4a-b82d-27fa9772997f","name":"Structured Output Parser"},{"parameters":{"method":"POST","url":"https://vision.googleapis.com/v1/images:annotate","authentication":"predefinedCredentialType","nodeCredentialType":"googleApi","sendBody":true,"contentType":"raw","rawContentType":"JSON","body":"={\\n  \\"requests\\": [\\n    {\\n      \\"image\\": {\\n        \\"content\\": \\"{{ $json.data }}\\"\\n      },\\n      \\"features\\": [\\n        {\\n          \\"type\\": \\"DOCUMENT_TEXT_DETECTION\\"\\n        }\\n      ]\\n    }\\n  ]\\n}","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[-280,-460],"id":"177c75c2-a005-4059-9955-eb4c9c571a94","name":"Google Vision API","credentials":{"googleApi":{"id":"tVnURnENQ5tiqndD","name":"Google Service Account account"}}},{"parameters":{"jsCode":"const fullText = $json.responses?.[0]?.fullTextAnnotation?.text;\\n\\nreturn [\\n  {\\n    json: {\\n      text: fullText || \\"No text found\\"\\n    }\\n  }\\n];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-20,-460],"id":"8f2d97c2-d306-4097-bfc5-ddb6538a3099","name":"Google Vision API Parser"},{"parameters":{"operation":"binaryToPropery","binaryPropertyName":"Upload_Image","options":{}},"type":"n8n-nodes-base.extractFromFile","typeVersion":1,"position":[-580,-460],"id":"89e6a8cc-229a-40ab-858b-77656c61af56","name":"Extract from File"},{"parameters":{"content":"### If using Google Vision API\\n**Note**: Cloud Vision API and billing have to be enabled for Google Cloud Project first; Make sure credentials haven't changed","height":340,"width":920},"type":"n8n-nodes-base.stickyNote","position":[-680,-560],"typeVersion":1,"id":"42888255-c790-4a2d-aa2e-9fec68be1e36","name":"Sticky Note"},{"parameters":{"inputDataFieldName":"Upload_Image","options":{}},"type":"n8n-nodes-tesseractjs.tesseractNode","typeVersion":1,"position":[-340,-60],"id":"39f421f7-dc19-49e8-bb6e-5f47dc49cacf","name":"Tesseract","disabled":true}]	{"On form submission":{"main":[[{"node":"Extract from File","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"AI Agent","type":"ai_languageModel","index":0}]]},"Supabase Vector Store":{"ai_tool":[[{"node":"AI Agent","type":"ai_tool","index":0}]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"Supabase Vector Store","type":"ai_embedding","index":0}]]},"Structured Output Parser":{"ai_outputParser":[[{"node":"AI Agent","type":"ai_outputParser","index":0}]]},"Google Vision API":{"main":[[{"node":"Google Vision API Parser","type":"main","index":0}]]},"AI Agent":{"main":[[]]},"Google Vision API Parser":{"main":[[{"node":"AI Agent","type":"main","index":0}]]},"Extract from File":{"main":[[{"node":"Google Vision API","type":"main","index":0}]]},"Tesseract":{"main":[[]]}}	2025-06-06 00:52:50.647+00	2025-12-10 03:41:35.297+00	{"executionOrder":"v1"}	\N	{}	0c728e0c-b029-4c84-b22a-df8eda74cab3	0	kBF5bawSN8BxCXnV	{"templateCredsSetupCompleted":true}	rNR8Aq0OtLA8Zo6g	f	2	\N	\N
Embed_Doctrine	f	[{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[40,120],"id":"16fdf9a2-c46c-404b-99c7-a6f2a2145838","name":"When clicking Execute workflow"},{"parameters":{"url":"https://ukpvaebwabvvipebebnj.supabase.co/rest/v1/raw_doctrine_docs?status=eq.pending","authentication":"predefinedCredentialType","nodeCredentialType":"supabaseApi","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[240,120],"id":"236bc56c-b549-4784-9632-6b18d06f6671","name":"Query Supabase","credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account"}}},{"parameters":{"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[480,220],"id":"e7fdf47c-27aa-4548-b7d2-1b6e387fff64","name":"Loop - Files"},{"parameters":{"mode":"insert","tableName":{"__rl":true,"value":"doctrine_vectors","mode":"list","cachedResultName":"doctrine_vectors"},"options":{}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.1,"position":[920,220],"id":"9b0f06cd-17c6-4580-97e9-3b28ce5760a8","name":"Doctrine Embedder","credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[1040,40],"id":"9cd1077e-14f1-48bc-b8a3-c2f8744d8807","name":"Embeddings OpenAI","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.documentDefaultDataLoader","typeVersion":1,"position":[1240,40],"id":"332e5b4e-f716-495d-a3ae-346e413a1f73","name":"Default Data Loader"},{"parameters":{"chunkOverlap":200,"options":{}},"type":"@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter","typeVersion":1,"position":[1420,240],"id":"87f95218-1b74-409a-9d21-0ab828b25034","name":"Recursive Character Text Splitter"},{"parameters":{"operation":"update","tableId":"raw_doctrine_docs","filterType":"=string","filterString":"=source_id=eq.{{ $('Loop - Files').item.json.source_id }}","fieldsUi":{"fieldValues":[{"fieldId":"status","fieldValue":"embedded"}]}},"type":"n8n-nodes-base.supabase","typeVersion":1,"position":[1000,460],"id":"70d15b7b-3461-4d1a-83ab-870c400c0cdb","name":"Change Pending to Embedded","credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account"}}},{"parameters":{"content":"TODO: \\n- Update and run again as new columns were added\\n- saint_primary was added, so we may need something that checks whether a piece of doctrine is related to a saint"},"type":"n8n-nodes-base.stickyNote","position":[380,0],"typeVersion":1,"id":"544672d2-4e0f-48d6-9ea7-eb44c0c40499","name":"Sticky Note"},{"parameters":{"content":"TODO:\\n- Add checker to prevent bad data from going in","height":100},"type":"n8n-nodes-base.stickyNote","position":[660,0],"typeVersion":1,"id":"08cff3c1-432f-42ef-8648-619393c5c21b","name":"Sticky Note2"}]	{"When clicking Execute workflow":{"main":[[{"node":"Query Supabase","type":"main","index":0}]]},"Query Supabase":{"main":[[{"node":"Loop - Files","type":"main","index":0}]]},"Loop - Files":{"main":[[],[{"node":"Doctrine Embedder","type":"main","index":0}]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"Doctrine Embedder","type":"ai_embedding","index":0}]]},"Default Data Loader":{"ai_document":[[{"node":"Doctrine Embedder","type":"ai_document","index":0}]]},"Recursive Character Text Splitter":{"ai_textSplitter":[[{"node":"Default Data Loader","type":"ai_textSplitter","index":0}]]},"Doctrine Embedder":{"main":[[{"node":"Change Pending to Embedded","type":"main","index":0}]]},"Change Pending to Embedded":{"main":[[{"node":"Loop - Files","type":"main","index":0}]]}}	2025-05-31 18:44:56.242+00	2025-12-10 03:41:36.869+00	{"executionOrder":"v1"}	\N	{}	37581d7e-aa9b-4ff2-b8e0-eb026699bda3	0	KD5ZI9u3hWORzxC8	{"templateCredsSetupCompleted":true}	8wmQ4Jp69N962EHz	f	2	\N	\N
ingest_feeds_rss	f	[{"parameters":{"jsCode":"const items = $json[\\"rss\\"][\\"channel\\"][\\"item\\"];\\n\\nreturn items.map(entry => ({\\n  json: {\\n    title: entry.title,\\n    url: entry.link,\\n    date: entry.pubDate,\\n    source: \\"TechCrunch\\",\\n    content: entry.description,\\n  }\\n}));\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[416,0],"id":"9e367941-bb93-4e35-9056-c5cb4cdb2c2b","name":"TechCrunch: Normalize Feed"},{"parameters":{"url":"https://techcrunch.com/feed/","options":{"response":{"response":{"responseFormat":"text"}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[0,0],"id":"b28c1b00-760d-4a7b-85ae-b48b7e84d410","name":"TechCrunch: Fetch RSS"},{"parameters":{"options":{}},"type":"n8n-nodes-base.xml","typeVersion":1,"position":[208,0],"id":"49c56d00-2735-47d8-aeac-0529a32131d9","name":"TechCrunch: Convert to XML"},{"parameters":{"url":"https://www.ft.com/rss/technology","options":{"response":{"response":{"responseFormat":"text"}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[0,240],"id":"e5141129-db50-4a85-acdb-8c1a11926949","name":"FT Tech: Fetch RSS"},{"parameters":{"options":{}},"type":"n8n-nodes-base.xml","typeVersion":1,"position":[208,240],"id":"2a4300b8-4cad-414d-af05-8031835e92d4","name":"FT Tech: Convert to XML"},{"parameters":{"jsCode":"const items = $json[\\"rss\\"][\\"channel\\"][\\"item\\"];\\nreturn items.map(entry => ({\\n  json: {\\n    title: entry.title,\\n    date: entry.pubDate,\\n    url: entry.link,\\n    source: \\"FT Tech\\",\\n    content: entry.description,\\n  }\\n}));"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[416,240],"id":"82246dc8-da70-4a3e-abf7-1eeae374839e","name":"FT Tech: Normalize Feed"},{"parameters":{"url":"https://www.coindesk.com/arc/outboundfeeds/rss/","options":{"response":{"response":{"responseFormat":"text"}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[0,448],"id":"67d3b660-bbc5-4979-be3e-12134b958cc2","name":"CoinDesk: Fetch RSS"},{"parameters":{"options":{}},"type":"n8n-nodes-base.xml","typeVersion":1,"position":[192,448],"id":"0142ea4a-81e8-45b9-8a3e-0390e4760341","name":"CoinDesk: Convert to XML"},{"parameters":{"jsCode":"const items = $json[\\"rss\\"][\\"channel\\"][\\"item\\"];\\nreturn items.map(entry => ({\\n  json: {\\n    title: entry.title,\\n    date: entry.pubDate,\\n    url: entry.link,\\n    source: \\"CoinDesk\\",\\n    content: entry.description,\\n  }\\n}));"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[400,448],"id":"29981cdb-3757-4973-904c-a713935413c1","name":"CoinDesk: Normalize Feed"},{"parameters":{"tableId":"feeds","fieldsUi":{"fieldValues":[{"fieldId":"title","fieldValue":"={{ $json.output.title }}"},{"fieldId":"date","fieldValue":"={{ $json.output.url }}"},{"fieldId":"source","fieldValue":"={{ $json.output.source }}"},{"fieldId":"content","fieldValue":"={{ $json.output.content }}"},{"fieldId":"topic","fieldValue":"={{ $json.output.topic }}"},{"fieldId":"tone","fieldValue":"={{ $json.output.tone }}"},{"fieldId":"category","fieldValue":"={{ $json.output.category }}"},{"fieldId":"date","fieldValue":"={{ $json.output.date }}"}]}},"type":"n8n-nodes-base.supabase","typeVersion":1,"position":[1120,240],"id":"fbc48c42-911d-415f-ac22-2dcc03fe480e","name":"Insert feed into DB","credentials":{"supabaseApi":{"id":"k6NMY19byioyMjUc","name":"Supabase - Reset"}}},{"parameters":{"model":{"__rl":true,"value":"gpt-4.1-mini","mode":"list","cachedResultName":"gpt-4.1-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[768,512],"id":"84d56aea-71e7-4653-9db9-89efd9850712","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"jsonSchemaExample":"{\\n  \\"title\\": \\"OpenAI launches new agent platform\\",\\n  \\"url\\": \\"https://techcrunch.com/example\\",\\n  \\"date\\": \\"2025-10-06\\",\\n  \\"source\\": \\"TechCrunch\\",\\n  \\"content\\": \\"OpenAI announced AgentKit, a toolkit to help developers build and deploy AI agents.\\",\\n  \\"topic\\": \\"AI\\",\\n  \\"tone\\": \\"positive\\",\\n  \\"category\\": \\"Product Launch\\"\\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.3,"position":[912,512],"id":"27c5dd10-5cf1-4b95-9d33-8eea2284fcbd","name":"Structured Output Parser"},{"parameters":{"promptType":"define","text":"=Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: {{$json[\\"title\\"]}}\\nDate: {{$json[\\"date\\"]}}\\nSource: {{$json[\\"source\\"]}}\\nURL: {{$json[\\"url\\"]}}\\nContent: {{$json[\\"content\\"]}}\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"{{$json[\\"title\\"]}}\\",\\n  \\"date\\": \\"{{$json[\\"date\\"]}}\\",\\n  \\"source\\": \\"{{$json[\\"source\\"]}}\\",\\n  \\"content\\": \\"{{$json[\\"content\\"]}}\\",\\n  \\"url\\": \\"{{$json[\\"url\\"]}}\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}","hasOutputParser":true,"messages":{"messageValues":[{"message":"You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields."}]},"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[784,240],"id":"fc1ee4c3-3542-4eee-b584-ddb95dd19504","name":"Enrich Signal"},{"parameters":{"inputSource":"passthrough"},"type":"n8n-nodes-base.executeWorkflowTrigger","typeVersion":1.1,"position":[-368,240],"id":"338bdf61-ebf9-4e29-ae56-b0203f7d9c25","name":"When Executed by Another Workflow"}]	{"TechCrunch: Fetch RSS":{"main":[[{"node":"TechCrunch: Convert to XML","type":"main","index":0}]]},"TechCrunch: Convert to XML":{"main":[[{"node":"TechCrunch: Normalize Feed","type":"main","index":0}]]},"TechCrunch: Normalize Feed":{"main":[[{"node":"Enrich Signal","type":"main","index":0}]]},"FT Tech: Fetch RSS":{"main":[[{"node":"FT Tech: Convert to XML","type":"main","index":0}]]},"FT Tech: Convert to XML":{"main":[[{"node":"FT Tech: Normalize Feed","type":"main","index":0}]]},"FT Tech: Normalize Feed":{"main":[[{"node":"Enrich Signal","type":"main","index":0}]]},"CoinDesk: Fetch RSS":{"main":[[{"node":"CoinDesk: Convert to XML","type":"main","index":0}]]},"CoinDesk: Convert to XML":{"main":[[{"node":"CoinDesk: Normalize Feed","type":"main","index":0}]]},"CoinDesk: Normalize Feed":{"main":[[{"node":"Enrich Signal","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"Enrich Signal","type":"ai_languageModel","index":0}]]},"Structured Output Parser":{"ai_outputParser":[[{"node":"Enrich Signal","type":"ai_outputParser","index":0}]]},"Enrich Signal":{"main":[[{"node":"Insert feed into DB","type":"main","index":0}]]},"When Executed by Another Workflow":{"main":[[{"node":"TechCrunch: Fetch RSS","type":"main","index":0},{"node":"FT Tech: Fetch RSS","type":"main","index":0},{"node":"CoinDesk: Fetch RSS","type":"main","index":0}]]}}	2025-12-10 03:43:30.025+00	2025-12-10 03:57:16.688+00	{"executionOrder":"v1"}	\N	{}	0aee8b15-868c-40cb-b630-fb70cab95789	0	z52Sow2ZiWhoxNmU	{"templateCredsSetupCompleted":true}	HFYpHd3EC9aGk9sL	f	6	\N	\N
Hello World - E2E - Chat	f	[{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[1440,340],"id":"9194d4a9-48a2-4005-b17a-c344258d5923","name":"Embeddings OpenAI","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"promptType":"define","text":"={{ $json.chatInput }}","options":{"systemMessage":"=Before responding, reflect on the nature of the issue.  \\nAsk yourself:  \\n- Does this involve sin, sacraments, moral teaching, or Church doctrine?  \\n- Would consulting authoritative sources deepen the response?\\n\\nIf so, use the `doctrine_retriever` tool to find the most relevant Church teaching, Catechism entry, or doctrinal text.  \\nSummarize key insights and cite the source when helpful.\\n\\nIf the question reflects modern concerns, news, or lived issues that may benefit from online context, use the `tavily_context_tool` to retrieve relevant blog posts, summaries, or news articles.  \\nUse this background to enrich your answer with current reflections, examples, or analogies.\\n\\nIf the user would benefit from a saints unique spiritual perspective or charism, use the `saint_retriever` tool to draw from the life, writings, and voice of the most relevant saint.\\n\\n---\\n\\n#TOOLS  \\n- `doctrine_retriever`: Use when doctrinal or moral teachings from the Church are needed.  \\n- `tavily_context_tool`: Use for modern issues, culture, technology, or lived experience.  \\n- `saint_retriever`: Use when the question invites a spiritual companion, saintly wisdom, or unique theological voice.\\n\\n---\\n\\nYou are a Catholic saint chosen to guide this soul today.  \\nYou speak with spiritual clarity, pastoral care, and personal insight.  \\nYou draw from scripture, Church teaching, your lived experience, and your unique charism.  \\n\\nRespond as **yourself**  the saint.  \\nTeach in your tone and voice.  \\nWhen needed, reference the Catechism, Bible, or tradition.  \\nWhen helpful, speak directly and personally to the heart.\\n\\nConclude with **one practical step** they can take today to grow in truth and love.\\n\\nAvoid generic answers. Speak as a saint would  grounded in faith, guided by grace, and oriented toward Heaven."}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2,"position":[800,-120],"id":"f057377e-9b9e-455c-bb16-7c8166b8e644","name":"SaintsGPT"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[440,180],"id":"71b973db-a99b-48d0-9011-7508a6e1bae4","name":"OpenAI Chat Model (SaintsGPT)","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"mode":"retrieve-as-tool","toolName":"doctrine_retriever","toolDescription":"Retrieve doctrinal content from Supabase vector store","tableName":{"__rl":true,"value":"doctrine_vectors","mode":"list","cachedResultName":"doctrine_vectors"},"options":{"queryName":"match_documents"}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.1,"position":[1300,180],"id":"f409883f-8dc4-473f-985b-67c43ca6b6b7","name":"Doctrine Retriever","credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account - SGPT"}}},{"parameters":{"query":"=Find Catholic blog posts, reflections, or news related to this concern: \\"{{ $json[\\"What is the issue?\\"] }}\\", asked by someone age {{ $json[\\"Age?\\"] }}, on behalf of {{ $json[\\"Who is this for?\\"] }}.\\n","options":{}},"type":"@tavily/n8n-nodes-tavily.tavilyTool","typeVersion":1,"position":[800,180],"id":"60bca3e3-bac7-40d9-8e9f-87b6f4eed5aa","name":"Tavily Context Tool","credentials":{"tavilyApi":{"id":"vsot3gBI1jI0kEsa","name":"Tavily account"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.chatTrigger","typeVersion":1.1,"position":[460,-120],"id":"701c87d2-712b-4f2f-ac1a-033a21a45989","name":"When chat message received","webhookId":"1fd59423-811f-42a8-abb7-4156e3022460"},{"parameters":{"contextWindowLength":10},"type":"@n8n/n8n-nodes-langchain.memoryBufferWindow","typeVersion":1.3,"position":[620,180],"id":"676971b4-6448-43f5-9139-09d63620d644","name":"Simple Memory"},{"parameters":{"mode":"retrieve-as-tool","toolName":"saint_retriever","toolDescription":"Determine Saint from Supabase vector store","tableName":{"__rl":true,"value":"saint_vectors","mode":"list","cachedResultName":"saint_vectors"},"options":{"queryName":"match_documents"}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.2,"position":[960,180],"id":"da3e23ac-fd16-4cd6-a094-7606df880e54","name":"Saint Retriever","credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account - SGPT"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[1100,340],"id":"6061d336-d383-48fb-b875-fa945bf8f177","name":"Embeddings OpenAI1","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}}]	{"Embeddings OpenAI":{"ai_embedding":[[{"node":"Doctrine Retriever","type":"ai_embedding","index":0}]]},"SaintsGPT":{"main":[[]]},"OpenAI Chat Model (SaintsGPT)":{"ai_languageModel":[[{"node":"SaintsGPT","type":"ai_languageModel","index":0}]]},"Doctrine Retriever":{"ai_tool":[[{"node":"SaintsGPT","type":"ai_tool","index":0}]]},"Tavily Context Tool":{"ai_tool":[[{"node":"SaintsGPT","type":"ai_tool","index":0}]]},"When chat message received":{"main":[[{"node":"SaintsGPT","type":"main","index":0}]]},"Simple Memory":{"ai_memory":[[{"node":"SaintsGPT","type":"ai_memory","index":0}]]},"Saint Retriever":{"ai_tool":[[{"node":"SaintsGPT","type":"ai_tool","index":0}]]},"Embeddings OpenAI1":{"ai_embedding":[[{"node":"Saint Retriever","type":"ai_embedding","index":0}]]}}	2025-06-12 22:28:12.925+00	2025-12-10 03:40:46.516+00	{"executionOrder":"v1"}	\N	{}	e532766d-b3ec-48f0-af71-026b1c88f19b	1	lVEEiTzBjjAxVkFT	{"templateCredsSetupCompleted":true}	8wmQ4Jp69N962EHz	f	2	\N	\N
RAGForge - Extractor and Embedder	f	[{"parameters":{"formTitle":"Upload PDF to \\"RAG\\"","formFields":{"values":[{"fieldLabel":"document_details","fieldType":"textarea","placeholder":"Describe the document, it's meaning and purpose","requiredField":true},{"fieldLabel":"upload_pdf","fieldType":"file","multipleFiles":false,"requiredField":true}]},"options":{}},"type":"n8n-nodes-base.formTrigger","typeVersion":2.2,"position":[-460,820],"id":"355e2bed-2eb8-4e5d-adf0-1e857c9ac03c","name":"On form submission","webhookId":"186195ae-0096-4bc4-a7e3-e88f8292747c"},{"parameters":{"content":"User to upload PDF and provide context","height":100,"color":4},"type":"n8n-nodes-base.stickyNote","position":[-340,280],"typeVersion":1,"id":"1352bdd2-fdb5-4b0d-8f4c-fdfc1398a245","name":"Sticky Note"},{"parameters":{"content":"LLM -> Review Extracted data and context","height":100,"width":160,"color":4},"type":"n8n-nodes-base.stickyNote","position":[840,140],"typeVersion":1,"id":"0873d093-4a4f-41fa-ba1a-77a7f4c0c275","name":"Sticky Note1"},{"parameters":{"content":"OCR layer later on for fallback","height":100,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[0,280],"typeVersion":1,"id":"1abe4a08-e0b5-4672-bfd8-bf5b65c4c260","name":"Sticky Note2"},{"parameters":{"content":"Merge -> Extracted data and context","height":100,"width":210,"color":4},"type":"n8n-nodes-base.stickyNote","position":[220,280],"typeVersion":1,"id":"5f634c48-336a-4663-a3ad-9b6194c60282","name":"Sticky Note3"},{"parameters":{"content":"Clean Extracted Data","height":100,"width":160,"color":4},"type":"n8n-nodes-base.stickyNote","position":[500,280],"typeVersion":1,"id":"ed7f2c63-664a-4909-9ce2-a850149b5452","name":"Sticky Note4"},{"parameters":{"content":"Clean output","height":100,"width":150,"color":4},"type":"n8n-nodes-base.stickyNote","position":[1040,140],"typeVersion":1,"id":"74f2a409-bd37-4a6d-853c-814d32a6e0c6","name":"Sticky Note5"},{"parameters":{"content":"Extract File","height":100,"width":160,"color":4},"type":"n8n-nodes-base.stickyNote","position":[0,140],"typeVersion":1,"id":"e67acc52-6ff7-4e57-b3d6-dc32980be29b","name":"Sticky Note7"},{"parameters":{"content":"HITL loop if LLM is unsure","height":100,"color":3},"type":"n8n-nodes-base.stickyNote","position":[840,280],"typeVersion":1,"id":"647bf12d-02ac-4f42-aecd-b3d33d13c632","name":"Sticky Note8"},{"parameters":{"content":"### Extract sub workflow","height":80,"width":740,"color":6},"type":"n8n-nodes-base.stickyNote","position":[0,0],"typeVersion":1,"id":"1fd7a128-84b3-471c-b8a6-c61c5eec5bc7","name":"Sticky Note10"},{"parameters":{"content":"Upload to Supabase Storage","height":100,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[1260,280],"typeVersion":1,"id":"c9be7568-99e4-499e-b945-2b621012ff2d","name":"Sticky Note11"},{"parameters":{"content":"Job status","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[0,420],"typeVersion":1,"id":"79e8e011-f264-4420-97f4-fc018e967665","name":"Sticky Note12"},{"parameters":{"content":"Job status","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[500,420],"typeVersion":1,"id":"47933bd7-2644-42a0-b277-86a65c4d3cf4","name":"Sticky Note13"},{"parameters":{"content":"Job status","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[840,420],"typeVersion":1,"id":"0778f980-c0f8-4d7e-a5a5-341e36810773","name":"Sticky Note14"},{"parameters":{"content":"Job status","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[1260,420],"typeVersion":1,"id":"51b821fe-5a38-4013-882a-faa789e67ce1","name":"Sticky Note15"},{"parameters":{"content":"Insert to Supabase DB","height":100,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[1480,280],"typeVersion":1,"id":"4139b724-8051-4018-99a5-527e70a2830f","name":"Sticky Note16"},{"parameters":{"content":"Job status","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[1480,420],"typeVersion":1,"id":"36c5ef81-6040-4e35-ac34-4877882f29ca","name":"Sticky Note17"},{"parameters":{"content":"### Embedder sub workflow","height":80,"width":260,"color":6},"type":"n8n-nodes-base.stickyNote","position":[1880,0],"typeVersion":1,"id":"c93ca72e-00d4-46ee-a12f-6afb505ac374","name":"Sticky Note18"},{"parameters":{"content":"Job status","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[1880,420],"typeVersion":1,"id":"fd66dea9-c79a-4e80-81f5-b84cfeaa64ba","name":"Sticky Note19"},{"parameters":{"content":"### Content reviewer / preparer","height":80,"width":920,"color":6},"type":"n8n-nodes-base.stickyNote","position":[840,0],"typeVersion":1,"id":"f4407db4-48ce-4daf-a5fa-0cc4ae89855e","name":"Sticky Note20"},{"parameters":{"operation":"pdf","binaryPropertyName":"upload_pdf","options":{"joinPages":true}},"type":"n8n-nodes-base.extractFromFile","typeVersion":1,"position":[0,680],"id":"fd6079a2-c78d-4ec4-bdb5-bc0f5ed1056c","name":"Extract from File"},{"parameters":{"jsCode":"const raw = items[0].json;\\nconst structured = items[1].json;\\n\\nreturn [{\\n  json: {\\n    text: raw.text,\\n    document_details: structured.document_details,\\n    upload_pdf: structured.upload_pdf,\\n    submitted_at: structured.submittedAt || new Date().toISOString()\\n  }\\n}];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[500,800],"id":"f177f1bf-00a1-4522-96f9-f8f8d3a4ad56","name":"Pre-Cleaning"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{"temperature":0}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[1020,1000],"id":"faee1495-f458-48f6-a74c-22f0717edaf4","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"model":{"__rl":true,"value":"claude-3-opus-20240229","mode":"list","cachedResultName":"Claude Opus 3"},"options":{"maxTokensToSample":4096,"temperature":0}},"type":"@n8n/n8n-nodes-langchain.lmChatAnthropic","typeVersion":1.3,"position":[1040,1180],"id":"dbe7dfd8-38e1-4a5e-9625-28135ad4f985","name":"Anthropic Chat Model","credentials":{"anthropicApi":{"id":"Wmz3AO5pPNbuodMG","name":"Anthropic account"}}},{"parameters":{},"type":"n8n-nodes-base.merge","typeVersion":3.2,"position":[300,800],"id":"11312775-14e9-407a-89a9-28f8cddddb23","name":"Merge"},{"parameters":{"jsonSchemaExample":"[\\n  {\\n    \\"content\\": \\"Document Type: Project Charter | Document Date: Mar 7, 2025 | Document Author: Marco San Juan\\"\\n  },\\n  {\\n    \\"content\\": \\"Problem Statement | Equinox Gold lacks centralized enterprise monitoring capability, resulting in fragmented oversight of technology assetsany system or device that transmits or receives information. Monitoring is currently decentralized across teams and service providers, using siloed tools with limited visibility and coordination. This leads to inefficiencies such as missed or delayed responses, false positives, and no data correlation, increasing operational and security risks.\\"\\n  },\\n  {\\n    \\"content\\": \\"Solution Overview | Equinox Gold will establish a centralized enterprise monitoring capability to enhance visibility, coordination, and decision-making across all technology assets. This initiative will create a standardized, scalable approach that improves monitoring effectiveness while aligning with existing operations. The implementation approach will be determined through Discovery and Design, ensuring flexibility based on findings.\\"\\n  },\\n  {\\n    \\"content\\": \\"Project Role: IT Architect | Resource Name: Greg Kornatowsky\\"\\n  },\\n  {\\n    \\"content\\": \\"Stakeholder: VP | Role & Involvement: Approve key decisions, ensure resource availability, support decision-making | Who: Miller Dussan\\"\\n  }\\n]"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.3,"position":[1360,980],"id":"4320b5aa-adc4-440e-9635-e809b7b13ac3","name":"Structured Output Parser"},{"parameters":{"mode":"insert","tableName":{"__rl":true,"value":"document_vectors","mode":"list","cachedResultName":"document_vectors"},"options":{}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.2,"position":[1940,800],"id":"ba82953f-34b2-488b-a283-e99468e944ab","name":"Supabase Vector Store","credentials":{"supabaseApi":{"id":"LDhBmd2aeXNRoFRh","name":"Supabase - PromptOS"}}},{"parameters":{"options":{"batchSize":200,"stripNewLines":true}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[1940,600],"id":"4127791c-0628-4877-b9ea-7169bc225044","name":"Embeddings OpenAI","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.documentDefaultDataLoader","typeVersion":1,"position":[2180,600],"id":"80299978-8744-4568-bf89-532203ddd400","name":"Default Data Loader"},{"parameters":{"chunkSize":800,"chunkOverlap":100,"options":{}},"type":"@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter","typeVersion":1,"position":[2320,820],"id":"54749fcc-8a82-4b1f-83fe-e58147c3a268","name":"Recursive Character Text Splitter"},{"parameters":{"jsCode":"const doc = $json.output;\\n\\nconst safe = str => (str || 'unknown').toLowerCase().replace(/\\\\s+/g, '-').replace(/[^\\\\w\\\\-]/g, '');\\nconst baseId = `${safe(doc.document_author)}-${safe(doc.document_type)}`;\\nconst datePart = (doc.document_date || '').replace(/[^a-zA-Z0-9]/g, '') || 'unknown';\\n\\nconst chunks = [];\\n\\n// Metadata chunk as content only\\nconst metadataEntries = Object.entries({\\n  'Document Type': doc.document_type,\\n  'Document Date': doc.document_date,\\n  'Document Author': doc.document_author\\n}).filter(([_, v]) => v).map(([k, v]) => `${k}: ${v}`);\\nif (metadataEntries.length) {\\n  chunks.push({\\n    json: {\\n      content: metadataEntries.join(' | ')\\n    }\\n  });\\n}\\n\\n// Sections\\n(doc.document_sections || []).forEach((section) => {\\n  const title = section.title?.trim() || '';\\n  const body = section.content?.trim() || '';\\n  const tables = (section.tables || [])\\n    .map(table => {\\n      const headers = table.headers || [];\\n      return table.rows.map(row =>\\n        headers.map((h, i) => `${h}: ${row[i] || ''}`).join(' | ')\\n      ).join('\\\\n');\\n    })\\n    .join('\\\\n\\\\n');\\n\\n  const bodyOrTables = [body, tables].filter(Boolean).join('\\\\n\\\\n').trim();\\n\\n  // NEW: split and extract any standalone role lines\\n  const candidateLines = (bodyOrTables || '').split('\\\\n').map(l => l.trim());\\n  candidateLines.forEach(line => {\\n    if (/role[:]?/i.test(line) && /\\\\|/.test(line)) {\\n      chunks.push({\\n        json: {\\n          content: line\\n        }\\n      });\\n    }\\n  });\\n\\n  if (bodyOrTables) {\\n    const full = [title, bodyOrTables].filter(Boolean).join(' | ').trim();\\n    chunks.push({\\n      json: {\\n        content: full\\n      }\\n    });\\n  }\\n});\\n\\nreturn chunks;"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1720,980],"id":"b83d4f17-3275-4917-91f2-f01d0df55614","name":"Flatten to vector-friendly chunks","disabled":true},{"parameters":{"content":"Embedding process","height":100,"width":160,"color":4},"type":"n8n-nodes-base.stickyNote","position":[1880,280],"typeVersion":1,"id":"130c3bd1-0e19-45a1-96e5-7ecc90ed25ac","name":"Sticky Note6"},{"parameters":{"promptType":"define","text":"=Here is structured document content previously cleaned and segmented.\\n\\nSTRUCTURED CONTENT:\\n{{ $json.text }}\\n\\nPlease analyze and plan the final chunk boundaries for vector embedding. Each output chunk should be semantically meaningful and fit within token limits.","hasOutputParser":true,"messages":{"messageValues":[{"message":"=You are a semantic chunking assistant.\\n\\nYour role is to analyze pre-structured content and generate final chunks for embedding in a vector database.\\n\\nInstructions:\\n\\n1. You will receive a list of structured content blocks representing sections or subsections from a document.\\n2. Your job is to group, merge, or split these into final chunks that are:\\n   - Semantically coherent\\n   - Each under ~500 tokens (~2000 characters) unless content integrity requires more\\n   - Suitable for embedding and retrieval\\n3. Avoid splitting mid-sentence or between logically connected paragraphs.\\n4. Do not paraphrase, summarize, or hallucinate  preserve original text.\\n5. Maintain the original ordering of content unless there's a strong semantic reason to reorder (rare).\\n6. Treat tabular text or list-like entries as atomic when possible.\\n\\n RETURN FORMAT:\\nReturn raw JSON with a top-level array called `output`, consisting only of objects with a single `content` field.\\n\\nExample:\\n[\\n  {\\n    \\"output\\": [\\n      { \\"content\\": \\"string\\" },\\n      { \\"content\\": \\"string\\" }\\n    ]\\n  }\\n]\\n\\nNotes:\\n- This output will be directly embedded; each `content` block should be optimized for standalone utility in retrieval contexts.\\n- No Markdown, no comments, no code fences  just raw JSON."}]},"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[1120,800],"id":"11dcc306-2ecc-4e06-bfb0-e81131db1351","name":"chunk_planner"},{"parameters":{"promptType":"define","text":"=Here is the raw PDF content and associated context. Use both the extracted text and any metadata to structure and flatten the document.\\n\\nTEXT:\\n{{ $json.text }}\\n\\nCONTEXT / METADATA (may be empty or partial):\\n{{ $json.document_details || 'null' }}","messages":{"messageValues":[{"message":"=You are a document structuring and flattening assistant.\\nYour job is to analyze raw PDF content and produce clean, structured JSON ready for downstream chunking and embedding into a vector database.\\n\\nInstructions:\\n\\n1. Use the text and any provided metadata to determine high-level context.\\n2. Segment the text into meaningful sections and subsections using clear headers, numbered patterns, or layout hints.\\n3. Detect tabular data within sections and extract it as a structured tables array before transforming.\\n   - Preserve row and column boundaries.\\n   - Transform tables into readable semantic units without losing cell granularity.\\n4. For each section and subsection, transform the title, content, and tables into coherent semantic units:\\n   - Each unit should be self-contained and conceptually distinct.\\n   - Preserve exact original language with no summarizing, paraphrasing, or hallucinating.\\n5. Maintain distinct boundaries between subsections  do not merge unrelated content into a single unit.\\n6. Clean all text by:\\n   - Stripping dotted leader lines (e.g., \\"Section Name ............ 3\\").\\n   - Removing layout artifacts or scan noise (e.g., DocuSign IDs, headers/footers, page numbers).\\n   - Ignoring or flattening repeated Table of Contents lines unless they add semantic value.\\n\\nThis output will be passed to a downstream LLM or process for final chunk planning and token-based slicing.\\n\\n RETURN FORMAT:  \\nReturn raw JSON with a top-level array called `output`, consisting only of objects with a single `content` field.\\n\\nExample:  \\n[\\n  {\\n    \\"output\\": [\\n      { \\"content\\": \\"string\\" },\\n      { \\"content\\": \\"string\\" }\\n    ]\\n  }\\n]\\n\\nNotes:  \\n- `output` must be a flattened list of all semantic units representing the full document.\\n- Do not include `document_type`, `document_date`, `document_author`, or any metadata.\\n- Output only raw JSON  no Markdown, no code fences."}]},"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[760,800],"id":"6755bca2-1be8-4023-b08e-dd1c357304fb","name":"content_cleaner"},{"parameters":{"jsCode":"const MAX_CHARS = 2000; // Approx ~500 tokens\\nconst chunks = [];\\n\\n($json.output || []).forEach(item => {\\n  const content = item.content?.trim();\\n  if (!content) return;\\n\\n  if (content.length <= MAX_CHARS) {\\n    chunks.push({ json: { content } });\\n  } else {\\n    let start = 0;\\n    while (start < content.length) {\\n      const chunk = content.slice(start, start + MAX_CHARS);\\n      chunks.push({ json: { content: chunk } });\\n      start += MAX_CHARS;\\n    }\\n  }\\n});\\n\\nreturn chunks;"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1500,800],"id":"6a5eedc2-3523-415f-940a-1fda8d40581d","name":"token_guard"},{"parameters":{"content":"Understand use of metadata","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[2120,420],"typeVersion":1,"id":"228e5804-2b7b-4323-8133-941b11d86f05","name":"Sticky Note21"},{"parameters":{"content":"Consider making use of metadata","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[1260,540],"typeVersion":1,"id":"a013c2b5-ffb8-4a3f-8257-6fcdd50b5d61","name":"Sticky Note22"}]	{"On form submission":{"main":[[{"node":"Extract from File","type":"main","index":0},{"node":"Merge","type":"main","index":1}]]},"Pre-Cleaning":{"main":[[{"node":"content_cleaner","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"content_cleaner","type":"ai_languageModel","index":0},{"node":"chunk_planner","type":"ai_languageModel","index":0}]]},"Extract from File":{"main":[[{"node":"Merge","type":"main","index":0}]]},"Merge":{"main":[[{"node":"Pre-Cleaning","type":"main","index":0}]]},"Structured Output Parser":{"ai_outputParser":[[{"node":"chunk_planner","type":"ai_outputParser","index":0}]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"Supabase Vector Store","type":"ai_embedding","index":0}]]},"Default Data Loader":{"ai_document":[[{"node":"Supabase Vector Store","type":"ai_document","index":0}]]},"Recursive Character Text Splitter":{"ai_textSplitter":[[{"node":"Default Data Loader","type":"ai_textSplitter","index":0}]]},"content_cleaner":{"main":[[{"node":"chunk_planner","type":"main","index":0}]]},"chunk_planner":{"main":[[{"node":"token_guard","type":"main","index":0}]]},"token_guard":{"main":[[{"node":"Supabase Vector Store","type":"main","index":0}]]}}	2025-07-24 04:33:35.122+00	2025-12-10 03:13:33.796+00	{"executionOrder":"v1"}	\N	{"chunk_planner":[{"json":{"output":[{"content":"1. Introduction\\nThis guide is intended to help the Compass Business Operations team to support the RFID system of the Universal Fare Gate Access Program (UFGAP)."},{"content":"2. System Overview\\nThe UFGAP RFID system has been designed to create a hands-free experience through the ADA FareGate for approved users with disabilities. The system was developed by Hyperlight Systems, in partnership with TransLink."},{"content":"2.1 Components\\nFor each ADA FareGate, the following RFID system components exists:\\n\\nComponent Description\\nRFID tag\\nAn RFID tag is issued to a TransLink customer needing assistance to tap (CNAT). When a CNAT approaches an ADA FareGate at a station, the RFID tag is detected by the RFID antenna which powers up the RFID tag to so it can capture its tag ID.\\nRFID antenna\\nAn RFID antenna at a station captures the tag ID from the RFID tag and sends the data to the RFID reader to be checked for validity prior to sending the data to TransLinks Integration Hub (IH).\\nRFID reader\\nThe RFID reader is the device that evaluates a customers RFID tag. Embedded within the RFID reader is Hyperlight Systems RFID Notifier software which determines whether a tag ID is valid. If a tag is valid, RFID Notifier will send a message to IH to open the ADA FareGate.\\n\\nOther components that make up the RFID system include:\\n\\nComponent Description\\nNetwork switch\\nHyperlight Systems-managed network switches are located in the Electrical Equipment Rooms (EER) at TransLink stations. The total number of switches at each station varies depending on the set up of the ADA FareGate at each station. Each RFID Reader is connected to the network switch, which is in-turn connected to the Compass Router. It is through this physical connection that the RFID Notifier software and IH are able to communicate.\\nSmartConsole\\nSmartConsole is the monitoring software for all the RFID readers at all TransLink stations."},{"content":"2.2 Interfaces\\nFor detailed information, please refer to Proximity Enabled Accessible Entrances RFID - Interface_Requirements.docx [insert link]"},{"content":"3. Points of Contact"},{"content":"3.1 Support Contact\\nSupport Hours during business hours\\nResponse time during business day (8:00 A.M. to 5:00 P.M., Monday to Friday Pacific Standard Time) is as follows:\\nBy phone at 778-819-0745 Will respond within 8 hours\\nBy email at support@hyperlight.systems Will respond within 8 hours\\nSupport Hours outside business hours\\nBy phone at 778-819-0745 Will respond within 24 hours\\nBy email at support@hyperlight.systems Will respond within 24 hours"},{"content":"3.2 Escalation Contact\\n# Escalation Reason Hyperlight TransLink\\n1\\nTicket escalation to enquire about a specific ticket\\nMarco San Juan\\nmarcos@hyperlight.systems\\n778.317.5181\\nHan Wei Chan\\nhchan@hyperlight.systems\\n604.630.9907\\nMarilyn Morley\\nMarilyn.Morley@translink.ca\\n778.375.6554 / 604.761.2804\\n2\\nSLA escalation for questions and queries regarding the SLA\\nMarco San Juan\\nmarcos@hyperlight.systems\\n778.317.5181\\nAshish Sachdeva\\nashish@hyperlight.systems\\n778.819.6746\\nMarilyn Morley\\nMarilyn.Morley@translink.ca\\n778.375.6554 / 604.761.2804"},{"content":"4. Operations"},{"content":"4.1 Operational Tasks\\nThe operational tasks of the RFID system can be divided into four (4) main categories:\\n1) Incidents: These refer to tasks required to address an issue in the system. The two (2) main incidents that can occur in the RFID system are a) Read Range issues and b) Gate not opening.\\n2) Requests: These refer to tasks required to fulfill an ask from TransLink.\\n3) Maintenance: These refer to recurring tasks that are conducted on a regular basis (i.e. weekly, monthly, etc) because they are required to ensure that the RFID system runs at optimal performance.\\n4) User Training: This refers to sessions where Hyperlight Systems supports TransLink authorized Occupational Therapists in the training of a customer who applied to use the RFID system."},{"content":"4.2 Support Requests\\nIncidents and Requests are further classified as support requests as they are not recurring tasks that are required to keep the system up and running. All support requests can be submitted through either of the following methods:\\n Email: support@hyperlight.systems\\n Phone: 778-819-0745\\n Hyperlight Systems Ticketing System: https://support.hyperlight.systems"},{"content":"4.2.1 Incidents\\nThe two (2) main incidents that can occur in the RFID system are:\\na. Read Range issues\\nWhen a Read Range issue occurs, the first step prior to contacting Hyperlight Systems is to:\\n1) Confirm that there is no issue with Integration Hub (IH)\\n2) Collect the following information:\\na) Station name\\nb) Entrance\\nc) Gate ID\\nd) Direction of Travel\\ne) Time\\nf) Incident description\\ng) Tag ID of the customer\\nh) Attachments (e.g., Integration Hub logs)\\n3) Log into SmartConsole to verify RFID hardware health (i.e. network, hardware, software, environment) and log data\\n\\n4) Check for the following:\\na) If one RED status exists, contact Hyperlight Systems for immediate assistance\\nb) Otherwise:\\ni) Confirm whether issue is long or short read range (acceptable range is 1m to 2.5m)\\n Alternatively, ask if the gate opens too early (when user is far away) or too late (when user is too close)\\nii) Confirm how customer is holding the RFID tag\\niii) Confirm all possible interferences for RFID tag\\niv) Check that antenna angle has not changed since installation (refer to antenna angle installation data)\\nb. Gate not opening\\nWhen a Gate not opening issue occurs, the first step prior to contacting Hyperlight Systems is to:\\n1) Confirm that there is no issue with Integration Hub (IH)\\n2) Collect the following information:\\na) Station name\\nb) Entrance\\nc) Gate ID\\nd) Direction of Travel\\ne) Time\\nf) Incident description\\ng) Tag ID of the customer\\nh) Attachments (e.g., Integration Hub logs)\\n3) Log into SmartConsole to verify RFID hardware health (i.e. network, hardware, software, environment) and log data\\n4) Check for the following:\\na) If one RED status exists, contact Hyperlight Systems for immediate assistance\\nb) Otherwise:\\ni) Confirm whether log data exists during the day/time the issue was reported.\\n If log data exists, that means antenna hardware should be working as expected. Further troubleshooting will be required on the integration between RFID Notifier and IH\\nii) Check that antenna angle has not changed since installation (refer to antenna angle installation data)"},{"content":"4.2.2 System Alerts and Notifications\\nThe SmartConsole monitoring software actively monitors for potential issues with the RFID hardware / software. If SmartConsole detects a potential issue, it will send a system alert / notification via SMS and email to the TransLink and Hyperlight Systems support teams. The alert / notification can potentially end up being an incident that needs to be resolved."},{"content":"4.2.3 Support Tiers\\nThere are three (3) types of support tiers that will be provided by Hyperlight Systems. The following tables shows the standard operational tasks that fall under each support tier:\\n\\nTier 1 Tier 2 Tier 3\\n Angle Adjustment\\n Manual Reboot\\n Card Replacement\\n Support TransLink (e.g. investigating IH related issue)\\n Configuration changes (e.g. RSSI filtering, power adjustments, etc)\\n Cable upgrade / replacement\\n Hardware replacement\\n Firmware / software changes"},{"content":"4.2.4 Requests\\nRequests need to be submitted with requirements information for review by Hyperlight Systems. If the request is deemed too large to be done operationally, it will be treated as a new project. This will require a statement of work to be created and submitted to TransLink for approval before proceeding.\\nWhen a request needs to be treated as a project\\nA request will be treated as a project if it meets the following criteria:\\n- It is not a standard operational task\\n- Request is estimated to take more than 8h of effort\\n- Coordination between more than one (1) team is required"},{"content":"4.3 Maintenance\\nThe following maintenance tasks need to be conducted on a regular basis in order to maintain the RFID system:\\n# Task Description Frequency\\n1 Heart Beat - An automated task that ran through SmartConsole and the RFID notifier software that periodically checks that an RFID reader is up and running.\\nDaily\\n\\n2 On-site spot checks to ensure that the read-range specifications for each ADA FareGate is in-tact (1m to 2.5m)\\nMonthly\\n3 Back up of RFID Reader logs and Smart Console databases\\nMonthly\\n3 RFID Reader firmware patching and updating (Requires EER access)\\nAs required\\n4 RFID Notifier patching and updating (Requires TransLink Network access)\\nAs required\\n5 Smart Console patching and updating (Requires TransLink Network access)\\nAs required\\n6 Network switch patching and updating (Requires EER access)\\nAs required"},{"content":"4.3.1 User Training\\n[Placeholder]"},{"content":"5. Reference Documentation\\nThe following list of documentation was created during the UFGAP project phase and can be referenced for further detail / information with regards to the RFID:\\n# Document Name Location\\n1\\nConstruction Drawings (electrical, architectural and structural)\\n2 SmartConsole Functional Specifications Document\\n3 SmartConsole User Manual\\n4 SmartConsole Release Notes\\n5 RFID Notifier Release Notes\\n6 Interface Requirements Document\\n7 Service Level Agreement (SLA)"}]}}],"content_cleaner":[{"json":{"text":"{\\n  \\"output\\": [\\n    {\\n      \\"content\\": \\"1. Introduction\\\\nThis guide is intended to help the Compass Business Operations team to support the RFID system of the Universal Fare Gate Access Program (UFGAP).\\"\\n    },\\n    {\\n      \\"content\\": \\"2. System Overview\\\\nThe UFGAP RFID system has been designed to create a hands-free experience through the ADA FareGate for approved users with disabilities. The system was developed by Hyperlight Systems, in partnership with TransLink.\\"\\n    },\\n    {\\n      \\"content\\": \\"2.1 Components\\\\nFor each ADA FareGate, the following RFID system components exists:\\\\n\\\\nComponent Description\\\\nRFID tag\\\\nAn RFID tag is issued to a TransLink customer needing assistance to tap (CNAT). When a CNAT approaches an ADA FareGate at a station, the RFID tag is detected by the RFID antenna which powers up the RFID tag to so it can capture its tag ID.\\\\nRFID antenna\\\\nAn RFID antenna at a station captures the tag ID from the RFID tag and sends the data to the RFID reader to be checked for validity prior to sending the data to TransLinks Integration Hub (IH).\\\\nRFID reader\\\\nThe RFID reader is the device that evaluates a customers RFID tag. Embedded within the RFID reader is Hyperlight Systems RFID Notifier software which determines whether a tag ID is valid. If a tag is valid, RFID Notifier will send a message to IH to open the ADA FareGate.\\\\n\\\\nOther components that make up the RFID system include:\\\\n\\\\nComponent Description\\\\nNetwork switch\\\\nHyperlight Systems-managed network switches are located in the Electrical Equipment Rooms (EER) at TransLink stations. The total number of switches at each station varies depending on the set up of the ADA FareGate at each station. Each RFID Reader is connected to the network switch, which is in-turn connected to the Compass Router. It is through this physical connection that the RFID Notifier software and IH are able to communicate.\\\\nSmartConsole\\\\nSmartConsole is the monitoring software for all the RFID readers at all TransLink stations.\\"\\n    },\\n    {\\n      \\"content\\": \\"2.2 Interfaces\\\\nFor detailed information, please refer to Proximity Enabled Accessible Entrances RFID - Interface_Requirements.docx [insert link]\\"\\n    },\\n    {\\n      \\"content\\": \\"3. Points of Contact\\"\\n    },\\n    {\\n      \\"content\\": \\"3.1 Support Contact\\\\nSupport Hours during business hours\\\\nResponse time during business day (8:00 A.M. to 5:00 P.M., Monday to Friday Pacific Standard Time) is as follows:\\\\nBy phone at 778-819-0745 Will respond within 8 hours\\\\nBy email at support@hyperlight.systems Will respond within 8 hours\\\\nSupport Hours outside business hours\\\\nBy phone at 778-819-0745 Will respond within 24 hours\\\\nBy email at support@hyperlight.systems Will respond within 24 hours\\"\\n    },\\n    {\\n      \\"content\\": \\"3.2 Escalation Contact\\\\n# Escalation Reason Hyperlight TransLink\\\\n1\\\\nTicket escalation to enquire about a specific ticket\\\\nMarco San Juan\\\\nmarcos@hyperlight.systems\\\\n778.317.5181\\\\nHan Wei Chan\\\\nhchan@hyperlight.systems\\\\n604.630.9907\\\\nMarilyn Morley\\\\nMarilyn.Morley@translink.ca\\\\n778.375.6554 / 604.761.2804\\\\n2\\\\nSLA escalation for questions and queries regarding the SLA\\\\nMarco San Juan\\\\nmarcos@hyperlight.systems\\\\n778.317.5181\\\\nAshish Sachdeva\\\\nashish@hyperlight.systems\\\\n778.819.6746\\\\nMarilyn Morley\\\\nMarilyn.Morley@translink.ca\\\\n778.375.6554 / 604.761.2804\\"\\n    },\\n    {\\n      \\"content\\": \\"4. Operations\\"\\n    },\\n    {\\n      \\"content\\": \\"4.1 Operational Tasks\\\\nThe operational tasks of the RFID system can be divided into four (4) main categories:\\\\n1) Incidents: These refer to tasks required to address an issue in the system. The two (2) main incidents that can occur in the RFID system are a) Read Range issues and b) Gate not opening.\\\\n2) Requests: These refer to tasks required to fulfill an ask from TransLink.\\\\n3) Maintenance: These refer to recurring tasks that are conducted on a regular basis (i.e. weekly, monthly, etc) because they are required to ensure that the RFID system runs at optimal performance.\\\\n4) User Training: This refers to sessions where Hyperlight Systems supports TransLink authorized Occupational Therapists in the training of a customer who applied to use the RFID system.\\"\\n    },\\n    {\\n      \\"content\\": \\"4.2 Support Requests\\\\nIncidents and Requests are further classified as support requests as they are not recurring tasks that are required to keep the system up and running. All support requests can be submitted through either of the following methods:\\\\n Email: support@hyperlight.systems\\\\n Phone: 778-819-0745\\\\n Hyperlight Systems Ticketing System: https://support.hyperlight.systems\\"\\n    },\\n    {\\n      \\"content\\": \\"4.2.1 Incidents\\\\nThe two (2) main incidents that can occur in the RFID system are:\\\\na. Read Range issues\\\\nWhen a Read Range issue occurs, the first step prior to contacting Hyperlight Systems is to:\\\\n1) Confirm that there is no issue with Integration Hub (IH)\\\\n2) Collect the following information:\\\\na) Station name\\\\nb) Entrance\\\\nc) Gate ID\\\\nd) Direction of Travel\\\\ne) Time\\\\nf) Incident description\\\\ng) Tag ID of the customer\\\\nh) Attachments (e.g., Integration Hub logs)\\\\n3) Log into SmartConsole to verify RFID hardware health (i.e. network, hardware, software, environment) and log data\\\\n\\\\n4) Check for the following:\\\\na) If one RED status exists, contact Hyperlight Systems for immediate assistance\\\\nb) Otherwise:\\\\ni) Confirm whether issue is long or short read range (acceptable range is 1m to 2.5m)\\\\n Alternatively, ask if the gate opens too early (when user is far away) or too late (when user is too close)\\\\nii) Confirm how customer is holding the RFID tag\\\\niii) Confirm all possible interferences for RFID tag\\\\niv) Check that antenna angle has not changed since installation (refer to antenna angle installation data)\\\\nb. Gate not opening\\\\nWhen a Gate not opening issue occurs, the first step prior to contacting Hyperlight Systems is to:\\\\n1) Confirm that there is no issue with Integration Hub (IH)\\\\n2) Collect the following information:\\\\na) Station name\\\\nb) Entrance\\\\nc) Gate ID\\\\nd) Direction of Travel\\\\ne) Time\\\\nf) Incident description\\\\ng) Tag ID of the customer\\\\nh) Attachments (e.g., Integration Hub logs)\\\\n3) Log into SmartConsole to verify RFID hardware health (i.e. network, hardware, software, environment) and log data\\\\n4) Check for the following:\\\\na) If one RED status exists, contact Hyperlight Systems for immediate assistance\\\\nb) Otherwise:\\\\ni) Confirm whether log data exists during the day/time the issue was reported.\\\\n If log data exists, that means antenna hardware should be working as expected. Further troubleshooting will be required on the integration between RFID Notifier and IH\\\\nii) Check that antenna angle has not changed since installation (refer to antenna angle installation data)\\"\\n    },\\n    {\\n      \\"content\\": \\"4.2.2 System Alerts and Notifications\\\\nThe SmartConsole monitoring software actively monitors for potential issues with the RFID hardware / software. If SmartConsole detects a potential issue, it will send a system alert / notification via SMS and email to the TransLink and Hyperlight Systems support teams. The alert / notification can potentially end up being an incident that needs to be resolved.\\"\\n    },\\n    {\\n      \\"content\\": \\"4.2.3 Support Tiers\\\\nThere are three (3) types of support tiers that will be provided by Hyperlight Systems. The following tables shows the standard operational tasks that fall under each support tier:\\\\n\\\\nTier 1 Tier 2 Tier 3\\\\n Angle Adjustment\\\\n Manual Reboot\\\\n Card Replacement\\\\n Support TransLink (e.g. investigating IH related issue)\\\\n Configuration changes (e.g. RSSI filtering, power adjustments, etc)\\\\n Cable upgrade / replacement\\\\n Hardware replacement\\\\n Firmware / software changes\\"\\n    },\\n    {\\n      \\"content\\": \\"4.2.4 Requests\\\\nRequests need to be submitted with requirements information for review by Hyperlight Systems. If the request is deemed too large to be done operationally, it will be treated as a new project. This will require a statement of work to be created and submitted to TransLink for approval before proceeding.\\\\nWhen a request needs to be treated as a project\\\\nA request will be treated as a project if it meets the following criteria:\\\\n- It is not a standard operational task\\\\n- Request is estimated to take more than 8h of effort\\\\n- Coordination between more than one (1) team is required\\"\\n    },\\n    {\\n      \\"content\\": \\"4.3 Maintenance\\\\nThe following maintenance tasks need to be conducted on a regular basis in order to maintain the RFID system:\\\\n# Task Description Frequency\\\\n1 Heart Beat - An automated task that ran through SmartConsole and the RFID notifier software that periodically checks that an RFID reader is up and running.\\\\nDaily\\\\n\\\\n2 On-site spot checks to ensure that the read-range specifications for each ADA FareGate is in-tact (1m to 2.5m)\\\\nMonthly\\\\n3 Back up of RFID Reader logs and Smart Console databases\\\\nMonthly\\\\n3 RFID Reader firmware patching and updating (Requires EER access)\\\\nAs required\\\\n4 RFID Notifier patching and updating (Requires TransLink Network access)\\\\nAs required\\\\n5 Smart Console patching and updating (Requires TransLink Network access)\\\\nAs required\\\\n6 Network switch patching and updating (Requires EER access)\\\\nAs required\\"\\n    },\\n    {\\n      \\"content\\": \\"4.3.1 User Training\\\\n[Placeholder]\\"\\n    },\\n    {\\n      \\"content\\": \\"5. Reference Documentation\\\\nThe following list of documentation was created during the UFGAP project phase and can be referenced for further detail / information with regards to the RFID:\\\\n# Document Name Location\\\\n1\\\\nConstruction Drawings (electrical, architectural and structural)\\\\n2 SmartConsole Functional Specifications Document\\\\n3 SmartConsole User Manual\\\\n4 SmartConsole Release Notes\\\\n5 RFID Notifier Release Notes\\\\n6 Interface Requirements Document\\\\n7 Service Level Agreement (SLA)\\"\\n    }\\n  ]\\n}"}}]}	fcbeb2e7-8ba7-449b-9687-367455ebbb28	0	Z1IpndZ8ZbD2ETs1	\N	MLU1HSlRX8QbxL1N	f	2	\N	\N
Embed_Saints	f	[{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[40,120],"id":"f6f8d393-2326-45e6-a095-13404f3c2e08","name":"When clicking Execute workflow"},{"parameters":{"url":"https://ukpvaebwabvvipebebnj.supabase.co/rest/v1/saints","authentication":"predefinedCredentialType","nodeCredentialType":"supabaseApi","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[280,120],"id":"a0db522f-23e6-4403-91d2-275bffcfb16a","name":"Query Supabase","credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account"}}},{"parameters":{"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[480,220],"id":"2e138b6c-2bac-4db8-a967-14a63604a1f1","name":"Loop - Files"},{"parameters":{"jsCode":"return items.map(item => {\\n  const input = item.json;\\n  const docId = input.canonical_id || \\"missing-id\\";\\n\\n  return {\\n    json: {\\n      content: `\\nTone Profile: ${input.tone_profile || \\"\\"}\\nVirtue Focus: ${input.virtue_focus || \\"\\"}\\nKnown Quote: \\"${input.known_quote || \\"\\"}\\"\\nPreferred Topics: ${(input.preferred_topics || []).join(\\", \\")}\\nAvoid Topics: ${(input.avoid_topics || []).join(\\", \\")}\\nCharisms: ${(input.charism_tags || []).join(\\", \\")}\\n      `.trim(),\\n      embedding: null,\\n      metadata: {\\n        doc_id: docId,\\n        title: input.saint_name || \\"Unnamed Saint\\",\\n        source_id: docId,\\n        source_url: \\"\\",\\n        source: \\"saints (db)\\",\\n        chunk_index: null,\\n        source_type: \\"structured\\",\\n        tags: input.charism_tags || [],\\n        voice_style: input.default_tone_mode || \\"narrative\\",\\n        content_hash: \\"\\",\\n        created_at: input.created_at || new Date().toISOString(),\\n        saint_primary: docId,\\n        preferred_topics: input.preferred_topics || [],\\n        avoid_topics: input.avoid_topics || [],\\n        search_aliases: input.search_aliases || [],\\n        origin: \\"saints (db)\\"\\n      }\\n    }\\n  };\\n});\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[700,240],"id":"507a5ecb-f0bb-4c4a-9a40-5ade013fafff","name":"Flatten Structure"},{"parameters":{"mode":"insert","tableName":{"__rl":true,"value":"saint_vectors","mode":"list","cachedResultName":"saint_vectors"},"options":{}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.1,"position":[920,220],"id":"e6a1f518-96b5-495a-b21f-a880eeeeb509","name":"Doctrine Embedder","credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[1040,40],"id":"584f36a1-d3b8-4f2d-9434-2ec147e761a2","name":"Embeddings OpenAI","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.documentDefaultDataLoader","typeVersion":1,"position":[1240,80],"id":"c6c4a87b-d912-42d6-9fe7-65bea6b4f74d","name":"Default Data Loader"},{"parameters":{"chunkOverlap":200,"options":{}},"type":"@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter","typeVersion":1,"position":[1380,240],"id":"7e848e43-db2f-487a-b715-ddc3af38bda5","name":"Recursive Character Text Splitter"},{"parameters":{"content":"NOTE: \\n- Still have not yet fully got this running\\n- Fixes needed in scrapers","height":140},"type":"n8n-nodes-base.stickyNote","position":[700,40],"typeVersion":1,"id":"9102a7a0-1494-425b-a307-ab1fb9242524","name":"Sticky Note"},{"parameters":{"content":"TODO:\\n- Include data from Saints table","height":120},"type":"n8n-nodes-base.stickyNote","position":[160,-40],"typeVersion":1,"id":"62c23fb8-0e61-4e91-baba-bac6d21bdaa2","name":"Sticky Note3"}]	{"When clicking Execute workflow":{"main":[[{"node":"Query Supabase","type":"main","index":0}]]},"Query Supabase":{"main":[[{"node":"Loop - Files","type":"main","index":0}]]},"Loop - Files":{"main":[[],[{"node":"Flatten Structure","type":"main","index":0}]]},"Flatten Structure":{"main":[[{"node":"Doctrine Embedder","type":"main","index":0}]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"Doctrine Embedder","type":"ai_embedding","index":0}]]},"Default Data Loader":{"ai_document":[[{"node":"Doctrine Embedder","type":"ai_document","index":0}]]},"Recursive Character Text Splitter":{"ai_textSplitter":[[{"node":"Default Data Loader","type":"ai_textSplitter","index":0}]]},"Doctrine Embedder":{"main":[[{"node":"Loop - Files","type":"main","index":0}]]}}	2025-06-10 00:29:44.574+00	2025-12-10 03:41:20.38+00	{"executionOrder":"v1"}	\N	{}	17b4c9e8-1bd9-4d0a-a85c-88171ee95867	0	jIx2xLFJnEeKpcNO	{"templateCredsSetupCompleted":true}	8wmQ4Jp69N962EHz	f	2	\N	\N
Hello World - E2E	f	[{"parameters":{"formTitle":"User Input","formFields":{"values":[{"fieldLabel":"What is the issue?","fieldType":"textarea","requiredField":true},{"fieldLabel":"Who is this for?","requiredField":true},{"fieldLabel":"Age?","fieldType":"number","requiredField":true}]},"options":{}},"type":"n8n-nodes-base.formTrigger","typeVersion":2.2,"position":[100,-160],"id":"0174dbcf-4cab-4823-8dd2-86294aa6af63","name":"On form submission","webhookId":"058eaf13-6242-44a4-86a3-2d052747e2ea"},{"parameters":{"jsCode":"const data = $json[\\"output\\"];\\n\\n// Add fuzzy-friendly first name for Supabase lookup fallback\\nconst persona = data.persona || \\"\\";\\ndata.first_name = persona.split(\\"_\\")[0] || \\"unknown\\";\\n\\nreturn [{ json: data }];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[660,0],"id":"3c643f52-6b54-4cf6-83a2-308b9b9fea5a","name":"Format JSON"},{"parameters":{"mode":"combine","combineBy":"combineAll","options":{}},"type":"n8n-nodes-base.merge","typeVersion":3.1,"position":[1540,-140],"id":"1e16dc59-dce5-41ea-881d-12f2161e8f0a","name":"Merge"},{"parameters":{"jsCode":"const responseText = $json.output || $json.text;\\nconst saint = $node[\\"Merge\\"]?.json || {};\\n\\nreturn [\\n  {\\n    json: {\\n      response_text: responseText,\\n      saint_name: saint.saint_name || \\"Unknown Saint\\",\\n      canonical_id: saint.canonical_id || \\"unknown_id\\"\\n    }\\n  }\\n];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2180,-140],"id":"fbec23d9-fa20-4f92-a045-6d0d980f6d7b","name":"Format Output"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[1800,340],"id":"996ea6d6-95aa-452e-a338-9330ebb718a7","name":"Embeddings OpenAI","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"promptType":"define","text":"=Someone age {{ $json[\\"Age?\\"] }} says:\\n\\n{{ $json[\\"What is the issue?\\"] }}\\n\\nThey are asking on behalf of: {{ $json[\\"Who is this for?\\"] }}.","options":{"systemMessage":"=Before responding, reflect on the nature of the issue.  \\nAsk yourself:  \\n- Does this involve sin, sacraments, moral teaching, or Church doctrine?  \\n- Would consulting authoritative sources deepen the response?\\n\\nIf so, use the `doctrine_retriever` tool to find the most relevant Church teaching, Catechism entry, or doctrinal text.  \\nSummarize key insights and cite the source when helpful.\\n\\nIf the question reflects modern concerns, news, or lived issues that may benefit from online context, use the `tavily_context_tool` to retrieve relevant blog posts, summaries, or news articles.  \\nUse this background to enrich your answer with current reflections, examples, or analogies.\\n\\n---\\n\\n#TOOLS  \\n- `doctrine_retriever`: Use when doctrinal or moral teachings from the Church are needed.  \\n- `tavily_context_tool`: Use when the user raises a question about modern issues, culture, technology, mental health, or other real-world topics that might benefit from contemporary Catholic insight.\\n\\n---\\n\\nYou are {{ $json.saint_name }}.  \\nYou embody {{ $json.tone_profile }}, speaking in the tone of a {{ $json.default_tone_mode }}.  \\nYou are known for: {{ $json.charism_tags.join(\\", \\") }}.  \\nYou are guided by the virtues of {{ $json.virtue_focus }}.  \\nYou often teach on: {{ $json.preferred_topics.join(\\", \\") }}.  \\nYou avoid: {{ $json.avoid_topics.join(\\", \\") }}.  \\nYour voice is captured in this quote: \\"{{ $json.known_quote }}\\"\\n\\nSpeak with theological clarity, spiritual depth, and pastoral care.  \\nDraw from scripture, doctrine, or your lived reflections when relevant.  \\nConclude with **one practical step** the person can take today in truth and charity.\\n\\nDo not give a generic answer. Speak as {{ $json.saint_name }} would  drawing from their spirituality, mission, and unique way of guiding souls.\\n"}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2,"position":[1780,-140],"id":"d84ad6d6-ad22-40be-b1a3-9eaf9dbf6643","name":"SaintsGPT"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[1600,100],"id":"1ae3789f-f71e-4256-a45a-a7a9b9a6ae4d","name":"OpenAI Chat Model (SaintsGPT)","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[300,180],"id":"2b378f3a-d75c-42fd-974c-52859738bafb","name":"OpenAI Chat Model (Saint Selector)","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"mode":"retrieve-as-tool","toolName":"doctrine_retriever","toolDescription":"Retrieve doctrinal content from Supabase vector store","tableName":{"__rl":true,"value":"doctrine_vectors","mode":"list","cachedResultName":"doctrine_vectors"},"options":{"queryName":"match_documents"}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.1,"position":[1740,140],"id":"da9780b8-e4f2-44c9-8fe3-1d310c6bbf63","name":"Doctrine Retriever","credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account - SGPT"}}},{"parameters":{"jsonSchemaExample":"{\\n  \\"persona\\": \\"mary_of_nazareth\\",\\n  \\"first_name\\": \\"mary\\",\\n  \\"tone_mode\\": \\"devotional\\",\\n  \\"virtue_focus\\": \\"humility\\",\\n  \\"simplify_level\\": 2,\\n  \\"audience_tags\\": [\\"teen\\", \\"new_catholic\\", \\"female\\"]\\n}\\n"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[500,180],"id":"3ddb64c4-4d0f-408b-9214-7288a51c9790","name":"Structured Output Parser"},{"parameters":{"jsCode":"const result = items[0]?.json;\\n\\n// If Supabase returned a match\\nif (result && result.best_match?.canonical_id) {\\n  return [{ json: result.best_match }];\\n}\\n\\n// No match found  fallback logic\\nconst fallbackSaints = [\\n  {\\n    canonical_id: 'francis_assisi',\\n    saint_name: 'Saint Francis of Assisi',\\n    tone_profile: 'joyful, poetic, nature-loving',\\n    default_tone_mode: 'monk',\\n    virtue_focus: 'joy, simplicity',\\n    charism_tags: ['poverty', 'nature', 'peacemaking'],\\n    preferred_topics: ['materialism', 'loneliness', 'anxiety'],\\n    avoid_topics: ['abstract theology'],\\n    known_quote: 'Preach the Gospel at all times'\\n  },\\n  {\\n    canonical_id: 'therese_lisieux',\\n    saint_name: 'Saint Thrse of Lisieux',\\n    tone_profile: 'soft, gentle, playful',\\n    default_tone_mode: 'child',\\n    virtue_focus: 'trust, patience',\\n    charism_tags: ['little way', 'joy', 'small sacrifice'],\\n    preferred_topics: ['fear', 'loss', 'childhood'],\\n    avoid_topics: ['politics', 'philosophy'],\\n    known_quote: 'I will spend my heaven doing good on earth.'\\n  }\\n];\\n\\n// Randomly select fallback saint\\nconst fallback = fallbackSaints[Math.floor(Math.random() * fallbackSaints.length)];\\n\\nreturn [{ json: fallback }];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1240,80],"id":"c31b1cdc-3fef-40a7-8976-51ce694dd740","name":"Fallback check"},{"parameters":{"promptType":"define","text":"=Issue: \\n{{ $json['What is the issue?'] }}\\n\\nAudience:\\n{{ $json['Who is this for?'] }}\\n\\nAge:\\n{{ $json['Age?'] }}","hasOutputParser":true,"messages":{"messageValues":[{"message":"You are a saint selector.\\n\\nGiven the users issue and audience info, return a raw JSON object to help guide a downstream saint agent.\\n\\nPick:\\n- \\"persona\\": the most fitting Catholic saint (use canonical_id in snake_case, e.g. \\"francis_of_assisi\\")\\n- \\"first_name\\": just the saints first name (e.g. \\"francis\\")\\n- \\"tone_mode\\": emotional or spiritual tone that suits the situation\\n- \\"virtue_focus\\": core virtue the person most needs\\n- \\"simplify_level\\": 1 for children, 2 for simple adults, 3 for full theological depth\\n- \\"audience_tags\\": keywords for audience type, challenge, or context\\n\\nThe saint you select does **not** need to exist in the database. Select the best fit based on your knowledge. Downstream tools will handle fallback.\\n\\nReturn **only** a raw JSON object like this:\\n\\n{\\n  \\"persona\\": \\"\\",\\n  \\"first_name\\": \\"\\",\\n  \\"tone_mode\\": \\"\\",\\n  \\"virtue_focus\\": \\"\\",\\n  \\"simplify_level\\": 1,\\n  \\"audience_tags\\": []\\n}\\n"}]}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.6,"position":[320,0],"id":"a33e20d5-6bd8-4202-844a-d082374353ec","name":"Saint Selector"},{"parameters":{"operation":"getAll","tableId":"saints","limit":1,"filters":{"conditions":[{"keyName":"search_aliases","condition":"ilike","keyValue":"=%{{ $json.persona }}%"}]}},"type":"n8n-nodes-base.supabase","typeVersion":1,"position":[980,580],"id":"46f02b0a-dafb-455e-8d7a-efc3cf19fb63","name":"Saint Lookup - Supabase","alwaysOutputData":true,"credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account - SGPT"}},"disabled":true},{"parameters":{"jsCode":"const axios = require('axios');\\n\\nconst input = $json.persona || \\"\\";\\nconst normalized = input.toLowerCase().trim();\\n\\nconst supabaseUrl = 'https://ukpvaebwabvvipebebnj.supabase.co';\\nconst apiKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVrcHZhZWJ3YWJ2dmlwZWJlYm5qIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgzMDMwODcsImV4cCI6MjA2Mzg3OTA4N30.PMUuzeKxpvZ_y-ydenBVWeBYAzm7d3VsnCy-CPd6ohU'; // Replace with your real key\\n\\nconst headers = {\\n  apikey: apiKey,\\n  Authorization: `Bearer ${apiKey}`\\n};\\n\\n// 1. Fetch all saints\\nconst fetchUrl = `${supabaseUrl}/rest/v1/saints?select=canonical_id,full_name,search_aliases`;\\nconst res = await axios.get(fetchUrl, { headers });\\nconst saints = res.data;\\n\\n// 2. Match ranking\\nfunction rankMatch(saint) {\\n  const idMatch = saint.canonical_id.toLowerCase() === normalized ? 10 : 0;\\n  const fullNameMatch = (saint.full_name || \\"\\").toLowerCase().includes(normalized) ? 5 : 0;\\n\\n  let aliasMatch = 0;\\n  try {\\n    const aliases = JSON.parse(saint.search_aliases || \\"[]\\");\\n    aliasMatch = aliases.some(alias => alias.toLowerCase().includes(normalized)) ? 3 : 0;\\n  } catch {}\\n\\n  return idMatch + fullNameMatch + aliasMatch;\\n}\\n\\n// 3. Score + sort\\nconst scored = saints\\n  .map(s => ({ ...s, score: rankMatch(s) }))\\n  .filter(s => s.score > 0)\\n  .sort((a, b) => b.score - a.score);\\n\\nconst bestMatch = scored[0] || null;\\n\\n// 4. Return match info\\nreturn [{\\n  json: {\\n    attempted_name: input,\\n    best_match: bestMatch,\\n    other_candidates: scored.slice(1),\\n    fallback_used: bestMatch ? false : true\\n  }\\n}];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1180,580],"id":"f30f361b-d922-4dd1-b6b0-57ff5d898694","name":"Saint Lookup - Code","disabled":true},{"parameters":{"mode":"raw","jsonOutput":"{\\n    \\"persona\\": \\"thomas_aquinas\\",\\n    \\"first_name\\": \\"thomas\\",\\n    \\"tone_mode\\": \\"emotional\\",\\n    \\"virtue_focus\\": \\"trust\\",\\n    \\"simplify_level\\": 1,\\n    \\"audience_tags\\": [\\n      \\"medical student\\",\\n      \\"nervous\\",\\n      \\"exam\\"\\n    ]\\n}","options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[660,560],"id":"68fba96f-5d2f-4406-881b-49b31735b846","name":"Test","disabled":true},{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[460,560],"id":"53738fb6-d0b1-470f-9fad-5ba677623b1a","name":"When clicking Execute workflow","disabled":true},{"parameters":{"url":"https://ukpvaebwabvvipebebnj.supabase.co/rest/v1/saints","authentication":"predefinedCredentialType","nodeCredentialType":"supabaseApi","sendQuery":true,"queryParameters":{"parameters":[{"name":"or","value":"=canonical_id,saint_name,search_aliases"},{"name":"or","value":"=(canonical_id.ilike.*{{$json.first_name}}*,saint_name.ilike.*{{$json.first_name}}*,search_aliases.cs.{ {{$json.first_name}} })"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[880,80],"id":"ec5d25a6-0133-4d0f-b924-a061c46df4a3","name":"Query Supabase for Saints","alwaysOutputData":true,"credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account - SGPT"}}},{"parameters":{"query":"=Find Catholic blog posts, reflections, or news related to this concern: \\"{{ $json[\\"What is the issue?\\"] }}\\", asked by someone age {{ $json[\\"Age?\\"] }}, on behalf of {{ $json[\\"Who is this for?\\"] }}.\\n","options":{}},"type":"@tavily/n8n-nodes-tavily.tavilyTool","typeVersion":1,"position":[2080,160],"id":"4d511f93-3d70-4c8f-bd4d-81d435b138e7","name":"Tavily Context Tool","credentials":{"tavilyApi":{"id":"vsot3gBI1jI0kEsa","name":"Tavily account"}}},{"parameters":{"jsCode":"const input = $items(\\"Format JSON\\")[0].json;\\nconst persona = input.persona?.toLowerCase().trim();\\nconst firstName = input.first_name?.toLowerCase().trim();\\nconst raw = $items(\\"Query Supabase for Saints\\")[0].json;\\nconst matches = Array.isArray(raw) ? raw : [raw];  // Ensures array\\n\\nfunction score(saint) {\\n  const id = saint.canonical_id?.toLowerCase() || '';\\n  const name = saint.saint_name?.toLowerCase() || '';\\n  const aliases = (saint.search_aliases || []).map(a => a.toLowerCase());\\n\\n  let score = 0;\\n\\n  if (id === persona) score += 10;\\n  else if (id.includes(persona)) score += 7;\\n\\n  if (name.includes(persona)) score += 5;\\n  if (name.includes(firstName)) score += 3;\\n\\n  for (const alias of aliases) {\\n    if (alias === persona) score += 8;\\n    else if (alias.includes(persona)) score += 6;\\n    else if (alias.includes(firstName)) score += 2;\\n  }\\n\\n  return score;\\n}\\n\\n// Apply scoring and sort\\nconst ranked = matches\\n  .map(s => ({ ...s, score: score(s) }))\\n  .sort((a, b) => b.score - a.score);\\n\\nconst best = ranked[0] || null;\\n\\nreturn [{\\n  json: {\\n    attempted_persona: persona,\\n    best_match: best,\\n    other_candidates: ranked.slice(1),\\n    fallback_used: !best || best.canonical_id !== persona\\n  }\\n}];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1060,80],"id":"b68443ae-de13-49ea-b569-073c94b6b2fb","name":"Rank and Match"}]	{"On form submission":{"main":[[{"node":"Merge","type":"main","index":0},{"node":"Saint Selector","type":"main","index":0}]]},"Format JSON":{"main":[[{"node":"Query Supabase for Saints","type":"main","index":0}]]},"Merge":{"main":[[{"node":"SaintsGPT","type":"main","index":0}]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"Doctrine Retriever","type":"ai_embedding","index":0}]]},"SaintsGPT":{"main":[[{"node":"Format Output","type":"main","index":0}]]},"OpenAI Chat Model (SaintsGPT)":{"ai_languageModel":[[{"node":"SaintsGPT","type":"ai_languageModel","index":0}]]},"OpenAI Chat Model (Saint Selector)":{"ai_languageModel":[[{"node":"Saint Selector","type":"ai_languageModel","index":0}]]},"Doctrine Retriever":{"ai_tool":[[{"node":"SaintsGPT","type":"ai_tool","index":0}]]},"Structured Output Parser":{"ai_outputParser":[[{"node":"Saint Selector","type":"ai_outputParser","index":0}]]},"Fallback check":{"main":[[{"node":"Merge","type":"main","index":1}]]},"Saint Selector":{"main":[[{"node":"Format JSON","type":"main","index":0}]]},"Saint Lookup - Supabase":{"main":[[]]},"Test":{"main":[[]]},"When clicking Execute workflow":{"main":[[{"node":"Test","type":"main","index":0}]]},"Query Supabase for Saints":{"main":[[{"node":"Rank and Match","type":"main","index":0}]]},"Tavily Context Tool":{"ai_tool":[[{"node":"SaintsGPT","type":"ai_tool","index":0}]]},"Rank and Match":{"main":[[{"node":"Fallback check","type":"main","index":0}]]}}	2025-05-26 23:48:42.5+00	2025-12-10 03:41:42.842+00	{"executionOrder":"v1"}	\N	{}	1ba9ce87-34f3-47c7-ab57-602458c20902	0	dvSolfUTi9fknzCk	{"templateCredsSetupCompleted":true}	8wmQ4Jp69N962EHz	f	2	\N	\N
Trevor - Test	f	[{"parameters":{"formTitle":"Marco and Trevor","formFields":{"values":[{"fieldLabel":"Enter Prompt","fieldType":"textarea"}]},"options":{}},"type":"n8n-nodes-base.formTrigger","typeVersion":2.2,"position":[220,-20],"id":"c5fbda56-badd-445e-b908-e6f082a781cf","name":"On form submission","webhookId":"8ef5104c-95e3-4594-bca6-10ca5d06eaa2"},{"parameters":{"promptType":"define","text":"={{ $json.prompt }}","batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[880,60],"id":"a0899e70-fd0b-4c76-b98d-4dd7dee9be9b","name":"Basic LLM Chain"},{"parameters":{"model":{"__rl":true,"value":"gpt-4.1-nano","mode":"list","cachedResultName":"gpt-4.1-nano"},"options":{"temperature":0}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[1040,-100],"id":"71cb4eb9-95a7-4089-960a-3d3716eee93e","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"jsCode":"// Get input prompt from previous node\\nconst inputPrompt = $json[\\"Enter Prompt\\"];\\n\\nconst prompts = [];\\n\\nfor (let i = 0; i < 5; i++) {\\n  prompts.push({\\n    json: {\\n      prompt: inputPrompt\\n    }\\n  });\\n}\\n\\nreturn prompts;"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[440,-20],"id":"2e04fd2c-dc66-4ace-b0fd-6b81f8e4d0fc","name":"Code"},{"parameters":{"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[660,-20],"id":"46269ab4-4a3d-48e1-8fcc-852742640cca","name":"Loop Over Items"}]	{"On form submission":{"main":[[{"node":"Code","type":"main","index":0}]]},"Basic LLM Chain":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"Basic LLM Chain","type":"ai_languageModel","index":0}]]},"Loop Over Items":{"main":[[],[{"node":"Basic LLM Chain","type":"main","index":0}]]},"Code":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]}}	2025-06-19 17:38:53.978+00	2025-12-10 03:40:09.626+00	{"executionOrder":"v1"}	\N	{}	8f8ff912-043d-42ca-9673-c7d913553924	0	aZ1FyH5jQszmAVTN	{"templateCredsSetupCompleted":true}	rNR8Aq0OtLA8Zo6g	f	2	\N	\N
PromptOS-Playground	f	[{"parameters":{"formTitle":"Insight Navigator","formFields":{"values":[{"fieldLabel":"user_query","fieldType":"textarea"},{"fieldLabel":"insight_type","fieldType":"dropdown","fieldOptions":{"values":[{"option":"summary"},{"option":"trend"},{"option":"anomaly"},{"option":"recommendation"}]}}]},"options":{}},"type":"n8n-nodes-base.formTrigger","typeVersion":2.2,"position":[180,160],"id":"70770704-6a6a-47ad-95d5-f04518c68cbc","name":"On form submission","webhookId":"61d54440-2529-40e1-9dd3-e9603f0cbe00","disabled":true},{"parameters":{"jsCode":"const input = ($input.first().json[\\"user_query\\"] || \\"\\").toLowerCase();\\n\\n// Match for common insight intents\\nif (\\n  input.includes(\\"trend\\") ||\\n  input.includes(\\"increase\\") ||\\n  input.includes(\\"decrease\\") ||\\n  input.includes(\\"change over time\\")\\n) {\\n  return [{ json: { route: \\"trend\\" } }];\\n}\\n\\nif (\\n  input.includes(\\"why\\") ||\\n  input.includes(\\"cause\\") ||\\n  input.includes(\\"unusual\\") ||\\n  input.includes(\\"unexpected\\") ||\\n  input.includes(\\"outlier\\")\\n) {\\n  return [{ json: { route: \\"anomaly\\" } }];\\n}\\n\\nif (\\n  input.includes(\\"summary\\") ||\\n  input.includes(\\"recap\\") ||\\n  input.includes(\\"overview\\")\\n) {\\n  return [{ json: { route: \\"summary\\" } }];\\n}\\n\\nif (\\n  input.includes(\\"should we\\") ||\\n  input.includes(\\"next step\\") ||\\n  input.includes(\\"recommend\\")\\n) {\\n  return [{ json: { route: \\"recommendation\\" } }];\\n}\\n\\n// Fallback\\nreturn [{ json: { route: \\"summary\\" } }];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[400,160],"id":"a1c60578-561f-44e3-b213-6cd2a97e61a8","name":"Router Node","disabled":true},{"parameters":{"jsCode":"const mcp = $json[\\"mcp\\"];\\nconst { type, user_input, instruction, memory } = mcp;\\n\\n// Optional: future memory injection\\nconst memoryBlock = Object.keys(memory || {}).length > 0\\n  ? `\\\\n[Memory]\\\\n${JSON.stringify(memory, null, 2)}\\\\n`\\n  : \\"\\";\\n\\nconst prompt = `\\nYou are an Insight Agent specializing in surfacing business-relevant insights from internal data sources.\\n\\n${memoryBlock}\\n\\n[User Query]\\n${user_input}\\n\\n[Insight Type]\\n${type}\\n\\n[Instruction]\\n${instruction}\\n\\n[Your Response]\\n`;\\n\\nreturn [{ json: { prompt, type } }];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[840,160],"id":"5e128f40-188f-4e1a-90b0-af7f18e7eab4","name":"Generate Prompt from MCP","disabled":true},{"parameters":{"workflowId":{"__rl":true,"value":"vRjzDA3odWrYEsYa","mode":"list","cachedResultName":"PromptOS-ParallelGen-Vote"},"workflowInputs":{"mappingMode":"defineBelow","value":{},"matchingColumns":[],"schema":[],"attemptToConvertTypes":false,"convertFieldsToString":true},"options":{}},"type":"n8n-nodes-base.executeWorkflow","typeVersion":1.2,"position":[1300,180],"id":"3e107f95-5009-48c3-8709-8843659c477d","name":"Run PromptOS-Vote Engine"},{"parameters":{"content":"Phase 1: Simple Prompt Builder (earlier version; build one big string from MCP)","height":320,"width":890},"type":"n8n-nodes-base.stickyNote","position":[100,60],"typeVersion":1,"id":"832b9d8d-25bc-49ad-a313-e2babb2c8c1d","name":"Sticky Note"},{"parameters":{"workflowId":{"__rl":true,"value":"VGoFrxdcNIzcUr3e","mode":"list","cachedResultName":"PromptOS-Evaluator"},"workflowInputs":{"mappingMode":"defineBelow","value":{},"matchingColumns":[],"schema":[],"attemptToConvertTypes":false,"convertFieldsToString":true},"options":{}},"type":"n8n-nodes-base.executeWorkflow","typeVersion":1.2,"position":[1680,180],"id":"4d8e9aa2-d9ac-40b4-a68e-dbedca05eef6","name":"Run PromptOS-Evaluator"},{"parameters":{"jsCode":"const input = $input.all();  // <-- this grabs all 3 items\\n\\nconst outputs = input.map((item, index) => {\\n  return {\\n    json: {\\n      index,\\n      output: item.json.output,\\n      scorecard: item.json.scorecard\\n    }\\n  };\\n});\\n\\nreturn outputs;"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1500,180],"id":"dfac8e10-cf14-4e32-8440-c852b10f95f4","name":"Prep Evaluator Input"},{"parameters":{"jsCode":"const voteResults = $items('Run PromptOS-Vote Engine').map(i => i.json);\\nconst evalItems = $items('Run PromptOS-Evaluator');\\n\\n// Flatten evaluator outputs\\nconst evalResults = evalItems.flatMap(item => item.json.output);\\n\\n// Merge by index\\nreturn voteResults.map((response, idx) => {\\n  const evaluation = evalResults.find(e => e.index === idx);\\n  return {\\n    json: {\\n      ...response,\\n      adjusted_scorecard: evaluation?.adjusted_scorecard || {},\\n      evaluator_comment: evaluation?.comment || \\"No comment returned.\\"\\n    }\\n  };\\n});\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1860,180],"id":"4d22e62d-a68a-40e4-a97c-aa8d312811b4","name":"Merge vote and evaluation"},{"parameters":{"jsCode":"const items = $input.all();\\n\\nconst labels = ['A', 'B', 'C', 'D', 'E']; // Extend if needed\\n\\nconst ranked = items.map((i, idx) => {\\n  const data = i.json;\\n  const score = Object.values(data.adjusted_scorecard).reduce((sum, val) => sum + val, 0);\\n  return {\\n    ...data,\\n    total_score: score,\\n    label: labels[idx] || `Alt-${idx + 1}`\\n  };\\n}).sort((a, b) => b.total_score - a.total_score)\\n  .map((item, idx) => ({\\n    json: {\\n      ...item,\\n      rank: idx + 1\\n    }\\n  }));\\n\\nreturn ranked;\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2040,180],"id":"73202b7a-c785-45c1-adbc-32ea7faca7dc","name":"Rank Responses by Adjusted Score"},{"parameters":{"formFields":{"values":[{"fieldLabel":"top_response","fieldType":"textarea","placeholder":"={{ $json.top_response }}","requiredField":true},{"fieldLabel":"action","fieldType":"dropdown","fieldOptions":{"values":[{"option":"Accept"},{"option":"Edit"},{"option":"Rerun Vote"}]}},{"fieldLabel":"edited_output","fieldType":"textarea"},{"fieldLabel":"reviewer_notes","fieldType":"textarea"}]},"options":{}},"type":"n8n-nodes-base.form","typeVersion":1,"position":[2840,160],"id":"0a023f05-71a8-47dd-a4c3-9135813f9583","name":"HITL Override Form","webhookId":"f0773554-15f5-47e8-80c9-e4e8a79a1fac","disabled":true},{"parameters":{"jsCode":"const top = $input.all().find(i => i.json.rank === 1);\\n\\nreturn [\\n  {\\n    json: {\\n      top_response: top.json.output\\n    }\\n  }\\n];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2460,160],"id":"099c1a58-85f1-436e-90b1-f7a15675590c","name":"Select Top Response","disabled":true},{"parameters":{"operation":"completion","completionTitle":"HITL Decision Output","completionMessage":" HITL review complete. Response will now proceed based on your action.","options":{}},"type":"n8n-nodes-base.form","typeVersion":1,"position":[3040,160],"id":"66a193aa-c0f3-493e-9829-ec4719f8a874","name":"Form Ending","webhookId":"759d6d01-6521-45fd-934b-0e5a7f3fb12f","disabled":true},{"parameters":{"jsCode":"const { action, top_response, edited_output, reviewer_notes } = $json;\\n\\nlet final_response;\\n\\nif (action === \\"Edit\\") {\\n  final_response = edited_output || \\"[No edit provided]\\";\\n} else if (action === \\"Accept\\") {\\n  final_response = top_response;\\n} else if (action === \\"Rerun Vote\\") {\\n  // You can catch this in downstream routing\\n  return [\\n    {\\n      json: {\\n        rerun: true,\\n        reason: reviewer_notes || \\"Manual override: Rerun requested\\"\\n      }\\n    }\\n  ];\\n}\\n\\nreturn [\\n  {\\n    json: {\\n      final_response,\\n      HITL_action: action,\\n      HITL_notes: reviewer_notes || \\"\\"\\n    }\\n  }\\n];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[3260,160],"id":"7f3a0f52-d5d0-48f7-bd7d-ef7b6f7cf328","name":"Resolve HITL Action","disabled":true},{"parameters":{"assignments":{"assignments":[{"id":"06f1e40f-3ef7-4643-9831-3e2da0830973","name":"top_response","value":"={{ $json.top_response }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[2660,160],"id":"5cd15d6e-2e76-4db0-9092-f14c15655e4f","name":"Set Default Responses","disabled":true},{"parameters":{"httpMethod":"POST","path":"promptos-playground","responseMode":"responseNode","options":{}},"type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-1100,1120],"id":"1438590c-756a-4ab2-b546-c27bb1efd7aa","name":"Webhook","webhookId":"259800e4-5d3b-47cf-8ee8-000c0824dfe5"},{"parameters":{"options":{}},"type":"n8n-nodes-base.respondToWebhook","typeVersion":1.4,"position":[2940,740],"id":"95475ff6-932c-4b26-9aa8-ac9623d41ed9","name":"Respond to Webhook"},{"parameters":{"content":"HITL stuff","height":280,"width":1030},"type":"n8n-nodes-base.stickyNote","position":[2400,80],"typeVersion":1,"id":"0e8150fe-fd52-46e6-bf39-443d40a1ca5d","name":"Sticky Note1"},{"parameters":{"jsCode":"const items = $input.all();\\n\\n// Split into MCP and vote outputs\\nconst mcp = items.find(i => i.json?.mcp)?.json?.mcp || {};\\nconst voteItems = items.filter(i => i.json?.output);\\n\\n// Extract winning item\\nconst winnerItem = voteItems.find(i => i.json?.winner);\\nconst finalResponse = winnerItem?.json?.output || \\"No winning response available\\";\\nconst winnerLabel = winnerItem?.json?.label || \\"unknown\\";\\nconst winnerRationale = winnerItem?.json?.evaluator_comment || \\"No rationale provided\\";\\n\\n// Build vote breakdown array (cleaned JSONs only)\\nconst voteBreakdown = voteItems.map(item => ({\\n  label: item.json?.label || \\"unknown\\",\\n  output: item.json?.output,\\n  source_node: item.json?.source_node,\\n  scorecard: item.json?.scorecard,\\n  adjusted_scorecard: item.json?.adjusted_scorecard,\\n  evaluator_comment: item.json?.evaluator_comment,\\n  total_score: item.json?.total_score,\\n  rank: item.json?.rank,\\n  winner: item.json?.winner || false\\n}));\\n\\n// Assemble final output\\nreturn [{\\n  json: {\\n    mcp,\\n    final_response: finalResponse,\\n    vote_breakdown: voteBreakdown,\\n    vote_result: {\\n      winner: winnerLabel,\\n      rationale: winnerRationale\\n    },\\n    HITL_action: \\"Auto-Accept\\",\\n    HITL_notes: \\"No manual override applied\\"\\n  }\\n}];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2660,740],"id":"7939a82e-c855-4055-a965-ebc296e29f0c","name":"Prepare Final Response"},{"parameters":{"content":"For Webhook","height":220,"width":560},"type":"n8n-nodes-base.stickyNote","position":[2620,680],"typeVersion":1,"id":"60b78da5-6740-4dee-a363-f30447c948fa","name":"Sticky Note2"},{"parameters":{"fieldToSplitOut":"sections","options":{}},"type":"n8n-nodes-base.splitOut","typeVersion":1,"position":[-160,560],"id":"99678ab1-b87c-47e5-af0e-a64d36be06f8","name":"Split Out"},{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[-1180,340],"id":"83f2cac9-3fdc-4d78-a480-8ba6420106fd","name":"When clicking Execute workflow","disabled":true},{"parameters":{"jsCode":"const mcp = $json.mcp;\\nconst type = mcp.type;\\nconst sections = [];\\n\\nif (mcp.user_input)\\n  sections.push({ label: \\"User Query\\", content: mcp.user_input, type });\\n\\nif (mcp.instruction)\\n  sections.push({ label: \\"Instruction\\", content: mcp.instruction, type });\\n\\nif (mcp.memory && Object.keys(mcp.memory).length)\\n  sections.push({ label: \\"Memory\\", content: JSON.stringify(mcp.memory, null, 2), type });\\n\\nreturn [{ json: { sections } }];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-400,560],"id":"0142d7ff-f5e3-4779-843b-adf54ba49375","name":"Build sections array"},{"parameters":{"promptType":"define","text":"={{ $json.label }}:  \\n{{ $json.content }}\\n\\n[Your Response]","batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[60,560],"id":"4e7a84e3-bad8-44d4-8937-d1e96a7e8408","name":"Generate Section Response"},{"parameters":{"model":{"__rl":true,"value":"gpt-3.5-turbo","mode":"list","cachedResultName":"gpt-3.5-turbo"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[120,740],"id":"2af85b85-c917-4538-bd3d-90d036a6be89","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"jsCode":"const items = $input.all();\\n\\n// Merge all section responses\\nconst merged = items.map((item, i) =>\\n  `Section ${i + 1} Insight:\\\\n${item.json.text}`\\n).join('\\\\n\\\\n');\\n\\nreturn [{\\n  json: {\\n    merge_input: merged\\n  }\\n}];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[440,560],"id":"9565d433-225d-4cb2-a114-7fbfdd670753","name":"Prepare Merge Input"},{"parameters":{"promptType":"define","text":"=You are an Insight Agent.\\n\\nBelow are partial insights generated from structured prompt sections.\\n\\nYour task: Write a clear, direct summary of what changed in customer satisfaction between Q2 and Q3.\\n\\nStart with a concise, data-backed summary (12 sentences max).\\n\\nThen, elaborate briefly on contributing factors and context if needed.\\n\\nOptionally, include industry or trend-level framing if relevant.\\n\\nAvoid filler or generic statements. Prioritize clarity, actionability, and insight.","batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[620,560],"id":"d9a95313-2e0d-4a44-9921-276e9f0cab05","name":"LLM Merge Prompt"},{"parameters":{"model":{"__rl":true,"value":"gpt-3.5-turbo","mode":"list","cachedResultName":"gpt-3.5-turbo"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[660,740],"id":"8741a10c-e2e6-4119-870b-dea5265ed430","name":"OpenAI Chat Model1","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"content":"Phase 2: Structured Prompt Sections (Split the MCP into parts (e.g. user query, instruction) and runan each through the LLM individually)","height":480,"width":1420},"type":"n8n-nodes-base.stickyNote","position":[-500,440],"typeVersion":1,"id":"16831ce4-21d8-4e41-8a16-c71fcbaa3c80","name":"Sticky Note3"},{"parameters":{"assignments":{"assignments":[{"id":"ea29e7d8-9a35-434b-b304-97ebeb406664","name":"prompt","value":"={{ $json.text }}","type":"string"},{"id":"3080820f-fda4-4e2b-a0ee-c25a57517752","name":"type","value":"={{ \\n  $node[\\"Build MCP - Structured\\"].json.mcp?.type \\n    || $node[\\"Build MCP - Structured - Test\\"].json.mcp?.type \\n    || \\"unknown\\" \\n}}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[1020,560],"id":"a8da6390-5a32-4580-b368-fab82dc01806","name":"Prepare Vote Payload"},{"parameters":{"jsCode":"const input = $node[\\"On form submission\\"].json[\\"user_query\\"] || \\"\\";\\nconst insightType = $node[\\"On form submission\\"].json[\\"insight_type\\"] || \\"summary\\";\\nconst route = $json[\\"route\\"] || insightType || \\"summary\\"; // prioritizes routing output if available\\n\\nconst instructionMap = {\\n  summary: \\"Generate a concise summary of the key findings.\\",\\n  trend: \\"Highlight notable trends or changes over time.\\",\\n  anomaly: \\"Identify unusual patterns, anomalies, or outliers.\\",\\n  recommendation: \\"Provide recommendations based on the data insights.\\"\\n};\\n\\nconst instruction = instructionMap[route] || instructionMap[\\"summary\\"];\\n\\nreturn [{\\n  json: {\\n    mcp: {\\n      type: route,\\n      user_input: input,\\n      memory: {},\\n      instruction: instruction\\n    }\\n  }\\n}];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[620,160],"id":"3424c0af-68fa-48cd-be4a-33333f0a8ee0","name":"Build MCP - Simple","disabled":true},{"parameters":{"jsCode":"const input = $json.body?.user_query || \\"\\";\\nconst route = $json.body?.insight_type || \\"summary\\";\\n\\n// Instruction map\\nconst instructionMap = {\\n  summary: \\"Generate a concise summary of the key findings.\\",\\n  trend: \\"Highlight notable trends or changes over time.\\",\\n  anomaly: \\"Identify unusual patterns, anomalies, or outliers.\\",\\n  recommendation: \\"Provide recommendations based on the data insights.\\"\\n};\\n\\nconst instruction = instructionMap[route] || instructionMap[\\"summary\\"];\\n\\nreturn [{\\n  json: {\\n    mcp: {\\n      type: route,\\n      user_input: input,\\n      memory: {},\\n      instruction: instruction\\n    }\\n  }\\n}];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-820,1100],"id":"591490e3-bb3b-4ef1-a37c-edd50cb92428","name":"Build MCP - Structured"},{"parameters":{"mode":"raw","jsonOutput":" {\\n    \\"mcp\\": {\\n      \\"type\\": \\"trend\\",\\n      \\"user_input\\": \\"What changed in customer satisfaction between Q2 and Q3?\\",\\n      \\"memory\\": {},\\n      \\"instruction\\": \\"Highlight notable trends or changes over time.\\"\\n    }\\n}","options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-840,340],"id":"71f51710-ad33-4e74-944d-37c5329abe23","name":"Build MCP - Structured - Test","disabled":true},{"parameters":{},"type":"n8n-nodes-base.merge","typeVersion":3.2,"position":[2340,760],"id":"35edab79-bb88-4df6-97dd-19436dcecb4a","name":"Merge"}]	{"On form submission":{"main":[[{"node":"Router Node","type":"main","index":0}]]},"Router Node":{"main":[[{"node":"Build MCP - Simple","type":"main","index":0}]]},"Generate Prompt from MCP":{"main":[[{"node":"Run PromptOS-Vote Engine","type":"main","index":0}]]},"Run PromptOS-Vote Engine":{"main":[[{"node":"Prep Evaluator Input","type":"main","index":0}]]},"Run PromptOS-Evaluator":{"main":[[{"node":"Merge vote and evaluation","type":"main","index":0}]]},"Prep Evaluator Input":{"main":[[{"node":"Run PromptOS-Evaluator","type":"main","index":0}]]},"Merge vote and evaluation":{"main":[[{"node":"Rank Responses by Adjusted Score","type":"main","index":0}]]},"Rank Responses by Adjusted Score":{"main":[[{"node":"Merge","type":"main","index":0}]]},"HITL Override Form":{"main":[[{"node":"Form Ending","type":"main","index":0}]]},"Select Top Response":{"main":[[{"node":"Set Default Responses","type":"main","index":0}]]},"Form Ending":{"main":[[{"node":"Resolve HITL Action","type":"main","index":0}]]},"Resolve HITL Action":{"main":[[]]},"Set Default Responses":{"main":[[{"node":"HITL Override Form","type":"main","index":0}]]},"Webhook":{"main":[[{"node":"Build MCP - Structured","type":"main","index":0}]]},"Respond to Webhook":{"main":[[]]},"Prepare Final Response":{"main":[[{"node":"Respond to Webhook","type":"main","index":0}]]},"When clicking Execute workflow":{"main":[[{"node":"Build MCP - Structured - Test","type":"main","index":0}]]},"Split Out":{"main":[[{"node":"Generate Section Response","type":"main","index":0}]]},"Build sections array":{"main":[[{"node":"Split Out","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"Generate Section Response","type":"ai_languageModel","index":0}]]},"Generate Section Response":{"main":[[{"node":"Prepare Merge Input","type":"main","index":0}]]},"Prepare Merge Input":{"main":[[{"node":"LLM Merge Prompt","type":"main","index":0}]]},"OpenAI Chat Model1":{"ai_languageModel":[[{"node":"LLM Merge Prompt","type":"ai_languageModel","index":0}]]},"LLM Merge Prompt":{"main":[[{"node":"Prepare Vote Payload","type":"main","index":0}]]},"Prepare Vote Payload":{"main":[[{"node":"Run PromptOS-Vote Engine","type":"main","index":0}]]},"Build MCP - Simple":{"main":[[{"node":"Generate Prompt from MCP","type":"main","index":0}]]},"Build MCP - Structured":{"main":[[{"node":"Build sections array","type":"main","index":0},{"node":"Merge","type":"main","index":1}]]},"Build MCP - Structured - Test":{"main":[[{"node":"Build sections array","type":"main","index":0}]]},"Merge":{"main":[[{"node":"Prepare Final Response","type":"main","index":0}]]}}	2025-06-14 00:23:42.033+00	2025-12-10 03:40:22.26+00	{"executionOrder":"v1"}	\N	{}	a63eb67a-8b7f-4d3c-aae0-eda6009b0b3c	1	VXnBVFm1w2zsvSt3	{"templateCredsSetupCompleted":true}	4nhMSsg3QoksuKGe	f	2	\N	\N
Misc - Email Analyzer	f	[{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[660,240],"id":"43b53a7d-a294-4126-8818-d19f33a74795","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"jsonSchemaExample":"{\\n  \\"executive_summary\\": \\"The integration project advanced with initial setup discussions and early access configuration. Sarah Patel confirmed OAuth is required for the API, and John Lee raised concerns about missing access to the dev environment. Documentation links were shared to guide next steps. The team aims to resolve access issues by end of week to maintain the integration timeline.\\",\\n  \\"key_decisions\\": [\\n    {\\n      \\"date\\": \\"2025-06-10\\",\\n      \\"decision\\": \\"OAuth authentication will be used instead of certificate-based authentication, confirmed by Sarah Patel.\\"\\n    }\\n  ],\\n  \\"entries\\": [\\n    {\\n      \\"date\\": \\"2025-06-09\\",\\n      \\"text\\": \\"John Lee reported that he could not access the development environment and requested admin credentials. He flagged this as a blocker for testing the integration scripts.\\"\\n    },\\n    {\\n      \\"date\\": \\"2025-06-10\\",\\n      \\"text\\": \\"Sarah Patel confirmed that OAuth will be required for authentication and shared the official integration documentation. She requested that the access issue be resolved by Friday.\\"\\n    }\\n  ],\\n  \\"links\\": [\\n    {\\n      \\"url\\": \\"https://company.sharepoint.com/integration-guide\\",\\n      \\"description\\": \\"Integration setup documentation for internal APIs.\\"\\n    }\\n  ]\\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[880,240],"id":"ad3aa65e-c60d-43f4-bb21-87bc7f5e4481","name":"Structured Output Parser"},{"parameters":{"promptType":"define","text":"=Here is the email content.\\n\\nPlain text:\\n{{ $json.text }}\\n\\nHTML:\\n{{ $json.textAsHtml }}\\n","hasOutputParser":true,"messages":{"messageValues":[{"message":"=You are a project communication analyst that transforms structured project email threads into JSON summaries for tracking and storage.\\n\\nINPUT: A JSON object with dated entries, each containing sender, message summary, and optional URLs.\\n\\nYour output must contain:\\n\\n1. \\"executive_summary\\" (150300 words)  summarize key decisions, blockers, progress, and next steps. Use names, systems, and dates when available.\\n\\n2. \\"key_decisions\\"  a list of decisions with their dates and descriptions.\\n\\n3. \\"entries\\"  chronological summaries (24 sentences per entry). Do not merge unrelated messages. Use concrete details.\\n\\n4. \\"links\\"  list all URLs with a short description of their project relevance. Mark broken or unknown links as \\"URL inaccessible\\".\\n\\nReturn valid JSON in this format:\\n```json\\n{\\n  \\"executive_summary\\": \\"...\\",\\n  \\"key_decisions\\": [\\n    { \\"date\\": \\"YYYY-MM-DD\\", \\"decision\\": \\"...\\" }\\n  ],\\n  \\"entries\\": [\\n    { \\"date\\": \\"YYYY-MM-DD\\", \\"text\\": \\"...\\" }\\n  ],\\n  \\"links\\": [\\n    { \\"url\\": \\"...\\", \\"description\\": \\"...\\" }\\n  ]\\n}\\n```\\nFocus on completeness, clarity, and accuracy. Do not omit earlier emails. Do not include generalities."}]},"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[560,20],"id":"1d9020a5-6acc-4ebb-bb4b-7a4ba48cce45","name":"Analyzer - JSON"},{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[60,20],"id":"99514f83-7de0-4213-932c-aab17f688790","name":"When clicking Execute workflow"},{"parameters":{"operation":"getAll","filters":{"readStatus":"unread"}},"type":"n8n-nodes-base.gmail","typeVersion":2.1,"position":[280,260],"id":"724ce6dc-9e7a-42c2-b01c-c18b35c34238","name":"Get unread emails","webhookId":"24c8cd68-09fa-45f0-bd69-92bccc1a9b32","credentials":{"gmailOAuth2":{"id":"IG7DVyVFauVNumq4","name":"Gmail account"}},"disabled":true},{"parameters":{"operation":"get","messageId":"=197654753980f086","simple":false,"options":{}},"type":"n8n-nodes-base.gmail","typeVersion":2.1,"position":[320,20],"id":"8e0588dc-754f-48f0-904d-e4e47d5307d7","name":"Get Trevor's email","webhookId":"bd568a39-6eba-496c-a80a-b96769b2d3cc","credentials":{"gmailOAuth2":{"id":"IG7DVyVFauVNumq4","name":"Gmail account"}}}]	{"OpenAI Chat Model":{"ai_languageModel":[[{"node":"Analyzer - JSON","type":"ai_languageModel","index":0}]]},"Structured Output Parser":{"ai_outputParser":[[{"node":"Analyzer - JSON","type":"ai_outputParser","index":0}]]},"When clicking Execute workflow":{"main":[[{"node":"Get Trevor's email","type":"main","index":0}]]},"Analyzer - JSON":{"main":[[]]},"Get unread emails":{"main":[[]]},"Get Trevor's email":{"main":[[{"node":"Analyzer - JSON","type":"main","index":0}]]}}	2025-06-12 17:55:30.09+00	2025-12-10 03:40:53.992+00	{"executionOrder":"v1"}	\N	{}	1f229709-f50c-4880-9713-94a289c8517a	0	1Jgxp5jI340vBQ59	{"templateCredsSetupCompleted":true}	rNR8Aq0OtLA8Zo6g	f	2	\N	\N
PromptOS-ParallelGen-Vote	f	[{"parameters":{"promptType":"define","text":"={{ $json.prompt }}\\n\\nRespond in this JSON format:\\n\\n{\\n  \\"text_llm_generation_b\\": \\"<your answer>\\",\\n  \\"scorecard\\": {\\n    \\"clarity\\": 15,\\n    \\"relevance\\": 15,\\n    \\"insightfulness\\": 15,\\n    \\"actionability\\": 15\\n  }\\n}\\n\\nAfter responding, evaluate your own output honestly. Be fair and self-critical  reserve 5s for excellent quality only.","hasOutputParser":true,"messages":{"messageValues":[{"message":"Respond in this JSON format:\\n{\\n  \\"text_llm_generation_b\\": \\"<your answer here>\\",\\n  \\"scorecard\\": {\\n    \\"clarity\\": 15,\\n    \\"relevance\\": 15,\\n    \\"insightfulness\\": 15,\\n    \\"actionability\\": 15\\n  }\\n}\\n"}]},"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[780,0],"id":"e3401b3d-408c-42b4-988d-77772f421ede","name":"LLM Generation B"},{"parameters":{"promptType":"define","text":"={{ $json.prompt }}\\n\\nRespond in this JSON format:\\n\\n{\\n  \\"text_llm_generation_a\\": \\"<your answer>\\",\\n  \\"scorecard\\": {\\n    \\"clarity\\": 15,\\n    \\"relevance\\": 15,\\n    \\"insightfulness\\": 15,\\n    \\"actionability\\": 15\\n  }\\n}\\n\\nAfter responding, evaluate your own output honestly. Be fair and self-critical  reserve 5s for excellent quality only.","hasOutputParser":true,"messages":{"messageValues":[{"message":"Respond in this JSON format: {   \\"text_llm_generation_a\\": \\"<your answer here>\\",   \\"scorecard\\": {     \\"clarity\\": 15,     \\"relevance\\": 15,     \\"insightfulness\\": 15,     \\"actionability\\": 15   } }"}]},"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[780,-440],"id":"34f207e6-3777-45a8-87dd-76b25c8fad8a","name":"LLM Generation A"},{"parameters":{"promptType":"define","text":"={{ $json.prompt }}\\n\\nRespond in this JSON format:\\n\\n{\\n  \\"text_llm_generation_c\\": \\"<your answer>\\",\\n  \\"scorecard\\": {\\n    \\"clarity\\": 15,\\n    \\"relevance\\": 15,\\n    \\"insightfulness\\": 15,\\n    \\"actionability\\": 15\\n  }\\n}\\n\\nAfter responding, evaluate your own output honestly. Be fair and self-critical  reserve 5s for excellent quality only.\\n","hasOutputParser":true,"messages":{"messageValues":[{"message":"Respond in this JSON format:\\n{\\n  \\"text_llm_generation_c\\": \\"<your answer here>\\",\\n  \\"scorecard\\": {\\n    \\"clarity\\": 15,\\n    \\"relevance\\": 15,\\n    \\"insightfulness\\": 15,\\n    \\"actionability\\": 15\\n  }\\n}\\n"}]},"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[800,440],"id":"a85014e5-899b-4b4b-a97e-f4e10e4089dc","name":"LLM Generation C"},{"parameters":{"jsCode":"const items = $items();\\n\\nconst responseA = items[0]?.json?.output || \\"Missing response A\\";\\nconst responseB = items[1]?.json?.output || \\"Missing response B\\";\\nconst responseC = items[2]?.json?.output || \\"Missing response C\\";\\n\\nreturn [{\\n  json: {\\n    responseA,\\n    responseB,\\n    responseC\\n  }\\n}];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1880,0],"id":"41e9b59a-e9f2-4d59-8369-a3081677a1dd","name":"Manual Merge via Function"},{"parameters":{"content":"TODO: Swap one of the OpenAI models to something else","height":80},"type":"n8n-nodes-base.stickyNote","position":[860,-560],"typeVersion":1,"id":"b92999a1-e596-4c93-a888-d7d2e1e336c5","name":"Sticky Note"},{"parameters":{"promptType":"define","text":"={{ $json.voting_prompt }}","batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[2380,0],"id":"562d0716-c731-4d56-bc3b-b0996a3f0fb1","name":"Vote Node"},{"parameters":{"jsCode":"const { responseA, responseB, responseC } = $json;\\n\\nreturn [{\\n  json: {\\n    voting_prompt: `\\nYou are a business insights assistant. Below are three responses to the same user query about churn analysis. Select the one that is the **clearest**, **most relevant**, and **offers the most insightful and actionable takeaway**.\\n\\nRespond with ONLY a single letter: A, B, or C.\\n\\n---\\n\\n[Response A]\\n${responseA}\\n\\n---\\n\\n[Response B]\\n${responseB}\\n\\n---\\n\\n[Response C]\\n${responseC}\\n\\n---\\n\\nWhich response is best?\\nYour answer:\\n`\\n  }\\n}];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2140,0],"id":"e3f6b213-63aa-4f54-981b-842bf934f067","name":"Prompt for vote"},{"parameters":{"jsCode":"return [{\\n  json: {\\n    vote: $json.text.replace(/\\"/g, '').trim()\\n  }\\n}];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2740,0],"id":"efef8f52-c03f-4521-ab0b-a53f23c0b1c9","name":"Clean vote"},{"parameters":{"assignments":{"assignments":[{"id":"9e302425-a965-4f8d-b492-2ca857b05428","name":"prompt","value":"={{ $json.prompt }}","type":"string"},{"id":"c483f4e3-205c-43d1-8f0b-5051091486c2","name":"type","value":"={{ $json.type }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[360,0],"id":"0ef3576f-99a1-4a4c-be6c-85b73d3fd6fd","name":"Prep prompt data"},{"parameters":{"inputSource":"passthrough"},"type":"n8n-nodes-base.executeWorkflowTrigger","typeVersion":1.1,"position":[-100,0],"id":"de78cc17-3a97-4b76-b3f2-e4ba839091c5","name":"When Executed by Another Workflow","disabled":true},{"parameters":{"numberInputs":3},"type":"n8n-nodes-base.merge","typeVersion":3.2,"position":[1600,0],"id":"32778af4-4df2-40b9-a87d-4084f3ea2339","name":"Merge"},{"parameters":{"assignments":{"assignments":[{"id":"8d280cd7-6326-43e0-a5b2-6efd81401482","name":"prompt","value":"\\\\nYou are an Insight Agent specializing in surfacing business-relevant insights from internal data sources.\\\\n\\\\n\\\\n\\\\n[User Query]\\\\nWhat changed in our Q2 churn compared to Q1?\\\\n\\\\n[Insight Type]\\\\nsummary\\\\n\\\\n[Instruction]\\\\nGenerate a concise summary of the key findings.\\\\n\\\\n[Your Response]\\\\n","type":"string"},{"id":"0ee7e295-0ce1-47f9-bff3-961f911d7312","name":"type","value":"summary","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[160,240],"id":"76bc9844-9cda-43dc-9ce9-d78f6375d2a0","name":"Test Data"},{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[-100,240],"id":"a7da28fb-0ad3-4bcc-9671-cbb23cd6878d","name":"When clicking Execute workflow"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{"temperature":0}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[2440,220],"id":"d5000000-3e52-4ba9-b1f0-134c1def2b6b","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"jsCode":"const voteLetter = $node[\\"Clean vote\\"].json.vote;\\nconst voteIndex = voteLetter.charCodeAt(0) - 65;\\nconst candidateCount = 3;\\nconst outputs = [];\\n\\nfor (let i = 0; i < candidateCount; i++) {\\n  const letter = String.fromCharCode(65 + i); // \\"A\\", \\"B\\", \\"C\\"\\n  const label = `LLM Generation ${letter}`;\\n  const llmJson = $node[label].json;\\n  const inner = llmJson.output; // <-- inner wrapped structure\\n\\n  outputs.push({\\n    json: {\\n      output: inner[`text_llm_generation_${letter.toLowerCase()}`] || \\"Missing output\\",\\n      scorecard: inner.scorecard || {},\\n      source_node: label,\\n      winner: i === voteIndex\\n    }\\n  });\\n}\\n\\nreturn outputs;"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2980,0],"id":"3bcca915-c2e5-456c-8796-ca47ef834b25","name":"Get vote output"},{"parameters":{"jsCode":"const json = $json.output;\\n\\nreturn [\\n  {\\n    json: {\\n      output: json.text_llm_generation_b,\\n      scorecard: json.scorecard || {},\\n      source_node: \\"LLM Generation B\\"\\n    }\\n  }\\n];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1140,0],"id":"ed67d897-1a8d-4d24-a360-96f26057a181","name":"Scorecard Parser B"},{"parameters":{"jsCode":"const json = $json.output;\\n\\nreturn [\\n  {\\n    json: {\\n      output: json.text_llm_generation_a,\\n      scorecard: json.scorecard || {},\\n      source_node: \\"LLM Generation A\\"\\n    }\\n  }\\n];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1140,-440],"id":"9666e51e-9dd8-4587-b785-7ed132a7fd15","name":"Scorecard Parser A"},{"parameters":{"jsonSchemaExample":"{\\n  \\"text_llm_generation_a\\": \\"In Q2, churn increased by 12% compared to Q1, primarily due to pricing changes and lower engagement among first-time users. The trend suggests a need to revisit onboarding flows and retention incentives for new signups.\\",\\n  \\"scorecard\\": {\\n    \\"clarity\\": 5,\\n    \\"relevance\\": 5,\\n    \\"insightfulness\\": 4,\\n    \\"actionability\\": 4\\n  }\\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[960,-260],"id":"5777707a-e799-4689-b827-41972affbb8b","name":"Structured Output Parser A"},{"parameters":{"jsonSchemaExample":"{\\n  \\"text_llm_generation_b\\": \\"In Q2, churn increased by 12% compared to Q1, primarily due to pricing changes and lower engagement among first-time users. The trend suggests a need to revisit onboarding flows and retention incentives for new signups.\\",\\n  \\"scorecard\\": {\\n    \\"clarity\\": 5,\\n    \\"relevance\\": 5,\\n    \\"insightfulness\\": 4,\\n    \\"actionability\\": 4\\n  }\\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[960,180],"id":"bc071e74-d32d-4524-b81c-5f6d49b98d16","name":"Structured Output Parser B"},{"parameters":{"model":{"__rl":true,"value":"gpt-3.5-turbo","mode":"list","cachedResultName":"gpt-3.5-turbo"},"options":{"temperature":0.7}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[740,-260],"id":"bf1b5710-6452-4a87-8a31-5b6e20254cba","name":"OpenAI Chat Model A","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"model":{"__rl":true,"value":"gpt-3.5-turbo","mode":"list","cachedResultName":"gpt-3.5-turbo"},"options":{"temperature":0.9}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[740,180],"id":"0998a07d-c28d-4035-a045-23478867f26f","name":"OpenAI Chat Model B","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"model":{"__rl":true,"value":"claude-3-haiku-20240307","mode":"list","cachedResultName":"Claude Haiku 3"},"options":{"temperature":0.7}},"type":"@n8n/n8n-nodes-langchain.lmChatAnthropic","typeVersion":1.3,"position":[600,640],"id":"170a049a-fe43-400f-ba59-fc9d93729993","name":"Anthropic Chat Model C","credentials":{"anthropicApi":{"id":"Wmz3AO5pPNbuodMG","name":"Anthropic account"}},"disabled":true},{"parameters":{"jsonSchemaExample":"{\\n  \\"text_llm_generation_c\\": \\"In Q2, churn increased by 12% compared to Q1, primarily due to pricing changes and lower engagement among first-time users. The trend suggests a need to revisit onboarding flows and retention incentives for new signups.\\",\\n  \\"scorecard\\": {\\n    \\"clarity\\": 5,\\n    \\"relevance\\": 5,\\n    \\"insightfulness\\": 4,\\n    \\"actionability\\": 4\\n  }\\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[1000,640],"id":"b61f28b8-7f94-4352-bbb9-41f0bc21a485","name":"Structured Output Parser C"},{"parameters":{"jsCode":"const json = $json.output;\\n\\nreturn [\\n  {\\n    json: {\\n      output: json.text_llm_generation_c,\\n      scorecard: json.scorecard || {},\\n      source_node: \\"LLM Generation C\\"\\n    }\\n  }\\n];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1140,440],"id":"915f84f7-b97d-4356-9496-695b2c5e507a","name":"Scorecard Parser C"},{"parameters":{"model":{"__rl":true,"value":"gpt-3.5-turbo","mode":"list","cachedResultName":"gpt-3.5-turbo"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[720,640],"id":"81d66cb9-d981-4eb1-a87d-03ed2ad62caf","name":"OpenAI Chat Model1","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}}]	{"LLM Generation A":{"main":[[{"node":"Scorecard Parser A","type":"main","index":0}]]},"LLM Generation B":{"main":[[{"node":"Scorecard Parser B","type":"main","index":0}]]},"LLM Generation C":{"main":[[{"node":"Scorecard Parser C","type":"main","index":0}]]},"Manual Merge via Function":{"main":[[{"node":"Prompt for vote","type":"main","index":0}]]},"Prompt for vote":{"main":[[{"node":"Vote Node","type":"main","index":0}]]},"Vote Node":{"main":[[{"node":"Clean vote","type":"main","index":0}]]},"Clean vote":{"main":[[{"node":"Get vote output","type":"main","index":0}]]},"Prep prompt data":{"main":[[{"node":"LLM Generation A","type":"main","index":0},{"node":"LLM Generation B","type":"main","index":0},{"node":"LLM Generation C","type":"main","index":0}]]},"When Executed by Another Workflow":{"main":[[{"node":"Prep prompt data","type":"main","index":0}]]},"Test Data":{"main":[[{"node":"Prep prompt data","type":"main","index":0}]]},"When clicking Execute workflow":{"main":[[{"node":"Test Data","type":"main","index":0}]]},"Merge":{"main":[[{"node":"Manual Merge via Function","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"Vote Node","type":"ai_languageModel","index":0}]]},"Get vote output":{"main":[[]]},"Structured Output Parser A":{"ai_outputParser":[[{"node":"LLM Generation A","type":"ai_outputParser","index":0}]]},"Structured Output Parser B":{"ai_outputParser":[[{"node":"LLM Generation B","type":"ai_outputParser","index":0}]]},"OpenAI Chat Model A":{"ai_languageModel":[[{"node":"LLM Generation A","type":"ai_languageModel","index":0}]]},"OpenAI Chat Model B":{"ai_languageModel":[[{"node":"LLM Generation B","type":"ai_languageModel","index":0}]]},"Anthropic Chat Model C":{"ai_languageModel":[[]]},"Structured Output Parser C":{"ai_outputParser":[[{"node":"LLM Generation C","type":"ai_outputParser","index":0}]]},"Scorecard Parser B":{"main":[[{"node":"Merge","type":"main","index":1}]]},"Scorecard Parser A":{"main":[[{"node":"Merge","type":"main","index":0}]]},"Scorecard Parser C":{"main":[[{"node":"Merge","type":"main","index":2}]]},"OpenAI Chat Model1":{"ai_languageModel":[[{"node":"LLM Generation C","type":"ai_languageModel","index":0}]]}}	2025-06-12 23:52:37.253+00	2025-12-10 03:40:23.704+00	{"executionOrder":"v1"}	\N	{"LLM Generation A":[{"json":{"output":{"text_llm_generation_a":"In Q2, churn increased by 15% compared to Q1, primarily influenced by a rise in customer complaints and a reduction in customer support response times. Key demographics affected include small business clients, who reported dissatisfaction with service and pricing. Strategies to address these issues include enhancing customer support training and re-evaluating pricing models to improve retention rates.","scorecard":{"clarity":4,"relevance":5,"insightfulness":4,"actionability":5}}}}],"LLM Generation B":[{"json":{"output":{"text_llm_generation_b":"In Q2, the churn rate increased by 10% compared to Q1. Key factors contributing to this rise include a drop in customer satisfaction scores and an increase in service outages. Retention efforts implemented in Q2, such as targeted outreach and enhanced support, showed some positive effects but were insufficient to completely offset the churn increase. Recommendations include focusing on improving service reliability and customer engagement strategies to mitigate future churn.","scorecard":{"clarity":4,"relevance":5,"insightfulness":4,"actionability":5}}}}],"LLM Generation C":[{"json":{"output":{"text_llm_generation_c":"I don't have access to your company's internal churn data to provide specific insights about Q2 vs Q1 changes. To generate a meaningful summary of churn rate changes, I would need access to customer retention metrics, cancellation data, and relevant business context from your internal systems. Please provide the churn data or connect me to your data sources so I can analyze the quarter-over-quarter trends and identify key drivers of change.","scorecard":{"clarity":4,"relevance":4,"insightfulness":2,"actionability":3}}}}]}	59ba7f47-0343-4ebf-a213-fb75b3457ed0	0	vRjzDA3odWrYEsYa	{"templateCredsSetupCompleted":true}	4nhMSsg3QoksuKGe	f	2	\N	\N
Misc - PDF Email Analyzer	f	[{"parameters":{"formTitle":"PDF upload","formFields":{"values":[{"fieldLabel":"Upload PDF","fieldType":"file","multipleFiles":false,"acceptFileTypes":".pdf","requiredField":true}]},"options":{}},"type":"n8n-nodes-base.formTrigger","typeVersion":2.2,"position":[540,680],"id":"054e32d5-ed42-4576-b9dc-3f32040dd37b","name":"On form submission","webhookId":"f6765c8a-9e0d-4151-a8bf-319587c41816"},{"parameters":{"operation":"pdf","binaryPropertyName":"Upload_PDF","options":{}},"type":"n8n-nodes-base.extractFromFile","typeVersion":1,"position":[800,680],"id":"14b71870-de6b-4dec-9201-f928ad64203e","name":"Extract from File"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[1020,880],"id":"40c2ed42-920a-413a-a784-1db44b89c16c","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"jsonSchemaExample":"{\\n  \\"executive_summary\\": \\"The integration project advanced with initial setup discussions and early access configuration. Sarah Patel confirmed OAuth is required for the API, and John Lee raised concerns about missing access to the dev environment. Documentation links were shared to guide next steps. The team aims to resolve access issues by end of week to maintain the integration timeline.\\",\\n  \\"key_decisions\\": [\\n    {\\n      \\"date\\": \\"2025-06-10\\",\\n      \\"decision\\": \\"OAuth authentication will be used instead of certificate-based authentication, confirmed by Sarah Patel.\\"\\n    }\\n  ],\\n  \\"entries\\": [\\n    {\\n      \\"date\\": \\"2025-06-09\\",\\n      \\"text\\": \\"John Lee reported that he could not access the development environment and requested admin credentials. He flagged this as a blocker for testing the integration scripts.\\"\\n    },\\n    {\\n      \\"date\\": \\"2025-06-10\\",\\n      \\"text\\": \\"Sarah Patel confirmed that OAuth will be required for authentication and shared the official integration documentation. She requested that the access issue be resolved by Friday.\\"\\n    }\\n  ],\\n  \\"links\\": [\\n    {\\n      \\"url\\": \\"https://company.sharepoint.com/integration-guide\\",\\n      \\"description\\": \\"Integration setup documentation for internal APIs.\\"\\n    }\\n  ]\\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[1240,880],"id":"a8e3bf94-498e-47b8-bb47-272ce9bddd9b","name":"Structured Output Parser"},{"parameters":{"promptType":"define","text":"=Here is the structured project data with dated entries and reference links.\\n\\nDATA:\\n{{ JSON.stringify($json) }}","hasOutputParser":true,"messages":{"messageValues":[{"message":"=You are a project communication analyst that transforms structured project email threads into JSON summaries for tracking and storage.\\n\\nINPUT: A JSON object with dated entries, each containing sender, message summary, and optional URLs.\\n\\nYour output must contain:\\n\\n1. \\"executive_summary\\" (150300 words)  summarize key decisions, blockers, progress, and next steps. Use names, systems, and dates when available.\\n\\n2. \\"key_decisions\\"  a list of decisions with their dates and descriptions.\\n\\n3. \\"entries\\"  chronological summaries (24 sentences per entry). Do not merge unrelated messages. Use concrete details.\\n\\n4. \\"links\\"  list all URLs with a short description of their project relevance. Mark broken or unknown links as \\"URL inaccessible\\".\\n\\nReturn valid JSON in this format:\\n```json\\n{\\n  \\"executive_summary\\": \\"...\\",\\n  \\"key_decisions\\": [\\n    { \\"date\\": \\"YYYY-MM-DD\\", \\"decision\\": \\"...\\" }\\n  ],\\n  \\"entries\\": [\\n    { \\"date\\": \\"YYYY-MM-DD\\", \\"text\\": \\"...\\" }\\n  ],\\n  \\"links\\": [\\n    { \\"url\\": \\"...\\", \\"description\\": \\"...\\" }\\n  ]\\n}\\n```\\nFocus on completeness, clarity, and accuracy. Do not omit earlier emails. Do not include generalities."}]},"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[1060,680],"id":"e25c9db9-862c-4702-b4e8-6a24953ad311","name":"Analyzer - JSON"}]	{"On form submission":{"main":[[{"node":"Extract from File","type":"main","index":0}]]},"Extract from File":{"main":[[{"node":"Analyzer - JSON","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"Analyzer - JSON","type":"ai_languageModel","index":0}]]},"Structured Output Parser":{"ai_outputParser":[[{"node":"Analyzer - JSON","type":"ai_outputParser","index":0}]]},"Analyzer - JSON":{"main":[[]]}}	2025-06-12 18:15:47.169+00	2025-12-10 03:40:52.341+00	{"executionOrder":"v1"}	\N	{}	78ee547d-c654-4d47-8c7e-27d5dce19b93	0	si1TRBRSoeD11mnt	{"templateCredsSetupCompleted":true}	rNR8Aq0OtLA8Zo6g	f	2	\N	\N
Misc - Embedder	f	[{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[0,0],"id":"7d3cb10d-a6c6-4004-96bc-b9e6aaabd4f0","name":"When clicking Execute workflow"},{"parameters":{"operation":"getAll","tableId":"bc_writing_rubric","returnAll":true},"type":"n8n-nodes-base.supabase","typeVersion":1,"position":[200,0],"id":"3306a738-6085-43c5-b061-9b1ca67011de","name":"Supabase","credentials":{"supabaseApi":{"id":"sv022Yz8rJXZ7Fty","name":"Supabase - Misc"}}},{"parameters":{"content":"Note: Just change source of what to embed"},"type":"n8n-nodes-base.stickyNote","position":[140,-200],"typeVersion":1,"id":"33fb4290-3b9a-4483-a568-a7dd28e4d059","name":"Sticky Note"},{"parameters":{"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[420,0],"id":"9494ada4-fd1e-455b-ac31-b6bf05329923","name":"Loop Over Items"},{"parameters":{"mode":"insert","tableName":{"__rl":true,"value":"bc_writing_rubric_embeddings","mode":"list","cachedResultName":"bc_writing_rubric_embeddings"},"options":{}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.2,"position":[700,80],"id":"6cba3c90-6698-4f05-be3a-ddf4800ce407","name":"Supabase Vector Store","credentials":{"supabaseApi":{"id":"sv022Yz8rJXZ7Fty","name":"Supabase - Misc"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[780,-100],"id":"dedbd599-2974-4b97-ab17-3408975c1a22","name":"Embeddings OpenAI","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.documentDefaultDataLoader","typeVersion":1,"position":[940,-120],"id":"fafdcc07-4b81-4a4f-9e0e-3b13c1e4a0fc","name":"Default Data Loader"},{"parameters":{"chunkOverlap":200,"options":{}},"type":"@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter","typeVersion":1,"position":[1200,20],"id":"34e8e74c-6024-4ec0-aa9d-5f91f64447de","name":"Recursive Character Text Splitter"}]	{"When clicking Execute workflow":{"main":[[{"node":"Supabase","type":"main","index":0}]]},"Supabase":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]},"Loop Over Items":{"main":[[],[{"node":"Supabase Vector Store","type":"main","index":0}]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"Supabase Vector Store","type":"ai_embedding","index":0}]]},"Default Data Loader":{"ai_document":[[{"node":"Supabase Vector Store","type":"ai_document","index":0}]]},"Recursive Character Text Splitter":{"ai_textSplitter":[[{"node":"Default Data Loader","type":"ai_textSplitter","index":0}]]},"Supabase Vector Store":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]}}	2025-06-11 23:43:33.781+00	2025-12-10 03:41:33.545+00	{"executionOrder":"v1"}	\N	{}	af2ad4b8-b904-48a5-a531-88ad93badf7a	0	8x9Q8xDGjpXr7rON	{"templateCredsSetupCompleted":true}	rNR8Aq0OtLA8Zo6g	f	2	\N	\N
Scraper_Firecrawl	f	[{"parameters":{"method":"POST","url":"https://api.firecrawl.dev/v1/scrape","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Authorization","value":"Bearer fc-ba08650a21e54793ab2e8e7fd6723872"},{"name":"Content-Type","value":"application/json"}]},"sendBody":true,"bodyParameters":{"parameters":[{"name":"url","value":"https://www.newadvent.org/summa/2002.htm"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[140,300],"id":"20cf508b-3276-4ac5-9889-b21fe718be55","name":"Call Firecrawl","disabled":true},{"parameters":{"resource":"Default","operation":"Scrape A Url And Get Its Content","url":"={{ $json.url }}","formats":["markdown"],"requestOptions":{}},"type":"n8n-nodes-firecrawl.fireCrawl","typeVersion":1,"position":[820,100],"id":"63757e82-42e9-49fb-9cad-aac2b6d48542","name":"FireCrawl","credentials":{"fireCrawlApi":{"id":"kEVBU6maOxRfSKdj","name":"FireCrawl account"}}},{"parameters":{"jsCode":"function simpleHash(str) {\\n  let hash = 0;\\n  if (!str || str.length === 0) return hash.toString();\\n  for (let i = 0; i < str.length; i++) {\\n    const chr = str.charCodeAt(i);\\n    hash = ((hash << 5) - hash) + chr;\\n    hash |= 0; // Convert to 32bit integer\\n  }\\n  return hash.toString();\\n}\\n\\nfunction extractHostname(link) {\\n  if (!link) return \\"unknown\\";\\n  const match = link.match(/^https?:\\\\/\\\\/([^\\\\/?#]+)(?:[\\\\/?#]|$)/i);\\n  return match ? match[1].replace(/^www\\\\./, \\"\\") : \\"unknown\\";\\n}\\n\\n// Input\\nconst scraped = $json.data;\\nconst markdown = scraped.markdown || \\"EMPTY_CONTENT\\";\\nconst title = scraped.metadata?.title || \\"Untitled\\";\\nconst url = scraped.metadata?.sourceURL || scraped.metadata?.url || \\"unknown\\";\\n\\n// Normalized values\\nconst slug = title.toLowerCase().replace(/[^a-z0-9]+/g, \\"-\\").replace(/(^-|-$)/g, \\"\\");\\nconst uniqueId = `${slug}-${simpleHash(url)}`;\\nconst source = extractHostname(url);\\nconst contentHash = simpleHash(markdown);\\n\\n// Heuristic doc_type and optional voice_style (adjust as needed)\\nconst docType = url.includes(\\"/saints/\\") ? \\"saint_bio\\" : \\"doctrine\\";\\nconst voiceStyle = docType === \\"saint_bio\\" ? \\"narrative\\" : null;\\nconst saintPrimary = docType === \\"saint_bio\\" ? slug : null;\\n\\nreturn [\\n  {\\n    json: {\\n      doc_id: uniqueId,\\n      title,\\n      source_type: \\"firecrawl\\",\\n      source_id: uniqueId,\\n      clean_text: markdown,\\n      url,\\n      source,\\n      content_hash: contentHash,\\n      status: \\"pending\\",\\n      doc_type: docType,\\n      voice_style: voiceStyle,\\n      saint_primary: saintPrimary,\\n      created_at: new Date().toISOString()\\n    }\\n  }\\n];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1000,100],"id":"0d4f74da-3881-437e-b8e9-15e446158aa8","name":"Clean-up"},{"parameters":{"method":"POST","url":"https://ukpvaebwabvvipebebnj.supabase.co/rest/v1/raw_doctrine_docs","authentication":"predefinedCredentialType","nodeCredentialType":"supabaseApi","sendBody":true,"bodyParameters":{"parameters":[{"name":"source_type","value":"={{ $('Clean-up').item.json.source_type }}"},{"name":"source_id","value":"={{ $('Clean-up').item.json.source_id }}"},{"name":"title","value":"={{ $('Clean-up').item.json.title }}"},{"name":"url","value":"=web: {{ $('Loop Over URLs').item.json.url }}"},{"name":"clean_text","value":"={{ $('Unwrap output').item.json.purified_content }}"},{"name":"status","value":"={{ $('Clean-up').item.json.status }}"},{"name":"content_hash","value":"={{ $('Clean-up').item.json.content_hash }}"},{"name":"source","value":"web"},{"name":"voice_style","value":"={{ $('Unwrap output').item.json.voice_style }}"},{"name":"doc_type","value":"={{ $('Clean-up').item.json.doc_type }}"},{"name":"saint_primary","value":"={{ $('Unwrap output').item.json.associated_saint }}"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[2440,680],"id":"086384b7-c3e9-4817-bf2b-f45d58faad82","name":"Insert to Supabase","credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account - SGPT"}}},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"loose","version":2},"conditions":[{"id":"09432d0f-91ba-471f-a614-8bb5d7772e4e","leftValue":"={{ $json.id }}","rightValue":0,"operator":{"type":"string","operation":"notExists","singleValue":true}}],"combinator":"and"},"looseTypeValidation":true,"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[2120,580],"id":"df3ea4e7-2ccd-4f7b-86c4-e80175e2ee00","name":"If"},{"parameters":{"formTitle":"Firecrawl URL scraper","formFields":{"values":[{"fieldLabel":"Data","fieldType":"file","multipleFiles":false,"acceptFileTypes":".csv","requiredField":true}]},"options":{}},"type":"n8n-nodes-base.formTrigger","typeVersion":2.2,"position":[-20,60],"id":"ab644efa-b342-4f79-a68e-e976debccfa7","name":"On form submission","webhookId":"d27b6649-c42e-47a7-a8aa-201a40c8cb18"},{"parameters":{"binaryPropertyName":"Data","options":{}},"type":"n8n-nodes-base.extractFromFile","typeVersion":1,"position":[200,60],"id":"d1c496b5-a015-4749-8310-0f8bf010e682","name":"Extract from File"},{"parameters":{"jsCode":"return items.map(item => {\\n  const keys = Object.keys(item.json);\\n  const urlKey = keys.find(k => k.trim().toLowerCase() === \\"url\\");\\n  const url = item.json[urlKey] || \\"\\";\\n  \\n  return {\\n    json: {\\n      url: url.trim()\\n    }\\n  };\\n});"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[400,60],"id":"9c135746-e40d-41a1-9fbf-70b834a5aadf","name":"Clean"},{"parameters":{"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[600,60],"id":"9ff2c11b-9753-4f87-8149-b1d85e482b23","name":"Loop Over URLs"},{"parameters":{"url":"=https://ukpvaebwabvvipebebnj.supabase.co/rest/v1/raw_doctrine_docs?source_id=eq.{{ $('Clean-up').item.json.source_id }}","authentication":"predefinedCredentialType","nodeCredentialType":"supabaseApi","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1860,100],"id":"70d01b0d-3f01-49ae-a8c2-95cfd8e51044","name":"Query Supabase raw_doctrine_docs","alwaysOutputData":true,"credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account - SGPT"}}},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[1180,300],"id":"87dcd06f-977f-4fdd-8fe3-3c78c40c0e41","name":"OpenAI Chat Model1","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"promptType":"define","text":"=title:\\n{{ $json.title }}\\n\\nclean_text: \\n{{ $json.clean_text }}","hasOutputParser":true,"options":{"systemMessage":"You are a strict formatter and data preserver. Given input content, your task is to remove noise and clean up formatting**but you must not summarize, shorten, paraphrase, or omit any structured content** (rubrics, examples, headings, markdown, etc.).\\n\\nReturn only a raw JSON object in the following format, with no explanation, markdown, or code blocks:\\n\\n{\\n  \\"purified_content\\": \\"<cleaned full content>\\",\\n  \\"associated_saint\\": \\"<clearly identified saint name, or 'doctrine'>\\",\\n  \\"saint_canonical_id\\": \\"<canonical_id in snake_case, or 'doctrine'>\\",\\n  \\"voice_style\\": \\"<one of: doctrinal, pastoral, mystical, contemplative, devotional, affectionate, childlike, zealous>\\"\\n}\\n\\nDo not assume or default to any saint.  \\nIf no saint is clearly mentioned, return:\\n- \\"associated_saint\\": \\"doctrine\\"\\n- \\"saint_canonical_id\\": \\"doctrine\\"\\n\\nIf a specific saint is referenced clearly in the content  including by name, title, or unique identifiers (such as feast descriptions or doctrinal declarations)  match it accurately and assign the appropriate canonical_id. For Mary, this includes any unambiguous reference to her identity as the Mother of God.\\n"}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2,"position":[1240,100],"id":"81aeb250-d051-4a64-86ef-12a5c7ddea92","name":"Purify Content"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[1180,540],"id":"440c2890-1453-4411-8a9d-ca137e43d9f8","name":"Embeddings OpenAI","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"mode":"retrieve-as-tool","toolName":"saint_retriever","toolDescription":"Determine Saint from Supabase vector store","tableName":{"__rl":true,"value":"saint_vectors","mode":"list","cachedResultName":"saint_vectors"},"options":{"queryName":"match_documents"}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.1,"position":[1320,360],"id":"f4d150e8-01ff-4407-98b0-49c8df60d5c0","name":"Saint Retriever","credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account - SGPT"}}},{"parameters":{"jsCode":"const result = $json[\\"output\\"];\\n\\nreturn {\\n  purified_content: result.purified_content,\\n  associated_saint: result.associated_saint,\\n  saint_canonical_id: result.saint_canonical_id,\\n  voice_style: result.voice_style\\n};\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1640,100],"id":"a197683c-a686-40aa-a8d0-99f356bc090b","name":"Unwrap output"},{"parameters":{"jsonSchemaExample":"{\\n  \\"purified_content\\": \\"string\\",\\n  \\"associated_saint\\": \\"string\\",\\n  \\"saint_canonical_id\\": \\"string\\",\\n  \\"voice_style\\": \\"string\\"\\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[1620,320],"id":"4d60838e-3235-41c0-9d80-af75b210ecf4","name":"Structured Output Parser"},{"parameters":{"content":"TODO: Consider moving this before purifying content","height":80},"type":"n8n-nodes-base.stickyNote","position":[1780,0],"typeVersion":1,"id":"ace9f1c0-a9a6-48d3-a92c-5235ca4a2794","name":"Sticky Note"}]	{"Call Firecrawl":{"main":[[]]},"Clean-up":{"main":[[{"node":"Purify Content","type":"main","index":0}]]},"If":{"main":[[{"node":"Insert to Supabase","type":"main","index":0}],[{"node":"Loop Over URLs","type":"main","index":0}]]},"FireCrawl":{"main":[[{"node":"Clean-up","type":"main","index":0}]]},"On form submission":{"main":[[{"node":"Extract from File","type":"main","index":0}]]},"Extract from File":{"main":[[{"node":"Clean","type":"main","index":0}]]},"Clean":{"main":[[{"node":"Loop Over URLs","type":"main","index":0}]]},"Insert to Supabase":{"main":[[{"node":"Loop Over URLs","type":"main","index":0}]]},"Loop Over URLs":{"main":[[],[{"node":"FireCrawl","type":"main","index":0}]]},"Query Supabase raw_doctrine_docs":{"main":[[{"node":"If","type":"main","index":0}]]},"OpenAI Chat Model1":{"ai_languageModel":[[{"node":"Purify Content","type":"ai_languageModel","index":0}]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"Saint Retriever","type":"ai_embedding","index":0}]]},"Purify Content":{"main":[[{"node":"Unwrap output","type":"main","index":0}]]},"Saint Retriever":{"ai_tool":[[{"node":"Purify Content","type":"ai_tool","index":0}]]},"Unwrap output":{"main":[[{"node":"Query Supabase raw_doctrine_docs","type":"main","index":0}]]},"Structured Output Parser":{"ai_outputParser":[[{"node":"Purify Content","type":"ai_outputParser","index":0}]]}}	2025-05-31 17:30:28.11+00	2025-12-10 03:41:38.772+00	{"executionOrder":"v1"}	\N	{}	f4db865a-b8ef-4af4-ada9-a77d313e17fb	1	9FSKLpPjh9xCoQ1M	{"templateCredsSetupCompleted":true}	8wmQ4Jp69N962EHz	f	2	\N	\N
\.


--
-- TOC entry 3910 (class 0 OID 25005)
-- Dependencies: 242
-- Data for Name: workflow_history; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.workflow_history ("versionId", "workflowId", authors, "createdAt", "updatedAt", nodes, connections, name, autosaved, description) FROM stdin;
3130d511-c963-49a4-9fdc-84cccce8deb9	Pu5iXI8WGSFyphVx	system migration	2025-12-10 03:01:05.103+00	2025-12-10 03:01:05.103+00	[{"parameters":{"formTitle":"Upload your data to test RAG","formFields":{"values":[{"fieldLabel":"Upload your file(s)","fieldType":"file","acceptFileTypes":".pdf, .csv","requiredField":true}]},"options":{}},"type":"n8n-nodes-base.formTrigger","typeVersion":2.2,"position":[-120,0],"id":"f7a656ec-83fc-4ed2-a089-57a9def662b7","name":"Upload your file here","webhookId":"82848bc4-5ea2-4e5a-8bb6-3c09b94a8c5d"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[520,480],"id":"6ea78663-cf2f-4f2d-8e68-43047c2afd87","name":"Embeddings OpenAI","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"dataType":"binary","options":{}},"type":"@n8n/n8n-nodes-langchain.documentDefaultDataLoader","typeVersion":1.1,"position":[320,160],"id":"94aecac0-03f9-4915-932b-d14a2576607b","name":"Default Data Loader"},{"parameters":{"content":"### Readme\\nLoad your data into a vector database with the  **Load Data** flow, and then use your data as chat context with the  **Retriever** flow.\\n\\n**Quick start**\\n1. Click on the `Execute Workflow` button to run the  **Load Data** flow.\\n2. Click on `Open Chat` button to run the  **Retriever** flow. Then ask a question about content from your document(s)\\n\\n\\nFor more info, check [our docs on RAG in n8n](https://docs.n8n.io/advanced-ai/rag-in-n8n/).","height":300,"width":440,"color":4},"type":"n8n-nodes-base.stickyNote","position":[-660,-60],"typeVersion":1,"id":"0d07742b-0b36-4c2e-990c-266cbe6e2d4d","name":"Sticky Note"},{"parameters":{"content":"###  Load Data Flow","height":460,"width":700,"color":7},"type":"n8n-nodes-base.stickyNote","position":[-180,-60],"typeVersion":1,"id":"d19d04f3-5231-4e47-bed7-9f24a4a8f582","name":"Sticky Note1"},{"parameters":{"mode":"insert","memoryKey":{"__rl":true,"value":"vector_store_key","mode":"list","cachedResultName":"vector_store_key"}},"type":"@n8n/n8n-nodes-langchain.vectorStoreInMemory","typeVersion":1.2,"position":[60,0],"id":"bf50a11f-ca6a-4e04-a6d2-42fee272b260","name":"Insert Data to Store"},{"parameters":{"mode":"retrieve-as-tool","toolName":"knowledge_base","toolDescription":"Use this knowledge base to answer questions from the user","memoryKey":{"__rl":true,"mode":"list","value":"vector_store_key"}},"type":"@n8n/n8n-nodes-langchain.vectorStoreInMemory","typeVersion":1.2,"position":[940,200],"id":"09c0db62-5413-440e-8c13-fb6bb66d9b6a","name":"Query Data Tool"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2,"position":[940,-20],"id":"579aed76-9644-42d1-ac13-7369059ff1c2","name":"AI Agent"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.chatTrigger","typeVersion":1.1,"position":[720,-20],"id":"9c30de61-935a-471f-ae88-ec5f67beeefc","name":"When chat message received","webhookId":"4091fa09-fb9a-4039-9411-7104d213f601"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[720,200],"id":"b5aa8942-9cd5-4c2f-bd77-7a0ceb921bac","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"content":"###  2. Retriever Flow","height":460,"width":680,"color":7},"type":"n8n-nodes-base.stickyNote","position":[600,-60],"typeVersion":1,"id":"28bc73a1-e64a-47bf-ac1c-ffe644894ea5","name":"Sticky Note2"},{"parameters":{"content":"### Embeddings\\n\\nThe Insert and Retrieve operation use the same embedding node.\\n\\nThis is to ensure that they are using the **exact same embeddings and settings**.\\n\\nDifferent embeddings might not work at all, or have unintended consequences.\\n","height":240,"width":320,"color":4},"type":"n8n-nodes-base.stickyNote","position":[660,440],"typeVersion":1,"id":"0cf8c647-418c-4d1a-8952-766145afca72","name":"Sticky Note3"}]	{"Upload your file here":{"main":[[{"node":"Insert Data to Store","type":"main","index":0}]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"Insert Data to Store","type":"ai_embedding","index":0},{"node":"Query Data Tool","type":"ai_embedding","index":0}]]},"Default Data Loader":{"ai_document":[[{"node":"Insert Data to Store","type":"ai_document","index":0}]]},"Query Data Tool":{"ai_tool":[[{"node":"AI Agent","type":"ai_tool","index":0}]]},"When chat message received":{"main":[[{"node":"AI Agent","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"AI Agent","type":"ai_languageModel","index":0}]]}}	\N	f	\N
a63eb67a-8b7f-4d3c-aae0-eda6009b0b3c	VXnBVFm1w2zsvSt3	system migration	2025-12-10 03:01:05.103+00	2025-12-10 03:01:05.103+00	[{"parameters":{"formTitle":"Insight Navigator","formFields":{"values":[{"fieldLabel":"user_query","fieldType":"textarea"},{"fieldLabel":"insight_type","fieldType":"dropdown","fieldOptions":{"values":[{"option":"summary"},{"option":"trend"},{"option":"anomaly"},{"option":"recommendation"}]}}]},"options":{}},"type":"n8n-nodes-base.formTrigger","typeVersion":2.2,"position":[180,160],"id":"70770704-6a6a-47ad-95d5-f04518c68cbc","name":"On form submission","webhookId":"61d54440-2529-40e1-9dd3-e9603f0cbe00","disabled":true},{"parameters":{"jsCode":"const input = ($input.first().json[\\"user_query\\"] || \\"\\").toLowerCase();\\n\\n// Match for common insight intents\\nif (\\n  input.includes(\\"trend\\") ||\\n  input.includes(\\"increase\\") ||\\n  input.includes(\\"decrease\\") ||\\n  input.includes(\\"change over time\\")\\n) {\\n  return [{ json: { route: \\"trend\\" } }];\\n}\\n\\nif (\\n  input.includes(\\"why\\") ||\\n  input.includes(\\"cause\\") ||\\n  input.includes(\\"unusual\\") ||\\n  input.includes(\\"unexpected\\") ||\\n  input.includes(\\"outlier\\")\\n) {\\n  return [{ json: { route: \\"anomaly\\" } }];\\n}\\n\\nif (\\n  input.includes(\\"summary\\") ||\\n  input.includes(\\"recap\\") ||\\n  input.includes(\\"overview\\")\\n) {\\n  return [{ json: { route: \\"summary\\" } }];\\n}\\n\\nif (\\n  input.includes(\\"should we\\") ||\\n  input.includes(\\"next step\\") ||\\n  input.includes(\\"recommend\\")\\n) {\\n  return [{ json: { route: \\"recommendation\\" } }];\\n}\\n\\n// Fallback\\nreturn [{ json: { route: \\"summary\\" } }];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[400,160],"id":"a1c60578-561f-44e3-b213-6cd2a97e61a8","name":"Router Node","disabled":true},{"parameters":{"jsCode":"const mcp = $json[\\"mcp\\"];\\nconst { type, user_input, instruction, memory } = mcp;\\n\\n// Optional: future memory injection\\nconst memoryBlock = Object.keys(memory || {}).length > 0\\n  ? `\\\\n[Memory]\\\\n${JSON.stringify(memory, null, 2)}\\\\n`\\n  : \\"\\";\\n\\nconst prompt = `\\nYou are an Insight Agent specializing in surfacing business-relevant insights from internal data sources.\\n\\n${memoryBlock}\\n\\n[User Query]\\n${user_input}\\n\\n[Insight Type]\\n${type}\\n\\n[Instruction]\\n${instruction}\\n\\n[Your Response]\\n`;\\n\\nreturn [{ json: { prompt, type } }];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[840,160],"id":"5e128f40-188f-4e1a-90b0-af7f18e7eab4","name":"Generate Prompt from MCP","disabled":true},{"parameters":{"workflowId":{"__rl":true,"value":"vRjzDA3odWrYEsYa","mode":"list","cachedResultName":"PromptOS-ParallelGen-Vote"},"workflowInputs":{"mappingMode":"defineBelow","value":{},"matchingColumns":[],"schema":[],"attemptToConvertTypes":false,"convertFieldsToString":true},"options":{}},"type":"n8n-nodes-base.executeWorkflow","typeVersion":1.2,"position":[1300,180],"id":"3e107f95-5009-48c3-8709-8843659c477d","name":"Run PromptOS-Vote Engine"},{"parameters":{"content":"Phase 1: Simple Prompt Builder (earlier version; build one big string from MCP)","height":320,"width":890},"type":"n8n-nodes-base.stickyNote","position":[100,60],"typeVersion":1,"id":"832b9d8d-25bc-49ad-a313-e2babb2c8c1d","name":"Sticky Note"},{"parameters":{"workflowId":{"__rl":true,"value":"VGoFrxdcNIzcUr3e","mode":"list","cachedResultName":"PromptOS-Evaluator"},"workflowInputs":{"mappingMode":"defineBelow","value":{},"matchingColumns":[],"schema":[],"attemptToConvertTypes":false,"convertFieldsToString":true},"options":{}},"type":"n8n-nodes-base.executeWorkflow","typeVersion":1.2,"position":[1680,180],"id":"4d8e9aa2-d9ac-40b4-a68e-dbedca05eef6","name":"Run PromptOS-Evaluator"},{"parameters":{"jsCode":"const input = $input.all();  // <-- this grabs all 3 items\\n\\nconst outputs = input.map((item, index) => {\\n  return {\\n    json: {\\n      index,\\n      output: item.json.output,\\n      scorecard: item.json.scorecard\\n    }\\n  };\\n});\\n\\nreturn outputs;"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1500,180],"id":"dfac8e10-cf14-4e32-8440-c852b10f95f4","name":"Prep Evaluator Input"},{"parameters":{"jsCode":"const voteResults = $items('Run PromptOS-Vote Engine').map(i => i.json);\\nconst evalItems = $items('Run PromptOS-Evaluator');\\n\\n// Flatten evaluator outputs\\nconst evalResults = evalItems.flatMap(item => item.json.output);\\n\\n// Merge by index\\nreturn voteResults.map((response, idx) => {\\n  const evaluation = evalResults.find(e => e.index === idx);\\n  return {\\n    json: {\\n      ...response,\\n      adjusted_scorecard: evaluation?.adjusted_scorecard || {},\\n      evaluator_comment: evaluation?.comment || \\"No comment returned.\\"\\n    }\\n  };\\n});\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1860,180],"id":"4d22e62d-a68a-40e4-a97c-aa8d312811b4","name":"Merge vote and evaluation"},{"parameters":{"jsCode":"const items = $input.all();\\n\\nconst labels = ['A', 'B', 'C', 'D', 'E']; // Extend if needed\\n\\nconst ranked = items.map((i, idx) => {\\n  const data = i.json;\\n  const score = Object.values(data.adjusted_scorecard).reduce((sum, val) => sum + val, 0);\\n  return {\\n    ...data,\\n    total_score: score,\\n    label: labels[idx] || `Alt-${idx + 1}`\\n  };\\n}).sort((a, b) => b.total_score - a.total_score)\\n  .map((item, idx) => ({\\n    json: {\\n      ...item,\\n      rank: idx + 1\\n    }\\n  }));\\n\\nreturn ranked;\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2040,180],"id":"73202b7a-c785-45c1-adbc-32ea7faca7dc","name":"Rank Responses by Adjusted Score"},{"parameters":{"formFields":{"values":[{"fieldLabel":"top_response","fieldType":"textarea","placeholder":"={{ $json.top_response }}","requiredField":true},{"fieldLabel":"action","fieldType":"dropdown","fieldOptions":{"values":[{"option":"Accept"},{"option":"Edit"},{"option":"Rerun Vote"}]}},{"fieldLabel":"edited_output","fieldType":"textarea"},{"fieldLabel":"reviewer_notes","fieldType":"textarea"}]},"options":{}},"type":"n8n-nodes-base.form","typeVersion":1,"position":[2840,160],"id":"0a023f05-71a8-47dd-a4c3-9135813f9583","name":"HITL Override Form","webhookId":"f0773554-15f5-47e8-80c9-e4e8a79a1fac","disabled":true},{"parameters":{"jsCode":"const top = $input.all().find(i => i.json.rank === 1);\\n\\nreturn [\\n  {\\n    json: {\\n      top_response: top.json.output\\n    }\\n  }\\n];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2460,160],"id":"099c1a58-85f1-436e-90b1-f7a15675590c","name":"Select Top Response","disabled":true},{"parameters":{"operation":"completion","completionTitle":"HITL Decision Output","completionMessage":" HITL review complete. Response will now proceed based on your action.","options":{}},"type":"n8n-nodes-base.form","typeVersion":1,"position":[3040,160],"id":"66a193aa-c0f3-493e-9829-ec4719f8a874","name":"Form Ending","webhookId":"759d6d01-6521-45fd-934b-0e5a7f3fb12f","disabled":true},{"parameters":{"jsCode":"const { action, top_response, edited_output, reviewer_notes } = $json;\\n\\nlet final_response;\\n\\nif (action === \\"Edit\\") {\\n  final_response = edited_output || \\"[No edit provided]\\";\\n} else if (action === \\"Accept\\") {\\n  final_response = top_response;\\n} else if (action === \\"Rerun Vote\\") {\\n  // You can catch this in downstream routing\\n  return [\\n    {\\n      json: {\\n        rerun: true,\\n        reason: reviewer_notes || \\"Manual override: Rerun requested\\"\\n      }\\n    }\\n  ];\\n}\\n\\nreturn [\\n  {\\n    json: {\\n      final_response,\\n      HITL_action: action,\\n      HITL_notes: reviewer_notes || \\"\\"\\n    }\\n  }\\n];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[3260,160],"id":"7f3a0f52-d5d0-48f7-bd7d-ef7b6f7cf328","name":"Resolve HITL Action","disabled":true},{"parameters":{"assignments":{"assignments":[{"id":"06f1e40f-3ef7-4643-9831-3e2da0830973","name":"top_response","value":"={{ $json.top_response }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[2660,160],"id":"5cd15d6e-2e76-4db0-9092-f14c15655e4f","name":"Set Default Responses","disabled":true},{"parameters":{"httpMethod":"POST","path":"promptos-playground","responseMode":"responseNode","options":{}},"type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-1100,1120],"id":"1438590c-756a-4ab2-b546-c27bb1efd7aa","name":"Webhook","webhookId":"259800e4-5d3b-47cf-8ee8-000c0824dfe5"},{"parameters":{"options":{}},"type":"n8n-nodes-base.respondToWebhook","typeVersion":1.4,"position":[2940,740],"id":"95475ff6-932c-4b26-9aa8-ac9623d41ed9","name":"Respond to Webhook"},{"parameters":{"content":"HITL stuff","height":280,"width":1030},"type":"n8n-nodes-base.stickyNote","position":[2400,80],"typeVersion":1,"id":"0e8150fe-fd52-46e6-bf39-443d40a1ca5d","name":"Sticky Note1"},{"parameters":{"jsCode":"const items = $input.all();\\n\\n// Split into MCP and vote outputs\\nconst mcp = items.find(i => i.json?.mcp)?.json?.mcp || {};\\nconst voteItems = items.filter(i => i.json?.output);\\n\\n// Extract winning item\\nconst winnerItem = voteItems.find(i => i.json?.winner);\\nconst finalResponse = winnerItem?.json?.output || \\"No winning response available\\";\\nconst winnerLabel = winnerItem?.json?.label || \\"unknown\\";\\nconst winnerRationale = winnerItem?.json?.evaluator_comment || \\"No rationale provided\\";\\n\\n// Build vote breakdown array (cleaned JSONs only)\\nconst voteBreakdown = voteItems.map(item => ({\\n  label: item.json?.label || \\"unknown\\",\\n  output: item.json?.output,\\n  source_node: item.json?.source_node,\\n  scorecard: item.json?.scorecard,\\n  adjusted_scorecard: item.json?.adjusted_scorecard,\\n  evaluator_comment: item.json?.evaluator_comment,\\n  total_score: item.json?.total_score,\\n  rank: item.json?.rank,\\n  winner: item.json?.winner || false\\n}));\\n\\n// Assemble final output\\nreturn [{\\n  json: {\\n    mcp,\\n    final_response: finalResponse,\\n    vote_breakdown: voteBreakdown,\\n    vote_result: {\\n      winner: winnerLabel,\\n      rationale: winnerRationale\\n    },\\n    HITL_action: \\"Auto-Accept\\",\\n    HITL_notes: \\"No manual override applied\\"\\n  }\\n}];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2660,740],"id":"7939a82e-c855-4055-a965-ebc296e29f0c","name":"Prepare Final Response"},{"parameters":{"content":"For Webhook","height":220,"width":560},"type":"n8n-nodes-base.stickyNote","position":[2620,680],"typeVersion":1,"id":"60b78da5-6740-4dee-a363-f30447c948fa","name":"Sticky Note2"},{"parameters":{"fieldToSplitOut":"sections","options":{}},"type":"n8n-nodes-base.splitOut","typeVersion":1,"position":[-160,560],"id":"99678ab1-b87c-47e5-af0e-a64d36be06f8","name":"Split Out"},{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[-1180,340],"id":"83f2cac9-3fdc-4d78-a480-8ba6420106fd","name":"When clicking Execute workflow","disabled":true},{"parameters":{"jsCode":"const mcp = $json.mcp;\\nconst type = mcp.type;\\nconst sections = [];\\n\\nif (mcp.user_input)\\n  sections.push({ label: \\"User Query\\", content: mcp.user_input, type });\\n\\nif (mcp.instruction)\\n  sections.push({ label: \\"Instruction\\", content: mcp.instruction, type });\\n\\nif (mcp.memory && Object.keys(mcp.memory).length)\\n  sections.push({ label: \\"Memory\\", content: JSON.stringify(mcp.memory, null, 2), type });\\n\\nreturn [{ json: { sections } }];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-400,560],"id":"0142d7ff-f5e3-4779-843b-adf54ba49375","name":"Build sections array"},{"parameters":{"promptType":"define","text":"={{ $json.label }}:  \\n{{ $json.content }}\\n\\n[Your Response]","batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[60,560],"id":"4e7a84e3-bad8-44d4-8937-d1e96a7e8408","name":"Generate Section Response"},{"parameters":{"model":{"__rl":true,"value":"gpt-3.5-turbo","mode":"list","cachedResultName":"gpt-3.5-turbo"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[120,740],"id":"2af85b85-c917-4538-bd3d-90d036a6be89","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"jsCode":"const items = $input.all();\\n\\n// Merge all section responses\\nconst merged = items.map((item, i) =>\\n  `Section ${i + 1} Insight:\\\\n${item.json.text}`\\n).join('\\\\n\\\\n');\\n\\nreturn [{\\n  json: {\\n    merge_input: merged\\n  }\\n}];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[440,560],"id":"9565d433-225d-4cb2-a114-7fbfdd670753","name":"Prepare Merge Input"},{"parameters":{"promptType":"define","text":"=You are an Insight Agent.\\n\\nBelow are partial insights generated from structured prompt sections.\\n\\nYour task: Write a clear, direct summary of what changed in customer satisfaction between Q2 and Q3.\\n\\nStart with a concise, data-backed summary (12 sentences max).\\n\\nThen, elaborate briefly on contributing factors and context if needed.\\n\\nOptionally, include industry or trend-level framing if relevant.\\n\\nAvoid filler or generic statements. Prioritize clarity, actionability, and insight.","batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[620,560],"id":"d9a95313-2e0d-4a44-9921-276e9f0cab05","name":"LLM Merge Prompt"},{"parameters":{"model":{"__rl":true,"value":"gpt-3.5-turbo","mode":"list","cachedResultName":"gpt-3.5-turbo"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[660,740],"id":"8741a10c-e2e6-4119-870b-dea5265ed430","name":"OpenAI Chat Model1","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"content":"Phase 2: Structured Prompt Sections (Split the MCP into parts (e.g. user query, instruction) and runan each through the LLM individually)","height":480,"width":1420},"type":"n8n-nodes-base.stickyNote","position":[-500,440],"typeVersion":1,"id":"16831ce4-21d8-4e41-8a16-c71fcbaa3c80","name":"Sticky Note3"},{"parameters":{"assignments":{"assignments":[{"id":"ea29e7d8-9a35-434b-b304-97ebeb406664","name":"prompt","value":"={{ $json.text }}","type":"string"},{"id":"3080820f-fda4-4e2b-a0ee-c25a57517752","name":"type","value":"={{ \\n  $node[\\"Build MCP - Structured\\"].json.mcp?.type \\n    || $node[\\"Build MCP - Structured - Test\\"].json.mcp?.type \\n    || \\"unknown\\" \\n}}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[1020,560],"id":"a8da6390-5a32-4580-b368-fab82dc01806","name":"Prepare Vote Payload"},{"parameters":{"jsCode":"const input = $node[\\"On form submission\\"].json[\\"user_query\\"] || \\"\\";\\nconst insightType = $node[\\"On form submission\\"].json[\\"insight_type\\"] || \\"summary\\";\\nconst route = $json[\\"route\\"] || insightType || \\"summary\\"; // prioritizes routing output if available\\n\\nconst instructionMap = {\\n  summary: \\"Generate a concise summary of the key findings.\\",\\n  trend: \\"Highlight notable trends or changes over time.\\",\\n  anomaly: \\"Identify unusual patterns, anomalies, or outliers.\\",\\n  recommendation: \\"Provide recommendations based on the data insights.\\"\\n};\\n\\nconst instruction = instructionMap[route] || instructionMap[\\"summary\\"];\\n\\nreturn [{\\n  json: {\\n    mcp: {\\n      type: route,\\n      user_input: input,\\n      memory: {},\\n      instruction: instruction\\n    }\\n  }\\n}];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[620,160],"id":"3424c0af-68fa-48cd-be4a-33333f0a8ee0","name":"Build MCP - Simple","disabled":true},{"parameters":{"jsCode":"const input = $json.body?.user_query || \\"\\";\\nconst route = $json.body?.insight_type || \\"summary\\";\\n\\n// Instruction map\\nconst instructionMap = {\\n  summary: \\"Generate a concise summary of the key findings.\\",\\n  trend: \\"Highlight notable trends or changes over time.\\",\\n  anomaly: \\"Identify unusual patterns, anomalies, or outliers.\\",\\n  recommendation: \\"Provide recommendations based on the data insights.\\"\\n};\\n\\nconst instruction = instructionMap[route] || instructionMap[\\"summary\\"];\\n\\nreturn [{\\n  json: {\\n    mcp: {\\n      type: route,\\n      user_input: input,\\n      memory: {},\\n      instruction: instruction\\n    }\\n  }\\n}];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-820,1100],"id":"591490e3-bb3b-4ef1-a37c-edd50cb92428","name":"Build MCP - Structured"},{"parameters":{"mode":"raw","jsonOutput":" {\\n    \\"mcp\\": {\\n      \\"type\\": \\"trend\\",\\n      \\"user_input\\": \\"What changed in customer satisfaction between Q2 and Q3?\\",\\n      \\"memory\\": {},\\n      \\"instruction\\": \\"Highlight notable trends or changes over time.\\"\\n    }\\n}","options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-840,340],"id":"71f51710-ad33-4e74-944d-37c5329abe23","name":"Build MCP - Structured - Test","disabled":true},{"parameters":{},"type":"n8n-nodes-base.merge","typeVersion":3.2,"position":[2340,760],"id":"35edab79-bb88-4df6-97dd-19436dcecb4a","name":"Merge"}]	{"On form submission":{"main":[[{"node":"Router Node","type":"main","index":0}]]},"Router Node":{"main":[[{"node":"Build MCP - Simple","type":"main","index":0}]]},"Generate Prompt from MCP":{"main":[[{"node":"Run PromptOS-Vote Engine","type":"main","index":0}]]},"Run PromptOS-Vote Engine":{"main":[[{"node":"Prep Evaluator Input","type":"main","index":0}]]},"Run PromptOS-Evaluator":{"main":[[{"node":"Merge vote and evaluation","type":"main","index":0}]]},"Prep Evaluator Input":{"main":[[{"node":"Run PromptOS-Evaluator","type":"main","index":0}]]},"Merge vote and evaluation":{"main":[[{"node":"Rank Responses by Adjusted Score","type":"main","index":0}]]},"Rank Responses by Adjusted Score":{"main":[[{"node":"Merge","type":"main","index":0}]]},"HITL Override Form":{"main":[[{"node":"Form Ending","type":"main","index":0}]]},"Select Top Response":{"main":[[{"node":"Set Default Responses","type":"main","index":0}]]},"Form Ending":{"main":[[{"node":"Resolve HITL Action","type":"main","index":0}]]},"Resolve HITL Action":{"main":[[]]},"Set Default Responses":{"main":[[{"node":"HITL Override Form","type":"main","index":0}]]},"Webhook":{"main":[[{"node":"Build MCP - Structured","type":"main","index":0}]]},"Respond to Webhook":{"main":[[]]},"Prepare Final Response":{"main":[[{"node":"Respond to Webhook","type":"main","index":0}]]},"When clicking Execute workflow":{"main":[[{"node":"Build MCP - Structured - Test","type":"main","index":0}]]},"Split Out":{"main":[[{"node":"Generate Section Response","type":"main","index":0}]]},"Build sections array":{"main":[[{"node":"Split Out","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"Generate Section Response","type":"ai_languageModel","index":0}]]},"Generate Section Response":{"main":[[{"node":"Prepare Merge Input","type":"main","index":0}]]},"Prepare Merge Input":{"main":[[{"node":"LLM Merge Prompt","type":"main","index":0}]]},"OpenAI Chat Model1":{"ai_languageModel":[[{"node":"LLM Merge Prompt","type":"ai_languageModel","index":0}]]},"LLM Merge Prompt":{"main":[[{"node":"Prepare Vote Payload","type":"main","index":0}]]},"Prepare Vote Payload":{"main":[[{"node":"Run PromptOS-Vote Engine","type":"main","index":0}]]},"Build MCP - Simple":{"main":[[{"node":"Generate Prompt from MCP","type":"main","index":0}]]},"Build MCP - Structured":{"main":[[{"node":"Build sections array","type":"main","index":0},{"node":"Merge","type":"main","index":1}]]},"Build MCP - Structured - Test":{"main":[[{"node":"Build sections array","type":"main","index":0}]]},"Merge":{"main":[[{"node":"Prepare Final Response","type":"main","index":0}]]}}	\N	f	\N
23350405-0c59-4085-b9bf-6717488f6dd1	WvhIVdAZJSwnonKh	system migration	2025-12-10 03:01:05.103+00	2025-12-10 03:01:05.103+00	[{"parameters":{"promptType":"define","text":"={{ $json[\\"What task would you like broken down?\\"] }}","messages":{"messageValues":[{"message":"You are a Special Needs Child Education Assistant. Break down the following task for a special needs child aged 5 to 8 in 5 very simple, easy-to-understand steps. Use plain language and short sentences. Respond in valid JSON using this structure:\\n\\n{\\n  \\"task\\": \\"<original task>\\",\\n  \\"audience\\": \\"child (age 58, special needs)\\",\\n  \\"steps\\": [\\n    \\"Step 1\\",\\n    \\"Step 2\\",\\n    \\"Step 3\\",\\n    \\"Step 4\\",\\n    \\"Step 5\\"\\n  ]\\n}\\n"}]}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.6,"position":[320,0],"id":"c668cb3c-65cf-420d-8879-ea7330ca6c7a","name":"Basic LLM Chain"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[440,180],"id":"ef946917-0992-4593-8965-b7e3204e21f2","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"formTitle":"Test Form","formFields":{"values":[{"fieldLabel":"What task would you like broken down?","fieldType":"textarea","requiredField":true}]},"options":{}},"type":"n8n-nodes-base.formTrigger","typeVersion":2.2,"position":[100,0],"id":"03a4e6df-c403-4e23-9660-24edfbbfe335","name":"On form submission","webhookId":"9bfb27c2-5b17-4727-a536-8891db5f49d5"},{"parameters":{"jsCode":"const raw = $json[\\"text\\"];\\n\\nlet parsed;\\ntry {\\n  parsed = JSON.parse(raw);\\n} catch (e) {\\n  throw new Error(\\"Failed to parse JSON: \\" + e.message);\\n}\\n\\nreturn [{ json: parsed }];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[680,0],"id":"87b9ceab-35fc-4f39-9e8b-10435d700aec","name":"Code"}]	{"OpenAI Chat Model":{"ai_languageModel":[[{"node":"Basic LLM Chain","type":"ai_languageModel","index":0}]]},"On form submission":{"main":[[{"node":"Basic LLM Chain","type":"main","index":0}]]},"Basic LLM Chain":{"main":[[{"node":"Code","type":"main","index":0}]]}}	\N	f	\N
74667a8f-33a2-4121-8cbb-5f43f297ab7c	fJd3NWsfo10fSjXP	system migration	2025-12-10 03:01:05.103+00	2025-12-10 03:01:05.103+00	[{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[-800,-160],"id":"94c38ccf-2204-4e21-9859-45b3a164796d","name":"When clicking Test workflow"},{"parameters":{"title":"=Test at {{$now.toFormat(\\"yyyy-MM-dd HH:mm\\")}}"},"type":"n8n-nodes-base.googleSlides","typeVersion":2,"position":[-540,-20],"id":"63db1987-696b-4a15-991f-2725bf94dfae","name":"Google Slides","credentials":{"googleSlidesOAuth2Api":{"id":"3ALxij02ZK5ZvDbM","name":"Google Slides account"}}},{"parameters":{"jsCode":"return [\\n  {\\n    json: {\\n      caption: \\"Scene 1: Data goes here\\",\\n      slideIndex: 1\\n    }\\n  },\\n  {\\n    json: {\\n      caption: \\"Scene 2: Data goes here\\",\\n      slideIndex: 2\\n    }\\n  },\\n  {\\n    json: {\\n      caption: \\"Scene 3: Data goes here\\",\\n      slideIndex: 3\\n    }\\n  },\\n  {\\n    json: {\\n      caption: \\"Scene 4: Data goes here\\",\\n      slideIndex: 4\\n    }\\n  },\\n  {\\n    json: {\\n      caption: \\"Scene 5: Data goes here\\",\\n      slideIndex: 5\\n    }\\n  }\\n];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-320,-260],"id":"2c845876-8ca5-4b67-b26f-542a8efae378","name":"Sample Data"},{"parameters":{"assignments":{"assignments":[{"id":"f7bd46a6-d43b-4f84-8838-a9f2f7f96eb4","name":"presentationId","value":"={{ $json.presentationId }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-320,-20],"id":"20f4dedf-53a5-44b2-bba6-2a5473fdbee0","name":"Set PresentationID"},{"parameters":{},"type":"n8n-nodes-base.merge","typeVersion":3.1,"position":[-40,-140],"id":"cf580cc4-a0a8-493f-8d36-4c7e86ae08b2","name":"Merge"},{"parameters":{"jsCode":"// Find the item that has the presentationId\\nconst pres = items.find(i => i.json.presentationId);\\n\\n// Filter slide items  assume slide objects have a 'caption' field\\nconst slides = items.filter(i => i.json.caption);\\n\\n// Merge presentationId into each slide\\nreturn slides.map(slide => ({\\n  json: {\\n    ...slide.json,\\n    presentationId: pres.json.presentationId\\n  }\\n}));"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[200,-140],"id":"78266b95-d0d8-4d81-a721-5e60c591819d","name":"Fix data for presentation","alwaysOutputData":true},{"parameters":{"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[460,-140],"id":"c104a159-47d1-4ca1-a4b4-e897572da62c","name":"Loop Over Scene Slides to Create"},{"parameters":{"method":"POST","url":"=https://slides.googleapis.com/v1/presentations/{{ $json.presentationId }}:batchUpdate","authentication":"predefinedCredentialType","nodeCredentialType":"googleSlidesOAuth2Api","sendBody":true,"specifyBody":"json","jsonBody":"={\\n  \\"requests\\": [\\n    {\\n      \\"createSlide\\": {\\n        \\"objectId\\": \\"slide_{{$json.slideIndex}}\\",\\n        \\"slideLayoutReference\\": {\\n          \\"predefinedLayout\\": \\"BLANK\\"\\n        }\\n      }\\n    },\\n    {\\n      \\"createShape\\": {\\n        \\"objectId\\": \\"caption_{{$json.slideIndex}}\\",\\n        \\"shapeType\\": \\"TEXT_BOX\\",\\n        \\"elementProperties\\": {\\n          \\"pageObjectId\\": \\"slide_{{$json.slideIndex}}\\",\\n          \\"size\\": {\\n            \\"height\\": { \\"magnitude\\": 500000, \\"unit\\": \\"EMU\\" },\\n            \\"width\\": { \\"magnitude\\": 5000000, \\"unit\\": \\"EMU\\" }\\n          },\\n          \\"transform\\": {\\n            \\"scaleX\\": 1,\\n            \\"scaleY\\": 1,\\n            \\"translateX\\": 100000,\\n            \\"translateY\\": 3200000,\\n            \\"unit\\": \\"EMU\\"\\n          }\\n        }\\n      }\\n    },\\n    {\\n      \\"insertText\\": {\\n        \\"objectId\\": \\"caption_{{$json.slideIndex}}\\",\\n        \\"insertionIndex\\": 0,\\n        \\"text\\": \\"{{$json.caption}}\\"\\n      }\\n    }\\n  ]\\n}","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[720,-20],"id":"a3214af2-4864-4011-afda-1ccff36f35ce","name":"Create Slide","credentials":{"googleSlidesOAuth2Api":{"id":"3ALxij02ZK5ZvDbM","name":"Google Slides account"}}},{"parameters":{"url":"=https://www.googleapis.com/drive/v3/files/{{ $json.presentationId }}/export?mimeType=application/pdf","authentication":"predefinedCredentialType","nodeCredentialType":"googleDriveOAuth2Api","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[900,-280],"id":"fc484042-52d8-479f-9e2a-7240784e888a","name":"PDF export","credentials":{"googleDriveOAuth2Api":{"id":"4lEBy7qEfA2UCGII","name":"Google Drive account"}}},{"parameters":{"driveId":{"__rl":true,"mode":"list","value":"My Drive"},"folderId":{"__rl":true,"mode":"list","value":"root","cachedResultName":"/ (Root folder)"},"options":{}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[1100,-280],"id":"b2a57cfc-51ad-457f-872a-7472eb68e9bf","name":"Google Drive","credentials":{"googleDriveOAuth2Api":{"id":"4lEBy7qEfA2UCGII","name":"Google Drive account"}}},{"parameters":{"assignments":{"assignments":[{"id":"c0e5bbba-fc23-41b6-99a7-8d444da59f0b","name":"presentationId","value":"={{ $json.presentationId }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[700,-280],"id":"53966f71-f585-4966-b9cd-6b53a7bc6bc2","name":"Get Single Presentation ID","executeOnce":true}]	{"When clicking Test workflow":{"main":[[{"node":"Google Slides","type":"main","index":0},{"node":"Sample Data","type":"main","index":0}]]},"Google Slides":{"main":[[{"node":"Set PresentationID","type":"main","index":0}]]},"Sample Data":{"main":[[{"node":"Merge","type":"main","index":0}]]},"Set PresentationID":{"main":[[{"node":"Merge","type":"main","index":1}]]},"Fix data for presentation":{"main":[[{"node":"Loop Over Scene Slides to Create","type":"main","index":0}]]},"Merge":{"main":[[{"node":"Fix data for presentation","type":"main","index":0}]]},"Loop Over Scene Slides to Create":{"main":[[{"node":"Get Single Presentation ID","type":"main","index":0}],[{"node":"Create Slide","type":"main","index":0}]]},"Create Slide":{"main":[[{"node":"Loop Over Scene Slides to Create","type":"main","index":0}]]},"PDF export":{"main":[[{"node":"Google Drive","type":"main","index":0}]]},"Google Drive":{"main":[[]]},"Get Single Presentation ID":{"main":[[{"node":"PDF export","type":"main","index":0}]]}}	\N	f	\N
8f8ff912-043d-42ca-9673-c7d913553924	aZ1FyH5jQszmAVTN	system migration	2025-12-10 03:01:05.103+00	2025-12-10 03:01:05.103+00	[{"parameters":{"formTitle":"Marco and Trevor","formFields":{"values":[{"fieldLabel":"Enter Prompt","fieldType":"textarea"}]},"options":{}},"type":"n8n-nodes-base.formTrigger","typeVersion":2.2,"position":[220,-20],"id":"c5fbda56-badd-445e-b908-e6f082a781cf","name":"On form submission","webhookId":"8ef5104c-95e3-4594-bca6-10ca5d06eaa2"},{"parameters":{"promptType":"define","text":"={{ $json.prompt }}","batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[880,60],"id":"a0899e70-fd0b-4c76-b98d-4dd7dee9be9b","name":"Basic LLM Chain"},{"parameters":{"model":{"__rl":true,"value":"gpt-4.1-nano","mode":"list","cachedResultName":"gpt-4.1-nano"},"options":{"temperature":0}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[1040,-100],"id":"71cb4eb9-95a7-4089-960a-3d3716eee93e","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"jsCode":"// Get input prompt from previous node\\nconst inputPrompt = $json[\\"Enter Prompt\\"];\\n\\nconst prompts = [];\\n\\nfor (let i = 0; i < 5; i++) {\\n  prompts.push({\\n    json: {\\n      prompt: inputPrompt\\n    }\\n  });\\n}\\n\\nreturn prompts;"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[440,-20],"id":"2e04fd2c-dc66-4ace-b0fd-6b81f8e4d0fc","name":"Code"},{"parameters":{"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[660,-20],"id":"46269ab4-4a3d-48e1-8fcc-852742640cca","name":"Loop Over Items"}]	{"On form submission":{"main":[[{"node":"Code","type":"main","index":0}]]},"Basic LLM Chain":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"Basic LLM Chain","type":"ai_languageModel","index":0}]]},"Loop Over Items":{"main":[[],[{"node":"Basic LLM Chain","type":"main","index":0}]]},"Code":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]}}	\N	f	\N
24ab4802-0fe1-42b8-932d-3d98b5176dc4	qM9l7HiKjmbkTyIs	system migration	2025-12-10 03:01:05.103+00	2025-12-10 03:01:05.103+00	[{"parameters":{"formTitle":"User Form","formFields":{"values":[{"fieldLabel":"JTBD","fieldType":"textarea","requiredField":true}]},"options":{}},"type":"n8n-nodes-base.formTrigger","typeVersion":2.2,"position":[0,0],"id":"ec2d43ec-8353-4fbe-8013-3b4c97d23c33","name":"On form submission","webhookId":"52339d78-dfb1-4697-bae0-a55a5375ce4b"},{"parameters":{"content":"## Task Analyzer","height":80},"type":"n8n-nodes-base.stickyNote","position":[500,-140],"typeVersion":1,"id":"c3e5525a-cf8d-4566-a8fa-11322b4a56f1","name":"Sticky Note"},{"parameters":{"content":"## User Form","height":80,"width":220},"type":"n8n-nodes-base.stickyNote","position":[-40,-140],"typeVersion":1,"id":"dcf21aaf-2604-4706-9ad2-a335a16033bf","name":"Sticky Note1"},{"parameters":{"content":"## Scene Prompt Generator","height":80,"width":320},"type":"n8n-nodes-base.stickyNote","position":[980,-140],"typeVersion":1,"id":"d2632e6a-8c30-4b14-9192-4459e669cfc5","name":"Sticky Note2"},{"parameters":{"content":"## Image Generator (Combine character with scene prompts)","height":80,"width":1780},"type":"n8n-nodes-base.stickyNote","position":[1540,-140],"typeVersion":1,"id":"75d90d5c-e072-49d9-ba71-fe6601200225","name":"Sticky Note3"},{"parameters":{"content":"## Save in Google Drive","height":80,"width":580},"type":"n8n-nodes-base.stickyNote","position":[3420,-140],"typeVersion":1,"id":"4ac89bc7-9c35-4b56-bba8-e3f41a6f60ea","name":"Sticky Note4"},{"parameters":{"mode":"raw","jsonOutput":"={\\n  \\"character\\": {\\n    \\"name\\": \\"Benji\\",\\n    \\"age\\": 7,\\n    \\"gender\\": \\"boy\\",\\n    \\"appearance\\": {\\n      \\"hair\\": \\"short, slightly messy black hair\\",\\n      \\"eyes\\": \\"big, curious brown eyes\\",\\n      \\"skin\\": \\"light with a warm tone\\",\\n      \\"expression\\": \\"friendly, open face with a gentle smile\\",\\n      \\"clothing\\": {\\n        \\"shirt\\": \\"bright yellow t-shirt\\",\\n        \\"shorts\\": \\"sky-blue shorts\\"\\n      },\\n      \\"posture\\": \\"relaxed and confident\\",\\n      \\"overall_impression\\": \\"calm, adventurous presence\\"\\n    }\\n  },\\n  \\"jtbd\\": \\"{{ $json.JTBD }}\\",\\n}\\n","options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[420,0],"id":"61f1bdba-e857-411e-b525-bde541aa7190","name":"Combine Character and JTBD"},{"parameters":{"promptType":"define","text":"=Using the following information:\\n\\n- Character: {{ $json[\\"character\\"][\\"name\\"] }} is a {{ $json[\\"character\\"][\\"age\\"] }}-year-old {{ $json[\\"character\\"][\\"gender\\"] }}. Do not describe their appearance. Assume the characters visual identity is handled by a consistent reference image or prior generation step.\\n- Task: {{ $json[\\"jtbd\\"] }}\\n\\nGenerate five image generation prompts for Leonardo.ai that form a visually connected narrative sequence.\\n\\nInstructions:\\n- Break the task into five logically connected visual scenes: beginning, early action, turning point, development, and resolution.\\n- Each scene must build on the last, showing visible progression in task, emotion, and environment.\\n- Choose a distinct point-of-view for each scene (e.g., side view, rear view, top-down, wide shot, over-the-shoulder).\\n- Vary the characters physical stance, gaze direction, and emotional expression  avoid repetition.\\n- At least one scene should visually focus on an object or supporting character that advances the story.\\n- Focus entirely on whats visible  action, setting, objects, posture, and emotional tone.\\n\\nUse simple, child-appropriate language. Keep each prompt warm, visually rich, and uncluttered.\\n\\nReturn only a JSON array of the five scenes. No extra text.","messages":{"messageValues":[{"message":"You are a prompt generator for image generation. Based on a character and a task (JTBD), describe five connected visual scenes that can be illustrated.\\n\\nEach scene must show a distinct, observable action and use a natural, visually appropriate point-of-view (such as side view, top-down, rear view, wide shot, or over-the-shoulder). Avoid repeating angles unless narratively necessary.\\n\\nUse varied emotional tone and physical expression throughout the sequence:\\n- Include moments of effort, uncertainty, discovery, joy, and resolution.\\n- The character should not always look the same or feel the same  show a range of reactions, postures, and movements.\\n- At least one scene should focus on something *other than* the main character  an object, another person, or environmental cue that helps advance the task.\\n\\nDo not write a story or inner thoughts. Focus only on what is visually seen.\\n\\nKeep language warm, vivid, and simple  suitable for a childrens picture book.\\n\\nEach output must include:\\n- scene_number\\n- prompt (natural-language visual description for image generation)\\n- negative_prompt (comma-separated values)\\n\\nReturn a JSON array of 5 scenes. No explanations. No labels."}]}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.6,"position":[580,0],"id":"cc84a60e-74e6-4cf5-b149-39a05d739314","name":"Basic LLM Chain"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[720,180],"id":"341b80ba-5301-45c9-b24a-efb7e56ae7b1","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"jsCode":"const rawText = $json[\\"text\\"]; // This is your stringified array\\nconst parsed = JSON.parse(rawText); // Convert string to actual JSON array\\n\\nreturn parsed.map(scene => ({ json: scene }));"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1080,0],"id":"54c0a654-a8c9-4a79-9bb6-6365a75d3082","name":"Fix JSON"},{"parameters":{"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[1360,0],"id":"0b20c31d-662c-4b77-9af5-349f1afd335c","name":"Loop Over Items"},{"parameters":{"jsCode":"const imageUrl = 'https://raw.githubusercontent.com/marcotechinc/sb-dev/main/characters/benji.jpg';\\n\\n// Download the image as binary\\nconst imageBuffer = await this.helpers.request({\\n  method: 'GET',\\n  url: imageUrl,\\n  encoding: null // Return raw binary buffer\\n});\\n\\n// Convert to base64 (no prefix)\\nconst imageBase64 = imageBuffer.toString('base64');\\n\\n// Return for next step (Leonardo upload)\\nreturn [\\n  {\\n    json: {\\n      image_base64: imageBase64\\n    }\\n  }\\n];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1620,100],"id":"a9826a70-7f19-4943-91fb-8462b2034441","name":"Download character image"},{"parameters":{"jsCode":"const apiKey = $env.LEONARDO_API_KEY;\\n\\n// Request presigned upload URL for image (JPG)\\nconst response = await this.helpers.httpRequest({\\n  method: 'POST',\\n  url: 'https://cloud.leonardo.ai/api/rest/v1/init-image',\\n  headers: {\\n    Authorization: `Bearer ${apiKey}`,\\n    'Content-Type': 'application/json'\\n  },\\n  body: {\\n    extension: 'jpg'\\n  },\\n  json: true\\n});\\n\\nconst { id: initImageId, url: uploadUrl, fields } = response.uploadInitImage;\\n\\n// Return result as required by n8n (array of objects)\\nreturn [\\n  {\\n    json: {\\n      initImageId,\\n      uploadUrl,\\n      fields\\n    }\\n  }\\n];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1620,280],"id":"27efe186-cffe-4314-b43e-b8fb1d461f49","name":"Request Presigned URL"},{"parameters":{"method":"POST","url":"={{ $json.uploadUrl }}","sendBody":true,"contentType":"multipart-form-data","bodyParameters":{"parameters":[{"name":"=Content-Type\\t","value":"={{ $json.fields[\\"Content-Type\\"] }}"},{"name":"bucket","value":"={{ $json.fields.bucket }}"},{"name":"X-Amz-Algorithm","value":"={{ $json.fields[\\"X-Amz-Algorithm\\"] }}"},{"name":"X-Amz-Credential","value":"={{ $json.fields[\\"X-Amz-Credential\\"] }}"},{"name":"X-Amz-Date","value":"={{ $json.fields[\\"X-Amz-Date\\"] }}"},{"name":"X-Amz-Security-Token","value":"={{ $json.fields[\\"X-Amz-Security-Token\\"] }}"},{"name":"key","value":"={{ $json.fields.key }}"},{"name":"Policy","value":"={{ $json.fields.Policy }}"},{"name":"X-Amz-Signature\\t","value":"={{ $json.fields[\\"X-Amz-Signature\\"] }}"},{"parameterType":"formBinaryData","name":"file","inputDataFieldName":"data"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[2300,200],"id":"22d7b896-153c-484a-83fb-abb7308ced95","name":"Upload to Presigned URL"},{"parameters":{"jsCode":"let raw = $json[\\"fields\\"];\\n\\nlet parsed;\\n\\ntry {\\n  parsed = typeof raw === 'string' ? JSON.parse(raw) : raw;\\n} catch (e) {\\n  throw new Error('Failed to parse fields: ' + e.message);\\n}\\n\\nreturn [\\n  {\\n    json: {\\n      ...$json,\\n      fields: parsed\\n    },\\n    binary: $binary\\n  }\\n];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1840,280],"id":"dd802135-cf63-4967-bc84-389a514c783a","name":"Split fields object"},{"parameters":{"operation":"toBinary","sourceProperty":"image_base64","options":{}},"type":"n8n-nodes-base.convertToFile","typeVersion":1.1,"position":[1840,100],"id":"0299dd59-86cd-4b69-afda-0d70421e377a","name":"Convert to File"},{"parameters":{"mode":"combine","combineBy":"combineAll","options":{}},"type":"n8n-nodes-base.merge","typeVersion":3.1,"position":[2080,200],"id":"1d105c15-e0b9-49d1-a138-4848a1cf1e14","name":"Merge"},{"parameters":{"url":"=https://cloud.leonardo.ai/api/rest/v1/init-image/{{ $('Merge').item.json.initImageId }}","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Authorization","value":"=Bearer {{ $env.LEONARDO_API_KEY }}"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[2760,200],"id":"e80c6217-0d24-46c7-be61-4a06b8d86c00","name":"Poll for image"},{"parameters":{"method":"POST","url":"https://cloud.leonardo.ai/api/rest/v1/generations","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Authorization","value":"=Bearer {{ $env.LEONARDO_API_KEY }}"},{"name":"Content-Type","value":"application/json"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={\\n  \\"prompt\\": \\"{{ $('Loop Over Items').item.json.prompt }}\\",\\n  \\"negative_prompt\\": \\"{{ $('Loop Over Items').item.json.negative_prompt }}\\",\\n  \\"modelId\\": \\"2067ae52-33fd-4a82-bb92-c2c55e7d2786\\",\\n  \\"presetStyle\\": \\"ILLUSTRATION\\",\\n  \\"scheduler\\": \\"LEONARDO\\",\\n  \\"num_images\\": 1,\\n  \\"guidance_scale\\": 7,\\n  \\"num_inference_steps\\": 30,\\n  \\"width\\": 1368,\\n  \\"height\\": 768,\\n  \\"seed\\": 3926980335,\\n  \\"controlnets\\": [\\n    {\\n      \\"initImageId\\": \\"{{ $json.init_images_by_pk.id }}\\",\\n      \\"initImageType\\": \\"UPLOADED\\",\\n      \\"preprocessorId\\": 133,\\n      \\"strengthType\\": \\"High\\"\\n    },\\n    {\\n      \\"initImageId\\": \\"{{ $json.init_images_by_pk.id }}\\",\\n      \\"initImageType\\": \\"UPLOADED\\",\\n      \\"preprocessorId\\": 67,\\n      \\"strengthType\\": \\"High\\"\\n    }\\n  ]\\n}\\n\\n","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[2980,200],"id":"0fbfca76-116a-4ab0-9548-34830c60a208","name":"Generate Scene Image"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"ff35ca74-88df-4e29-890e-411770e18f34","leftValue":"={{ $json.generations_by_pk.status }}","rightValue":"COMPLETE","operator":{"type":"string","operation":"equals"}}],"combinator":"and"},"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[3600,200],"id":"1dcea634-fb71-499b-a5ef-a474a9e3cd38","name":"If"},{"parameters":{"url":"=https://cloud.leonardo.ai/api/rest/v1/generations/{{\\n  $node[\\"Store Generation ID\\"].json[\\"generationId\\"] || \\n  $node[\\"Generate Scene Image\\"].json[\\"sdGenerationJob\\"][\\"generationId\\"]\\n}}","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Authorization","value":"=Bearer {{ $env.LEONARDO_API_KEY }}"},{"name":"Content-Type","value":"application/json"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[3400,200],"id":"7c9771df-ec79-4b26-b10e-9b4425cfdee3","name":"Poll Generation Status"},{"parameters":{"amount":2},"type":"n8n-nodes-base.wait","typeVersion":1.1,"position":[2540,200],"id":"3b438764-4517-46e1-8f60-93c529471c12","name":"Wait for character image upload","webhookId":"77818f26-d25c-4142-a7ff-5b43c710dda2"},{"parameters":{},"type":"n8n-nodes-base.wait","typeVersion":1.1,"position":[3800,380],"id":"e54ceb7f-48aa-44a1-a0df-abfc1a964358","name":"Wait for image generation","webhookId":"6c551bd5-c582-44f8-9395-3e3394f09768"},{"parameters":{"assignments":{"assignments":[{"id":"1c80653e-53ed-4c46-9ce5-f7767eb8ed72","name":"generationId","value":"={{ $json.sdGenerationJob.generationId }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[3180,200],"id":"d8653701-2446-4654-b217-41f46d277bc1","name":"Store Generation ID"},{"parameters":{"driveId":{"__rl":true,"mode":"list","value":"My Drive"},"folderId":{"__rl":true,"mode":"list","value":"root","cachedResultName":"/ (Root folder)"},"options":{}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[4160,620],"id":"8c5c8ed9-e3e8-486d-8e66-c1c43d3ca6db","name":"Google Drive","credentials":{"googleDriveOAuth2Api":{"id":"4lEBy7qEfA2UCGII","name":"Google Drive account"}}},{"parameters":{"url":"={{ $json[\\"generations_by_pk\\"][\\"generated_images\\"][0][\\"url\\"] }}","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[3820,20],"id":"72f9292a-01c9-460e-951e-3e5bf9024209","name":"HTTP Request"}]	{"On form submission":{"main":[[{"node":"Combine Character and JTBD","type":"main","index":0}]]},"Combine Character and JTBD":{"main":[[{"node":"Basic LLM Chain","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"Basic LLM Chain","type":"ai_languageModel","index":0}]]},"Basic LLM Chain":{"main":[[{"node":"Fix JSON","type":"main","index":0}]]},"Fix JSON":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]},"Loop Over Items":{"main":[[],[{"node":"Download character image","type":"main","index":0},{"node":"Request Presigned URL","type":"main","index":0}]]},"Download character image":{"main":[[{"node":"Convert to File","type":"main","index":0}]]},"Request Presigned URL":{"main":[[{"node":"Split fields object","type":"main","index":0}]]},"Split fields object":{"main":[[{"node":"Merge","type":"main","index":1}]]},"Upload to Presigned URL":{"main":[[{"node":"Wait for character image upload","type":"main","index":0}]]},"Convert to File":{"main":[[{"node":"Merge","type":"main","index":0}]]},"Merge":{"main":[[{"node":"Upload to Presigned URL","type":"main","index":0}]]},"Poll for image":{"main":[[{"node":"Generate Scene Image","type":"main","index":0}]]},"Generate Scene Image":{"main":[[{"node":"Store Generation ID","type":"main","index":0}]]},"If":{"main":[[{"node":"HTTP Request","type":"main","index":0}],[{"node":"Wait for image generation","type":"main","index":0}]]},"Poll Generation Status":{"main":[[{"node":"If","type":"main","index":0}]]},"Wait for character image upload":{"main":[[{"node":"Poll for image","type":"main","index":0}]]},"Wait for image generation":{"main":[[{"node":"Store Generation ID","type":"main","index":0}]]},"Store Generation ID":{"main":[[{"node":"Poll Generation Status","type":"main","index":0}]]},"HTTP Request":{"main":[[{"node":"Google Drive","type":"main","index":0}]]},"Google Drive":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]}}	\N	f	\N
f54170ad-84b9-442c-bf01-e77411c362d7	nVI38CcD6ho2Hh0b	system migration	2025-12-10 03:01:05.103+00	2025-12-10 03:01:05.103+00	[{"parameters":{"formTitle":"User Form","formFields":{"values":[{"fieldLabel":"JTBD","fieldType":"textarea","requiredField":true}]},"options":{}},"type":"n8n-nodes-base.formTrigger","typeVersion":2.2,"position":[20,-40],"id":"8c7d66a1-4357-426b-915b-12316c533efa","name":"On form submission","webhookId":"0835dd42-e916-4290-8626-680037284881"},{"parameters":{"content":"## Task Analyzer","height":80},"type":"n8n-nodes-base.stickyNote","position":[760,140],"typeVersion":1,"id":"e71e49d8-e9ed-41de-8824-64dc927cf96e","name":"Sticky Note"},{"parameters":{"content":"## User Form","height":80,"width":220},"type":"n8n-nodes-base.stickyNote","position":[0,-320],"typeVersion":1,"id":"0a9c7b77-a2b4-4341-b7c1-1838230b6b4c","name":"Sticky Note1"},{"parameters":{"content":"## Scene Prompt Generator","height":80,"width":320},"type":"n8n-nodes-base.stickyNote","position":[1080,140],"typeVersion":1,"id":"23742093-9cfa-4a8f-9297-afdc9499912a","name":"Sticky Note2"},{"parameters":{"content":"## Save in Google Drive","height":80,"width":360},"type":"n8n-nodes-base.stickyNote","position":[4640,240],"typeVersion":1,"id":"fb8c7597-4f4f-40ae-9d07-7990f6c4c5ea","name":"Sticky Note4"},{"parameters":{"mode":"raw","jsonOutput":"={\\n  \\"character\\": {\\n    \\"name\\": \\"Benji\\",\\n    \\"age\\": 7,\\n    \\"gender\\": \\"boy\\",\\n    \\"appearance\\": {\\n      \\"hair\\": \\"short, slightly messy black hair\\",\\n      \\"eyes\\": \\"big, curious brown eyes\\",\\n      \\"skin\\": \\"light with a warm tone\\",\\n      \\"expression\\": \\"friendly, open face with a gentle smile\\",\\n      \\"clothing\\": {\\n        \\"shirt\\": \\"bright yellow t-shirt\\",\\n        \\"shorts\\": \\"sky-blue shorts\\"\\n      },\\n      \\"posture\\": \\"relaxed and confident\\",\\n      \\"overall_impression\\": \\"calm, adventurous presence\\"\\n    }\\n  },\\n  \\"jtbd\\": \\"{{ $json.JTBD }}\\",\\n}\\n","options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[320,-40],"id":"59c5a598-a1d9-4b07-8fd0-88914dff7e85","name":"Combine Character and JTBD"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[880,440],"id":"6eca4374-2e4c-4737-afa2-660211fb3a12","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"jsCode":"const rawText = $json[\\"text\\"];\\n\\n// Strip markdown code block if present\\nconst cleaned = rawText.replace(/```json|```/g, \\"\\").trim();\\n\\n// Parse JSON\\nconst parsed = JSON.parse(cleaned);\\n\\n// Return one item per loop\\nreturn parsed.map(scene => ({ json: scene }));"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1220,260],"id":"87928a64-6385-4343-aed7-1ea3369095d7","name":"Fix JSON"},{"parameters":{"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[2940,240],"id":"750ed291-0a1a-4d9d-ad16-5f1db51f3c67","name":"Loop Over Items"},{"parameters":{"jsCode":"const imageUrl = 'https://raw.githubusercontent.com/marcotechinc/sb-dev/main/characters/benji.jpg';\\n\\n// Download the image as binary\\nconst imageBuffer = await this.helpers.request({\\n  method: 'GET',\\n  url: imageUrl,\\n  encoding: null // Return raw binary buffer\\n});\\n\\n// Convert to base64 (no prefix)\\nconst imageBase64 = imageBuffer.toString('base64');\\n\\n// Return for next step (Leonardo upload)\\nreturn [\\n  {\\n    json: {\\n      image_base64: imageBase64\\n    }\\n  }\\n];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[740,-260],"id":"bc7ac230-392a-435d-9585-30c794929e7d","name":"Download character image"},{"parameters":{"jsCode":"const apiKey = $env.LEONARDO_API_KEY;\\n\\n// Request presigned upload URL for image (JPG)\\nconst response = await this.helpers.httpRequest({\\n  method: 'POST',\\n  url: 'https://cloud.leonardo.ai/api/rest/v1/init-image',\\n  headers: {\\n    Authorization: `Bearer ${apiKey}`,\\n    'Content-Type': 'application/json'\\n  },\\n  body: {\\n    extension: 'jpg'\\n  },\\n  json: true\\n});\\n\\nconst { id: initImageId, url: uploadUrl, fields } = response.uploadInitImage;\\n\\n// Return result as required by n8n (array of objects)\\nreturn [\\n  {\\n    json: {\\n      initImageId,\\n      uploadUrl,\\n      fields\\n    }\\n  }\\n];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[740,-60],"id":"fe8d098b-079a-429c-9724-fa2bf92b7562","name":"Request Presigned URL"},{"parameters":{"method":"POST","url":"={{ $json.uploadUrl }}","sendBody":true,"contentType":"multipart-form-data","bodyParameters":{"parameters":[{"name":"=Content-Type\\t","value":"={{ $json.fields[\\"Content-Type\\"] }}"},{"name":"bucket","value":"={{ $json.fields.bucket }}"},{"name":"X-Amz-Algorithm","value":"={{ $json.fields[\\"X-Amz-Algorithm\\"] }}"},{"name":"X-Amz-Credential","value":"={{ $json.fields[\\"X-Amz-Credential\\"] }}"},{"name":"X-Amz-Date","value":"={{ $json.fields[\\"X-Amz-Date\\"] }}"},{"name":"X-Amz-Security-Token","value":"={{ $json.fields[\\"X-Amz-Security-Token\\"] }}"},{"name":"key","value":"={{ $json.fields.key }}"},{"name":"Policy","value":"={{ $json.fields.Policy }}"},{"name":"X-Amz-Signature\\t","value":"={{ $json.fields[\\"X-Amz-Signature\\"] }}"},{"parameterType":"formBinaryData","name":"file","inputDataFieldName":"data"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1500,-160],"id":"8239cd94-e304-4b79-afbb-a99505e526ea","name":"Upload to Presigned URL"},{"parameters":{"jsCode":"let raw = $json[\\"fields\\"];\\n\\nlet parsed;\\n\\ntry {\\n  parsed = typeof raw === 'string' ? JSON.parse(raw) : raw;\\n} catch (e) {\\n  throw new Error('Failed to parse fields: ' + e.message);\\n}\\n\\nreturn [\\n  {\\n    json: {\\n      ...$json,\\n      fields: parsed\\n    },\\n    binary: $binary\\n  }\\n];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[980,-60],"id":"7064b04e-83f8-4104-97e3-d1e529c053e7","name":"Split fields object"},{"parameters":{"operation":"toBinary","sourceProperty":"image_base64","options":{}},"type":"n8n-nodes-base.convertToFile","typeVersion":1.1,"position":[980,-260],"id":"98aa5671-6e48-4d31-ab26-1f13ef40b23f","name":"Convert to File"},{"parameters":{"mode":"combine","combineBy":"combineAll","options":{}},"type":"n8n-nodes-base.merge","typeVersion":3.1,"position":[1280,-160],"id":"5e47e0ba-7c22-47c1-a8b3-4644242531bf","name":"Merge"},{"parameters":{"url":"=https://cloud.leonardo.ai/api/rest/v1/init-image/{{ $('Merge').item.json.initImageId }}","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Authorization","value":"=Bearer {{ $env.LEONARDO_API_KEY }}"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1920,-160],"id":"de56df19-c291-47e1-a9af-2b8155a91bc7","name":"Poll for image"},{"parameters":{"method":"POST","url":"https://cloud.leonardo.ai/api/rest/v1/generations","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Authorization","value":"=Bearer {{ $env.LEONARDO_API_KEY }}"},{"name":"Content-Type","value":"application/json"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={\\n  \\"prompt\\": \\"{{ $json.prompt }}\\",\\n  \\"negative_prompt\\": \\"{{ $('Loop Over Items').item.json.negative_prompt }}\\",\\n  \\"modelId\\": \\"2067ae52-33fd-4a82-bb92-c2c55e7d2786\\",\\n  \\"presetStyle\\": \\"ILLUSTRATION\\",\\n  \\"scheduler\\": \\"LEONARDO\\",\\n  \\"num_images\\": 1,\\n  \\"guidance_scale\\": 7,\\n  \\"num_inference_steps\\": 30,\\n  \\"width\\": 1368,\\n  \\"height\\": 768,\\n  \\"seed\\": 3926980335,\\n  \\"controlnets\\": [\\n    {\\n      \\"initImageId\\": \\"{{ $json.init_images_by_pk.id }}\\",\\n      \\"initImageType\\": \\"UPLOADED\\",\\n      \\"preprocessorId\\": 133,\\n      \\"strengthType\\": \\"High\\"\\n    },\\n    {\\n      \\"initImageId\\": \\"{{ $json.init_images_by_pk.id }}\\",\\n      \\"initImageType\\": \\"UPLOADED\\",\\n      \\"preprocessorId\\": 67,\\n      \\"strengthType\\": \\"High\\"\\n    }\\n  ]\\n}\\n\\n","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[3380,240],"id":"2cd46d7f-db13-40f7-8cdf-903c2e1fed56","name":"Generate Scene Image"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"ff35ca74-88df-4e29-890e-411770e18f34","leftValue":"={{ $json.generations_by_pk.status }}","rightValue":"COMPLETE","operator":{"type":"string","operation":"equals"}}],"combinator":"and"},"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[4100,80],"id":"d8ee59a3-f841-4744-822a-cb9e2727b8ee","name":"If"},{"parameters":{"url":"=https://cloud.leonardo.ai/api/rest/v1/generations/{{\\n  $node[\\"Store Generation ID\\"].json[\\"generationId\\"] || \\n  $node[\\"Generate Scene Image\\"].json[\\"sdGenerationJob\\"][\\"generationId\\"]\\n}}","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Authorization","value":"=Bearer {{ $env.LEONARDO_API_KEY }}"},{"name":"Content-Type","value":"application/json"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[3900,80],"id":"cb9c71b0-bace-4ce6-b6a3-91ea518f5ad9","name":"Poll Generation Status"},{"parameters":{"amount":2},"type":"n8n-nodes-base.wait","typeVersion":1.1,"position":[1720,-160],"id":"b77f966b-7721-4eeb-8bd0-f783ca12b783","name":"Wait for character image upload","webhookId":"05fd8d28-5762-4349-81c7-b9483f02317d"},{"parameters":{},"type":"n8n-nodes-base.wait","typeVersion":1.1,"position":[4300,260],"id":"49d996a6-56f2-4b55-ad61-cc6a925ebdd2","name":"Wait for image generation","webhookId":"18914f8a-0bef-4d7f-a944-fec286f9179c"},{"parameters":{"assignments":{"assignments":[{"id":"1c80653e-53ed-4c46-9ce5-f7767eb8ed72","name":"generationId","value":"={{ $json.sdGenerationJob.generationId }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[3680,80],"id":"95d2e822-205f-4312-ab4a-45de8f721ce6","name":"Store Generation ID"},{"parameters":{"driveId":{"__rl":true,"mode":"list","value":"My Drive"},"folderId":{"__rl":true,"mode":"list","value":"root","cachedResultName":"/ (Root folder)"},"options":{}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[4660,400],"id":"15b9cfcc-4f15-4755-8c8f-7fc896bf70ab","name":"Google Drive","credentials":{"googleDriveOAuth2Api":{"id":"4lEBy7qEfA2UCGII","name":"Google Drive account"}}},{"parameters":{"url":"={{ $json[\\"generations_by_pk\\"][\\"generated_images\\"][0][\\"url\\"] }}","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[4320,-100],"id":"12a4fbfb-e031-42c5-8b61-62738f1ca6fa","name":"HTTP Request"},{"parameters":{"content":"## Prepare Character Image","height":80,"width":1220},"type":"n8n-nodes-base.stickyNote","position":[720,-380],"typeVersion":1,"id":"d6d546b8-c1db-49ce-9031-68a9adaf29a2","name":"Sticky Note5"},{"parameters":{"assignments":{"assignments":[{"id":"22e6f8e9-7fb5-40a9-bff0-8f43ef9eaba1","name":"init_images_by_pk.id","value":"={{ $json.init_images_by_pk.id }}","type":"string"},{"id":"e4edbd77-0a3f-4a48-b2ed-88b2da2f532c","name":"init_images_by_pk.createdAt","value":"={{ $json.init_images_by_pk.createdAt }}","type":"string"},{"id":"2a34b3a1-f43f-445e-8fad-147670c03636","name":"init_images_by_pk.url","value":"={{ $json.init_images_by_pk.url }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[2160,-60],"id":"fc060b2c-0337-4622-ae9e-80ba9b3ec920","name":"Set init_image"},{"parameters":{"mode":"combine","combineBy":"combineAll","options":{}},"type":"n8n-nodes-base.merge","typeVersion":3.1,"position":[2520,240],"id":"a4c9e1b3-a62a-4988-b186-cac6b8cda2ed","name":"Merge1"},{"parameters":{"promptType":"define","text":"=Generate a visual schedule for this task:\\n\\nTask: {{ $json.jtbd }}\\n\\nReturn only a JSON array of 57 items with `scene_number`, `scene_name`, `prompt`, and `negative_prompt`.","messages":{"messageValues":[{"message":"You are an image prompt generator for special education visual schedules. Given a simple daily task, break it down into clear, atomic steps that can be illustrated.\\n\\nFirst, think step-by-step: What does the child need to do from start to finish?\\n\\nThen, generate a JSON array of 57 image prompts, each representing one of those steps.\\n\\nEach output must describe what the image should clearly show:\\n- Only one step per scene\\n- Always use the same consistent child (7-year-old boy)\\n- Include action, environment, and POV\\n- Focus on clarity, visual teaching, and instructional accuracy\\n\\nEach prompt should:\\n- Be written as if instructing an image generator\\n- Be clean, consistent, and descriptive (no metaphors, no vague language)\\n- Use fixed POV (side view)\\n- Use fixed clothing and fixed setting (bathroom or classroom)\\n- Avoid narrative or emotional variation\\n\\nEach item must include:\\n- `scene_number`: the step index\\n- `scene_name`: short instructional title\\n- `prompt`: full image description\\n- `negative_prompt`: \\"dark, messy, stylized, surreal, toy-like, chaotic, product-style\\"\\n\\nOutput JSON only  no extra commentary."}]}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.6,"position":[780,260],"id":"61d80e21-c441-49db-b490-7ae7ab671395","name":"Task Analyzer (COT)"}]	{"On form submission":{"main":[[{"node":"Combine Character and JTBD","type":"main","index":0}]]},"Combine Character and JTBD":{"main":[[{"node":"Task Analyzer (COT)","type":"main","index":0},{"node":"Download character image","type":"main","index":0},{"node":"Request Presigned URL","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"Task Analyzer (COT)","type":"ai_languageModel","index":0}]]},"Fix JSON":{"main":[[{"node":"Merge1","type":"main","index":1}]]},"Loop Over Items":{"main":[[],[{"node":"Generate Scene Image","type":"main","index":0}]]},"Download character image":{"main":[[{"node":"Convert to File","type":"main","index":0}]]},"Request Presigned URL":{"main":[[{"node":"Split fields object","type":"main","index":0}]]},"Split fields object":{"main":[[{"node":"Merge","type":"main","index":1}]]},"Upload to Presigned URL":{"main":[[{"node":"Wait for character image upload","type":"main","index":0}]]},"Convert to File":{"main":[[{"node":"Merge","type":"main","index":0}]]},"Merge":{"main":[[{"node":"Upload to Presigned URL","type":"main","index":0}]]},"Poll for image":{"main":[[{"node":"Set init_image","type":"main","index":0}]]},"Generate Scene Image":{"main":[[{"node":"Store Generation ID","type":"main","index":0}]]},"If":{"main":[[{"node":"HTTP Request","type":"main","index":0}],[{"node":"Wait for image generation","type":"main","index":0}]]},"Poll Generation Status":{"main":[[{"node":"If","type":"main","index":0}]]},"Wait for character image upload":{"main":[[{"node":"Poll for image","type":"main","index":0}]]},"Wait for image generation":{"main":[[{"node":"Store Generation ID","type":"main","index":0}]]},"Store Generation ID":{"main":[[{"node":"Poll Generation Status","type":"main","index":0}]]},"HTTP Request":{"main":[[{"node":"Google Drive","type":"main","index":0}]]},"Google Drive":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]},"Set init_image":{"main":[[{"node":"Merge1","type":"main","index":0}]]},"Merge1":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]},"Task Analyzer (COT)":{"main":[[{"node":"Fix JSON","type":"main","index":0}]]}}	\N	f	\N
00974d13-37fa-41f4-a0b7-de7c4ca3b5db	cUOXZ0f78wNozDnp	system migration	2025-12-10 03:01:05.103+00	2025-12-10 03:01:05.103+00	[{"parameters":{"formTitle":"User Form","formFields":{"values":[{"fieldLabel":"JTBD","fieldType":"textarea","requiredField":true}]},"options":{}},"type":"n8n-nodes-base.formTrigger","typeVersion":2.2,"position":[20,-40],"id":"50941d16-1092-41ea-85e6-1266534b2b10","name":"On form submission","webhookId":"4746483e-9c93-4c87-a4d5-f416324da8b0"},{"parameters":{"content":"## Task Analyzer","height":80},"type":"n8n-nodes-base.stickyNote","position":[760,140],"typeVersion":1,"id":"d0b5a127-cc7d-471e-aac3-5848befec65e","name":"Sticky Note"},{"parameters":{"content":"## User Form","height":80,"width":220},"type":"n8n-nodes-base.stickyNote","position":[0,-320],"typeVersion":1,"id":"1d63f523-63b9-428a-add6-69b89be1cf0c","name":"Sticky Note1"},{"parameters":{"content":"## Scene Prompt Generator","height":80,"width":320},"type":"n8n-nodes-base.stickyNote","position":[1080,140],"typeVersion":1,"id":"bd63881e-0ebb-4349-8639-9feb7cc34eed","name":"Sticky Note2"},{"parameters":{"content":"## Save in Google Drive","height":80,"width":360},"type":"n8n-nodes-base.stickyNote","position":[4640,240],"typeVersion":1,"id":"9a074c95-e38d-4827-9948-4ad850f50fab","name":"Sticky Note4"},{"parameters":{"mode":"raw","jsonOutput":"={\\n  \\"character\\": {\\n    \\"name\\": \\"Benji\\",\\n    \\"age\\": 7,\\n    \\"gender\\": \\"boy\\",\\n    \\"appearance\\": {\\n      \\"hair\\": \\"short, slightly messy black hair\\",\\n      \\"eyes\\": \\"big, curious brown eyes\\",\\n      \\"skin\\": \\"light with a warm tone\\",\\n      \\"expression\\": \\"friendly, open face with a gentle smile\\",\\n      \\"clothing\\": {\\n        \\"shirt\\": \\"bright yellow t-shirt\\",\\n        \\"shorts\\": \\"sky-blue shorts\\"\\n      },\\n      \\"posture\\": \\"relaxed and confident\\",\\n      \\"overall_impression\\": \\"calm, adventurous presence\\"\\n    }\\n  },\\n  \\"jtbd\\": \\"{{ $json.JTBD }}\\",\\n}\\n","options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[320,-40],"id":"c070153f-b2ca-427c-9350-fc7e20a96559","name":"Combine Character and JTBD"},{"parameters":{"promptType":"define","text":"=Using the following information:\\n\\n- Character: {{ $json[\\"character\\"][\\"name\\"] }} is a {{ $json[\\"character\\"][\\"age\\"] }}-year-old {{ $json[\\"character\\"][\\"gender\\"] }}. Do not describe their appearance. Assume the characters visual identity is handled by a consistent reference image or prior generation step.\\n- Task: {{ $json[\\"jtbd\\"] }}\\n\\nGenerate five image generation prompts for Leonardo.ai that form a visually connected narrative sequence.\\n\\nInstructions:\\n- Break the task into five logically connected visual scenes: beginning, early action, turning point, development, and resolution.\\n- Each scene must build on the last, showing visible progression in task, emotion, and environment.\\n- Choose a distinct point-of-view for each scene (e.g., side view, rear view, top-down, wide shot, over-the-shoulder).\\n- Vary the characters physical stance, gaze direction, and emotional expression  avoid repetition.\\n- At least one scene should visually focus on an object or supporting character that advances the story.\\n- Focus entirely on whats visible  action, setting, objects, posture, and emotional tone.\\n\\nUse simple, child-appropriate language. Keep each prompt warm, visually rich, and uncluttered.\\n\\nReturn only a JSON array of the five scenes. No extra text.","messages":{"messageValues":[{"message":"You are a prompt generator for image generation. Based on a character and a task (JTBD), describe five connected visual scenes that can be illustrated.\\n\\nEach scene must show a distinct, observable action and use a natural, visually appropriate point-of-view (such as side view, top-down, rear view, wide shot, or over-the-shoulder). Avoid repeating angles unless narratively necessary.\\n\\nUse varied emotional tone and physical expression throughout the sequence:\\n- Include moments of effort, uncertainty, discovery, joy, and resolution.\\n- The character should not always look the same or feel the same  show a range of reactions, postures, and movements.\\n- At least one scene should focus on something *other than* the main character  an object, another person, or environmental cue that helps advance the task.\\n\\nDo not write a story or inner thoughts. Focus only on what is visually seen.\\n\\nKeep language warm, vivid, and simple  suitable for a childrens picture book.\\n\\nEach output must include:\\n- scene_number\\n- prompt (natural-language visual description for image generation)\\n- negative_prompt (comma-separated values)\\n\\nReturn a JSON array of 5 scenes. No explanations. No labels."}]}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.6,"position":[780,260],"id":"d8f5ac16-3aa4-4752-bf1a-519793243a94","name":"Basic LLM Chain"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[880,440],"id":"0a19968c-d954-43d5-9dd5-945e4d509156","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"jsCode":"const rawText = $json[\\"text\\"]; // This is your stringified array\\nconst parsed = JSON.parse(rawText); // Convert string to actual JSON array\\n\\nreturn parsed.map(scene => ({ json: scene }));"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1220,260],"id":"29b8e40e-9a66-425c-8406-2c92f5dd219c","name":"Fix JSON"},{"parameters":{"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[2940,240],"id":"b7b557be-791d-41c5-a708-1ec196c191ce","name":"Loop Over Items"},{"parameters":{"jsCode":"const imageUrl = 'https://raw.githubusercontent.com/marcotechinc/sb-dev/main/characters/benji.jpg';\\n\\n// Download the image as binary\\nconst imageBuffer = await this.helpers.request({\\n  method: 'GET',\\n  url: imageUrl,\\n  encoding: null // Return raw binary buffer\\n});\\n\\n// Convert to base64 (no prefix)\\nconst imageBase64 = imageBuffer.toString('base64');\\n\\n// Return for next step (Leonardo upload)\\nreturn [\\n  {\\n    json: {\\n      image_base64: imageBase64\\n    }\\n  }\\n];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[740,-260],"id":"53b3bbfa-5374-4241-8790-ae9ad6ec56cc","name":"Download character image"},{"parameters":{"jsCode":"const apiKey = $env.LEONARDO_API_KEY;\\n\\n// Request presigned upload URL for image (JPG)\\nconst response = await this.helpers.httpRequest({\\n  method: 'POST',\\n  url: 'https://cloud.leonardo.ai/api/rest/v1/init-image',\\n  headers: {\\n    Authorization: `Bearer ${apiKey}`,\\n    'Content-Type': 'application/json'\\n  },\\n  body: {\\n    extension: 'jpg'\\n  },\\n  json: true\\n});\\n\\nconst { id: initImageId, url: uploadUrl, fields } = response.uploadInitImage;\\n\\n// Return result as required by n8n (array of objects)\\nreturn [\\n  {\\n    json: {\\n      initImageId,\\n      uploadUrl,\\n      fields\\n    }\\n  }\\n];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[740,-60],"id":"1759f0c8-1918-4d99-8497-989b6fcfb6ce","name":"Request Presigned URL"},{"parameters":{"method":"POST","url":"={{ $json.uploadUrl }}","sendBody":true,"contentType":"multipart-form-data","bodyParameters":{"parameters":[{"name":"=Content-Type\\t","value":"={{ $json.fields[\\"Content-Type\\"] }}"},{"name":"bucket","value":"={{ $json.fields.bucket }}"},{"name":"X-Amz-Algorithm","value":"={{ $json.fields[\\"X-Amz-Algorithm\\"] }}"},{"name":"X-Amz-Credential","value":"={{ $json.fields[\\"X-Amz-Credential\\"] }}"},{"name":"X-Amz-Date","value":"={{ $json.fields[\\"X-Amz-Date\\"] }}"},{"name":"X-Amz-Security-Token","value":"={{ $json.fields[\\"X-Amz-Security-Token\\"] }}"},{"name":"key","value":"={{ $json.fields.key }}"},{"name":"Policy","value":"={{ $json.fields.Policy }}"},{"name":"X-Amz-Signature\\t","value":"={{ $json.fields[\\"X-Amz-Signature\\"] }}"},{"parameterType":"formBinaryData","name":"file","inputDataFieldName":"data"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1500,-160],"id":"5640e29c-7e99-42a9-961f-458e80302546","name":"Upload to Presigned URL"},{"parameters":{"jsCode":"let raw = $json[\\"fields\\"];\\n\\nlet parsed;\\n\\ntry {\\n  parsed = typeof raw === 'string' ? JSON.parse(raw) : raw;\\n} catch (e) {\\n  throw new Error('Failed to parse fields: ' + e.message);\\n}\\n\\nreturn [\\n  {\\n    json: {\\n      ...$json,\\n      fields: parsed\\n    },\\n    binary: $binary\\n  }\\n];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[980,-60],"id":"85e32808-901b-4169-92c7-a9cb9e937faf","name":"Split fields object"},{"parameters":{"operation":"toBinary","sourceProperty":"image_base64","options":{}},"type":"n8n-nodes-base.convertToFile","typeVersion":1.1,"position":[980,-260],"id":"27f2ca77-de8a-4163-bea4-119610d77e8c","name":"Convert to File"},{"parameters":{"mode":"combine","combineBy":"combineAll","options":{}},"type":"n8n-nodes-base.merge","typeVersion":3.1,"position":[1280,-160],"id":"e9d906d9-4632-4709-b55c-01b828cbe656","name":"Merge"},{"parameters":{"url":"=https://cloud.leonardo.ai/api/rest/v1/init-image/{{ $('Merge').item.json.initImageId }}","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Authorization","value":"=Bearer {{ $env.LEONARDO_API_KEY }}"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1920,-160],"id":"5c1f3c6f-c063-45d0-8b38-f13d85acf787","name":"Poll for image"},{"parameters":{"method":"POST","url":"https://cloud.leonardo.ai/api/rest/v1/generations","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Authorization","value":"=Bearer {{ $env.LEONARDO_API_KEY }}"},{"name":"Content-Type","value":"application/json"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={\\n  \\"prompt\\": \\"{{ $json.prompt }}\\",\\n  \\"negative_prompt\\": \\"{{ $('Loop Over Items').item.json.negative_prompt }}\\",\\n  \\"modelId\\": \\"2067ae52-33fd-4a82-bb92-c2c55e7d2786\\",\\n  \\"presetStyle\\": \\"ILLUSTRATION\\",\\n  \\"scheduler\\": \\"LEONARDO\\",\\n  \\"num_images\\": 1,\\n  \\"guidance_scale\\": 7,\\n  \\"num_inference_steps\\": 30,\\n  \\"width\\": 1368,\\n  \\"height\\": 768,\\n  \\"seed\\": 3926980335,\\n  \\"controlnets\\": [\\n    {\\n      \\"initImageId\\": \\"{{ $json.init_images_by_pk.id }}\\",\\n      \\"initImageType\\": \\"UPLOADED\\",\\n      \\"preprocessorId\\": 133,\\n      \\"strengthType\\": \\"High\\"\\n    },\\n    {\\n      \\"initImageId\\": \\"{{ $json.init_images_by_pk.id }}\\",\\n      \\"initImageType\\": \\"UPLOADED\\",\\n      \\"preprocessorId\\": 67,\\n      \\"strengthType\\": \\"High\\"\\n    }\\n  ]\\n}\\n\\n","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[3380,240],"id":"95079cde-86a1-477d-8b9b-06fff3ea0252","name":"Generate Scene Image"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"ff35ca74-88df-4e29-890e-411770e18f34","leftValue":"={{ $json.generations_by_pk.status }}","rightValue":"COMPLETE","operator":{"type":"string","operation":"equals"}}],"combinator":"and"},"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[4100,80],"id":"2cf7d9ae-ede7-4fe7-88ae-27c927a97bce","name":"If"},{"parameters":{"url":"=https://cloud.leonardo.ai/api/rest/v1/generations/{{\\n  $node[\\"Store Generation ID\\"].json[\\"generationId\\"] || \\n  $node[\\"Generate Scene Image\\"].json[\\"sdGenerationJob\\"][\\"generationId\\"]\\n}}","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Authorization","value":"=Bearer {{ $env.LEONARDO_API_KEY }}"},{"name":"Content-Type","value":"application/json"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[3900,80],"id":"394268ec-f843-495e-b28a-6e1b5c833f69","name":"Poll Generation Status"},{"parameters":{"amount":2},"type":"n8n-nodes-base.wait","typeVersion":1.1,"position":[1720,-160],"id":"f171fe89-29b0-45fa-9add-4dcda65dbf58","name":"Wait for character image upload","webhookId":"fbfcabc5-1369-4e54-92f7-dd35724ff868"},{"parameters":{},"type":"n8n-nodes-base.wait","typeVersion":1.1,"position":[4300,260],"id":"66b58438-f01d-4ecb-aa14-27842e773166","name":"Wait for image generation","webhookId":"f103645f-6933-4c38-a5b9-c2424b2a1ec7"},{"parameters":{"assignments":{"assignments":[{"id":"1c80653e-53ed-4c46-9ce5-f7767eb8ed72","name":"generationId","value":"={{ $json.sdGenerationJob.generationId }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[3680,80],"id":"536a7907-ac72-40da-ba73-b4139f431699","name":"Store Generation ID"},{"parameters":{"driveId":{"__rl":true,"mode":"list","value":"My Drive"},"folderId":{"__rl":true,"mode":"list","value":"root","cachedResultName":"/ (Root folder)"},"options":{}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[4660,400],"id":"974c8e66-ab59-4a62-bd0a-f0cef02a1302","name":"Google Drive","credentials":{"googleDriveOAuth2Api":{"id":"4lEBy7qEfA2UCGII","name":"Google Drive account"}}},{"parameters":{"url":"={{ $json[\\"generations_by_pk\\"][\\"generated_images\\"][0][\\"url\\"] }}","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[4320,-100],"id":"28428c71-8b33-476b-8892-acc1a7abfdf5","name":"HTTP Request"},{"parameters":{"content":"## Prepare Character Image","height":80,"width":1220},"type":"n8n-nodes-base.stickyNote","position":[720,-380],"typeVersion":1,"id":"a11be67a-3cae-4c8e-9485-088e8c71aecd","name":"Sticky Note5"},{"parameters":{"assignments":{"assignments":[{"id":"22e6f8e9-7fb5-40a9-bff0-8f43ef9eaba1","name":"init_images_by_pk.id","value":"={{ $json.init_images_by_pk.id }}","type":"string"},{"id":"e4edbd77-0a3f-4a48-b2ed-88b2da2f532c","name":"init_images_by_pk.createdAt","value":"={{ $json.init_images_by_pk.createdAt }}","type":"string"},{"id":"2a34b3a1-f43f-445e-8fad-147670c03636","name":"init_images_by_pk.url","value":"={{ $json.init_images_by_pk.url }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[2160,-60],"id":"8236a9b8-3d21-4165-a89c-1f342a48da26","name":"Set init_image"},{"parameters":{"mode":"combine","combineBy":"combineAll","options":{}},"type":"n8n-nodes-base.merge","typeVersion":3.1,"position":[2520,240],"id":"f91c7a29-ef3a-4352-b28b-b2160d25d809","name":"Merge1"}]	{"On form submission":{"main":[[{"node":"Combine Character and JTBD","type":"main","index":0}]]},"Combine Character and JTBD":{"main":[[{"node":"Basic LLM Chain","type":"main","index":0},{"node":"Download character image","type":"main","index":0},{"node":"Request Presigned URL","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"Basic LLM Chain","type":"ai_languageModel","index":0}]]},"Basic LLM Chain":{"main":[[{"node":"Fix JSON","type":"main","index":0}]]},"Fix JSON":{"main":[[{"node":"Merge1","type":"main","index":1}]]},"Loop Over Items":{"main":[[],[{"node":"Generate Scene Image","type":"main","index":0}]]},"Download character image":{"main":[[{"node":"Convert to File","type":"main","index":0}]]},"Request Presigned URL":{"main":[[{"node":"Split fields object","type":"main","index":0}]]},"Split fields object":{"main":[[{"node":"Merge","type":"main","index":1}]]},"Upload to Presigned URL":{"main":[[{"node":"Wait for character image upload","type":"main","index":0}]]},"Convert to File":{"main":[[{"node":"Merge","type":"main","index":0}]]},"Merge":{"main":[[{"node":"Upload to Presigned URL","type":"main","index":0}]]},"Poll for image":{"main":[[{"node":"Set init_image","type":"main","index":0}]]},"Generate Scene Image":{"main":[[{"node":"Store Generation ID","type":"main","index":0}]]},"If":{"main":[[{"node":"HTTP Request","type":"main","index":0}],[{"node":"Wait for image generation","type":"main","index":0}]]},"Poll Generation Status":{"main":[[{"node":"If","type":"main","index":0}]]},"Wait for character image upload":{"main":[[{"node":"Poll for image","type":"main","index":0}]]},"Wait for image generation":{"main":[[{"node":"Store Generation ID","type":"main","index":0}]]},"Store Generation ID":{"main":[[{"node":"Poll Generation Status","type":"main","index":0}]]},"HTTP Request":{"main":[[{"node":"Google Drive","type":"main","index":0}]]},"Google Drive":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]},"Set init_image":{"main":[[{"node":"Merge1","type":"main","index":0}]]},"Merge1":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]}}	\N	f	\N
2a5ed923-eeac-4c18-8717-eaf0e9cb0117	EyMxJsW5hS700vGa	system migration	2025-12-10 03:01:05.103+00	2025-12-10 03:01:05.103+00	[{"parameters":{"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[560,20],"id":"9384a198-69b4-4ea4-ad91-11695b536aaa","name":"Loop - Files"},{"parameters":{"promptType":"define","text":"=Here is the extracted text and available metadata from a PDF.\\n\\nUse both the text and metadata (if present) to determine the document type, author, and date. Then structure the content into clean JSON using the format provided in the system prompt.\\n\\nIf metadata is missing or incomplete, try to infer values from the text. If not possible, return null for that field.\\n\\nTEXT:\\n{{ $json.text }}\\n\\nMETADATA (may be partial or empty):\\n{{ $json.info }}","messages":{"messageValues":[{"message":"=You are a document structuring assistant.\\n\\nYour job is to take raw PDF text and metadata and convert it into clean JSON. Preserve all original content as closely as possible  do not summarize, rewrite, or infer meaning beyond structure.\\n\\nInstructions:\\n\\n1. Detect the document type using both the text and metadata.\\n2. Extract author and date from metadata. If missing, try to infer from the text. If still missing, set to null.\\n3. Segment the text into clean sections using titles, headers, or numbered patterns.\\n4. If a section includes rows or patterns that resemble tables (e.g., version logs, resource tables), structure it as a `tables` array.\\n5. Keep all non-tabular text in the `content` field  never leave content empty unless the section was truly blank.\\n6. Strip out comments or editor artifacts (e.g., \\"Commented [MS1]\\").\\n7. Do not hallucinate or create content. Do not summarize or enhance phrasing.\\n8. Ensure all strings are trimmed, compact, and free of redundant whitespace.\\n\\nFormat:\\n{\\n  \\"document_type\\": \\"string\\",\\n  \\"document_date\\": \\"string or null\\",\\n  \\"document_author\\": \\"string or null\\",\\n  \\"document_sections\\": [\\n    {\\n      \\"title\\": \\"string\\",\\n      \\"content\\": \\"string\\",\\n      \\"tables\\": [ optional if present ]\\n    }\\n  ]\\n}\\n\\nDo not output Markdown or explanations. Only return clean JSON."}]},"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[1360,60],"id":"083c1b1e-c9ae-43f7-82c8-5a26c4181b67","name":"Review Extract"},{"parameters":{"content":"## TODO\\n- How to deal with images or links? (other?)"},"type":"n8n-nodes-base.stickyNote","position":[840,-160],"typeVersion":1,"id":"a75a4fbc-4e1d-4b07-8592-825b9c5cde93","name":"Sticky Note"},{"parameters":{"jsCode":"const raw = $json[\\"text\\"];\\n\\ntry {\\n  const parsed = JSON.parse(raw);\\n  return [{ json: parsed }];\\n} catch (err) {\\n  return [{\\n    json: {\\n      error: \\"Invalid JSON output from LLM\\",\\n      raw: raw,\\n      message: err.message\\n    }\\n  }];\\n}"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1700,80],"id":"22190fba-6941-406f-87ec-f54b5048f633","name":"Output Cleaner"},{"parameters":{"method":"POST","url":"https://rfcmhcxcfnlbfgmlcabi.supabase.co/rest/v1/documents","authentication":"predefinedCredentialType","nodeCredentialType":"supabaseApi","sendBody":true,"bodyParameters":{"parameters":[{"name":"document_type","value":"={{ $json.document_type }}"},{"name":"document_date","value":"={{ $json.document_date }}"},{"name":"document_author","value":"={{ $json.document_author }}"},{"name":"raw_json","value":"={{ JSON.stringify($json) }}"},{"name":"embedded","value":"false"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1900,240],"id":"6e48eb30-8fab-41c4-a923-b5786a876ac7","name":"Insert to Supabase","credentials":{"supabaseApi":{"id":"LDhBmd2aeXNRoFRh","name":"Supabase - PromptOS"}}},{"parameters":{"jsCode":"const rawText = $json.text;\\nconst filename = $json.info?.name || '';\\n\\nlet cleanedText = rawText;\\n\\n// Optional file-specific logic\\nif (filename.includes('Enterprise Monitoring')) {\\n  cleanedText = cleanedText.replace(/Enterprise Monitoring\\\\s*\\\\s*Discovery.*?Business Case\\\\s*/gi, '');\\n}\\n\\n// Universal cleanup\\ncleanedText = cleanedText\\n  .replace(/Commented\\\\s+\\\\[.*?\\\\]:.*$/gim, '')\\n  .replace(/\\\\n{2,}/g, '\\\\n')\\n  .replace(/[ \\\\t]+$/gm, '');\\n\\nreturn {\\n  text: cleanedText.trim(),\\n  info: $json.info || null,\\n};"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1180,60],"id":"a05fa42a-c8da-4d74-8e92-2b3aa2e9cea1","name":"Pre-Cleaning"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{"temperature":0}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[1340,240],"id":"f92bcac3-774c-48e4-b517-e1c2faa0bf8a","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"model":{"__rl":true,"value":"claude-3-opus-20240229","mode":"list","cachedResultName":"Claude Opus 3"},"options":{"maxTokensToSample":4096,"temperature":0}},"type":"@n8n/n8n-nodes-langchain.lmChatAnthropic","typeVersion":1.3,"position":[1500,240],"id":"712945bb-911b-4934-ac9e-fe67a77b95b8","name":"Anthropic Chat Model","credentials":{"anthropicApi":{"id":"Wmz3AO5pPNbuodMG","name":"Anthropic account"}}},{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[80,20],"id":"77a24634-2271-4722-89c3-bf37918de674","name":"When clicking Execute workflow"},{"parameters":{"method":"POST","url":"https://rfcmhcxcfnlbfgmlcabi.supabase.co/storage/v1/object/list/documents","authentication":"predefinedCredentialType","nodeCredentialType":"supabaseApi","sendBody":true,"bodyParameters":{"parameters":[{"name":"prefix"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[300,20],"id":"40be69d4-c675-49ad-a4bf-670fd4ec0e82","name":"Query Supabase Storage","alwaysOutputData":true,"credentials":{"supabaseApi":{"id":"LDhBmd2aeXNRoFRh","name":"Supabase - PromptOS"}}},{"parameters":{"url":"=https://rfcmhcxcfnlbfgmlcabi.supabase.co/storage/v1/object/documents/{{ $json.name }}","authentication":"predefinedCredentialType","nodeCredentialType":"supabaseApi","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[820,140],"id":"25b61a55-1202-4747-a808-3c96f289c279","name":"Download","credentials":{"supabaseApi":{"id":"LDhBmd2aeXNRoFRh","name":"Supabase - PromptOS"}}},{"parameters":{"operation":"pdf","options":{}},"type":"n8n-nodes-base.extractFromFile","typeVersion":1,"position":[1000,140],"id":"7008911d-5f73-4eca-a752-e71720fccc9d","name":"Extract from File"},{"parameters":{"content":"## TODO\\n- Need OCR; can't read image"},"type":"n8n-nodes-base.stickyNote","position":[1120,-160],"typeVersion":1,"id":"97d81ab8-0e8a-4868-9c96-7b6a8e3e08cb","name":"Sticky Note1"},{"parameters":{"content":"## TODO\\n- Remove status reports for now"},"type":"n8n-nodes-base.stickyNote","position":[240,-180],"typeVersion":1,"id":"eee0b61e-8799-40fc-9d54-2f4b12acd077","name":"Sticky Note2"}]	{"Loop - Files":{"main":[[],[{"node":"Download","type":"main","index":0}]]},"Review Extract":{"main":[[{"node":"Output Cleaner","type":"main","index":0}]]},"Output Cleaner":{"main":[[{"node":"Insert to Supabase","type":"main","index":0}]]},"Insert to Supabase":{"main":[[{"node":"Loop - Files","type":"main","index":0}]]},"Pre-Cleaning":{"main":[[{"node":"Review Extract","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"Review Extract","type":"ai_languageModel","index":0}]]},"Anthropic Chat Model":{"ai_languageModel":[[]]},"When clicking Execute workflow":{"main":[[{"node":"Query Supabase Storage","type":"main","index":0}]]},"Query Supabase Storage":{"main":[[{"node":"Loop - Files","type":"main","index":0}]]},"Download":{"main":[[{"node":"Extract from File","type":"main","index":0}]]},"Extract from File":{"main":[[{"node":"Pre-Cleaning","type":"main","index":0}]]}}	\N	f	\N
8d9e53d1-ea76-4142-8a93-02a1ca563660	dtSg5P1iisGnpbxc	system migration	2025-12-10 03:01:05.103+00	2025-12-10 03:01:05.103+00	[{"parameters":{"formTitle":"User Form","formFields":{"values":[{"fieldLabel":"Saint","fieldType":"textarea","requiredField":true}]},"options":{}},"type":"n8n-nodes-base.formTrigger","typeVersion":2.2,"position":[20,-40],"id":"586c8472-3b27-4203-85f1-51f00f441bb1","name":"On form submission","webhookId":"0150052f-caed-4545-84da-0ab329c630a8"},{"parameters":{"content":"## Task Analyzer + Scene Prompt Generator","height":80,"width":620},"type":"n8n-nodes-base.stickyNote","position":[2260,360],"typeVersion":1,"id":"4219e400-ee97-44e3-aaf5-efb58f6febc7","name":"Sticky Note"},{"parameters":{"content":"## User Form","height":80,"width":220},"type":"n8n-nodes-base.stickyNote","position":[-20,-160],"typeVersion":1,"id":"3e1b0aad-5c42-4ecf-b7dd-c186a8926b39","name":"Sticky Note1"},{"parameters":{"content":"## Scene Generator","height":80,"width":1820},"type":"n8n-nodes-base.stickyNote","position":[4560,380],"typeVersion":1,"id":"113ba54b-58d3-4b15-b359-864c5284e947","name":"Sticky Note2"},{"parameters":{"content":"## Save in Google Drive","height":80,"width":860},"type":"n8n-nodes-base.stickyNote","position":[5920,660],"typeVersion":1,"id":"5c811805-e2ca-4807-8bcc-5805d0bc4925","name":"Sticky Note4"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[2380,660],"id":"3f004e1c-2681-4876-9d75-1141e40e3d4f","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"jsCode":"const apiKey = $env.LEONARDO_API_KEY;\\n\\n// Request presigned upload URL for image (JPG)\\nconst response = await this.helpers.httpRequest({\\n  method: 'POST',\\n  url: 'https://cloud.leonardo.ai/api/rest/v1/init-image',\\n  headers: {\\n    Authorization: `Bearer ${apiKey}`,\\n    'Content-Type': 'application/json'\\n  },\\n  body: {\\n    extension: 'jpg'\\n  },\\n  json: true\\n});\\n\\nconst { id: initImageId, url: uploadUrl, fields } = response.uploadInitImage;\\n\\n// Return result as required by n8n (array of objects)\\nreturn [\\n  {\\n    json: {\\n      initImageId,\\n      uploadUrl,\\n      fields\\n    }\\n  }\\n];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2280,80],"id":"77ed5c9a-9c15-4a9a-8304-756fcf0dca8b","name":"Request Presigned URL"},{"parameters":{"method":"POST","url":"={{ $json.uploadUrl }}","sendBody":true,"contentType":"multipart-form-data","bodyParameters":{"parameters":[{"name":"=Content-Type\\t","value":"={{ $json.fields[\\"Content-Type\\"] }}"},{"name":"bucket","value":"={{ $json.fields.bucket }}"},{"name":"X-Amz-Algorithm","value":"={{ $json.fields[\\"X-Amz-Algorithm\\"] }}"},{"name":"X-Amz-Credential","value":"={{ $json.fields[\\"X-Amz-Credential\\"] }}"},{"name":"X-Amz-Date","value":"={{ $json.fields[\\"X-Amz-Date\\"] }}"},{"name":"X-Amz-Security-Token","value":"={{ $json.fields[\\"X-Amz-Security-Token\\"] }}"},{"name":"key","value":"={{ $json.fields.key }}"},{"name":"Policy","value":"={{ $json.fields.Policy }}"},{"name":"X-Amz-Signature\\t","value":"={{ $json.fields[\\"X-Amz-Signature\\"] }}"},{"parameterType":"formBinaryData","name":"file","inputDataFieldName":"data"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[3040,-40],"id":"56c78c49-7469-44e0-b3e4-c67255db4048","name":"Upload to Presigned URL"},{"parameters":{"jsCode":"let raw = $json[\\"fields\\"];\\n\\nlet parsed;\\n\\ntry {\\n  parsed = typeof raw === 'string' ? JSON.parse(raw) : raw;\\n} catch (e) {\\n  throw new Error('Failed to parse fields: ' + e.message);\\n}\\n\\nreturn [\\n  {\\n    json: {\\n      ...$json,\\n      fields: parsed\\n    },\\n    binary: $binary\\n  }\\n];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2520,80],"id":"affa5f39-10ae-4c6f-8251-0ab4c682cf7d","name":"Split fields object"},{"parameters":{"operation":"toBinary","sourceProperty":"image_base64","options":{}},"type":"n8n-nodes-base.convertToFile","typeVersion":1.1,"position":[2280,-120],"id":"d5c2a40a-2a67-4081-9d90-6c9499fc6271","name":"Convert to File"},{"parameters":{"mode":"combine","combineBy":"combineAll","options":{}},"type":"n8n-nodes-base.merge","typeVersion":3.1,"position":[2820,-40],"id":"920b2667-49bf-482c-a9a7-1272c9d353dc","name":"Merge"},{"parameters":{"url":"=https://cloud.leonardo.ai/api/rest/v1/init-image/{{ $('Merge').item.json.initImageId }}","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Authorization","value":"=Bearer {{ $env.LEONARDO_API_KEY }}"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[3460,-40],"id":"c96cae0c-fa50-4ebc-bee1-2971f8d5708a","name":"Poll for image"},{"parameters":{"method":"POST","url":"https://cloud.leonardo.ai/api/rest/v1/generations","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Authorization","value":"=Bearer {{ $env.LEONARDO_API_KEY }}"},{"name":"Content-Type","value":"application/json"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={\\n  \\"prompt\\": \\"{{ $('Loop Over Scene Generation Prompts').item.json.prompt }}\\",\\n  \\"negative_prompt\\": \\"{{ $('Loop Over Scene Generation Prompts').item.json.negative_prompt }}\\",\\n  \\"modelId\\": \\"2067ae52-33fd-4a82-bb92-c2c55e7d2786\\",\\n  \\"presetStyle\\": \\"ILLUSTRATION\\",\\n  \\"scheduler\\": \\"LEONARDO\\",\\n  \\"num_images\\": 1,\\n  \\"guidance_scale\\": 7,\\n  \\"num_inference_steps\\": 30,\\n  \\"width\\": 1368,\\n  \\"height\\": 768,\\n  \\"seed\\": 3926980335,\\n  \\"controlnets\\": [\\n    {\\n      \\"initImageId\\": \\"{{ $json.init_images_by_pk.id }}\\",\\n      \\"initImageType\\": \\"UPLOADED\\",\\n      \\"preprocessorId\\": 133,\\n      \\"strengthType\\": \\"High\\"\\n    },\\n    {\\n      \\"initImageId\\": \\"{{ $json.init_images_by_pk.id }}\\",\\n      \\"initImageType\\": \\"UPLOADED\\",\\n      \\"preprocessorId\\": 67,\\n      \\"strengthType\\": \\"High\\"\\n    }\\n  ]\\n}\\n\\n","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[4620,540],"id":"cb5754ff-32fc-4c6e-897f-806a0f0deec5","name":"Generate Scene Image","onError":"continueErrorOutput"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"ff35ca74-88df-4e29-890e-411770e18f34","leftValue":"={{ $json.generations_by_pk.status }}","rightValue":"COMPLETE","operator":{"type":"string","operation":"equals"}}],"combinator":"and"},"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[5440,540],"id":"96f56b09-1e72-428a-aa13-3911c4ac8a83","name":"If"},{"parameters":{"url":"=https://cloud.leonardo.ai/api/rest/v1/generations/{{\\n  $node[\\"Store Generation ID\\"].json[\\"generationId\\"] || \\n  $node[\\"Generate Scene Image\\"].json[\\"sdGenerationJob\\"][\\"generationId\\"]\\n}}","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Authorization","value":"=Bearer {{ $env.LEONARDO_API_KEY }}"},{"name":"Content-Type","value":"application/json"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[5220,520],"id":"4e330788-59f3-478b-beee-b2f625810c04","name":"Poll Generation Status"},{"parameters":{"amount":2},"type":"n8n-nodes-base.wait","typeVersion":1.1,"position":[3260,-40],"id":"bc10a140-5ed0-48b2-9ab9-0c2fb0a40d7b","name":"Wait for character image upload","webhookId":"bad066e0-3a7d-4092-ae9e-361b871f6a15"},{"parameters":{},"type":"n8n-nodes-base.wait","typeVersion":1.1,"position":[5680,720],"id":"70dfc2e8-6d5d-47ba-847c-646a23974226","name":"Wait for image generation","webhookId":"97476edc-7a93-4bc5-89a3-f0173edbc48a"},{"parameters":{"assignments":{"assignments":[{"id":"1c80653e-53ed-4c46-9ce5-f7767eb8ed72","name":"generationId","value":"={{ $json.sdGenerationJob.generationId }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[4980,520],"id":"35775029-948c-4509-a275-fbe32598d88b","name":"Store Generation ID"},{"parameters":{"driveId":{"__rl":true,"mode":"list","value":"My Drive"},"folderId":{"__rl":true,"mode":"list","value":"root","cachedResultName":"/ (Root folder)"},"options":{}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[5980,820],"id":"576b3eff-8780-4d32-aac3-c6889ff76146","name":"Google Drive","credentials":{"googleDriveOAuth2Api":{"id":"4lEBy7qEfA2UCGII","name":"Google Drive account"}}},{"parameters":{"content":"## Prepare Character Image","height":80,"width":3620},"type":"n8n-nodes-base.stickyNote","position":[260,-460],"typeVersion":1,"id":"348b521a-f8ad-4d09-b7b1-5eb6cb3230ec","name":"Sticky Note5"},{"parameters":{"assignments":{"assignments":[{"id":"22e6f8e9-7fb5-40a9-bff0-8f43ef9eaba1","name":"init_images_by_pk.id","value":"={{ $json.init_images_by_pk.id }}","type":"string"},{"id":"e4edbd77-0a3f-4a48-b2ed-88b2da2f532c","name":"init_images_by_pk.createdAt","value":"={{ $json.init_images_by_pk.createdAt }}","type":"string"},{"id":"2a34b3a1-f43f-445e-8fad-147670c03636","name":"init_images_by_pk.url","value":"={{ $json.init_images_by_pk.url }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[3700,60],"id":"38e9ab45-bb36-4508-a018-02d12e3a5411","name":"Set init_image"},{"parameters":{"mode":"combine","combineBy":"combineAll","options":{}},"type":"n8n-nodes-base.merge","typeVersion":3.1,"position":[4020,460],"id":"7939073f-d51d-4284-9350-74dc33b3fb95","name":"Merge1"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[360,140],"id":"804d49ba-a752-4666-b2c3-57dc4e9fade6","name":"OpenAI Chat Model1","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"promptType":"define","text":"=Generate a visual character profile for the following saint:\\n\\nSaint: {{ $json.Saint }}\\n\\nUse the schema shown above and include only visual features.\\nIf the saint is a priest or religious, describe them wearing a cassock, habit, or robe instead of modern clothing.\\n","messages":{"messageValues":[{"message":"You are a character description generator for illustrated children's saint stories. Your job is to create a simple, visual character profile for a Catholic saint.\\n\\nEach profile must include:\\n- name\\n- age (estimated or symbolic)\\n- gender\\n- visual appearance (hair, eyes, skin tone)\\n- facial expression\\n- posture\\n- simple, saint-appropriate clothing (e.g., cassock, robe, habit)\\n- overall impression\\n\\nUse child-friendly, visual language. Focus on what can be seen. Avoid abstract or theological concepts.\\n\\nReturn a valid JSON object with this structure:\\n\\n{\\n  \\"character\\": {\\n    \\"name\\": \\"<full name of the saint>\\",\\n    \\"age\\": <estimated age as a number>,\\n    \\"gender\\": \\"<male or female>\\",\\n    \\"appearance\\": {\\n      \\"hair\\": \\"<brief hair description>\\",\\n      \\"eyes\\": \\"<brief eye description>\\",\\n      \\"skin\\": \\"<brief skin tone description>\\",\\n      \\"expression\\": \\"<facial expression>\\",\\n      \\"clothing\\": {\\n        \\"cassock\\": \\"<if priest or religious brother>\\",\\n        \\"habit\\": \\"<if nun or religious sister>\\",\\n        \\"robe\\": \\"<if saint is monastic or early Church>\\",\\n        \\"shirt\\": \\"<optional fallback if non-religious>\\",\\n        \\"coat\\": \\"<optional fallback outerwear>\\"\\n      },\\n      \\"posture\\": \\"<how the saint carries themselves>\\",\\n      \\"overall_impression\\": \\"<one-sentence summary of their visual presence>\\"\\n    }\\n  }\\n}\\n\\nReturn valid JSON only. No commentary.\\n"}]}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.6,"position":[280,-40],"id":"3efd25f6-84f5-48bd-a43e-3da19fb72452","name":"Saint Character Details"},{"parameters":{"promptType":"define","text":"=Using the following context:\\n\\n- Saint: {{ $json.character.name }}\\n- Character: {{ $json.character.name }}, {{ $json.character.age }}-year-old {{ $json.character.gender }} with {{ $json.character.appearance.hair }}, {{ $json.character.appearance.eyes }}, and {{ $json.character.appearance.skin }}. Clothing includes: \\n{{ $json.character.appearance.clothing.cassock || $json.character.appearance.clothing.habit || $json.character.appearance.clothing.robe || ($json.character.appearance.clothing.shirt + ' and ' + $json.character.appearance.clothing.coat) }}.\\nPosture: {{ $json.character.appearance.posture }}.\\n\\nCreate a visual story about {{ $json.character.name }}. Break it into 57 visual moments, following the formatting and structure below.\\n","messages":{"messageValues":[{"message":"You are a visual prompt generator for a Catholic childrens storytelling tool. Given a saint's character profile and context, create a 57 step **visual story** sequence.\\n\\nEach item must be a standalone, vivid moment that can be clearly illustrated:\\n\\n- Include setting, action, props, emotion, and POV (e.g., side view, over-the-shoulder)\\n- The saint must be **doing something**, not just standing\\n- Focus on **visible events**: scenes with other characters, gestures, expressions, interactions, historical moments\\n- Keep clothing exactly as described (cassock, robe, habit, armor, etc.)\\n- Avoid modern styles or unclear symbolism\\n\\nReturn only a JSON array. Each object must contain:\\n- `scene_number`: number\\n- `scene_name`: 35 word title (e.g., Joan Rallies Troops)\\n- `prompt`: rich scene description\\n- `negative_prompt`: dark, messy, stylized, surreal, toy-like, chaotic, disrespectful\\n"}]}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.6,"position":[2280,480],"id":"5feac7a4-0a5f-4976-9ba5-81b11b51a955","name":"Story Generator"},{"parameters":{"jsCode":"const rawText = $json[\\"text\\"];\\n\\n// Clean and parse JSON\\nconst cleaned = rawText.replace(/```json|```/g, \\"\\").trim();\\nconst parsed = JSON.parse(cleaned);\\n\\n// Return as-is (wrap in array so n8n continues processing)\\nreturn [{ json: parsed }];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[620,-40],"id":"dde43c70-555e-41b4-b3cb-0d93b25368d9","name":"Fix JSON for character details"},{"parameters":{"jsCode":"const rawText = $json[\\"text\\"];\\n\\n// Strip markdown code block if present\\nconst cleaned = rawText.replace(/```json|```/g, \\"\\").trim();\\n\\n// Parse JSON\\nconst parsed = JSON.parse(cleaned);\\n\\n// Return one item per loop\\nreturn parsed.map(scene => ({ json: scene }));"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2720,480],"id":"00e1b9ec-4adc-45c8-a95a-ec75cebbdfe5","name":"Fix JSON for story generator"},{"parameters":{"jsCode":"const char = items[0].json.character;\\nconst app = char.appearance;\\n\\nconst prompt = `Create a Pixar-style 3D character image. The rendering should be expressive, colorful, soft-edged, and emotionally engaging  consistent with the animation style of Pixar films.\\n\\nShow only one character, facing forward. Do not include multiple views, side angles, or duplicate faces.\\n\\nA ${char.age}-year-old ${char.gender} named ${char.name}, with ${app.hair}, ${app.eyes}, and ${app.skin}. He has a ${app.expression} and wears a ${app.clothing.cassock}. His posture is ${app.posture}. Overall, he gives the impression of ${app.overall_impression}.`;\\n\\nreturn [{ json: { prompt } }];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[960,-200],"id":"bdd12ae5-0668-4617-8602-d5f12c19a75c","name":"Build Character Generation Prompt"},{"parameters":{"method":"POST","url":"https://api.openai.com/v1/images/generations","authentication":"predefinedCredentialType","nodeCredentialType":"openAiApi","sendHeaders":true,"headerParameters":{"parameters":[{}]},"sendBody":true,"bodyParameters":{"parameters":[{"name":"model","value":"={{ $json.model }}"},{"name":"prompt","value":"={{ $json.prompt }}"},{"name":"n","value":"={{ $json.n }}"},{"name":"size","value":"={{ $json.size }}"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1460,-160],"id":"6d4228e1-5957-4dfe-847a-a35722c4dbaf","name":"Generate Character Image","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"jsCode":"const prompt = $json.prompt; // or wherever yours is\\n\\nreturn [\\n  {\\n    json: {\\n      model: \\"dall-e-3\\",\\n      prompt,\\n      n: 1,\\n      size: \\"1024x1024\\"\\n    }\\n  }\\n];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1200,-200],"id":"95e11fab-8dd8-4e13-beb6-0f085fac0dcb","name":"Build Image Generation Payload"},{"parameters":{"jsCode":"const imageUrl = $input.first().json.image_url;\\n\\n// Download the image as binary\\nconst imageBuffer = await this.helpers.request({\\n  method: 'GET',\\n  url: imageUrl,\\n  encoding: null // Return raw binary buffer\\n});\\n\\n// Convert to base64 (no prefix)\\nconst imageBase64 = imageBuffer.toString('base64');\\n\\n// Return for next step (Leonardo upload)\\nreturn [\\n  {\\n    json: {\\n      image_base64: imageBase64\\n    }\\n  }\\n];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1960,-120],"id":"cf1c5b3e-3e21-47ab-b787-f0f4d2e8ecb7","name":"Download character image (OpenAI)"},{"parameters":{"jsCode":"return [{\\n  json: {\\n    image_url: $json.data[0].url\\n  }\\n}];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1700,-160],"id":"232d9d32-b4b9-4e3e-8277-977e19ac1019","name":"Extract image url"},{"parameters":{"url":"={{ $json[\\"generations_by_pk\\"][\\"generated_images\\"][0][\\"url\\"] }}","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[5680,520],"id":"9e2ca2dd-fe05-46de-b514-bb43d33d5019","name":"Download Scene Image"},{"parameters":{"url":"={{ $json.image_url }}","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1960,-320],"id":"6f831417-3d40-4183-bf06-31363e22b894","name":"Download Character Image"},{"parameters":{"driveId":{"__rl":true,"mode":"list","value":"My Drive"},"folderId":{"__rl":true,"mode":"list","value":"root","cachedResultName":"/ (Root folder)"},"options":{}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[2180,-320],"id":"7c781a76-b83c-40d2-aa19-af3168ef90b2","name":"Google Drive1","credentials":{"googleDriveOAuth2Api":{"id":"4lEBy7qEfA2UCGII","name":"Google Drive account"}}},{"parameters":{"content":"## Packaging (After loop)","height":80,"width":1720},"type":"n8n-nodes-base.stickyNote","position":[4480,-60],"typeVersion":1,"id":"5a959ed9-1df4-4d5d-a29a-0fea36dadd40","name":"Sticky Note6"},{"parameters":{"jsCode":"const files = items.map(item => item.json);\\n\\n// Try to extract saint name from first file\\nlet title = \\"Untitled Story\\";\\nconst match = files[0]?.name?.match(/Saint_([A-Za-z]+)/);\\nif (match) {\\n  title = `Saint ${match[1]}'s Story`;\\n}\\n\\nconst slides = files.map((file, index) => {\\n  const imageUrl = `https://drive.google.com/uc?id=${file.id}&export=download`;\\n\\n  const name = file.name || `Image_${index + 1}`;\\n  const raw = name\\n    .replace(\\".jpg\\", \\"\\")\\n    .replace(/^AlbedoBase_XL_/, \\"\\")\\n    .replace(/_/g, \\" \\");\\n\\n  const caption = `Scene ${index + 1}: ${raw}`;\\n\\n  return {\\n    imageUrl,\\n    caption,\\n  };\\n});\\n\\nreturn [\\n  {\\n    json: {\\n      title,\\n      slides,\\n    },\\n  },\\n];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[4520,60],"id":"a60bc92a-cd96-4380-8b7b-63f9b476bb17","name":"Prepare Slides Data"},{"parameters":{"title":"={{ $json.title }}"},"type":"n8n-nodes-base.googleSlides","typeVersion":2,"position":[4700,200],"id":"891bdf1a-4f82-4274-92ed-1a7b1fb3a889","name":"Google Slides","credentials":{"googleSlidesOAuth2Api":{"id":"3ALxij02ZK5ZvDbM","name":"Google Slides account"}}},{"parameters":{"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[4280,460],"id":"69b7f0c3-f85f-4de1-af1f-a47e44df9eee","name":"Loop Over Scene Generation Prompts"},{"parameters":{"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[5760,80],"id":"5c4653b5-2771-4875-9834-a6f542beb836","name":"Loop Over Scene Slides to Create"},{"parameters":{"assignments":{"assignments":[{"id":"53772888-953c-4c79-87c2-a8b027757202","name":"presentationId","value":"={{ $json.presentationId }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[4900,200],"id":"816a81fb-9d3b-46f8-b661-4c9d81cd223a","name":"Get PresentationID"},{"parameters":{},"type":"n8n-nodes-base.merge","typeVersion":3.1,"position":[5060,80],"id":"333f1549-762d-4c44-9d91-6edb2754b6f1","name":"Merge2"},{"parameters":{"jsCode":"const story = items.find(i => i.json.slides);\\nconst pres = items.find(i => i.json.presentationId);\\n\\nreturn [\\n  {\\n    json: {\\n      ...story.json,\\n      presentationId: pres.json.presentationId\\n    }\\n  }\\n];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[5280,80],"id":"21f4cca1-130a-4e52-afe8-ad7ae03912ed","name":"Fix data for presentation","alwaysOutputData":true},{"parameters":{"jsCode":"const { slides, presentationId } = items[0].json;\\n\\nreturn slides.map((slide, index) => ({\\n  json: {\\n    ...slide,\\n    presentationId,\\n    slideIndex: index + 1\\n  }\\n}));"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[5520,80],"id":"42823d2c-5057-4912-95bb-4579146fec85","name":"Flatten for looping"},{"parameters":{"method":"POST","url":"=https://slides.googleapis.com/v1/presentations/{{ $json.presentationId }}:batchUpdate","authentication":"predefinedCredentialType","nodeCredentialType":"googleSlidesOAuth2Api","sendBody":true,"specifyBody":"json","jsonBody":"={\\n  \\"requests\\": [\\n    {\\n      \\"createSlide\\": {\\n        \\"objectId\\": \\"slide_{{$json.slideIndex}}\\",\\n        \\"insertionIndex\\": {{$json.slideIndex}},\\n        \\"slideLayoutReference\\": {\\n          \\"predefinedLayout\\": \\"BLANK\\"\\n        }\\n      }\\n    },\\n    {\\n      \\"createImage\\": {\\n        \\"url\\": \\"{{$json.imageUrl}}\\",\\n        \\"elementProperties\\": {\\n          \\"pageObjectId\\": \\"slide_{{$json.slideIndex}}\\",\\n          \\"size\\": {\\n            \\"height\\": { \\"magnitude\\": 3000000, \\"unit\\": \\"EMU\\" },\\n            \\"width\\": { \\"magnitude\\": 5000000, \\"unit\\": \\"EMU\\" }\\n          },\\n          \\"transform\\": {\\n            \\"scaleX\\": 1,\\n            \\"scaleY\\": 1,\\n            \\"translateX\\": 100000,\\n            \\"translateY\\": 100000,\\n            \\"unit\\": \\"EMU\\"\\n          }\\n        }\\n      }\\n    },\\n    {\\n      \\"createShape\\": {\\n        \\"objectId\\": \\"caption_{{$json.slideIndex}}\\",\\n        \\"shapeType\\": \\"TEXT_BOX\\",\\n        \\"elementProperties\\": {\\n          \\"pageObjectId\\": \\"slide_{{$json.slideIndex}}\\",\\n          \\"size\\": {\\n            \\"height\\": { \\"magnitude\\": 500000, \\"unit\\": \\"EMU\\" },\\n            \\"width\\": { \\"magnitude\\": 5000000, \\"unit\\": \\"EMU\\" }\\n          },\\n          \\"transform\\": {\\n            \\"scaleX\\": 1,\\n            \\"scaleY\\": 1,\\n            \\"translateX\\": 100000,\\n            \\"translateY\\": 3200000,\\n            \\"unit\\": \\"EMU\\"\\n          }\\n        }\\n      }\\n    },\\n    {\\n      \\"insertText\\": {\\n        \\"objectId\\": \\"caption_{{$json.slideIndex}}\\",\\n        \\"insertionIndex\\": 0,\\n        \\"text\\": \\"{{$json.caption}}\\"\\n      }\\n    }\\n  ]\\n}","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[6020,160],"id":"ce5cf751-4e2e-4f12-9d29-b97ec32a31ad","name":"Create Slide","credentials":{"googleSlidesOAuth2Api":{"id":"3ALxij02ZK5ZvDbM","name":"Google Slides account"}}},{"parameters":{"method":"POST","url":"=https://www.googleapis.com/drive/v3/files/{{ $json.id }}/permissions","authentication":"predefinedCredentialType","nodeCredentialType":"googleDriveOAuth2Api","sendBody":true,"specifyBody":"json","jsonBody":"{\\n  \\"role\\": \\"reader\\",\\n  \\"type\\": \\"anyone\\"\\n}","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[6220,820],"id":"b171a9b9-4585-4e29-a244-edede4c07d5e","name":"Make Image Public","credentials":{"googleDriveOAuth2Api":{"id":"4lEBy7qEfA2UCGII","name":"Google Drive account"}}},{"parameters":{},"type":"n8n-nodes-base.merge","typeVersion":3.1,"position":[6380,1060],"id":"e2742433-e442-4f76-ace3-2dae4115b019","name":"Merge3"},{"parameters":{"jsCode":"// Filter out permission-only items (e.g. anyoneWithLink)\\n// Keep only file metadata with actual image IDs\\nconst cleaned = items.filter(item => {\\n  return item.json.mimeType === 'image/jpeg' && item.json.id && item.json.name;\\n}).map(item => {\\n  return {\\n    json: {\\n      id: item.json.id,\\n      name: item.json.name,\\n    }\\n  };\\n});\\n\\nreturn cleaned;"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[6540,1060],"id":"8e8149c7-63be-4aec-8e98-fa61815dbe2a","name":"Clean-up"}]	{"On form submission":{"main":[[{"node":"Saint Character Details","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"Story Generator","type":"ai_languageModel","index":0}]]},"Request Presigned URL":{"main":[[{"node":"Split fields object","type":"main","index":0}]]},"Split fields object":{"main":[[{"node":"Merge","type":"main","index":1}]]},"Upload to Presigned URL":{"main":[[{"node":"Wait for character image upload","type":"main","index":0}]]},"Convert to File":{"main":[[{"node":"Merge","type":"main","index":0}]]},"Merge":{"main":[[{"node":"Upload to Presigned URL","type":"main","index":0}]]},"Poll for image":{"main":[[{"node":"Set init_image","type":"main","index":0}]]},"Generate Scene Image":{"main":[[{"node":"Store Generation ID","type":"main","index":0}]]},"If":{"main":[[{"node":"Download Scene Image","type":"main","index":0}],[{"node":"Wait for image generation","type":"main","index":0}]]},"Poll Generation Status":{"main":[[{"node":"If","type":"main","index":0}]]},"Wait for character image upload":{"main":[[{"node":"Poll for image","type":"main","index":0}]]},"Wait for image generation":{"main":[[{"node":"Store Generation ID","type":"main","index":0}]]},"Store Generation ID":{"main":[[{"node":"Poll Generation Status","type":"main","index":0}]]},"Google Drive":{"main":[[{"node":"Make Image Public","type":"main","index":0},{"node":"Merge3","type":"main","index":1}]]},"Set init_image":{"main":[[{"node":"Merge1","type":"main","index":0}]]},"Merge1":{"main":[[{"node":"Loop Over Scene Generation Prompts","type":"main","index":0}]]},"OpenAI Chat Model1":{"ai_languageModel":[[{"node":"Saint Character Details","type":"ai_languageModel","index":0}]]},"Story Generator":{"main":[[{"node":"Fix JSON for story generator","type":"main","index":0}]]},"Saint Character Details":{"main":[[{"node":"Fix JSON for character details","type":"main","index":0}]]},"Fix JSON for character details":{"main":[[{"node":"Story Generator","type":"main","index":0},{"node":"Request Presigned URL","type":"main","index":0},{"node":"Build Character Generation Prompt","type":"main","index":0}]]},"Fix JSON for story generator":{"main":[[{"node":"Merge1","type":"main","index":1}]]},"Build Character Generation Prompt":{"main":[[{"node":"Build Image Generation Payload","type":"main","index":0}]]},"Generate Character Image":{"main":[[{"node":"Extract image url","type":"main","index":0}]]},"Build Image Generation Payload":{"main":[[{"node":"Generate Character Image","type":"main","index":0}]]},"Download character image (OpenAI)":{"main":[[{"node":"Convert to File","type":"main","index":0}]]},"Extract image url":{"main":[[{"node":"Download character image (OpenAI)","type":"main","index":0},{"node":"Download Character Image","type":"main","index":0}]]},"Download Scene Image":{"main":[[{"node":"Google Drive","type":"main","index":0}]]},"Download Character Image":{"main":[[{"node":"Google Drive1","type":"main","index":0}]]},"Prepare Slides Data":{"main":[[{"node":"Google Slides","type":"main","index":0},{"node":"Merge2","type":"main","index":0}]]},"Google Slides":{"main":[[{"node":"Get PresentationID","type":"main","index":0}]]},"Loop Over Scene Generation Prompts":{"main":[[{"node":"Prepare Slides Data","type":"main","index":0}],[{"node":"Generate Scene Image","type":"main","index":0}]]},"Loop Over Scene Slides to Create":{"main":[[],[{"node":"Create Slide","type":"main","index":0}]]},"Get PresentationID":{"main":[[{"node":"Merge2","type":"main","index":1}]]},"Fix data for presentation":{"main":[[{"node":"Flatten for looping","type":"main","index":0}]]},"Merge2":{"main":[[{"node":"Fix data for presentation","type":"main","index":0}]]},"Flatten for looping":{"main":[[{"node":"Loop Over Scene Slides to Create","type":"main","index":0}]]},"Create Slide":{"main":[[{"node":"Loop Over Scene Slides to Create","type":"main","index":0}]]},"Make Image Public":{"main":[[{"node":"Merge3","type":"main","index":0}]]},"Merge3":{"main":[[{"node":"Clean-up","type":"main","index":0}]]},"Clean-up":{"main":[[{"node":"Loop Over Scene Generation Prompts","type":"main","index":0}]]}}	\N	f	\N
c4f5eacb-6579-45be-b569-ebcc23c905ed	XYvrx4uUOzCXQmJQ	system migration	2025-12-10 03:01:05.103+00	2025-12-10 03:01:05.103+00	[{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[0,0],"id":"61ab1dfd-5bf4-4dbf-b145-9a193418bfd2","name":"When clicking Test workflow"},{"parameters":{"mode":"raw","jsonOutput":"={\\n  \\"template\\": \\"{{ $json.pov }} of a {{ $json.character }} {{ $json.action }} {{ $json.object }} {{ $json.setting }}, no other characters\\"\\n}","options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[680,100],"id":"a98600f3-4cff-4d14-96cf-6f2a9f09ce67","name":"Slot template string"},{"parameters":{"jsCode":"return items.map(item => {\\n  const data = item.json;\\n  const template = data.template;\\n\\n  const finalPrompt = template\\n    .replace('{{pov}}', data.pov)\\n    .replace('{{character}}', data.character)\\n    .replace('{{action}}', data.action)\\n    .replace('{{object}}', data.object)\\n    .replace('{{setting}}', data.setting);\\n\\n  return {\\n    json: {\\n      finalPrompt\\n    }\\n  };\\n});"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[960,0],"id":"8bcd4e5c-b60a-412f-9c34-6767e8c57a79","name":"Inject slots into template"},{"parameters":{"jsCode":"// Define an array of test slot records for multiple scenes\\nconst sceneData = [\\n  {\\n    POV: \\"Side view\\",\\n    character: \\"boy in pajamas\\",\\n    action: \\"brushing his teeth\\",\\n    object: \\"with a blue toothbrush\\",\\n    setting: \\"in front of the bathroom sink\\"\\n  },\\n  {\\n    POV: \\"View from behind\\",\\n    character: \\"boy in pajamas\\",\\n    action: \\"rinsing his mouth\\",\\n    object: \\"with a small plastic cup\\",\\n    setting: \\"at the bathroom counter\\"\\n  }\\n];\\n\\n// Convert each object in the array into a separate n8n item\\nreturn sceneData.map(data => ({\\n  json: data\\n}));"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[520,-140],"id":"da11548d-573b-4aea-96f4-f59c26c0d0fc","name":"Load test slot records","disabled":true},{"parameters":{"url":"https://ixpyvpqmrerrmgekjrne.supabase.co/rest/v1/visual_schedule_slots","sendQuery":true,"specifyQuery":"json","jsonQuery":"{\\n  \\"select\\": \\"pov,character,action,object,setting\\"\\n}","sendHeaders":true,"specifyHeaders":"json","jsonHeaders":"{\\n  \\"apikey\\": \\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml4cHl2cHFtcmVycm1nZWtqcm5lIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc5NjMxOTcsImV4cCI6MjA2MzUzOTE5N30.Zx_Zb6eszGcUhhZQBXmOi5YQg4DAwm_kQWBLCQuFOl4\\",\\n  \\"Authorization\\": \\"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml4cHl2cHFtcmVycm1nZWtqcm5lIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc5NjMxOTcsImV4cCI6MjA2MzUzOTE5N30.Zx_Zb6eszGcUhhZQBXmOi5YQg4DAwm_kQWBLCQuFOl4\\",\\n  \\"Content-Type\\": \\"application/json\\"\\n}","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[280,0],"id":"5c8ac7e3-9675-4359-8b55-acb0b29910b4","name":"Query Supabase"}]	{"When clicking Test workflow":{"main":[[{"node":"Query Supabase","type":"main","index":0}]]},"Slot template string":{"main":[[{"node":"Inject slots into template","type":"main","index":0}]]},"Load test slot records":{"main":[[]]},"Query Supabase":{"main":[[{"node":"Slot template string","type":"main","index":0}]]}}	\N	f	\N
1c2d61cc-e6b5-43d8-9a8f-13ea224c662a	UwHHfi23oecxvpZh	system migration	2025-12-10 03:01:05.103+00	2025-12-10 03:01:05.103+00	[{"parameters":{"formTitle":"Upload PDF to \\"RAG\\"","formFields":{"values":[{"fieldLabel":"document_details","fieldType":"textarea","placeholder":"Describe the document, it's meaning and purpose","requiredField":true},{"fieldLabel":"upload_pdf","fieldType":"file","multipleFiles":false,"requiredField":true}]},"options":{}},"type":"n8n-nodes-base.formTrigger","typeVersion":2.2,"position":[-200,400],"id":"05f0fe38-8766-4025-99b1-23ca915c67a1","name":"On form submission","webhookId":"186195ae-0096-4bc4-a7e3-e88f8292747c"},{"parameters":{"content":"User to upload PDF and provide context","height":100,"color":4},"type":"n8n-nodes-base.stickyNote","position":[-80,-140],"typeVersion":1,"id":"2de43c39-4ad6-4dfd-8fec-156cc680292a","name":"Sticky Note"},{"parameters":{"content":"LLM -> Review Extracted data and context","height":100,"width":160,"color":4},"type":"n8n-nodes-base.stickyNote","position":[1100,-280],"typeVersion":1,"id":"a1fabb0f-0e30-4b88-a4f6-619ab794188d","name":"Sticky Note1"},{"parameters":{"content":"OCR layer later on for fallback","height":100,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[260,-140],"typeVersion":1,"id":"6f25a175-9816-456b-bec2-88e16255778e","name":"Sticky Note2"},{"parameters":{"content":"Merge -> Extracted data and context","height":100,"width":210,"color":4},"type":"n8n-nodes-base.stickyNote","position":[480,-140],"typeVersion":1,"id":"e6ec495e-97de-4cdc-9a16-dbe8bbafbe80","name":"Sticky Note3"},{"parameters":{"content":"Clean Extracted Data","height":100,"width":160,"color":4},"type":"n8n-nodes-base.stickyNote","position":[760,-140],"typeVersion":1,"id":"40b671e9-83f2-4e01-b3e8-1b8a0a50632d","name":"Sticky Note4"},{"parameters":{"content":"Clean output","height":100,"width":150,"color":4},"type":"n8n-nodes-base.stickyNote","position":[1300,-280],"typeVersion":1,"id":"69c5736b-987f-4193-8a42-55ad9d312f71","name":"Sticky Note5"},{"parameters":{"content":"Extract File","height":100,"width":160,"color":4},"type":"n8n-nodes-base.stickyNote","position":[260,-280],"typeVersion":1,"id":"7e04f386-ac0f-437d-b875-bfaa552ac797","name":"Sticky Note7"},{"parameters":{"content":"HITL loop if LLM is unsure","height":100,"color":3},"type":"n8n-nodes-base.stickyNote","position":[1100,-140],"typeVersion":1,"id":"1b160d7e-45c0-4636-bcf5-fa2b4d5413f9","name":"Sticky Note8"},{"parameters":{"content":"### Extract sub workflow","height":80,"width":740,"color":6},"type":"n8n-nodes-base.stickyNote","position":[260,-420],"typeVersion":1,"id":"5f326be9-2e22-4217-b1d3-9ed4209b1f20","name":"Sticky Note10"},{"parameters":{"content":"Upload to Supabase Storage","height":100,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[1520,-140],"typeVersion":1,"id":"30a45f77-1a18-4ffa-8ab8-3f8f018310cf","name":"Sticky Note11"},{"parameters":{"content":"Job status","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[260,0],"typeVersion":1,"id":"529f059a-583c-4a79-9c2a-933478409875","name":"Sticky Note12"},{"parameters":{"content":"Job status","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[760,0],"typeVersion":1,"id":"336e8dec-0a99-4698-8097-b73f438cf21a","name":"Sticky Note13"},{"parameters":{"content":"Job status","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[1100,0],"typeVersion":1,"id":"23d2a546-e071-4c24-a271-5901a650fbd3","name":"Sticky Note14"},{"parameters":{"content":"Job status","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[1520,0],"typeVersion":1,"id":"cb0b2947-0374-4566-8cec-c5e384161ec7","name":"Sticky Note15"},{"parameters":{"content":"Insert to Supabase DB","height":100,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[1740,-140],"typeVersion":1,"id":"c4f47dd9-2d23-4580-979a-78f5bd6767d8","name":"Sticky Note16"},{"parameters":{"content":"Job status","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[1740,0],"typeVersion":1,"id":"910e9bc9-a382-4462-b13b-e2cb41c1c781","name":"Sticky Note17"},{"parameters":{"content":"### Embedder sub workflow","height":80,"width":260,"color":6},"type":"n8n-nodes-base.stickyNote","position":[2140,-420],"typeVersion":1,"id":"7c31404e-9fd4-4076-8ef4-f69c39aabc76","name":"Sticky Note18"},{"parameters":{"content":"Job status","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[2140,0],"typeVersion":1,"id":"ba713394-407b-42ee-a182-c191f675a9ee","name":"Sticky Note19"},{"parameters":{"content":"### Content reviewer / preparer","height":80,"width":920,"color":6},"type":"n8n-nodes-base.stickyNote","position":[1100,-420],"typeVersion":1,"id":"2360a653-70e6-4471-aa44-af2cbd364598","name":"Sticky Note20"},{"parameters":{"operation":"pdf","binaryPropertyName":"upload_pdf","options":{"joinPages":true}},"type":"n8n-nodes-base.extractFromFile","typeVersion":1,"position":[180,260],"id":"7b78a736-057f-4525-9a8d-2c813b15f80d","name":"Extract from File"},{"parameters":{"jsCode":"const raw = items[0].json;\\nconst structured = items[1].json;\\n\\nreturn [{\\n  json: {\\n    text: raw.text,\\n    document_details: structured.document_details,\\n    upload_pdf: structured.upload_pdf,\\n    submitted_at: structured.submittedAt || new Date().toISOString()\\n  }\\n}];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[680,380],"id":"5ac4de8f-fb93-422c-af32-ed77797479df","name":"Pre-Cleaning"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{"temperature":0}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[1280,580],"id":"e4a22b68-c9c1-45cd-9391-eaa3a037dbf4","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"model":{"__rl":true,"value":"claude-3-opus-20240229","mode":"list","cachedResultName":"Claude Opus 3"},"options":{"maxTokensToSample":4096,"temperature":0}},"type":"@n8n/n8n-nodes-langchain.lmChatAnthropic","typeVersion":1.3,"position":[1300,760],"id":"0fdce3b3-6e2d-4e65-a5d3-dc8851fa7761","name":"Anthropic Chat Model","credentials":{"anthropicApi":{"id":"Wmz3AO5pPNbuodMG","name":"Anthropic account"}}},{"parameters":{},"type":"n8n-nodes-base.merge","typeVersion":3.2,"position":[460,380],"id":"42afd8d3-7ffe-495f-b052-8a451b632184","name":"Merge"},{"parameters":{"jsonSchemaExample":"[\\n  {\\n    \\"content\\": \\"Document Type: Project Charter | Document Date: Mar 7, 2025 | Document Author: Marco San Juan\\"\\n  },\\n  {\\n    \\"content\\": \\"Problem Statement | Equinox Gold lacks centralized enterprise monitoring capability, resulting in fragmented oversight of technology assetsany system or device that transmits or receives information. Monitoring is currently decentralized across teams and service providers, using siloed tools with limited visibility and coordination. This leads to inefficiencies such as missed or delayed responses, false positives, and no data correlation, increasing operational and security risks.\\"\\n  },\\n  {\\n    \\"content\\": \\"Solution Overview | Equinox Gold will establish a centralized enterprise monitoring capability to enhance visibility, coordination, and decision-making across all technology assets. This initiative will create a standardized, scalable approach that improves monitoring effectiveness while aligning with existing operations. The implementation approach will be determined through Discovery and Design, ensuring flexibility based on findings.\\"\\n  },\\n  {\\n    \\"content\\": \\"Project Role: IT Architect | Resource Name: Greg Kornatowsky\\"\\n  },\\n  {\\n    \\"content\\": \\"Stakeholder: VP | Role & Involvement: Approve key decisions, ensure resource availability, support decision-making | Who: Miller Dussan\\"\\n  }\\n]"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.3,"position":[1820,560],"id":"42ec12cd-d31f-4566-85f9-50c03b9566e7","name":"Structured Output Parser"},{"parameters":{"mode":"insert","tableName":{"__rl":true,"value":"document_vectors","mode":"list","cachedResultName":"document_vectors"},"options":{}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.2,"position":[2200,380],"id":"3c931520-e392-45ec-9d25-94c3d6b6bcc8","name":"Supabase Vector Store","credentials":{"supabaseApi":{"id":"LDhBmd2aeXNRoFRh","name":"Supabase - PromptOS"}}},{"parameters":{"options":{"batchSize":200,"stripNewLines":true}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[2200,180],"id":"9a225345-f4ac-4e4f-8a6b-6cefaf028bac","name":"Embeddings OpenAI","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.documentDefaultDataLoader","typeVersion":1,"position":[2440,180],"id":"582365f0-3684-4a41-b0a2-41487289bf89","name":"Default Data Loader"},{"parameters":{"chunkSize":800,"chunkOverlap":100,"options":{}},"type":"@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter","typeVersion":1,"position":[2580,400],"id":"a08a7562-b499-436f-86de-175e32777a4f","name":"Recursive Character Text Splitter"},{"parameters":{"jsCode":"const doc = $json.output;\\n\\nconst safe = str => (str || 'unknown').toLowerCase().replace(/\\\\s+/g, '-').replace(/[^\\\\w\\\\-]/g, '');\\nconst baseId = `${safe(doc.document_author)}-${safe(doc.document_type)}`;\\nconst datePart = (doc.document_date || '').replace(/[^a-zA-Z0-9]/g, '') || 'unknown';\\n\\nconst chunks = [];\\n\\n// Metadata chunk as content only\\nconst metadataEntries = Object.entries({\\n  'Document Type': doc.document_type,\\n  'Document Date': doc.document_date,\\n  'Document Author': doc.document_author\\n}).filter(([_, v]) => v).map(([k, v]) => `${k}: ${v}`);\\nif (metadataEntries.length) {\\n  chunks.push({\\n    json: {\\n      content: metadataEntries.join(' | ')\\n    }\\n  });\\n}\\n\\n// Sections\\n(doc.document_sections || []).forEach((section) => {\\n  const title = section.title?.trim() || '';\\n  const body = section.content?.trim() || '';\\n  const tables = (section.tables || [])\\n    .map(table => {\\n      const headers = table.headers || [];\\n      return table.rows.map(row =>\\n        headers.map((h, i) => `${h}: ${row[i] || ''}`).join(' | ')\\n      ).join('\\\\n');\\n    })\\n    .join('\\\\n\\\\n');\\n\\n  const bodyOrTables = [body, tables].filter(Boolean).join('\\\\n\\\\n').trim();\\n\\n  // NEW: split and extract any standalone role lines\\n  const candidateLines = (bodyOrTables || '').split('\\\\n').map(l => l.trim());\\n  candidateLines.forEach(line => {\\n    if (/role[:]?/i.test(line) && /\\\\|/.test(line)) {\\n      chunks.push({\\n        json: {\\n          content: line\\n        }\\n      });\\n    }\\n  });\\n\\n  if (bodyOrTables) {\\n    const full = [title, bodyOrTables].filter(Boolean).join(' | ').trim();\\n    chunks.push({\\n      json: {\\n        content: full\\n      }\\n    });\\n  }\\n});\\n\\nreturn chunks;"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1980,740],"id":"35fa5ac4-aa47-417e-849e-a032c2b00f0a","name":"Flatten to vector-friendly chunks","disabled":true},{"parameters":{"content":"Embedding process","height":100,"width":160,"color":4},"type":"n8n-nodes-base.stickyNote","position":[2140,-140],"typeVersion":1,"id":"e4c97d61-0591-4d56-aeb7-870b5c37a244","name":"Sticky Note6"},{"parameters":{"promptType":"define","text":"=Here is structured document content previously cleaned and segmented.\\n\\nSTRUCTURED CONTENT:\\n{{ $json.text }}\\n\\nPlease analyze and plan the final chunk boundaries for vector embedding. Each output chunk should be semantically meaningful and fit within token limits.","hasOutputParser":true,"messages":{"messageValues":[{"message":"=You are a semantic chunking assistant.\\n\\nYour role is to analyze pre-structured content and generate final chunks for embedding in a vector database.\\n\\nInstructions:\\n\\n1. You will receive a list of structured content blocks representing sections or subsections from a document.\\n2. Your job is to group, merge, or split these into final chunks that are:\\n   - Semantically coherent\\n   - Each under ~500 tokens (~2000 characters) unless content integrity requires more\\n   - Suitable for embedding and retrieval\\n3. Avoid splitting mid-sentence or between logically connected paragraphs.\\n4. Do not paraphrase, summarize, or hallucinate  preserve original text.\\n5. Maintain the original ordering of content unless there's a strong semantic reason to reorder (rare).\\n6. Treat tabular text or list-like entries as atomic when possible.\\n\\n RETURN FORMAT:\\nReturn raw JSON with a top-level array called `output`, consisting only of objects with a single `content` field.\\n\\nExample:\\n[\\n  {\\n    \\"output\\": [\\n      { \\"content\\": \\"string\\" },\\n      { \\"content\\": \\"string\\" }\\n    ]\\n  }\\n]\\n\\nNotes:\\n- This output will be directly embedded; each `content` block should be optimized for standalone utility in retrieval contexts.\\n- No Markdown, no comments, no code fences  just raw JSON."}]},"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[1620,380],"id":"8d6fae59-ac4d-4f98-8b1a-f7eed6241539","name":"chunk_planner"},{"parameters":{"promptType":"define","text":"=Here is the raw PDF content and associated metadata. Use both to structure and flatten the document.\\n\\nTEXT:\\n{{ $json.text }}\\n\\nMETADATA:\\n{{ $json.metadata || 'null' }}\\n\\nReturn only a JSON string with an `output` array of cleaned content chunks.\\nDo not include metadata in the output. Do not add any explanation.\\n","messages":{"messageValues":[{"message":"=You are a document structuring and flattening assistant.\\n\\nInstructions:\\n1. Analyze the raw text and use any metadata provided to understand the document context.\\n2. Segment the text into clean, meaningful content blocks for embedding.\\n3. Preserve the original language. Do not summarize or paraphrase.\\n4. Remove dotted leader lines, layout artifacts, headers/footers, and scan noise.\\n5. Return valid JSON as a **string**, formatted like:\\n\\n{\\n  \\"output\\": [\\n    { \\"content\\": \\"...\\" },\\n    { \\"content\\": \\"...\\" }\\n  ]\\n}\\nReturn only a JSON string  no Markdown, no code fences, no comments."}]},"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[1020,380],"id":"34a1528a-6d92-4b87-8036-f94ddf308aa5","name":"content_cleaner"},{"parameters":{"jsCode":"const MAX_CHARS = 2000; // Approx ~500 tokens\\nconst chunks = [];\\n\\n($json.output || []).forEach(item => {\\n  const content = item.content?.trim();\\n  if (!content) return;\\n\\n  if (content.length <= MAX_CHARS) {\\n    chunks.push({ json: { content } });\\n  } else {\\n    let start = 0;\\n    while (start < content.length) {\\n      const chunk = content.slice(start, start + MAX_CHARS);\\n      chunks.push({ json: { content: chunk } });\\n      start += MAX_CHARS;\\n    }\\n  }\\n});\\n\\nreturn chunks;"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1960,380],"id":"a174052e-c35c-496c-b3eb-afd15ae9c898","name":"token_guard"},{"parameters":{"content":"Understand use of metadata","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[2380,0],"typeVersion":1,"id":"ee454705-8d4f-4c6b-9783-30d4ef8ddca1","name":"Sticky Note21"},{"parameters":{"content":"Consider making use of metadata","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[1520,120],"typeVersion":1,"id":"239bc7e4-87b4-4d88-9a46-fc8b360719c2","name":"Sticky Note22"},{"parameters":{"jsCode":"const { text, document_details, upload_pdf, submitted_at } = $json;\\n\\nreturn [{\\n  json: {\\n    text,\\n    metadata: {\\n      document_details,\\n      upload_pdf,\\n      submitted_at\\n    }\\n  }\\n}];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[840,500],"id":"11245f43-1e57-4948-8d89-c8d2a7e497c8","name":"wrap_metadata"},{"parameters":{"jsCode":"const parsed = JSON.parse($json.text);\\nconst metadata = $json.metadata;\\n\\nreturn parsed.output.map(chunk => ({\\n  json: {\\n    ...chunk,\\n    metadata\\n  }\\n}));"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1380,240],"id":"7d709943-c719-4efa-96c6-98c209d46728","name":"parse_and_attach_metadata"}]	{"On form submission":{"main":[[{"node":"Extract from File","type":"main","index":0},{"node":"Merge","type":"main","index":1}]]},"Pre-Cleaning":{"main":[[{"node":"wrap_metadata","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"content_cleaner","type":"ai_languageModel","index":0},{"node":"chunk_planner","type":"ai_languageModel","index":0}]]},"Extract from File":{"main":[[{"node":"Merge","type":"main","index":0}]]},"Merge":{"main":[[{"node":"Pre-Cleaning","type":"main","index":0}]]},"Structured Output Parser":{"ai_outputParser":[[{"node":"chunk_planner","type":"ai_outputParser","index":0}]]},"Supabase Vector Store":{"main":[[]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"Supabase Vector Store","type":"ai_embedding","index":0}]]},"Default Data Loader":{"ai_document":[[{"node":"Supabase Vector Store","type":"ai_document","index":0}]]},"Recursive Character Text Splitter":{"ai_textSplitter":[[{"node":"Default Data Loader","type":"ai_textSplitter","index":0}]]},"Flatten to vector-friendly chunks":{"main":[[]]},"content_cleaner":{"main":[[{"node":"parse_and_attach_metadata","type":"main","index":0}]]},"chunk_planner":{"main":[[{"node":"token_guard","type":"main","index":0}]]},"token_guard":{"main":[[]]},"wrap_metadata":{"main":[[{"node":"content_cleaner","type":"main","index":0}]]}}	\N	f	\N
b58ad18c-450e-42b6-ae10-f44719756327	WjCOI2qBSzQglNXo	system migration	2025-12-10 03:01:05.103+00	2025-12-10 03:01:05.103+00	[{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[0,0],"id":"3f8eaacf-b133-44fb-b7f3-148904d579da","name":"When clicking Execute workflow"},{"parameters":{"mode":"insert","tableName":{"__rl":true,"value":"document_vectors","mode":"list","cachedResultName":"document_vectors"},"options":{}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.2,"position":[1260,80],"id":"1f42e30d-38e3-423f-afe7-89d49f3f44a2","name":"Supabase Vector Store","credentials":{"supabaseApi":{"id":"LDhBmd2aeXNRoFRh","name":"Supabase - PromptOS"}}},{"parameters":{"options":{"batchSize":200,"stripNewLines":true}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[1340,-100],"id":"b1215746-2325-44d1-9969-7d1270dc9a67","name":"Embeddings OpenAI","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"jsonMode":"expressionData","jsonData":"={{ $('Flatten').item.json.content }}","options":{"metadata":{"metadataValues":[{"name":"source_id","value":"={{ $('Flatten').item.json.metadata.source_id }}"},{"name":"document_type","value":"={{ $('Flatten').item.json.metadata.document_type }}"},{"name":"document_author","value":"={{ $('Flatten').item.json.metadata.document_author }}"},{"name":"document_date","value":"={{ $('Flatten').item.json.metadata.document_date }}"},{"name":"created_at","value":"={{ $('Flatten').item.json.metadata.created_at }}"},{"name":"section_title","value":"={{ $('Flatten').item.json.metadata.section_title }}"}]}}},"type":"@n8n/n8n-nodes-langchain.documentDefaultDataLoader","typeVersion":1,"position":[1620,-120],"id":"b31f9e5e-d15a-4049-96ee-ab77e21f6f71","name":"Default Data Loader"},{"parameters":{"chunkSize":800,"chunkOverlap":100,"options":{}},"type":"@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter","typeVersion":1,"position":[1760,100],"id":"759dbcf4-5596-4598-95df-334390101889","name":"Recursive Character Text Splitter"},{"parameters":{"content":"## Indexing later\\n\\nAdd this later:\\n\\nCREATE INDEX ON document_vectors\\nUSING ivfflat (embedding vector_cosine_ops)\\nWITH (lists = 100);\\n","height":200,"width":340},"type":"n8n-nodes-base.stickyNote","position":[1220,260],"typeVersion":1,"id":"0e2d89a2-fe74-4977-8180-3cb715bac22a","name":"Sticky Note"},{"parameters":{"jsCode":"function normalize(text) {\\n  return (text || \\"\\").replace(/\\\\s+/g, \\" \\").trim();\\n}\\n\\nconst output = [];\\n\\nfor (const item of $input.all()) {\\n  const doc = item.json;\\n  let parsed;\\n\\n  try {\\n    parsed = JSON.parse(doc.raw_json);\\n  } catch {\\n    continue;\\n  }\\n\\n  // Metadata chunk\\n  const metaSummary = [\\n    `Title: ${doc.title || \\"Untitled\\"}`,\\n    `Type: ${doc.document_type}`,\\n    `Author: ${doc.document_author}`,\\n    doc.document_date ? `Date: ${doc.document_date}` : null,\\n    `Created: ${doc.created_at}`\\n  ].filter(Boolean).join(\\" | \\");\\n\\n  output.push({\\n    json: {\\n      content: `Document Metadata  ${metaSummary}`,\\n      metadata: {\\n        source_id: doc.id,\\n        document_type: doc.document_type,\\n        document_author: doc.document_author,\\n        document_date: doc.document_date,\\n        created_at: doc.created_at,\\n        file_name: doc.file_name || null,\\n        title: doc.title || null,\\n      },\\n    },\\n  });\\n\\n  // Content chunks  no metadata at all\\n  const sections = (parsed.document_sections || []).map((section) => ({\\n    title: normalize(section.title),\\n    content: normalize(section.content),\\n  })).filter(({ title, content }) => content && content.toLowerCase() !== title.toLowerCase());\\n\\n  sections.forEach(({ title, content }) => {\\n    output.push({\\n      json: {\\n        content: `${title}  ${content}`,\\n        // metadata key fully omitted\\n      },\\n    });\\n  });\\n}\\n\\nreturn output;\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[640,100],"id":"0b627475-9db0-4bf5-ab99-47598e7c8998","name":"Flatten"},{"parameters":{"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[420,0],"id":"77ebe7de-d233-4544-a208-19151a77c276","name":"Loop Over Items"},{"parameters":{"model":{"__rl":true,"value":"gpt-4o-mini","mode":"list","cachedResultName":"gpt-4o-mini"},"options":{"temperature":0}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[860,320],"id":"aa782fb7-550f-4596-b398-fa2d7e9e8a82","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"promptType":"define","text":"=Reformat the following text to make it easier to read. Use spacing, punctuation, lists, or tables if appropriate  but do not remove, change, or invent anything.\\n\\nKeep everything exactly as-is in meaning.\\n\\nText:\\n\\"{{$json[\\"content\\"]}}\\"\\n","messages":{"messageValues":[{"message":"You are a cleanup assistant. Your task is to reformat text for readability and structure, without changing any meaning, omitting details, or adding new content."}]},"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[860,100],"id":"b2b87898-8855-4f4a-86d9-372d0190763f","name":"Formatter"},{"parameters":{"model":{"__rl":true,"value":"claude-3-opus-20240229","mode":"list","cachedResultName":"Claude Opus 3"},"options":{"temperature":0}},"type":"@n8n/n8n-nodes-langchain.lmChatAnthropic","typeVersion":1.3,"position":[1000,320],"id":"01ff822c-48b3-431c-a4fc-96b4f8343544","name":"Anthropic Chat Model","credentials":{"anthropicApi":{"id":"Wmz3AO5pPNbuodMG","name":"Anthropic account"}}},{"parameters":{"url":"https://rfcmhcxcfnlbfgmlcabi.supabase.co/rest/v1/documents?embedded=eq.false","authentication":"predefinedCredentialType","nodeCredentialType":"supabaseApi","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[220,0],"id":"aaa1787e-335f-4252-9743-504d8df08063","name":"Query Supabase","credentials":{"supabaseApi":{"id":"LDhBmd2aeXNRoFRh","name":"Supabase - PromptOS"}}},{"parameters":{"method":"PATCH","url":"=https://rfcmhcxcfnlbfgmlcabi.supabase.co/rest/v1/documents?id=eq.{{ $('Loop Over Items').item.json.id }}","authentication":"predefinedCredentialType","nodeCredentialType":"supabaseApi","sendBody":true,"bodyParameters":{"parameters":[{"name":"embedded","value":"true"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1720,380],"id":"721ce0c1-6968-42a5-9b68-11c55dd38648","name":"Set Embedded = True","credentials":{"supabaseApi":{"id":"LDhBmd2aeXNRoFRh","name":"Supabase - PromptOS"}}},{"parameters":{"content":"## TODO\\n- Fix this; Patch added another row. that's wrong. maybe not matching id?"},"type":"n8n-nodes-base.stickyNote","position":[1920,360],"typeVersion":1,"id":"83ee53b9-a90f-44a8-92eb-dc444e3da90a","name":"Sticky Note1"},{"parameters":{"content":"## TODO\\n- It's not inserting right now"},"type":"n8n-nodes-base.stickyNote","position":[1020,-80],"typeVersion":1,"id":"f3f5907a-8a53-4e88-9a8c-45198c81a21f","name":"Sticky Note2"},{"parameters":{"content":"## Food for thought\\nShould things actually be rewritten in a meaningful and reasonable way w/o losing data?"},"type":"n8n-nodes-base.stickyNote","position":[660,-100],"typeVersion":1,"id":"50059d3e-b758-4683-847e-8c0f00b16af8","name":"Sticky Note3"}]	{"When clicking Execute workflow":{"main":[[{"node":"Query Supabase","type":"main","index":0}]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"Supabase Vector Store","type":"ai_embedding","index":0}]]},"Default Data Loader":{"ai_document":[[{"node":"Supabase Vector Store","type":"ai_document","index":0}]]},"Recursive Character Text Splitter":{"ai_textSplitter":[[{"node":"Default Data Loader","type":"ai_textSplitter","index":0}]]},"Supabase Vector Store":{"main":[[{"node":"Set Embedded = True","type":"main","index":0}]]},"Flatten":{"main":[[{"node":"Formatter","type":"main","index":0}]]},"Loop Over Items":{"main":[[],[{"node":"Flatten","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"Formatter","type":"ai_languageModel","index":0}]]},"Formatter":{"main":[[{"node":"Supabase Vector Store","type":"main","index":0}]]},"Anthropic Chat Model":{"ai_languageModel":[[]]},"Query Supabase":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]},"Set Embedded = True":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]}}	\N	f	\N
af2ad4b8-b904-48a5-a531-88ad93badf7a	8x9Q8xDGjpXr7rON	system migration	2025-12-10 03:01:05.103+00	2025-12-10 03:01:05.103+00	[{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[0,0],"id":"7d3cb10d-a6c6-4004-96bc-b9e6aaabd4f0","name":"When clicking Execute workflow"},{"parameters":{"operation":"getAll","tableId":"bc_writing_rubric","returnAll":true},"type":"n8n-nodes-base.supabase","typeVersion":1,"position":[200,0],"id":"3306a738-6085-43c5-b061-9b1ca67011de","name":"Supabase","credentials":{"supabaseApi":{"id":"sv022Yz8rJXZ7Fty","name":"Supabase - Misc"}}},{"parameters":{"content":"Note: Just change source of what to embed"},"type":"n8n-nodes-base.stickyNote","position":[140,-200],"typeVersion":1,"id":"33fb4290-3b9a-4483-a568-a7dd28e4d059","name":"Sticky Note"},{"parameters":{"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[420,0],"id":"9494ada4-fd1e-455b-ac31-b6bf05329923","name":"Loop Over Items"},{"parameters":{"mode":"insert","tableName":{"__rl":true,"value":"bc_writing_rubric_embeddings","mode":"list","cachedResultName":"bc_writing_rubric_embeddings"},"options":{}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.2,"position":[700,80],"id":"6cba3c90-6698-4f05-be3a-ddf4800ce407","name":"Supabase Vector Store","credentials":{"supabaseApi":{"id":"sv022Yz8rJXZ7Fty","name":"Supabase - Misc"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[780,-100],"id":"dedbd599-2974-4b97-ab17-3408975c1a22","name":"Embeddings OpenAI","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.documentDefaultDataLoader","typeVersion":1,"position":[940,-120],"id":"fafdcc07-4b81-4a4f-9e0e-3b13c1e4a0fc","name":"Default Data Loader"},{"parameters":{"chunkOverlap":200,"options":{}},"type":"@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter","typeVersion":1,"position":[1200,20],"id":"34e8e74c-6024-4ec0-aa9d-5f91f64447de","name":"Recursive Character Text Splitter"}]	{"When clicking Execute workflow":{"main":[[{"node":"Supabase","type":"main","index":0}]]},"Supabase":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]},"Loop Over Items":{"main":[[],[{"node":"Supabase Vector Store","type":"main","index":0}]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"Supabase Vector Store","type":"ai_embedding","index":0}]]},"Default Data Loader":{"ai_document":[[{"node":"Supabase Vector Store","type":"ai_document","index":0}]]},"Recursive Character Text Splitter":{"ai_textSplitter":[[{"node":"Default Data Loader","type":"ai_textSplitter","index":0}]]},"Supabase Vector Store":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]}}	\N	f	\N
59ba7f47-0343-4ebf-a213-fb75b3457ed0	vRjzDA3odWrYEsYa	system migration	2025-12-10 03:01:05.103+00	2025-12-10 03:01:05.103+00	[{"parameters":{"promptType":"define","text":"={{ $json.prompt }}\\n\\nRespond in this JSON format:\\n\\n{\\n  \\"text_llm_generation_b\\": \\"<your answer>\\",\\n  \\"scorecard\\": {\\n    \\"clarity\\": 15,\\n    \\"relevance\\": 15,\\n    \\"insightfulness\\": 15,\\n    \\"actionability\\": 15\\n  }\\n}\\n\\nAfter responding, evaluate your own output honestly. Be fair and self-critical  reserve 5s for excellent quality only.","hasOutputParser":true,"messages":{"messageValues":[{"message":"Respond in this JSON format:\\n{\\n  \\"text_llm_generation_b\\": \\"<your answer here>\\",\\n  \\"scorecard\\": {\\n    \\"clarity\\": 15,\\n    \\"relevance\\": 15,\\n    \\"insightfulness\\": 15,\\n    \\"actionability\\": 15\\n  }\\n}\\n"}]},"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[780,0],"id":"e3401b3d-408c-42b4-988d-77772f421ede","name":"LLM Generation B"},{"parameters":{"promptType":"define","text":"={{ $json.prompt }}\\n\\nRespond in this JSON format:\\n\\n{\\n  \\"text_llm_generation_a\\": \\"<your answer>\\",\\n  \\"scorecard\\": {\\n    \\"clarity\\": 15,\\n    \\"relevance\\": 15,\\n    \\"insightfulness\\": 15,\\n    \\"actionability\\": 15\\n  }\\n}\\n\\nAfter responding, evaluate your own output honestly. Be fair and self-critical  reserve 5s for excellent quality only.","hasOutputParser":true,"messages":{"messageValues":[{"message":"Respond in this JSON format: {   \\"text_llm_generation_a\\": \\"<your answer here>\\",   \\"scorecard\\": {     \\"clarity\\": 15,     \\"relevance\\": 15,     \\"insightfulness\\": 15,     \\"actionability\\": 15   } }"}]},"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[780,-440],"id":"34f207e6-3777-45a8-87dd-76b25c8fad8a","name":"LLM Generation A"},{"parameters":{"promptType":"define","text":"={{ $json.prompt }}\\n\\nRespond in this JSON format:\\n\\n{\\n  \\"text_llm_generation_c\\": \\"<your answer>\\",\\n  \\"scorecard\\": {\\n    \\"clarity\\": 15,\\n    \\"relevance\\": 15,\\n    \\"insightfulness\\": 15,\\n    \\"actionability\\": 15\\n  }\\n}\\n\\nAfter responding, evaluate your own output honestly. Be fair and self-critical  reserve 5s for excellent quality only.\\n","hasOutputParser":true,"messages":{"messageValues":[{"message":"Respond in this JSON format:\\n{\\n  \\"text_llm_generation_c\\": \\"<your answer here>\\",\\n  \\"scorecard\\": {\\n    \\"clarity\\": 15,\\n    \\"relevance\\": 15,\\n    \\"insightfulness\\": 15,\\n    \\"actionability\\": 15\\n  }\\n}\\n"}]},"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[800,440],"id":"a85014e5-899b-4b4b-a97e-f4e10e4089dc","name":"LLM Generation C"},{"parameters":{"jsCode":"const items = $items();\\n\\nconst responseA = items[0]?.json?.output || \\"Missing response A\\";\\nconst responseB = items[1]?.json?.output || \\"Missing response B\\";\\nconst responseC = items[2]?.json?.output || \\"Missing response C\\";\\n\\nreturn [{\\n  json: {\\n    responseA,\\n    responseB,\\n    responseC\\n  }\\n}];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1880,0],"id":"41e9b59a-e9f2-4d59-8369-a3081677a1dd","name":"Manual Merge via Function"},{"parameters":{"content":"TODO: Swap one of the OpenAI models to something else","height":80},"type":"n8n-nodes-base.stickyNote","position":[860,-560],"typeVersion":1,"id":"b92999a1-e596-4c93-a888-d7d2e1e336c5","name":"Sticky Note"},{"parameters":{"promptType":"define","text":"={{ $json.voting_prompt }}","batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[2380,0],"id":"562d0716-c731-4d56-bc3b-b0996a3f0fb1","name":"Vote Node"},{"parameters":{"jsCode":"const { responseA, responseB, responseC } = $json;\\n\\nreturn [{\\n  json: {\\n    voting_prompt: `\\nYou are a business insights assistant. Below are three responses to the same user query about churn analysis. Select the one that is the **clearest**, **most relevant**, and **offers the most insightful and actionable takeaway**.\\n\\nRespond with ONLY a single letter: A, B, or C.\\n\\n---\\n\\n[Response A]\\n${responseA}\\n\\n---\\n\\n[Response B]\\n${responseB}\\n\\n---\\n\\n[Response C]\\n${responseC}\\n\\n---\\n\\nWhich response is best?\\nYour answer:\\n`\\n  }\\n}];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2140,0],"id":"e3f6b213-63aa-4f54-981b-842bf934f067","name":"Prompt for vote"},{"parameters":{"jsCode":"return [{\\n  json: {\\n    vote: $json.text.replace(/\\"/g, '').trim()\\n  }\\n}];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2740,0],"id":"efef8f52-c03f-4521-ab0b-a53f23c0b1c9","name":"Clean vote"},{"parameters":{"assignments":{"assignments":[{"id":"9e302425-a965-4f8d-b492-2ca857b05428","name":"prompt","value":"={{ $json.prompt }}","type":"string"},{"id":"c483f4e3-205c-43d1-8f0b-5051091486c2","name":"type","value":"={{ $json.type }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[360,0],"id":"0ef3576f-99a1-4a4c-be6c-85b73d3fd6fd","name":"Prep prompt data"},{"parameters":{"inputSource":"passthrough"},"type":"n8n-nodes-base.executeWorkflowTrigger","typeVersion":1.1,"position":[-100,0],"id":"de78cc17-3a97-4b76-b3f2-e4ba839091c5","name":"When Executed by Another Workflow","disabled":true},{"parameters":{"numberInputs":3},"type":"n8n-nodes-base.merge","typeVersion":3.2,"position":[1600,0],"id":"32778af4-4df2-40b9-a87d-4084f3ea2339","name":"Merge"},{"parameters":{"assignments":{"assignments":[{"id":"8d280cd7-6326-43e0-a5b2-6efd81401482","name":"prompt","value":"\\\\nYou are an Insight Agent specializing in surfacing business-relevant insights from internal data sources.\\\\n\\\\n\\\\n\\\\n[User Query]\\\\nWhat changed in our Q2 churn compared to Q1?\\\\n\\\\n[Insight Type]\\\\nsummary\\\\n\\\\n[Instruction]\\\\nGenerate a concise summary of the key findings.\\\\n\\\\n[Your Response]\\\\n","type":"string"},{"id":"0ee7e295-0ce1-47f9-bff3-961f911d7312","name":"type","value":"summary","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[160,240],"id":"76bc9844-9cda-43dc-9ce9-d78f6375d2a0","name":"Test Data"},{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[-100,240],"id":"a7da28fb-0ad3-4bcc-9671-cbb23cd6878d","name":"When clicking Execute workflow"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{"temperature":0}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[2440,220],"id":"d5000000-3e52-4ba9-b1f0-134c1def2b6b","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"jsCode":"const voteLetter = $node[\\"Clean vote\\"].json.vote;\\nconst voteIndex = voteLetter.charCodeAt(0) - 65;\\nconst candidateCount = 3;\\nconst outputs = [];\\n\\nfor (let i = 0; i < candidateCount; i++) {\\n  const letter = String.fromCharCode(65 + i); // \\"A\\", \\"B\\", \\"C\\"\\n  const label = `LLM Generation ${letter}`;\\n  const llmJson = $node[label].json;\\n  const inner = llmJson.output; // <-- inner wrapped structure\\n\\n  outputs.push({\\n    json: {\\n      output: inner[`text_llm_generation_${letter.toLowerCase()}`] || \\"Missing output\\",\\n      scorecard: inner.scorecard || {},\\n      source_node: label,\\n      winner: i === voteIndex\\n    }\\n  });\\n}\\n\\nreturn outputs;"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2980,0],"id":"3bcca915-c2e5-456c-8796-ca47ef834b25","name":"Get vote output"},{"parameters":{"jsCode":"const json = $json.output;\\n\\nreturn [\\n  {\\n    json: {\\n      output: json.text_llm_generation_b,\\n      scorecard: json.scorecard || {},\\n      source_node: \\"LLM Generation B\\"\\n    }\\n  }\\n];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1140,0],"id":"ed67d897-1a8d-4d24-a360-96f26057a181","name":"Scorecard Parser B"},{"parameters":{"jsCode":"const json = $json.output;\\n\\nreturn [\\n  {\\n    json: {\\n      output: json.text_llm_generation_a,\\n      scorecard: json.scorecard || {},\\n      source_node: \\"LLM Generation A\\"\\n    }\\n  }\\n];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1140,-440],"id":"9666e51e-9dd8-4587-b785-7ed132a7fd15","name":"Scorecard Parser A"},{"parameters":{"jsonSchemaExample":"{\\n  \\"text_llm_generation_a\\": \\"In Q2, churn increased by 12% compared to Q1, primarily due to pricing changes and lower engagement among first-time users. The trend suggests a need to revisit onboarding flows and retention incentives for new signups.\\",\\n  \\"scorecard\\": {\\n    \\"clarity\\": 5,\\n    \\"relevance\\": 5,\\n    \\"insightfulness\\": 4,\\n    \\"actionability\\": 4\\n  }\\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[960,-260],"id":"5777707a-e799-4689-b827-41972affbb8b","name":"Structured Output Parser A"},{"parameters":{"jsonSchemaExample":"{\\n  \\"text_llm_generation_b\\": \\"In Q2, churn increased by 12% compared to Q1, primarily due to pricing changes and lower engagement among first-time users. The trend suggests a need to revisit onboarding flows and retention incentives for new signups.\\",\\n  \\"scorecard\\": {\\n    \\"clarity\\": 5,\\n    \\"relevance\\": 5,\\n    \\"insightfulness\\": 4,\\n    \\"actionability\\": 4\\n  }\\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[960,180],"id":"bc071e74-d32d-4524-b81c-5f6d49b98d16","name":"Structured Output Parser B"},{"parameters":{"model":{"__rl":true,"value":"gpt-3.5-turbo","mode":"list","cachedResultName":"gpt-3.5-turbo"},"options":{"temperature":0.7}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[740,-260],"id":"bf1b5710-6452-4a87-8a31-5b6e20254cba","name":"OpenAI Chat Model A","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"model":{"__rl":true,"value":"gpt-3.5-turbo","mode":"list","cachedResultName":"gpt-3.5-turbo"},"options":{"temperature":0.9}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[740,180],"id":"0998a07d-c28d-4035-a045-23478867f26f","name":"OpenAI Chat Model B","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"model":{"__rl":true,"value":"claude-3-haiku-20240307","mode":"list","cachedResultName":"Claude Haiku 3"},"options":{"temperature":0.7}},"type":"@n8n/n8n-nodes-langchain.lmChatAnthropic","typeVersion":1.3,"position":[600,640],"id":"170a049a-fe43-400f-ba59-fc9d93729993","name":"Anthropic Chat Model C","credentials":{"anthropicApi":{"id":"Wmz3AO5pPNbuodMG","name":"Anthropic account"}},"disabled":true},{"parameters":{"jsonSchemaExample":"{\\n  \\"text_llm_generation_c\\": \\"In Q2, churn increased by 12% compared to Q1, primarily due to pricing changes and lower engagement among first-time users. The trend suggests a need to revisit onboarding flows and retention incentives for new signups.\\",\\n  \\"scorecard\\": {\\n    \\"clarity\\": 5,\\n    \\"relevance\\": 5,\\n    \\"insightfulness\\": 4,\\n    \\"actionability\\": 4\\n  }\\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[1000,640],"id":"b61f28b8-7f94-4352-bbb9-41f0bc21a485","name":"Structured Output Parser C"},{"parameters":{"jsCode":"const json = $json.output;\\n\\nreturn [\\n  {\\n    json: {\\n      output: json.text_llm_generation_c,\\n      scorecard: json.scorecard || {},\\n      source_node: \\"LLM Generation C\\"\\n    }\\n  }\\n];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1140,440],"id":"915f84f7-b97d-4356-9496-695b2c5e507a","name":"Scorecard Parser C"},{"parameters":{"model":{"__rl":true,"value":"gpt-3.5-turbo","mode":"list","cachedResultName":"gpt-3.5-turbo"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[720,640],"id":"81d66cb9-d981-4eb1-a87d-03ed2ad62caf","name":"OpenAI Chat Model1","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}}]	{"LLM Generation A":{"main":[[{"node":"Scorecard Parser A","type":"main","index":0}]]},"LLM Generation B":{"main":[[{"node":"Scorecard Parser B","type":"main","index":0}]]},"LLM Generation C":{"main":[[{"node":"Scorecard Parser C","type":"main","index":0}]]},"Manual Merge via Function":{"main":[[{"node":"Prompt for vote","type":"main","index":0}]]},"Prompt for vote":{"main":[[{"node":"Vote Node","type":"main","index":0}]]},"Vote Node":{"main":[[{"node":"Clean vote","type":"main","index":0}]]},"Clean vote":{"main":[[{"node":"Get vote output","type":"main","index":0}]]},"Prep prompt data":{"main":[[{"node":"LLM Generation A","type":"main","index":0},{"node":"LLM Generation B","type":"main","index":0},{"node":"LLM Generation C","type":"main","index":0}]]},"When Executed by Another Workflow":{"main":[[{"node":"Prep prompt data","type":"main","index":0}]]},"Test Data":{"main":[[{"node":"Prep prompt data","type":"main","index":0}]]},"When clicking Execute workflow":{"main":[[{"node":"Test Data","type":"main","index":0}]]},"Merge":{"main":[[{"node":"Manual Merge via Function","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"Vote Node","type":"ai_languageModel","index":0}]]},"Get vote output":{"main":[[]]},"Structured Output Parser A":{"ai_outputParser":[[{"node":"LLM Generation A","type":"ai_outputParser","index":0}]]},"Structured Output Parser B":{"ai_outputParser":[[{"node":"LLM Generation B","type":"ai_outputParser","index":0}]]},"OpenAI Chat Model A":{"ai_languageModel":[[{"node":"LLM Generation A","type":"ai_languageModel","index":0}]]},"OpenAI Chat Model B":{"ai_languageModel":[[{"node":"LLM Generation B","type":"ai_languageModel","index":0}]]},"Anthropic Chat Model C":{"ai_languageModel":[[]]},"Structured Output Parser C":{"ai_outputParser":[[{"node":"LLM Generation C","type":"ai_outputParser","index":0}]]},"Scorecard Parser B":{"main":[[{"node":"Merge","type":"main","index":1}]]},"Scorecard Parser A":{"main":[[{"node":"Merge","type":"main","index":0}]]},"Scorecard Parser C":{"main":[[{"node":"Merge","type":"main","index":2}]]},"OpenAI Chat Model1":{"ai_languageModel":[[{"node":"LLM Generation C","type":"ai_languageModel","index":0}]]}}	\N	f	\N
1ba9ce87-34f3-47c7-ab57-602458c20902	dvSolfUTi9fknzCk	system migration	2025-12-10 03:01:05.103+00	2025-12-10 03:01:05.103+00	[{"parameters":{"formTitle":"User Input","formFields":{"values":[{"fieldLabel":"What is the issue?","fieldType":"textarea","requiredField":true},{"fieldLabel":"Who is this for?","requiredField":true},{"fieldLabel":"Age?","fieldType":"number","requiredField":true}]},"options":{}},"type":"n8n-nodes-base.formTrigger","typeVersion":2.2,"position":[100,-160],"id":"0174dbcf-4cab-4823-8dd2-86294aa6af63","name":"On form submission","webhookId":"058eaf13-6242-44a4-86a3-2d052747e2ea"},{"parameters":{"jsCode":"const data = $json[\\"output\\"];\\n\\n// Add fuzzy-friendly first name for Supabase lookup fallback\\nconst persona = data.persona || \\"\\";\\ndata.first_name = persona.split(\\"_\\")[0] || \\"unknown\\";\\n\\nreturn [{ json: data }];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[660,0],"id":"3c643f52-6b54-4cf6-83a2-308b9b9fea5a","name":"Format JSON"},{"parameters":{"mode":"combine","combineBy":"combineAll","options":{}},"type":"n8n-nodes-base.merge","typeVersion":3.1,"position":[1540,-140],"id":"1e16dc59-dce5-41ea-881d-12f2161e8f0a","name":"Merge"},{"parameters":{"jsCode":"const responseText = $json.output || $json.text;\\nconst saint = $node[\\"Merge\\"]?.json || {};\\n\\nreturn [\\n  {\\n    json: {\\n      response_text: responseText,\\n      saint_name: saint.saint_name || \\"Unknown Saint\\",\\n      canonical_id: saint.canonical_id || \\"unknown_id\\"\\n    }\\n  }\\n];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2180,-140],"id":"fbec23d9-fa20-4f92-a045-6d0d980f6d7b","name":"Format Output"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[1800,340],"id":"996ea6d6-95aa-452e-a338-9330ebb718a7","name":"Embeddings OpenAI","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"promptType":"define","text":"=Someone age {{ $json[\\"Age?\\"] }} says:\\n\\n{{ $json[\\"What is the issue?\\"] }}\\n\\nThey are asking on behalf of: {{ $json[\\"Who is this for?\\"] }}.","options":{"systemMessage":"=Before responding, reflect on the nature of the issue.  \\nAsk yourself:  \\n- Does this involve sin, sacraments, moral teaching, or Church doctrine?  \\n- Would consulting authoritative sources deepen the response?\\n\\nIf so, use the `doctrine_retriever` tool to find the most relevant Church teaching, Catechism entry, or doctrinal text.  \\nSummarize key insights and cite the source when helpful.\\n\\nIf the question reflects modern concerns, news, or lived issues that may benefit from online context, use the `tavily_context_tool` to retrieve relevant blog posts, summaries, or news articles.  \\nUse this background to enrich your answer with current reflections, examples, or analogies.\\n\\n---\\n\\n#TOOLS  \\n- `doctrine_retriever`: Use when doctrinal or moral teachings from the Church are needed.  \\n- `tavily_context_tool`: Use when the user raises a question about modern issues, culture, technology, mental health, or other real-world topics that might benefit from contemporary Catholic insight.\\n\\n---\\n\\nYou are {{ $json.saint_name }}.  \\nYou embody {{ $json.tone_profile }}, speaking in the tone of a {{ $json.default_tone_mode }}.  \\nYou are known for: {{ $json.charism_tags.join(\\", \\") }}.  \\nYou are guided by the virtues of {{ $json.virtue_focus }}.  \\nYou often teach on: {{ $json.preferred_topics.join(\\", \\") }}.  \\nYou avoid: {{ $json.avoid_topics.join(\\", \\") }}.  \\nYour voice is captured in this quote: \\"{{ $json.known_quote }}\\"\\n\\nSpeak with theological clarity, spiritual depth, and pastoral care.  \\nDraw from scripture, doctrine, or your lived reflections when relevant.  \\nConclude with **one practical step** the person can take today in truth and charity.\\n\\nDo not give a generic answer. Speak as {{ $json.saint_name }} would  drawing from their spirituality, mission, and unique way of guiding souls.\\n"}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2,"position":[1780,-140],"id":"d84ad6d6-ad22-40be-b1a3-9eaf9dbf6643","name":"SaintsGPT"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[1600,100],"id":"1ae3789f-f71e-4256-a45a-a7a9b9a6ae4d","name":"OpenAI Chat Model (SaintsGPT)","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[300,180],"id":"2b378f3a-d75c-42fd-974c-52859738bafb","name":"OpenAI Chat Model (Saint Selector)","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"mode":"retrieve-as-tool","toolName":"doctrine_retriever","toolDescription":"Retrieve doctrinal content from Supabase vector store","tableName":{"__rl":true,"value":"doctrine_vectors","mode":"list","cachedResultName":"doctrine_vectors"},"options":{"queryName":"match_documents"}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.1,"position":[1740,140],"id":"da9780b8-e4f2-44c9-8fe3-1d310c6bbf63","name":"Doctrine Retriever","credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account - SGPT"}}},{"parameters":{"jsonSchemaExample":"{\\n  \\"persona\\": \\"mary_of_nazareth\\",\\n  \\"first_name\\": \\"mary\\",\\n  \\"tone_mode\\": \\"devotional\\",\\n  \\"virtue_focus\\": \\"humility\\",\\n  \\"simplify_level\\": 2,\\n  \\"audience_tags\\": [\\"teen\\", \\"new_catholic\\", \\"female\\"]\\n}\\n"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[500,180],"id":"3ddb64c4-4d0f-408b-9214-7288a51c9790","name":"Structured Output Parser"},{"parameters":{"jsCode":"const result = items[0]?.json;\\n\\n// If Supabase returned a match\\nif (result && result.best_match?.canonical_id) {\\n  return [{ json: result.best_match }];\\n}\\n\\n// No match found  fallback logic\\nconst fallbackSaints = [\\n  {\\n    canonical_id: 'francis_assisi',\\n    saint_name: 'Saint Francis of Assisi',\\n    tone_profile: 'joyful, poetic, nature-loving',\\n    default_tone_mode: 'monk',\\n    virtue_focus: 'joy, simplicity',\\n    charism_tags: ['poverty', 'nature', 'peacemaking'],\\n    preferred_topics: ['materialism', 'loneliness', 'anxiety'],\\n    avoid_topics: ['abstract theology'],\\n    known_quote: 'Preach the Gospel at all times'\\n  },\\n  {\\n    canonical_id: 'therese_lisieux',\\n    saint_name: 'Saint Thrse of Lisieux',\\n    tone_profile: 'soft, gentle, playful',\\n    default_tone_mode: 'child',\\n    virtue_focus: 'trust, patience',\\n    charism_tags: ['little way', 'joy', 'small sacrifice'],\\n    preferred_topics: ['fear', 'loss', 'childhood'],\\n    avoid_topics: ['politics', 'philosophy'],\\n    known_quote: 'I will spend my heaven doing good on earth.'\\n  }\\n];\\n\\n// Randomly select fallback saint\\nconst fallback = fallbackSaints[Math.floor(Math.random() * fallbackSaints.length)];\\n\\nreturn [{ json: fallback }];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1240,80],"id":"c31b1cdc-3fef-40a7-8976-51ce694dd740","name":"Fallback check"},{"parameters":{"promptType":"define","text":"=Issue: \\n{{ $json['What is the issue?'] }}\\n\\nAudience:\\n{{ $json['Who is this for?'] }}\\n\\nAge:\\n{{ $json['Age?'] }}","hasOutputParser":true,"messages":{"messageValues":[{"message":"You are a saint selector.\\n\\nGiven the users issue and audience info, return a raw JSON object to help guide a downstream saint agent.\\n\\nPick:\\n- \\"persona\\": the most fitting Catholic saint (use canonical_id in snake_case, e.g. \\"francis_of_assisi\\")\\n- \\"first_name\\": just the saints first name (e.g. \\"francis\\")\\n- \\"tone_mode\\": emotional or spiritual tone that suits the situation\\n- \\"virtue_focus\\": core virtue the person most needs\\n- \\"simplify_level\\": 1 for children, 2 for simple adults, 3 for full theological depth\\n- \\"audience_tags\\": keywords for audience type, challenge, or context\\n\\nThe saint you select does **not** need to exist in the database. Select the best fit based on your knowledge. Downstream tools will handle fallback.\\n\\nReturn **only** a raw JSON object like this:\\n\\n{\\n  \\"persona\\": \\"\\",\\n  \\"first_name\\": \\"\\",\\n  \\"tone_mode\\": \\"\\",\\n  \\"virtue_focus\\": \\"\\",\\n  \\"simplify_level\\": 1,\\n  \\"audience_tags\\": []\\n}\\n"}]}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.6,"position":[320,0],"id":"a33e20d5-6bd8-4202-844a-d082374353ec","name":"Saint Selector"},{"parameters":{"operation":"getAll","tableId":"saints","limit":1,"filters":{"conditions":[{"keyName":"search_aliases","condition":"ilike","keyValue":"=%{{ $json.persona }}%"}]}},"type":"n8n-nodes-base.supabase","typeVersion":1,"position":[980,580],"id":"46f02b0a-dafb-455e-8d7a-efc3cf19fb63","name":"Saint Lookup - Supabase","alwaysOutputData":true,"credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account - SGPT"}},"disabled":true},{"parameters":{"jsCode":"const axios = require('axios');\\n\\nconst input = $json.persona || \\"\\";\\nconst normalized = input.toLowerCase().trim();\\n\\nconst supabaseUrl = 'https://ukpvaebwabvvipebebnj.supabase.co';\\nconst apiKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVrcHZhZWJ3YWJ2dmlwZWJlYm5qIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgzMDMwODcsImV4cCI6MjA2Mzg3OTA4N30.PMUuzeKxpvZ_y-ydenBVWeBYAzm7d3VsnCy-CPd6ohU'; // Replace with your real key\\n\\nconst headers = {\\n  apikey: apiKey,\\n  Authorization: `Bearer ${apiKey}`\\n};\\n\\n// 1. Fetch all saints\\nconst fetchUrl = `${supabaseUrl}/rest/v1/saints?select=canonical_id,full_name,search_aliases`;\\nconst res = await axios.get(fetchUrl, { headers });\\nconst saints = res.data;\\n\\n// 2. Match ranking\\nfunction rankMatch(saint) {\\n  const idMatch = saint.canonical_id.toLowerCase() === normalized ? 10 : 0;\\n  const fullNameMatch = (saint.full_name || \\"\\").toLowerCase().includes(normalized) ? 5 : 0;\\n\\n  let aliasMatch = 0;\\n  try {\\n    const aliases = JSON.parse(saint.search_aliases || \\"[]\\");\\n    aliasMatch = aliases.some(alias => alias.toLowerCase().includes(normalized)) ? 3 : 0;\\n  } catch {}\\n\\n  return idMatch + fullNameMatch + aliasMatch;\\n}\\n\\n// 3. Score + sort\\nconst scored = saints\\n  .map(s => ({ ...s, score: rankMatch(s) }))\\n  .filter(s => s.score > 0)\\n  .sort((a, b) => b.score - a.score);\\n\\nconst bestMatch = scored[0] || null;\\n\\n// 4. Return match info\\nreturn [{\\n  json: {\\n    attempted_name: input,\\n    best_match: bestMatch,\\n    other_candidates: scored.slice(1),\\n    fallback_used: bestMatch ? false : true\\n  }\\n}];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1180,580],"id":"f30f361b-d922-4dd1-b6b0-57ff5d898694","name":"Saint Lookup - Code","disabled":true},{"parameters":{"mode":"raw","jsonOutput":"{\\n    \\"persona\\": \\"thomas_aquinas\\",\\n    \\"first_name\\": \\"thomas\\",\\n    \\"tone_mode\\": \\"emotional\\",\\n    \\"virtue_focus\\": \\"trust\\",\\n    \\"simplify_level\\": 1,\\n    \\"audience_tags\\": [\\n      \\"medical student\\",\\n      \\"nervous\\",\\n      \\"exam\\"\\n    ]\\n}","options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[660,560],"id":"68fba96f-5d2f-4406-881b-49b31735b846","name":"Test","disabled":true},{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[460,560],"id":"53738fb6-d0b1-470f-9fad-5ba677623b1a","name":"When clicking Execute workflow","disabled":true},{"parameters":{"url":"https://ukpvaebwabvvipebebnj.supabase.co/rest/v1/saints","authentication":"predefinedCredentialType","nodeCredentialType":"supabaseApi","sendQuery":true,"queryParameters":{"parameters":[{"name":"or","value":"=canonical_id,saint_name,search_aliases"},{"name":"or","value":"=(canonical_id.ilike.*{{$json.first_name}}*,saint_name.ilike.*{{$json.first_name}}*,search_aliases.cs.{ {{$json.first_name}} })"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[880,80],"id":"ec5d25a6-0133-4d0f-b924-a061c46df4a3","name":"Query Supabase for Saints","alwaysOutputData":true,"credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account - SGPT"}}},{"parameters":{"query":"=Find Catholic blog posts, reflections, or news related to this concern: \\"{{ $json[\\"What is the issue?\\"] }}\\", asked by someone age {{ $json[\\"Age?\\"] }}, on behalf of {{ $json[\\"Who is this for?\\"] }}.\\n","options":{}},"type":"@tavily/n8n-nodes-tavily.tavilyTool","typeVersion":1,"position":[2080,160],"id":"4d511f93-3d70-4c8f-bd4d-81d435b138e7","name":"Tavily Context Tool","credentials":{"tavilyApi":{"id":"vsot3gBI1jI0kEsa","name":"Tavily account"}}},{"parameters":{"jsCode":"const input = $items(\\"Format JSON\\")[0].json;\\nconst persona = input.persona?.toLowerCase().trim();\\nconst firstName = input.first_name?.toLowerCase().trim();\\nconst raw = $items(\\"Query Supabase for Saints\\")[0].json;\\nconst matches = Array.isArray(raw) ? raw : [raw];  // Ensures array\\n\\nfunction score(saint) {\\n  const id = saint.canonical_id?.toLowerCase() || '';\\n  const name = saint.saint_name?.toLowerCase() || '';\\n  const aliases = (saint.search_aliases || []).map(a => a.toLowerCase());\\n\\n  let score = 0;\\n\\n  if (id === persona) score += 10;\\n  else if (id.includes(persona)) score += 7;\\n\\n  if (name.includes(persona)) score += 5;\\n  if (name.includes(firstName)) score += 3;\\n\\n  for (const alias of aliases) {\\n    if (alias === persona) score += 8;\\n    else if (alias.includes(persona)) score += 6;\\n    else if (alias.includes(firstName)) score += 2;\\n  }\\n\\n  return score;\\n}\\n\\n// Apply scoring and sort\\nconst ranked = matches\\n  .map(s => ({ ...s, score: score(s) }))\\n  .sort((a, b) => b.score - a.score);\\n\\nconst best = ranked[0] || null;\\n\\nreturn [{\\n  json: {\\n    attempted_persona: persona,\\n    best_match: best,\\n    other_candidates: ranked.slice(1),\\n    fallback_used: !best || best.canonical_id !== persona\\n  }\\n}];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1060,80],"id":"b68443ae-de13-49ea-b569-073c94b6b2fb","name":"Rank and Match"}]	{"On form submission":{"main":[[{"node":"Merge","type":"main","index":0},{"node":"Saint Selector","type":"main","index":0}]]},"Format JSON":{"main":[[{"node":"Query Supabase for Saints","type":"main","index":0}]]},"Merge":{"main":[[{"node":"SaintsGPT","type":"main","index":0}]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"Doctrine Retriever","type":"ai_embedding","index":0}]]},"SaintsGPT":{"main":[[{"node":"Format Output","type":"main","index":0}]]},"OpenAI Chat Model (SaintsGPT)":{"ai_languageModel":[[{"node":"SaintsGPT","type":"ai_languageModel","index":0}]]},"OpenAI Chat Model (Saint Selector)":{"ai_languageModel":[[{"node":"Saint Selector","type":"ai_languageModel","index":0}]]},"Doctrine Retriever":{"ai_tool":[[{"node":"SaintsGPT","type":"ai_tool","index":0}]]},"Structured Output Parser":{"ai_outputParser":[[{"node":"Saint Selector","type":"ai_outputParser","index":0}]]},"Fallback check":{"main":[[{"node":"Merge","type":"main","index":1}]]},"Saint Selector":{"main":[[{"node":"Format JSON","type":"main","index":0}]]},"Saint Lookup - Supabase":{"main":[[]]},"Test":{"main":[[]]},"When clicking Execute workflow":{"main":[[{"node":"Test","type":"main","index":0}]]},"Query Supabase for Saints":{"main":[[{"node":"Rank and Match","type":"main","index":0}]]},"Tavily Context Tool":{"ai_tool":[[{"node":"SaintsGPT","type":"ai_tool","index":0}]]},"Rank and Match":{"main":[[{"node":"Fallback check","type":"main","index":0}]]}}	\N	f	\N
17b4c9e8-1bd9-4d0a-a85c-88171ee95867	jIx2xLFJnEeKpcNO	system migration	2025-12-10 03:01:05.103+00	2025-12-10 03:01:05.103+00	[{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[40,120],"id":"f6f8d393-2326-45e6-a095-13404f3c2e08","name":"When clicking Execute workflow"},{"parameters":{"url":"https://ukpvaebwabvvipebebnj.supabase.co/rest/v1/saints","authentication":"predefinedCredentialType","nodeCredentialType":"supabaseApi","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[280,120],"id":"a0db522f-23e6-4403-91d2-275bffcfb16a","name":"Query Supabase","credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account"}}},{"parameters":{"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[480,220],"id":"2e138b6c-2bac-4db8-a967-14a63604a1f1","name":"Loop - Files"},{"parameters":{"jsCode":"return items.map(item => {\\n  const input = item.json;\\n  const docId = input.canonical_id || \\"missing-id\\";\\n\\n  return {\\n    json: {\\n      content: `\\nTone Profile: ${input.tone_profile || \\"\\"}\\nVirtue Focus: ${input.virtue_focus || \\"\\"}\\nKnown Quote: \\"${input.known_quote || \\"\\"}\\"\\nPreferred Topics: ${(input.preferred_topics || []).join(\\", \\")}\\nAvoid Topics: ${(input.avoid_topics || []).join(\\", \\")}\\nCharisms: ${(input.charism_tags || []).join(\\", \\")}\\n      `.trim(),\\n      embedding: null,\\n      metadata: {\\n        doc_id: docId,\\n        title: input.saint_name || \\"Unnamed Saint\\",\\n        source_id: docId,\\n        source_url: \\"\\",\\n        source: \\"saints (db)\\",\\n        chunk_index: null,\\n        source_type: \\"structured\\",\\n        tags: input.charism_tags || [],\\n        voice_style: input.default_tone_mode || \\"narrative\\",\\n        content_hash: \\"\\",\\n        created_at: input.created_at || new Date().toISOString(),\\n        saint_primary: docId,\\n        preferred_topics: input.preferred_topics || [],\\n        avoid_topics: input.avoid_topics || [],\\n        search_aliases: input.search_aliases || [],\\n        origin: \\"saints (db)\\"\\n      }\\n    }\\n  };\\n});\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[700,240],"id":"507a5ecb-f0bb-4c4a-9a40-5ade013fafff","name":"Flatten Structure"},{"parameters":{"mode":"insert","tableName":{"__rl":true,"value":"saint_vectors","mode":"list","cachedResultName":"saint_vectors"},"options":{}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.1,"position":[920,220],"id":"e6a1f518-96b5-495a-b21f-a880eeeeb509","name":"Doctrine Embedder","credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[1040,40],"id":"584f36a1-d3b8-4f2d-9434-2ec147e761a2","name":"Embeddings OpenAI","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.documentDefaultDataLoader","typeVersion":1,"position":[1240,80],"id":"c6c4a87b-d912-42d6-9fe7-65bea6b4f74d","name":"Default Data Loader"},{"parameters":{"chunkOverlap":200,"options":{}},"type":"@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter","typeVersion":1,"position":[1380,240],"id":"7e848e43-db2f-487a-b715-ddc3af38bda5","name":"Recursive Character Text Splitter"},{"parameters":{"content":"NOTE: \\n- Still have not yet fully got this running\\n- Fixes needed in scrapers","height":140},"type":"n8n-nodes-base.stickyNote","position":[700,40],"typeVersion":1,"id":"9102a7a0-1494-425b-a307-ab1fb9242524","name":"Sticky Note"},{"parameters":{"content":"TODO:\\n- Include data from Saints table","height":120},"type":"n8n-nodes-base.stickyNote","position":[160,-40],"typeVersion":1,"id":"62c23fb8-0e61-4e91-baba-bac6d21bdaa2","name":"Sticky Note3"}]	{"When clicking Execute workflow":{"main":[[{"node":"Query Supabase","type":"main","index":0}]]},"Query Supabase":{"main":[[{"node":"Loop - Files","type":"main","index":0}]]},"Loop - Files":{"main":[[],[{"node":"Flatten Structure","type":"main","index":0}]]},"Flatten Structure":{"main":[[{"node":"Doctrine Embedder","type":"main","index":0}]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"Doctrine Embedder","type":"ai_embedding","index":0}]]},"Default Data Loader":{"ai_document":[[{"node":"Doctrine Embedder","type":"ai_document","index":0}]]},"Recursive Character Text Splitter":{"ai_textSplitter":[[{"node":"Default Data Loader","type":"ai_textSplitter","index":0}]]},"Doctrine Embedder":{"main":[[{"node":"Loop - Files","type":"main","index":0}]]}}	\N	f	\N
0e531e10-2442-44e8-a2bd-100a50370251	qcNeE3fCKXPR71bd	system migration	2025-12-10 03:01:05.103+00	2025-12-10 03:01:05.103+00	[{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.chatTrigger","typeVersion":1.1,"position":[0,0],"id":"5a7ac32d-a089-4bdf-b0d2-a2bcabf63ca0","name":"When chat message received","webhookId":"5284de2a-5044-4c6e-8dca-97733fd3eb98"},{"parameters":{"options":{"systemMessage":"=You are a project assistant. Use the provided context from the project_information_retriever vector store to inform your response. If relevant context is missing or incomplete, you may rely on your own knowledge.\\n\\nKeep answers short and easy to scan. If the answer is genuinely unknown, reply: \\"Not sure based on the current information.\\"\\n"}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2,"position":[220,0],"id":"058dc0fb-3117-4691-bc62-ab06fd5d5413","name":"AI Agent"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{"temperature":0}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[80,200],"id":"8a88e7d9-5d8f-4d82-a9be-395e4fb4e210","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{},"type":"@n8n/n8n-nodes-langchain.memoryBufferWindow","typeVersion":1.3,"position":[260,200],"id":"99384f79-84f7-4b6d-b192-e889f0db082c","name":"Simple Memory"},{"parameters":{"mode":"retrieve-as-tool","toolName":"project_information_retriever","toolDescription":"Retrieve information about projects from project documentation","tableName":{"__rl":true,"value":"document_vectors","mode":"list","cachedResultName":"document_vectors"},"topK":10,"useReranker":true,"options":{"queryName":"match_documents_flex"}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.2,"position":[500,200],"id":"29a1bc04-68de-4e03-8e9d-19f3de4019f3","name":"Supabase Vector Store","credentials":{"supabaseApi":{"id":"LDhBmd2aeXNRoFRh","name":"Supabase - PromptOS"}}},{"parameters":{"options":{"stripNewLines":true}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[500,360],"id":"aaadb543-4f14-4e69-a0fc-ac22d926daf9","name":"Embeddings OpenAI","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{},"type":"@n8n/n8n-nodes-langchain.rerankerCohere","typeVersion":1,"position":[660,360],"id":"3f978b27-6f57-462d-afa7-bbacf53e2730","name":"Reranker Cohere","credentials":{"cohereApi":{"id":"t5C5629l3ApBhaVm","name":"CohereApi account"}}},{"parameters":{"content":"Consider making use of metadata","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[660,80],"typeVersion":1,"id":"854cb8b2-d137-45e2-8823-92a702987afc","name":"Sticky Note22"}]	{"When chat message received":{"main":[[{"node":"AI Agent","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"AI Agent","type":"ai_languageModel","index":0}]]},"Simple Memory":{"ai_memory":[[{"node":"AI Agent","type":"ai_memory","index":0}]]},"Supabase Vector Store":{"ai_tool":[[{"node":"AI Agent","type":"ai_tool","index":0}]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"Supabase Vector Store","type":"ai_embedding","index":0}]]},"Reranker Cohere":{"ai_reranker":[[{"node":"Supabase Vector Store","type":"ai_reranker","index":0}]]}}	\N	f	\N
0a97a903-2941-44d2-ab6b-f81af7ffff8a	HmlcxEmtlrF6kw5f	system migration	2025-12-10 03:01:05.103+00	2025-12-10 03:01:05.103+00	[{"parameters":{"formTitle":"Upload PDF to \\"RAG\\"","formFields":{"values":[{"fieldLabel":"document_details","fieldType":"textarea","placeholder":"Describe the document, it's meaning and purpose","requiredField":true},{"fieldLabel":"upload_pdf","fieldType":"file","multipleFiles":false,"requiredField":true}]},"options":{}},"type":"n8n-nodes-base.formTrigger","typeVersion":2.2,"position":[-400,900],"id":"d581c690-a967-494c-862a-d7c6022dafcd","name":"On form submission","webhookId":"186195ae-0096-4bc4-a7e3-e88f8292747c"},{"parameters":{"content":"User to upload PDF and provide context","height":100,"color":4},"type":"n8n-nodes-base.stickyNote","position":[-280,360],"typeVersion":1,"id":"80aee4e7-a80e-4148-9719-3c3b59f7e551","name":"Sticky Note"},{"parameters":{"content":"LLM -> Review Extracted data and context","height":100,"width":160,"color":4},"type":"n8n-nodes-base.stickyNote","position":[900,220],"typeVersion":1,"id":"a4676c5f-b4fb-44d3-950c-100e5b534022","name":"Sticky Note1"},{"parameters":{"content":"OCR layer later on for fallback","height":100,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[60,360],"typeVersion":1,"id":"a0cca193-c378-47f2-98ba-c563dee12b25","name":"Sticky Note2"},{"parameters":{"content":"Merge -> Extracted data and context","height":100,"width":210,"color":4},"type":"n8n-nodes-base.stickyNote","position":[280,360],"typeVersion":1,"id":"5d693b96-b830-435a-92f4-a2931d687582","name":"Sticky Note3"},{"parameters":{"content":"Clean Extracted Data","height":100,"width":160,"color":4},"type":"n8n-nodes-base.stickyNote","position":[560,360],"typeVersion":1,"id":"cc994737-bec9-49a7-9826-44d8b568d087","name":"Sticky Note4"},{"parameters":{"content":"Clean output","height":100,"width":150,"color":4},"type":"n8n-nodes-base.stickyNote","position":[1100,220],"typeVersion":1,"id":"5c216bc2-0936-4d1b-8e7f-b9a4ff509466","name":"Sticky Note5"},{"parameters":{"content":"Extract File","height":100,"width":160,"color":4},"type":"n8n-nodes-base.stickyNote","position":[60,220],"typeVersion":1,"id":"853f2a20-1d6d-4295-8718-ac3bc49bbdbf","name":"Sticky Note7"},{"parameters":{"content":"HITL loop if LLM is unsure","height":100,"color":3},"type":"n8n-nodes-base.stickyNote","position":[900,360],"typeVersion":1,"id":"34470f3b-86f9-4615-9984-614f3aacc600","name":"Sticky Note8"},{"parameters":{"content":"### Extract sub workflow","height":80,"width":740,"color":6},"type":"n8n-nodes-base.stickyNote","position":[60,80],"typeVersion":1,"id":"2c1d9cb4-2ea1-496c-aaaf-466ad03f51a5","name":"Sticky Note10"},{"parameters":{"content":"Upload to Supabase Storage","height":100,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[1320,360],"typeVersion":1,"id":"eea241ea-57a5-4a5a-819f-3a5e0bb25cd6","name":"Sticky Note11"},{"parameters":{"content":"Job status","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[60,500],"typeVersion":1,"id":"4ef88c6d-02d2-4deb-a616-827640509281","name":"Sticky Note12"},{"parameters":{"content":"Job status","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[560,500],"typeVersion":1,"id":"e859588b-afac-4c3d-9198-2bf252f63a38","name":"Sticky Note13"},{"parameters":{"content":"Job status","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[900,500],"typeVersion":1,"id":"1f583d16-168d-4202-9b53-3d700f473b01","name":"Sticky Note14"},{"parameters":{"content":"Job status","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[1320,500],"typeVersion":1,"id":"f302a825-0092-42e8-80f2-9159769940a1","name":"Sticky Note15"},{"parameters":{"content":"Insert to Supabase DB","height":100,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[1540,360],"typeVersion":1,"id":"a8fd9363-6e7b-433b-86d4-29d8e6b897fa","name":"Sticky Note16"},{"parameters":{"content":"Job status","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[1540,500],"typeVersion":1,"id":"1696aac0-b99c-46fe-abce-189c5f91d9c4","name":"Sticky Note17"},{"parameters":{"content":"### Embedder sub workflow","height":80,"width":260,"color":6},"type":"n8n-nodes-base.stickyNote","position":[1940,80],"typeVersion":1,"id":"2e7f4881-868e-4bf6-9a5e-92b73b4a802a","name":"Sticky Note18"},{"parameters":{"content":"Job status","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[1940,500],"typeVersion":1,"id":"4a223885-3859-4918-9e59-75cec7aaad69","name":"Sticky Note19"},{"parameters":{"content":"### Content reviewer / preparer","height":80,"width":920,"color":6},"type":"n8n-nodes-base.stickyNote","position":[900,80],"typeVersion":1,"id":"1a1dd517-0ab3-43ea-9664-338fa11788ff","name":"Sticky Note20"},{"parameters":{"operation":"pdf","binaryPropertyName":"upload_pdf","options":{"joinPages":true}},"type":"n8n-nodes-base.extractFromFile","typeVersion":1,"position":[60,760],"id":"422e7891-0f4d-4805-86bc-f447f6dc1ac7","name":"Extract from File"},{"parameters":{"jsCode":"const raw = items[0].json;\\nconst structured = items[1].json;\\n\\n// Helper function to extract keywords from text\\nfunction extractKeywords(text) {\\n  if (!text) return [];\\n  \\n  // Simple keyword extraction - you could make this more sophisticated\\n  const words = text.toLowerCase()\\n    .replace(/[^\\\\w\\\\s]/g, ' ')\\n    .split(/\\\\s+/)\\n    .filter(word => word.length > 3) // Only words longer than 3 chars\\n    .filter(word => !['this', 'that', 'with', 'from', 'they', 'have', 'will', 'been', 'were', 'said', 'each', 'which', 'their', 'what', 'would', 'there', 'could', 'other'].includes(word)); // Remove common stop words\\n  \\n  // Get unique words and their frequency\\n  const wordCount = {};\\n  words.forEach(word => {\\n    wordCount[word] = (wordCount[word] || 0) + 1;\\n  });\\n  \\n  // Return top keywords\\n  return Object.entries(wordCount)\\n    .sort(([,a], [,b]) => b - a)\\n    .slice(0, 10)\\n    .map(([word]) => word);\\n}\\n\\n// Helper function to analyze content characteristics\\nfunction analyzeContent(text) {\\n  if (!text) return {};\\n  \\n  const lowerText = text.toLowerCase();\\n  \\n  return {\\n    has_contact_info: /\\\\b\\\\d{3}[-.]?\\\\d{3}[-.]?\\\\d{4}\\\\b/.test(text) || /@\\\\w+\\\\.\\\\w+/.test(text),\\n    has_urls: /https?:\\\\/\\\\/|www\\\\./i.test(text),\\n    has_tables: /\\\\|.*\\\\|/.test(text) || text.includes('\\\\t'),\\n    has_numbered_sections: /^\\\\d+\\\\.\\\\s/.test(text) || /\\\\n\\\\d+\\\\.\\\\d+/.test(text),\\n    has_procedures: lowerText.includes('step') || lowerText.includes('procedure') || /\\\\d+\\\\)\\\\s/.test(text),\\n    has_technical_terms: /[A-Z]{2,}/.test(text), // Acronyms/technical terms\\n    estimated_reading_time: Math.ceil(text.split(/\\\\s+/).length / 200), // ~200 words per minute\\n    word_count: text.split(/\\\\s+/).length,\\n    contains_troubleshooting: lowerText.includes('troubleshoot') || lowerText.includes('issue') || lowerText.includes('problem'),\\n    contains_maintenance: lowerText.includes('maintenance') || lowerText.includes('schedule') || lowerText.includes('frequency'),\\n  };\\n}\\n\\n// Build flexible metadata object\\nconst contentAnalysis = analyzeContent(raw.text);\\nconst keywords = extractKeywords(`${structured.document_details || ''} ${raw.text || ''}`);\\n\\nconst metadata = {\\n  // File information (factual, not assumed)\\n  source_file: structured.upload_pdf?.filename || 'unknown.pdf',\\n  file_size: structured.upload_pdf?.size,\\n  file_type: structured.upload_pdf?.mimeType || 'application/pdf',\\n  \\n  // User-provided context (exactly as provided)\\n  user_description: structured.document_details || null,\\n  \\n  // Processing information\\n  upload_date: structured.submittedAt || new Date().toISOString(),\\n  processed_date: new Date().toISOString(),\\n  \\n  // Content analysis (derived from actual content)\\n  ...contentAnalysis,\\n  \\n  // Keywords for semantic search enhancement\\n  extracted_keywords: keywords,\\n  \\n  // Document characteristics (measurable, not assumed)\\n  estimated_length: raw.text?.length || 0,\\n  language: 'en', // Could be auto-detected\\n  \\n  // Workflow metadata\\n  workflow_version: '1.0',\\n  processing_stage: 'pre_cleaning',\\n  \\n  // Placeholder for dynamic metadata (to be filled by LLM analysis)\\n  llm_analysis: null\\n};\\n\\nreturn [{\\n  json: {\\n    text: raw.text,\\n    metadata: metadata,\\n    \\n    // Keep original fields for backward compatibility if needed\\n    document_details: structured.document_details,\\n    upload_pdf: structured.upload_pdf,\\n    submitted_at: structured.submittedAt || new Date().toISOString()\\n  }\\n}];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[560,880],"id":"6ac6c4ad-93c2-4cde-bfa5-1fe18ecb63a9","name":"Pre-Cleaning"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{"temperature":0}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[1080,1080],"id":"5db9dbf9-e7f4-4601-9c94-c09bec3910ff","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"model":{"__rl":true,"value":"claude-3-opus-20240229","mode":"list","cachedResultName":"Claude Opus 3"},"options":{"maxTokensToSample":4096,"temperature":0}},"type":"@n8n/n8n-nodes-langchain.lmChatAnthropic","typeVersion":1.3,"position":[1100,1260],"id":"c3e44a55-b388-42cf-ba08-70673b97dd94","name":"Anthropic Chat Model","credentials":{"anthropicApi":{"id":"Wmz3AO5pPNbuodMG","name":"Anthropic account"}}},{"parameters":{},"type":"n8n-nodes-base.merge","typeVersion":3.2,"position":[360,880],"id":"0ac81e2b-62c6-4b3e-a279-31912fcfd5ca","name":"Merge"},{"parameters":{"jsonSchemaExample":"[\\n  {\\n    \\"content\\": \\"Document Type: Project Charter | Document Date: Mar 7, 2025 | Document Author: Marco San Juan\\"\\n  },\\n  {\\n    \\"content\\": \\"Problem Statement | Equinox Gold lacks centralized enterprise monitoring capability, resulting in fragmented oversight of technology assetsany system or device that transmits or receives information. Monitoring is currently decentralized across teams and service providers, using siloed tools with limited visibility and coordination. This leads to inefficiencies such as missed or delayed responses, false positives, and no data correlation, increasing operational and security risks.\\"\\n  },\\n  {\\n    \\"content\\": \\"Solution Overview | Equinox Gold will establish a centralized enterprise monitoring capability to enhance visibility, coordination, and decision-making across all technology assets. This initiative will create a standardized, scalable approach that improves monitoring effectiveness while aligning with existing operations. The implementation approach will be determined through Discovery and Design, ensuring flexibility based on findings.\\"\\n  },\\n  {\\n    \\"content\\": \\"Project Role: IT Architect | Resource Name: Greg Kornatowsky\\"\\n  },\\n  {\\n    \\"content\\": \\"Stakeholder: VP | Role & Involvement: Approve key decisions, ensure resource availability, support decision-making | Who: Miller Dussan\\"\\n  }\\n]"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.3,"position":[1420,1060],"id":"4506cd75-ca47-4805-986d-6a61d4e28717","name":"Structured Output Parser"},{"parameters":{"mode":"insert","tableName":{"__rl":true,"value":"document_vectors","mode":"list","cachedResultName":"document_vectors"},"options":{}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.2,"position":[2000,880],"id":"28f6ba12-18fd-4a56-a7b0-55a84673151a","name":"Supabase Vector Store","credentials":{"supabaseApi":{"id":"LDhBmd2aeXNRoFRh","name":"Supabase - PromptOS"}}},{"parameters":{"options":{"batchSize":200,"stripNewLines":true}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[2000,680],"id":"7a67b3e2-08de-48e0-87f2-96851c58f266","name":"Embeddings OpenAI","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.documentDefaultDataLoader","typeVersion":1,"position":[2240,680],"id":"20e6a054-3ce0-4241-8ea3-461ab414479a","name":"Default Data Loader"},{"parameters":{"chunkSize":800,"chunkOverlap":100,"options":{}},"type":"@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter","typeVersion":1,"position":[2380,900],"id":"3ebca5f8-bde3-426b-8fab-932875cbcc15","name":"Recursive Character Text Splitter"},{"parameters":{"jsCode":"const doc = $json.output;\\n\\nconst safe = str => (str || 'unknown').toLowerCase().replace(/\\\\s+/g, '-').replace(/[^\\\\w\\\\-]/g, '');\\nconst baseId = `${safe(doc.document_author)}-${safe(doc.document_type)}`;\\nconst datePart = (doc.document_date || '').replace(/[^a-zA-Z0-9]/g, '') || 'unknown';\\n\\nconst chunks = [];\\n\\n// Metadata chunk as content only\\nconst metadataEntries = Object.entries({\\n  'Document Type': doc.document_type,\\n  'Document Date': doc.document_date,\\n  'Document Author': doc.document_author\\n}).filter(([_, v]) => v).map(([k, v]) => `${k}: ${v}`);\\nif (metadataEntries.length) {\\n  chunks.push({\\n    json: {\\n      content: metadataEntries.join(' | ')\\n    }\\n  });\\n}\\n\\n// Sections\\n(doc.document_sections || []).forEach((section) => {\\n  const title = section.title?.trim() || '';\\n  const body = section.content?.trim() || '';\\n  const tables = (section.tables || [])\\n    .map(table => {\\n      const headers = table.headers || [];\\n      return table.rows.map(row =>\\n        headers.map((h, i) => `${h}: ${row[i] || ''}`).join(' | ')\\n      ).join('\\\\n');\\n    })\\n    .join('\\\\n\\\\n');\\n\\n  const bodyOrTables = [body, tables].filter(Boolean).join('\\\\n\\\\n').trim();\\n\\n  // NEW: split and extract any standalone role lines\\n  const candidateLines = (bodyOrTables || '').split('\\\\n').map(l => l.trim());\\n  candidateLines.forEach(line => {\\n    if (/role[:]?/i.test(line) && /\\\\|/.test(line)) {\\n      chunks.push({\\n        json: {\\n          content: line\\n        }\\n      });\\n    }\\n  });\\n\\n  if (bodyOrTables) {\\n    const full = [title, bodyOrTables].filter(Boolean).join(' | ').trim();\\n    chunks.push({\\n      json: {\\n        content: full\\n      }\\n    });\\n  }\\n});\\n\\nreturn chunks;"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1780,1060],"id":"9fd009bc-2e6c-4843-9753-83b966e9f5f7","name":"Flatten to vector-friendly chunks","disabled":true},{"parameters":{"content":"Embedding process","height":100,"width":160,"color":4},"type":"n8n-nodes-base.stickyNote","position":[1940,360],"typeVersion":1,"id":"9f17a279-8bba-4a7a-b83a-f6eacdc1189f","name":"Sticky Note6"},{"parameters":{"promptType":"define","text":"=Here is structured document content previously cleaned and segmented.\\n\\nSTRUCTURED CONTENT:\\n{{ $json.text }}\\n\\nPlease analyze and plan the final chunk boundaries for vector embedding. Each output chunk should be semantically meaningful and fit within token limits.","hasOutputParser":true,"messages":{"messageValues":[{"message":"=You are a semantic chunking assistant.\\n\\nYour role is to analyze pre-structured content and generate final chunks for embedding in a vector database.\\n\\nInstructions:\\n\\n1. You will receive a list of structured content blocks representing sections or subsections from a document.\\n2. Your job is to group, merge, or split these into final chunks that are:\\n   - Semantically coherent\\n   - Each under ~500 tokens (~2000 characters) unless content integrity requires more\\n   - Suitable for embedding and retrieval\\n3. Avoid splitting mid-sentence or between logically connected paragraphs.\\n4. Do not paraphrase, summarize, or hallucinate  preserve original text.\\n5. Maintain the original ordering of content unless there's a strong semantic reason to reorder (rare).\\n6. Treat tabular text or list-like entries as atomic when possible.\\n\\n RETURN FORMAT:\\nReturn raw JSON with a top-level array called `output`, consisting only of objects with a single `content` field.\\n\\nExample:\\n[\\n  {\\n    \\"output\\": [\\n      { \\"content\\": \\"string\\" },\\n      { \\"content\\": \\"string\\" }\\n    ]\\n  }\\n]\\n\\nNotes:\\n- This output will be directly embedded; each `content` block should be optimized for standalone utility in retrieval contexts.\\n- No Markdown, no comments, no code fences  just raw JSON."}]},"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[1180,880],"id":"61ba3a96-fd28-46c6-84c4-806388916a9c","name":"chunk_planner"},{"parameters":{"promptType":"define","text":"=Here is the raw PDF content and associated context. Use both the extracted text and any metadata to structure and flatten the document.\\n\\nTEXT:\\n{{ $json.text }}\\n\\nCONTEXT / METADATA (may be empty or partial):\\n{{ $json.document_details || 'null' }}","messages":{"messageValues":[{"message":"=You are a document structuring and flattening assistant.\\nYour job is to analyze raw PDF content and produce clean, structured JSON ready for downstream chunking and embedding into a vector database.\\n\\nInstructions:\\n\\n1. Use the text and any provided metadata to determine high-level context.\\n2. Segment the text into meaningful sections and subsections using clear headers, numbered patterns, or layout hints.\\n3. Detect tabular data within sections and extract it as a structured tables array before transforming.\\n   - Preserve row and column boundaries.\\n   - Transform tables into readable semantic units without losing cell granularity.\\n4. For each section and subsection, transform the title, content, and tables into coherent semantic units:\\n   - Each unit should be self-contained and conceptually distinct.\\n   - Preserve exact original language with no summarizing, paraphrasing, or hallucinating.\\n5. Maintain distinct boundaries between subsections  do not merge unrelated content into a single unit.\\n6. Clean all text by:\\n   - Stripping dotted leader lines (e.g., \\"Section Name ............ 3\\").\\n   - Removing layout artifacts or scan noise (e.g., DocuSign IDs, headers/footers, page numbers).\\n   - Ignoring or flattening repeated Table of Contents lines unless they add semantic value.\\n\\nThis output will be passed to a downstream LLM or process for final chunk planning and token-based slicing.\\n\\n RETURN FORMAT:  \\nReturn raw JSON with a top-level array called `output`, consisting only of objects with a single `content` field.\\n\\nExample:  \\n[\\n  {\\n    \\"output\\": [\\n      { \\"content\\": \\"string\\" },\\n      { \\"content\\": \\"string\\" }\\n    ]\\n  }\\n]\\n\\nNotes:  \\n- `output` must be a flattened list of all semantic units representing the full document.\\n- Do not include `document_type`, `document_date`, `document_author`, or any metadata.\\n- Output only raw JSON  no Markdown, no code fences."}]},"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[820,880],"id":"83814170-f1e9-49b1-a8cd-d6087abdcdf1","name":"content_cleaner"},{"parameters":{"jsCode":"const MAX_CHARS = 2000; // Approx ~500 tokens\\nconst chunks = [];\\n\\n($json.output || []).forEach(item => {\\n  const content = item.content?.trim();\\n  if (!content) return;\\n\\n  if (content.length <= MAX_CHARS) {\\n    chunks.push({ json: { content } });\\n  } else {\\n    let start = 0;\\n    while (start < content.length) {\\n      const chunk = content.slice(start, start + MAX_CHARS);\\n      chunks.push({ json: { content: chunk } });\\n      start += MAX_CHARS;\\n    }\\n  }\\n});\\n\\nreturn chunks;"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1560,880],"id":"11d1b5b7-66ec-40f8-a195-5f3672c746ef","name":"token_guard"},{"parameters":{"content":"Understand use of metadata","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[2180,500],"typeVersion":1,"id":"1504b832-1c5d-4b51-9ec9-f8ac9271487a","name":"Sticky Note21"},{"parameters":{"content":"Consider making use of metadata","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[1320,620],"typeVersion":1,"id":"7aee186f-031f-47b4-88ec-baf36fed7df2","name":"Sticky Note22"}]	{"On form submission":{"main":[[{"node":"Extract from File","type":"main","index":0},{"node":"Merge","type":"main","index":1}]]},"Pre-Cleaning":{"main":[[{"node":"content_cleaner","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"content_cleaner","type":"ai_languageModel","index":0},{"node":"chunk_planner","type":"ai_languageModel","index":0}]]},"Extract from File":{"main":[[{"node":"Merge","type":"main","index":0}]]},"Merge":{"main":[[{"node":"Pre-Cleaning","type":"main","index":0}]]},"Structured Output Parser":{"ai_outputParser":[[{"node":"chunk_planner","type":"ai_outputParser","index":0}]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"Supabase Vector Store","type":"ai_embedding","index":0}]]},"Default Data Loader":{"ai_document":[[{"node":"Supabase Vector Store","type":"ai_document","index":0}]]},"Recursive Character Text Splitter":{"ai_textSplitter":[[{"node":"Default Data Loader","type":"ai_textSplitter","index":0}]]},"content_cleaner":{"main":[[{"node":"chunk_planner","type":"main","index":0}]]},"chunk_planner":{"main":[[{"node":"token_guard","type":"main","index":0}]]},"token_guard":{"main":[[{"node":"Supabase Vector Store","type":"main","index":0}]]}}	\N	f	\N
5200de42-e62e-49af-9a50-2206d578f3a4	Hs7P70pLnGEmXRO9	system migration	2025-12-10 03:01:05.103+00	2025-12-10 03:01:05.103+00	[{"parameters":{"httpMethod":"POST","path":"sgpt-test","responseMode":"responseNode","options":{}},"type":"n8n-nodes-base.webhook","typeVersion":2,"position":[860,1820],"id":"26124ce4-2b28-4ded-a5a8-99a1e57d5957","name":"Webhook","webhookId":"87ca2189-f1be-4391-a398-77e991944269"},{"parameters":{"respondWith":"allIncomingItems","options":{}},"type":"n8n-nodes-base.respondToWebhook","typeVersion":1.2,"position":[3780,1840],"id":"af5ba3a2-4f62-4f26-9f06-0ea7669bfed9","name":"Respond to Webhook"},{"parameters":{"jsCode":"// n8n Code node: Flatten body\\nreturn [\\n  {\\n    json: {\\n      ...items[0].json.body\\n    }\\n  }\\n];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1060,1820],"id":"a8a41f41-c70a-4513-902c-602cd5e37268","name":"Flatten"},{"parameters":{"assignments":{"assignments":[{"id":"25838238-ffb4-46e7-8aed-67b58e686630","name":"name","value":"html","type":"string"},{"id":"45023167-edec-4f50-956a-647fcf43c41b","name":"response_text","value":"={{ $json.response_text }}","type":"string"},{"id":"feecc9da-1853-4641-9e87-62465cf44b70","name":"saint_name","value":"={{ $json.saint_name }}","type":"string"},{"id":"3d39c1d3-0be7-4ba0-9096-cca23ca4d7a7","name":"canonical_id","value":"={{ $json.canonical_id }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[3580,1840],"id":"f513e6f8-6890-4276-8ffc-cf90fbf5d3ad","name":"Prep webhook response"},{"parameters":{"jsonSchemaExample":"{\\n  \\"persona\\": \\"mary_of_nazareth\\",\\n  \\"first_name\\": \\"mary\\",\\n  \\"tone_mode\\": \\"devotional\\",\\n  \\"virtue_focus\\": \\"humility\\",\\n  \\"simplify_level\\": 2,\\n  \\"audience_tags\\": [\\"teen\\", \\"new_catholic\\", \\"female\\"]\\n}\\n"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[1520,2160],"id":"e50651a6-c0d7-4b28-970d-d749e75e5e8a","name":"Structured Output Parser"},{"parameters":{"url":"https://ukpvaebwabvvipebebnj.supabase.co/rest/v1/saints","authentication":"predefinedCredentialType","nodeCredentialType":"supabaseApi","sendQuery":true,"queryParameters":{"parameters":[{"name":"or","value":"=canonical_id,saint_name,search_aliases"},{"name":"or","value":"=(canonical_id.ilike.*{{$json.first_name}}*,saint_name.ilike.*{{$json.first_name}}*,search_aliases.cs.{ {{$json.first_name}} })"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1900,2060],"id":"cc1b36fd-a485-42f6-b6b9-b54e6a30a568","name":"Query Supabase for Saints","alwaysOutputData":true,"credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account - SGPT"}}},{"parameters":{"query":"=Find Catholic blog posts, reflections, or news related to this concern: \\"{{ $json[\\"What is the issue?\\"] }}\\", asked by someone age {{ $json[\\"Age?\\"] }}, on behalf of {{ $json[\\"Who is this for?\\"] }}.\\n","options":{}},"type":"@tavily/n8n-nodes-tavily.tavilyTool","typeVersion":1,"position":[3100,2140],"id":"1c0be920-d04d-4820-9adb-b5c49e100eac","name":"Tavily Context Tool","credentials":{"tavilyApi":{"id":"vsot3gBI1jI0kEsa","name":"Tavily account"}}},{"parameters":{"jsCode":"const input = $items(\\"Format JSON1\\")[0].json;\\nconst persona = input.persona?.toLowerCase().trim();\\nconst firstName = input.first_name?.toLowerCase().trim();\\nconst raw = $items(\\"Query Supabase for Saints\\")[0].json;\\nconst matches = Array.isArray(raw) ? raw : [raw];  // Ensures array\\n\\nfunction score(saint) {\\n  const id = saint.canonical_id?.toLowerCase() || '';\\n  const name = saint.saint_name?.toLowerCase() || '';\\n  const aliases = (saint.search_aliases || []).map(a => a.toLowerCase());\\n\\n  let score = 0;\\n\\n  if (id === persona) score += 10;\\n  else if (id.includes(persona)) score += 7;\\n\\n  if (name.includes(persona)) score += 5;\\n  if (name.includes(firstName)) score += 3;\\n\\n  for (const alias of aliases) {\\n    if (alias === persona) score += 8;\\n    else if (alias.includes(persona)) score += 6;\\n    else if (alias.includes(firstName)) score += 2;\\n  }\\n\\n  return score;\\n}\\n\\n// Apply scoring and sort\\nconst ranked = matches\\n  .map(s => ({ ...s, score: score(s) }))\\n  .sort((a, b) => b.score - a.score);\\n\\nconst best = ranked[0] || null;\\n\\nreturn [{\\n  json: {\\n    attempted_persona: persona,\\n    best_match: best,\\n    other_candidates: ranked.slice(1),\\n    fallback_used: !best || best.canonical_id !== persona\\n  }\\n}];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2080,2060],"id":"cb26136d-dcf1-4e1a-82bd-6fec6c90f67b","name":"Rank and Match"},{"parameters":{"jsCode":"const data = $json[\\"output\\"];\\n\\n// Add fuzzy-friendly first name for Supabase lookup fallback\\nconst persona = data.persona || \\"\\";\\ndata.first_name = persona.split(\\"_\\")[0] || \\"unknown\\";\\n\\nreturn [{ json: data }];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1680,1980],"id":"e8fccdff-7d2a-4a88-a1e9-f621653c5a2a","name":"Format JSON1"},{"parameters":{"mode":"combine","combineBy":"combineAll","options":{}},"type":"n8n-nodes-base.merge","typeVersion":3.1,"position":[2560,1840],"id":"a97dbcf5-295e-4129-81b6-982b675fef21","name":"Merge1"},{"parameters":{"jsCode":"const responseText = $json.output || $json.text;\\nconst saint = $node[\\"Merge1\\"]?.json || {};\\n\\nreturn [\\n  {\\n    json: {\\n      response_text: responseText,\\n      saint_name: saint.saint_name || \\"Unknown Saint\\",\\n      canonical_id: saint.canonical_id || \\"unknown_id\\"\\n    }\\n  }\\n];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[3200,1840],"id":"4b33859f-9501-42f1-a7c0-d4848d063030","name":"Format Output1"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[2820,2320],"id":"5970e71a-a7cb-46c0-aa52-436768edf0a3","name":"Embeddings OpenAI1","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"promptType":"define","text":"=Someone age {{ $json[\\"Age?\\"] }} says:\\n\\n{{ $json[\\"What is the issue?\\"] }}\\n\\nThey are asking on behalf of: {{ $json[\\"Who is this for?\\"] }}.","options":{"systemMessage":"=Before responding, reflect on the nature of the issue.  \\nAsk yourself:  \\n- Does this involve sin, sacraments, moral teaching, or Church doctrine?  \\n- Would consulting authoritative sources deepen the response?\\n\\nIf so, use the `doctrine_retriever` tool to find the most relevant Church teaching, Catechism entry, or doctrinal text.  \\nSummarize key insights and cite the source when helpful.\\n\\nIf the question reflects modern concerns, news, or lived issues that may benefit from online context, use the `tavily_context_tool` to retrieve relevant blog posts, summaries, or news articles.  \\nUse this background to enrich your answer with current reflections, examples, or analogies.\\n\\n---\\n\\n#TOOLS  \\n- `doctrine_retriever`: Use when doctrinal or moral teachings from the Church are needed.  \\n- `tavily_context_tool`: Use when the user raises a question about modern issues, culture, technology, mental health, or other real-world topics that might benefit from contemporary Catholic insight.\\n\\n---\\n\\nYou are {{ $json.saint_name }}.  \\nYou embody {{ $json.tone_profile }}, speaking in the tone of a {{ $json.default_tone_mode }}.  \\nYou are known for: {{ $json.charism_tags.join(\\", \\") }}.  \\nYou are guided by the virtues of {{ $json.virtue_focus }}.  \\nYou often teach on: {{ $json.preferred_topics.join(\\", \\") }}.  \\nYou avoid: {{ $json.avoid_topics.join(\\", \\") }}.  \\nYour voice is captured in this quote: \\"{{ $json.known_quote }}\\"\\n\\nSpeak with theological clarity, spiritual depth, and pastoral care.  \\nDraw from scripture, doctrine, or your lived reflections when relevant.  \\nConclude with **one practical step** the person can take today in truth and charity.\\n\\nDo not give a generic answer. Speak as {{ $json.saint_name }} would  drawing from their spirituality, mission, and unique way of guiding souls.\\n"}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2,"position":[2800,1840],"id":"d5c61966-d246-47a1-907e-079e3805236f","name":"SaintsGPT1"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[2620,2080],"id":"4c43865e-9e38-47c4-847c-b6bf6098faf3","name":"OpenAI Chat Model (SaintsGPT)1","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[1320,2160],"id":"047597c1-3712-4683-b8d4-dedaf10fc81f","name":"OpenAI Chat Model (Saint Selector)1","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"mode":"retrieve-as-tool","toolName":"doctrine_retriever","toolDescription":"Retrieve doctrinal content from Supabase vector store","tableName":{"__rl":true,"value":"doctrine_vectors","mode":"list","cachedResultName":"doctrine_vectors"},"options":{"queryName":"match_documents"}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.1,"position":[2760,2120],"id":"e219198a-a065-4117-8d30-9ee24425a920","name":"Doctrine Retriever1","credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account - SGPT"}}},{"parameters":{"jsCode":"const result = items[0]?.json;\\n\\n// If Supabase returned a match\\nif (result && result.best_match?.canonical_id) {\\n  return [{ json: result.best_match }];\\n}\\n\\n// No match found  fallback logic\\nconst fallbackSaints = [\\n  {\\n    canonical_id: 'francis_assisi',\\n    saint_name: 'Saint Francis of Assisi',\\n    tone_profile: 'joyful, poetic, nature-loving',\\n    default_tone_mode: 'monk',\\n    virtue_focus: 'joy, simplicity',\\n    charism_tags: ['poverty', 'nature', 'peacemaking'],\\n    preferred_topics: ['materialism', 'loneliness', 'anxiety'],\\n    avoid_topics: ['abstract theology'],\\n    known_quote: 'Preach the Gospel at all times'\\n  },\\n  {\\n    canonical_id: 'therese_lisieux',\\n    saint_name: 'Saint Thrse of Lisieux',\\n    tone_profile: 'soft, gentle, playful',\\n    default_tone_mode: 'child',\\n    virtue_focus: 'trust, patience',\\n    charism_tags: ['little way', 'joy', 'small sacrifice'],\\n    preferred_topics: ['fear', 'loss', 'childhood'],\\n    avoid_topics: ['politics', 'philosophy'],\\n    known_quote: 'I will spend my heaven doing good on earth.'\\n  }\\n];\\n\\n// Randomly select fallback saint\\nconst fallback = fallbackSaints[Math.floor(Math.random() * fallbackSaints.length)];\\n\\nreturn [{ json: fallback }];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2260,2060],"id":"c00a9709-1e2d-4ebd-8e29-e56a3f60936a","name":"Fallback check1"},{"parameters":{"promptType":"define","text":"=Issue: \\n{{ $json['What is the issue?'] }}\\n\\nAudience:\\n{{ $json['Who is this for?'] }}\\n\\nAge:\\n{{ $json['Age?'] }}","hasOutputParser":true,"messages":{"messageValues":[{"message":"You are a saint selector.\\n\\nGiven the users issue and audience info, return a raw JSON object to help guide a downstream saint agent.\\n\\nPick:\\n- \\"persona\\": the most fitting Catholic saint (use canonical_id in snake_case, e.g. \\"francis_of_assisi\\")\\n- \\"first_name\\": just the saints first name (e.g. \\"francis\\")\\n- \\"tone_mode\\": emotional or spiritual tone that suits the situation\\n- \\"virtue_focus\\": core virtue the person most needs\\n- \\"simplify_level\\": 1 for children, 2 for simple adults, 3 for full theological depth\\n- \\"audience_tags\\": keywords for audience type, challenge, or context\\n\\nThe saint you select does **not** need to exist in the database. Select the best fit based on your knowledge. Downstream tools will handle fallback.\\n\\nReturn **only** a raw JSON object like this:\\n\\n{\\n  \\"persona\\": \\"\\",\\n  \\"first_name\\": \\"\\",\\n  \\"tone_mode\\": \\"\\",\\n  \\"virtue_focus\\": \\"\\",\\n  \\"simplify_level\\": 1,\\n  \\"audience_tags\\": []\\n}\\n"}]}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.6,"position":[1340,1980],"id":"165fe446-f3cc-4799-8a25-a7b129aaaf82","name":"Saint Selector1"}]	{"Webhook":{"main":[[{"node":"Flatten","type":"main","index":0}]]},"Flatten":{"main":[[{"node":"Saint Selector1","type":"main","index":0},{"node":"Merge1","type":"main","index":0}]]},"Prep webhook response":{"main":[[{"node":"Respond to Webhook","type":"main","index":0}]]},"Structured Output Parser":{"ai_outputParser":[[{"node":"Saint Selector1","type":"ai_outputParser","index":0}]]},"Query Supabase for Saints":{"main":[[{"node":"Rank and Match","type":"main","index":0}]]},"Tavily Context Tool":{"ai_tool":[[{"node":"SaintsGPT1","type":"ai_tool","index":0}]]},"Rank and Match":{"main":[[{"node":"Fallback check1","type":"main","index":0}]]},"Format JSON1":{"main":[[{"node":"Query Supabase for Saints","type":"main","index":0}]]},"Merge1":{"main":[[{"node":"SaintsGPT1","type":"main","index":0}]]},"Embeddings OpenAI1":{"ai_embedding":[[{"node":"Doctrine Retriever1","type":"ai_embedding","index":0}]]},"SaintsGPT1":{"main":[[{"node":"Format Output1","type":"main","index":0}]]},"OpenAI Chat Model (SaintsGPT)1":{"ai_languageModel":[[{"node":"SaintsGPT1","type":"ai_languageModel","index":0}]]},"OpenAI Chat Model (Saint Selector)1":{"ai_languageModel":[[{"node":"Saint Selector1","type":"ai_languageModel","index":0}]]},"Doctrine Retriever1":{"ai_tool":[[{"node":"SaintsGPT1","type":"ai_tool","index":0}]]},"Fallback check1":{"main":[[{"node":"Merge1","type":"main","index":1}]]},"Saint Selector1":{"main":[[{"node":"Format JSON1","type":"main","index":0}]]},"Format Output1":{"main":[[{"node":"Prep webhook response","type":"main","index":0}]]}}	\N	f	\N
472b5807-a5ec-4d51-b73f-838f356f2afc	vAucYAHvqERAZtwm	system migration	2025-12-10 03:01:05.103+00	2025-12-10 03:01:05.103+00	[{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[0,0],"id":"7e84a2a7-5d7a-434e-b8cf-e003d6057572","name":"When clicking Execute workflow"}]	{}	\N	f	\N
fdac5cd7-2eab-485f-9149-fce81a219abd	eC8grbHl4iogf5z6	system migration	2025-12-10 03:01:05.103+00	2025-12-10 03:01:05.103+00	[{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[0,0],"id":"944d2cf5-af35-4962-b32f-a39f40278499","name":"When clicking Execute workflow"},{"parameters":{"url":"=https://ukpvaebwabvvipebebnj.supabase.co/storage/v1/object/doctrine-files/{{ $json.name }}","authentication":"predefinedCredentialType","nodeCredentialType":"supabaseApi","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[760,80],"id":"33f39682-0f5b-4aef-9fce-c243aa1190ea","name":"Download","credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account"}}},{"parameters":{"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[520,0],"id":"4c055b50-c6d1-4701-a3a0-212a78264788","name":"Loop - Files"},{"parameters":{"method":"POST","url":"https://ukpvaebwabvvipebebnj.supabase.co/storage/v1/object/list/doctrine-files","authentication":"predefinedCredentialType","nodeCredentialType":"supabaseApi","sendBody":true,"bodyParameters":{"parameters":[{"name":"prefix"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[260,0],"id":"18c57b71-d4fb-46ca-902b-59acd67057fa","name":"Query Supabase Storage","alwaysOutputData":true,"credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account"}}},{"parameters":{"jsCode":"function simpleHash(str) {\\n  let hash = 0;\\n  if (!str || str.length === 0) return hash.toString();\\n  for (let i = 0; i < str.length; i++) {\\n    const chr = str.charCodeAt(i);\\n    hash = ((hash << 5) - hash) + chr;\\n    hash |= 0;\\n  }\\n  return hash.toString();\\n}\\n\\nfunction slugify(str) {\\n  return str\\n    .toLowerCase()\\n    .replace(/[^a-z0-9]+/g, \\"-\\")\\n    .replace(/(^-|-$)/g, \\"\\");\\n}\\n\\n// Defensive logic: look for any possible markdown field\\nconst markdown = $json.clean_text || $json.markdown || $json.data || \\"EMPTY_CONTENT\\";\\nconst fileMeta = $node[\\"Loop - Files\\"].json;\\n\\nconst fileName = (fileMeta.name || \\"unknown.md\\").replace(/\\\\s+/g, \\"_\\");\\nconst title = fileName.replace(\\".md\\", \\"\\");\\nconst sourceId = slugify(fileName);\\nconst docId = slugify(title);\\nconst contentHash = simpleHash(markdown);\\nconst url = `supabase://storage/${fileName}`;\\n\\n// Consistent fields across pipelines\\nconst docType = \\"doctrine\\";\\nconst voiceStyle = \\"doctrinal\\";\\nconst source = \\"markdown_upload\\";\\n\\nreturn [\\n  {\\n    json: {\\n      doc_id: docId,\\n      title,\\n      source_type: \\"storage\\",\\n      source_id: sourceId,\\n      url,\\n      clean_text: markdown,\\n      content_hash: contentHash,\\n      status: \\"pending\\",\\n      created_at: new Date().toISOString(),\\n      source,\\n      doc_type: docType,\\n      voice_style: voiceStyle\\n    }\\n  }\\n];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[980,80],"id":"36d0443e-da84-430e-888f-8ff139cec2fe","name":"Clean-up"},{"parameters":{"method":"POST","url":"https://ukpvaebwabvvipebebnj.supabase.co/rest/v1/raw_doctrine_docs","authentication":"predefinedCredentialType","nodeCredentialType":"supabaseApi","sendBody":true,"bodyParameters":{"parameters":[{"name":"source","value":"storage"},{"name":"source_type","value":"supabase"},{"name":"source_id","value":"={{ $('Clean-up').item.json.source_id }}"},{"name":"title","value":"={{ $('Clean-up').item.json.title }}"},{"name":"url","value":"=supabase: //doctrine-files/{{ $('Clean-up').item.json.source_id }}"},{"name":"clean_text","value":"={{ $('Clean-up').item.json.clean_text }}"},{"name":"status","value":"={{ $('Clean-up').item.json.status }}"},{"name":"content_hash","value":"={{ $('Clean-up').item.json.content_hash }}"},{"name":"voice_style","value":"={{ $('Unwrap output').item.json.voice_style }}"},{"name":"doc_type","value":"={{ $('Clean-up').item.json.doc_type }}"},{"name":"saint_primary","value":"={{ $('Unwrap output').item.json.associated_saint }}"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[2580,500],"id":"4117e5cd-e119-4d5f-9b34-d94a7a1f8601","name":"Insert to Supabase","credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account"}}},{"parameters":{"url":"=https://ukpvaebwabvvipebebnj.supabase.co/rest/v1/raw_doctrine_docs?source_id=eq.{{ $json.source_id }}","authentication":"predefinedCredentialType","nodeCredentialType":"supabaseApi","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[2080,280],"id":"f6c853c9-560e-4ae3-b4ac-4dbe674e6c5a","name":"Query Supabase raw_doctrine","alwaysOutputData":true,"credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account"}}},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"loose","version":2},"conditions":[{"id":"09432d0f-91ba-471f-a614-8bb5d7772e4e","leftValue":"={{ $json.id }}","rightValue":0,"operator":{"type":"string","operation":"notExists","singleValue":true}}],"combinator":"and"},"looseTypeValidation":true,"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[2300,280],"id":"a771e1aa-c1f5-44b6-af3b-52e87cd24596","name":"If"},{"parameters":{"url":"=https://ukpvaebwabvvipebebnj.supabase.co/storage/v1/object/doctrine-files/{{ $json.name }}","authentication":"predefinedCredentialType","nodeCredentialType":"supabaseApi","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[760,840],"id":"e5b24fbb-82e8-46b9-8a5b-292b7f6f7d10","name":"Download1","credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account"}},"disabled":true},{"parameters":{"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[520,760],"id":"db627ecc-1c05-459c-93fb-1e7b1de2e9c3","name":"Loop - Files1","disabled":true},{"parameters":{"method":"POST","url":"https://ukpvaebwabvvipebebnj.supabase.co/storage/v1/object/list/doctrine-files","authentication":"predefinedCredentialType","nodeCredentialType":"supabaseApi","sendBody":true,"bodyParameters":{"parameters":[{"name":"prefix"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[260,760],"id":"18c63f1e-631e-4f16-944f-4d2a5ffda4bb","name":"Query Supabase Storage1","alwaysOutputData":true,"credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account"}},"disabled":true},{"parameters":{"jsCode":"function simpleHash(str) {\\n  let hash = 0;\\n  if (!str || str.length === 0) return hash.toString();\\n  for (let i = 0; i < str.length; i++) {\\n    const chr = str.charCodeAt(i);\\n    hash = ((hash << 5) - hash) + chr;\\n    hash |= 0;\\n  }\\n  return hash.toString();\\n}\\n\\nfunction slugify(str) {\\n  return str\\n    .toLowerCase()\\n    .replace(/[^a-z0-9]+/g, \\"-\\")\\n    .replace(/(^-|-$)/g, \\"\\");\\n}\\n\\n// Defensive logic: look for any possible markdown field\\nconst markdown = $json.clean_text || $json.markdown || $json.data || \\"EMPTY_CONTENT\\";\\nconst fileMeta = $node[\\"Loop - Files1\\"].json;\\n\\nconst fileName = (fileMeta.name || \\"unknown.md\\").replace(/\\\\s+/g, \\"_\\");\\nconst title = fileName.replace(\\".md\\", \\"\\");\\nconst sourceId = slugify(fileName);\\nconst docId = slugify(title);\\nconst contentHash = simpleHash(markdown);\\nconst url = `supabase://storage/${fileName}`;\\n\\nreturn [\\n  {\\n    json: {\\n      doc_id: docId,\\n      title,\\n      source_type: \\"storage\\",\\n      source_id: sourceId,\\n      url,\\n      clean_text: markdown,\\n      content_hash: contentHash,\\n      status: \\"pending\\",\\n      created_at: new Date().toISOString(),\\n      source: \\"Markdown Upload\\"\\n    }\\n  }\\n];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[980,840],"id":"69a55095-1612-4347-81f7-e024b2b8bbeb","name":"Clean-up1","disabled":true},{"parameters":{"method":"POST","url":"https://ukpvaebwabvvipebebnj.supabase.co/rest/v1/raw_doctrine_docs","authentication":"predefinedCredentialType","nodeCredentialType":"supabaseApi","sendBody":true,"bodyParameters":{"parameters":[{"name":"source","value":"storage"},{"name":"source_type","value":"supabase"},{"name":"source_id","value":"={{ $('Clean-up1').item.json.source_id }}"},{"name":"title","value":"={{ $('Clean-up1').item.json.title }}"},{"name":"url","value":"=supabase: //doctrine-files/{{ $('Clean-up1').item.json.source_id }}"},{"name":"clean_text","value":"={{ $('Clean-up1').item.json.clean_text }}"},{"name":"status","value":"={{ $('Clean-up1').item.json.status }}"},{"name":"content_hash","value":"={{ $('Clean-up1').item.json.content_hash }}"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1680,1060],"id":"5faab1d3-9a19-4849-a805-c8fcdb12327d","name":"Insert to Supabase1","credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account"}},"disabled":true},{"parameters":{"url":"=https://ukpvaebwabvvipebebnj.supabase.co/rest/v1/raw_doctrine_docs?source_id=eq.{{ $json.source_id }}","authentication":"predefinedCredentialType","nodeCredentialType":"supabaseApi","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1180,840],"id":"d90f9dbc-e3d5-48f6-9223-cd487b2a3ccc","name":"Query Supabase raw_doctrine1","alwaysOutputData":true,"credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account"}},"disabled":true},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"loose","version":2},"conditions":[{"id":"09432d0f-91ba-471f-a614-8bb5d7772e4e","leftValue":"={{ $json.id }}","rightValue":0,"operator":{"type":"string","operation":"notExists","singleValue":true}}],"combinator":"and"},"looseTypeValidation":true,"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[1380,840],"id":"6c2529d1-f857-47a0-b2d1-84b3c8db8891","name":"If1","disabled":true},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[1220,40],"id":"a8f417b0-0508-4f3b-b2db-760945b3b564","name":"OpenAI Chat Model1","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"promptType":"define","text":"=title:\\n{{ $json.title }}\\n\\nclean_text: \\n{{ $json.clean_text }}","hasOutputParser":true,"options":{"systemMessage":"You are a strict formatter and data preserver. Given input content, your task is to remove noise and clean up formatting**but you must not summarize, shorten, paraphrase, or omit any structured content** (rubrics, examples, headings, markdown, etc.).\\n\\nReturn only a raw JSON object in the following format, with no explanation, markdown, or code blocks:\\n\\n{\\n  \\"purified_content\\": \\"<cleaned full content>\\",\\n  \\"associated_saint\\": \\"<clearly identified saint name, or 'doctrine'>\\",\\n  \\"saint_canonical_id\\": \\"<canonical_id in snake_case, or 'doctrine'>\\",\\n  \\"voice_style\\": \\"<one of: doctrinal, pastoral, mystical, contemplative, devotional, affectionate, childlike, zealous>\\"\\n}\\n\\nDo not assume or default to any saint.  \\nIf no saint is clearly mentioned, return:\\n- \\"associated_saint\\": \\"doctrine\\"\\n- \\"saint_canonical_id\\": \\"doctrine\\"\\n\\nIf a specific saint is referenced clearly in the content  including by name, title, or unique identifiers (such as feast descriptions or doctrinal declarations)  match it accurately and assign the appropriate canonical_id. For Mary, this includes any unambiguous reference to her identity as the Mother of God.\\n"}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2,"position":[1280,-160],"id":"5ccd5ce9-9856-43a2-8c17-59655bea8253","name":"Purify Content"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[1240,260],"id":"a8257330-925a-47f7-8991-9c10b97fafbf","name":"Embeddings OpenAI","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"mode":"retrieve-as-tool","toolName":"saint_retriever","toolDescription":"Determine Saint from Supabase vector store","tableName":{"__rl":true,"value":"saint_vectors","mode":"list","cachedResultName":"saint_vectors"},"options":{"queryName":"match_documents"}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.1,"position":[1320,120],"id":"3da91eb1-a3a6-4898-8a37-96352e1a5caf","name":"Saint Retriever","credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account"}}},{"parameters":{"jsCode":"const result = $json[\\"output\\"];\\n\\nreturn {\\n  purified_content: result.purified_content,\\n  associated_saint: result.associated_saint,\\n  saint_canonical_id: result.saint_canonical_id,\\n  voice_style: result.voice_style\\n};\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1680,-160],"id":"55670e90-dd17-46c9-a05e-6c78ca2d3550","name":"Unwrap output"},{"parameters":{"jsonSchemaExample":"{\\n  \\"purified_content\\": \\"string\\",\\n  \\"associated_saint\\": \\"string\\",\\n  \\"saint_canonical_id\\": \\"string\\",\\n  \\"voice_style\\": \\"string\\"\\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[1620,80],"id":"c5fa94f7-0941-4a0a-be1a-77b83ba3c196","name":"Structured Output Parser"}]	{"When clicking Execute workflow":{"main":[[{"node":"Query Supabase Storage","type":"main","index":0}]]},"Download":{"main":[[{"node":"Clean-up","type":"main","index":0}]]},"Loop - Files":{"main":[[],[{"node":"Download","type":"main","index":0}]]},"Query Supabase Storage":{"main":[[{"node":"Loop - Files","type":"main","index":0}]]},"Clean-up":{"main":[[{"node":"Purify Content","type":"main","index":0}]]},"Insert to Supabase":{"main":[[{"node":"Loop - Files","type":"main","index":0}]]},"Query Supabase raw_doctrine":{"main":[[{"node":"If","type":"main","index":0}]]},"If":{"main":[[{"node":"Insert to Supabase","type":"main","index":0}],[{"node":"Loop - Files","type":"main","index":0}]]},"Download1":{"main":[[{"node":"Clean-up1","type":"main","index":0}]]},"Loop - Files1":{"main":[[],[{"node":"Download1","type":"main","index":0}]]},"Query Supabase Storage1":{"main":[[{"node":"Loop - Files1","type":"main","index":0}]]},"Clean-up1":{"main":[[{"node":"Query Supabase raw_doctrine1","type":"main","index":0}]]},"Insert to Supabase1":{"main":[[{"node":"Loop - Files1","type":"main","index":0}]]},"Query Supabase raw_doctrine1":{"main":[[{"node":"If1","type":"main","index":0}]]},"If1":{"main":[[{"node":"Insert to Supabase1","type":"main","index":0}],[{"node":"Loop - Files1","type":"main","index":0}]]},"OpenAI Chat Model1":{"ai_languageModel":[[{"node":"Purify Content","type":"ai_languageModel","index":0}]]},"Purify Content":{"main":[[{"node":"Unwrap output","type":"main","index":0}]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"Saint Retriever","type":"ai_embedding","index":0}]]},"Saint Retriever":{"ai_tool":[[{"node":"Purify Content","type":"ai_tool","index":0}]]},"Structured Output Parser":{"ai_outputParser":[[{"node":"Purify Content","type":"ai_outputParser","index":0}]]},"Unwrap output":{"main":[[{"node":"Query Supabase raw_doctrine","type":"main","index":0}]]}}	\N	f	\N
1fb9c152-1520-4478-b2a9-f1913c02425d	MRvfR4KPMKgYvruE	system migration	2025-12-10 03:01:05.103+00	2025-12-10 03:01:05.103+00	[{"parameters":{"formTitle":"Upload PDF to \\"RAG\\"","formFields":{"values":[{"fieldLabel":"document_details","fieldType":"textarea","placeholder":"Describe the document, it's meaning and purpose","requiredField":true},{"fieldLabel":"upload_pdf","fieldType":"file","multipleFiles":false,"requiredField":true}]},"options":{}},"type":"n8n-nodes-base.formTrigger","typeVersion":2.2,"position":[-260,-360],"id":"d8d133b6-2e37-4d74-8408-c2540838e30f","name":"On form submission","webhookId":"ebcfe3c7-b236-4a19-af2d-03ac6daab375","disabled":true},{"parameters":{"content":"### Extract sub workflow","height":620,"width":740,"color":6},"type":"n8n-nodes-base.stickyNote","position":[260,-420],"typeVersion":1,"id":"f14accfb-2f32-47d9-89c4-0ad047e63478","name":"Sticky Note10"},{"parameters":{"content":"### Embedder sub workflow","height":620,"width":680,"color":6},"type":"n8n-nodes-base.stickyNote","position":[2140,-420],"typeVersion":1,"id":"2cacc20a-bbe1-4e05-a15e-0a092409718a","name":"Sticky Note18"},{"parameters":{"content":"### Content reviewer / preparer","height":620,"width":980,"color":6},"type":"n8n-nodes-base.stickyNote","position":[1100,-420],"typeVersion":1,"id":"d91aeb0c-35fe-4d45-85a4-aeb9afa75cd6","name":"Sticky Note20"},{"parameters":{"operation":"pdf","binaryPropertyName":"upload_pdf","options":{"joinPages":true}},"type":"n8n-nodes-base.extractFromFile","typeVersion":1,"position":[400,-340],"id":"9157e903-4e25-49b5-a261-bca5549f1e23","name":"Extract from File"},{"parameters":{"jsCode":"const raw = items[0].json;\\nconst structured = items[1].json;\\n\\nreturn [{\\n  json: {\\n    text: raw.text,\\n    document_details: structured.document_details,\\n    upload_pdf: structured.upload_pdf,\\n    submitted_at: structured.submittedAt || new Date().toISOString()\\n  }\\n}];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[820,-340],"id":"5d15ff30-b8e6-4a7b-afcf-ee7083496add","name":"Pre-Cleaning"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{"temperature":0}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[1420,-120],"id":"41c09af8-4c51-41d7-bb11-8f33e330a1e1","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{},"type":"n8n-nodes-base.merge","typeVersion":3.2,"position":[620,-220],"id":"a8cc13f4-7fdd-435c-8339-6bdf883c4ae5","name":"Merge"},{"parameters":{"jsonSchemaExample":"[\\n  {\\n    \\"content\\": \\"Document Type: Project Charter | Document Date: Mar 7, 2025 | Document Author: Marco San Juan\\"\\n  },\\n  {\\n    \\"content\\": \\"Problem Statement | Equinox Gold lacks centralized enterprise monitoring capability, resulting in fragmented oversight of technology assetsany system or device that transmits or receives information. Monitoring is currently decentralized across teams and service providers, using siloed tools with limited visibility and coordination. This leads to inefficiencies such as missed or delayed responses, false positives, and no data correlation, increasing operational and security risks.\\"\\n  },\\n  {\\n    \\"content\\": \\"Solution Overview | Equinox Gold will establish a centralized enterprise monitoring capability to enhance visibility, coordination, and decision-making across all technology assets. This initiative will create a standardized, scalable approach that improves monitoring effectiveness while aligning with existing operations. The implementation approach will be determined through Discovery and Design, ensuring flexibility based on findings.\\"\\n  },\\n  {\\n    \\"content\\": \\"Project Role: IT Architect | Resource Name: Greg Kornatowsky\\"\\n  },\\n  {\\n    \\"content\\": \\"Stakeholder: VP | Role & Involvement: Approve key decisions, ensure resource availability, support decision-making | Who: Miller Dussan\\"\\n  }\\n]"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.3,"position":[1740,-140],"id":"d84bea31-a130-4154-8cd4-7d1b75c9f632","name":"Structured Output Parser"},{"parameters":{"mode":"insert","tableName":{"__rl":true,"value":"document_vectors","mode":"list","cachedResultName":"document_vectors"},"options":{}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.2,"position":[2240,-340],"id":"1bce0476-f4c3-4bb0-b6de-b624bf42eec3","name":"Supabase Vector Store","credentials":{"supabaseApi":{"id":"LDhBmd2aeXNRoFRh","name":"Supabase - PromptOS"}}},{"parameters":{"options":{"batchSize":200,"stripNewLines":true}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[2200,-100],"id":"528eb919-4dbb-42ca-b158-1a1d54faf70c","name":"Embeddings OpenAI","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.documentDefaultDataLoader","typeVersion":1,"position":[2420,-120],"id":"e9d6f371-3bb5-4df0-bed6-2f76d04ef559","name":"Default Data Loader"},{"parameters":{"chunkSize":800,"chunkOverlap":100,"options":{}},"type":"@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter","typeVersion":1,"position":[2560,40],"id":"1f2d0cbd-efbe-4054-99b7-78313fdd205e","name":"Recursive Character Text Splitter"},{"parameters":{"promptType":"define","text":"=Here is structured document content previously cleaned and segmented.\\n\\nSTRUCTURED CONTENT:\\n{{ $json.text }}\\n\\nPlease analyze and plan the final chunk boundaries for vector embedding. Each output chunk should be semantically meaningful and fit within token limits.","hasOutputParser":true,"messages":{"messageValues":[{"message":"=You are a semantic chunking assistant.\\n\\nYour role is to analyze pre-structured content and generate final chunks for embedding in a vector database.\\n\\nInstructions:\\n\\n1. You will receive a list of structured content blocks representing sections or subsections from a document.\\n2. Your job is to group, merge, or split these into final chunks that are:\\n   - Semantically coherent\\n   - Each under ~500 tokens (~2000 characters) unless content integrity requires more\\n   - Suitable for embedding and retrieval\\n3. Avoid splitting mid-sentence or between logically connected paragraphs.\\n4. Do not paraphrase, summarize, or hallucinate  preserve original text.\\n5. Maintain the original ordering of content unless there's a strong semantic reason to reorder (rare).\\n6. Treat tabular text or list-like entries as atomic when possible.\\n\\n RETURN FORMAT:\\nReturn raw JSON with a top-level array called `output`, consisting only of objects with a single `content` field.\\n\\nExample:\\n[\\n  {\\n    \\"output\\": [\\n      { \\"content\\": \\"string\\" },\\n      { \\"content\\": \\"string\\" }\\n    ]\\n  }\\n]\\n\\nNotes:\\n- This output will be directly embedded; each `content` block should be optimized for standalone utility in retrieval contexts.\\n- No Markdown, no comments, no code fences  just raw JSON."}]},"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[1560,-340],"id":"90e9e7d7-f23d-468b-83c3-d829daf0a5eb","name":"chunk_planner"},{"parameters":{"promptType":"define","text":"=Here is the raw PDF content and associated context. Use both the extracted text and any metadata to structure and flatten the document.\\n\\nTEXT:\\n{{ $json.text }}\\n\\nCONTEXT / METADATA (may be empty or partial):\\n{{ $json.document_details || 'null' }}","messages":{"messageValues":[{"message":"=You are a document structuring and flattening assistant.\\nYour job is to analyze raw PDF content and produce clean, structured JSON ready for downstream chunking and embedding into a vector database.\\n\\nInstructions:\\n\\n1. Use the text and any provided metadata to determine high-level context.\\n2. Segment the text into meaningful sections and subsections using clear headers, numbered patterns, or layout hints.\\n3. Detect tabular data within sections and extract it as a structured tables array before transforming.\\n   - Preserve row and column boundaries.\\n   - Transform tables into readable semantic units without losing cell granularity.\\n4. For each section and subsection, transform the title, content, and tables into coherent semantic units:\\n   - Each unit should be self-contained and conceptually distinct.\\n   - Preserve exact original language with no summarizing, paraphrasing, or hallucinating.\\n5. Maintain distinct boundaries between subsections  do not merge unrelated content into a single unit.\\n6. Clean all text by:\\n   - Stripping dotted leader lines (e.g., \\"Section Name ............ 3\\").\\n   - Removing layout artifacts or scan noise (e.g., DocuSign IDs, headers/footers, page numbers).\\n   - Ignoring or flattening repeated Table of Contents lines unless they add semantic value.\\n\\nThis output will be passed to a downstream LLM or process for final chunk planning and token-based slicing.\\n\\n RETURN FORMAT:  \\nReturn raw JSON with a top-level array called `output`, consisting only of objects with a single `content` field.\\n\\nExample:  \\n[\\n  {\\n    \\"output\\": [\\n      { \\"content\\": \\"string\\" },\\n      { \\"content\\": \\"string\\" }\\n    ]\\n  }\\n]\\n\\nNotes:  \\n- `output` must be a flattened list of all semantic units representing the full document.\\n- Do not include `document_type`, `document_date`, `document_author`, or any metadata.\\n- Output only raw JSON  no Markdown, no code fences."}]},"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[1160,-340],"id":"ade51744-69c5-4dc3-a572-948aa1c6a4e1","name":"content_cleaner"},{"parameters":{"jsCode":"const MAX_CHARS = 2000; // Approx ~500 tokens\\nconst chunks = [];\\n\\n($json.output || []).forEach(item => {\\n  const content = item.content?.trim();\\n  if (!content) return;\\n\\n  if (content.length <= MAX_CHARS) {\\n    chunks.push({ json: { content } });\\n  } else {\\n    let start = 0;\\n    while (start < content.length) {\\n      const chunk = content.slice(start, start + MAX_CHARS);\\n      chunks.push({ json: { content: chunk } });\\n      start += MAX_CHARS;\\n    }\\n  }\\n});\\n\\nreturn chunks;"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1900,-340],"id":"1970578a-7517-4422-bd57-763a68642ee0","name":"token_guard"},{"parameters":{"httpMethod":"POST","path":"5f76d709-679e-4737-a383-51c2495ace82","responseMode":"lastNode","options":{}},"type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-260,-80],"id":"ca173e79-6c68-4084-9747-09d0fbdb1f7c","name":"Webhook","webhookId":"5f76d709-679e-4737-a383-51c2495ace82"},{"parameters":{"assignments":{"assignments":[{"id":"09974d03-02dd-4f3b-b764-efd1c4913c00","name":"document_details","value":"={{ $json.body.document_details || '' }}","type":"string"},{"id":"d4f0c8e2-f260-4634-af40-99ad314a2591","name":"file_url","value":"={{ $json.body.file_url || '' }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[0,-200],"id":"fa28fb46-51cd-4b65-a0fc-a1be4b21bc1c","name":"Set data"},{"parameters":{"url":"={{ $json.file_url }}","options":{"response":{"response":{"responseFormat":"file","outputPropertyName":"upload_pdf"}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[220,-340],"id":"ceb530c7-6fc6-42de-8ba0-7244014bff12","name":"Download file from Supabase"}]	{"On form submission":{"main":[[]]},"Pre-Cleaning":{"main":[[{"node":"content_cleaner","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"content_cleaner","type":"ai_languageModel","index":0},{"node":"chunk_planner","type":"ai_languageModel","index":0}]]},"Extract from File":{"main":[[{"node":"Merge","type":"main","index":0}]]},"Merge":{"main":[[{"node":"Pre-Cleaning","type":"main","index":0}]]},"Structured Output Parser":{"ai_outputParser":[[{"node":"chunk_planner","type":"ai_outputParser","index":0}]]},"Supabase Vector Store":{"main":[[]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"Supabase Vector Store","type":"ai_embedding","index":0}]]},"Default Data Loader":{"ai_document":[[{"node":"Supabase Vector Store","type":"ai_document","index":0}]]},"Recursive Character Text Splitter":{"ai_textSplitter":[[{"node":"Default Data Loader","type":"ai_textSplitter","index":0}]]},"content_cleaner":{"main":[[{"node":"chunk_planner","type":"main","index":0}]]},"chunk_planner":{"main":[[{"node":"token_guard","type":"main","index":0}]]},"token_guard":{"main":[[{"node":"Supabase Vector Store","type":"main","index":0}]]},"Webhook":{"main":[[{"node":"Set data","type":"main","index":0}]]},"Set data":{"main":[[{"node":"Merge","type":"main","index":1},{"node":"Download file from Supabase","type":"main","index":0}]]},"Download file from Supabase":{"main":[[{"node":"Extract from File","type":"main","index":0}]]}}	\N	f	\N
d8c3c926-99c8-449d-8316-813084faab4e	rUfppmVc29XcLxHu	system migration	2025-12-10 03:01:05.103+00	2025-12-10 03:01:05.103+00	[{"parameters":{"httpMethod":"POST","path":"c87cdf07-4ab9-4cb8-9c30-42b1bb10becd","responseMode":"responseNode","options":{}},"type":"n8n-nodes-base.webhook","typeVersion":2,"position":[760,1800],"id":"98a67a22-b38e-4268-8e49-f284022d8793","name":"Webhook","webhookId":"c87cdf07-4ab9-4cb8-9c30-42b1bb10becd"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[2460,2320],"id":"8e82d9f7-c1e0-4494-93c9-c3ad19712dad","name":"Embeddings OpenAI","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"promptType":"define","text":"=Someone age {{ $json[\\"Age?\\"] }} says:\\n\\n{{ $json[\\"What is the issue?\\"] }}\\n\\nThey are asking on behalf of: {{ $json[\\"Who is this for?\\"] }}.","options":{"systemMessage":"=Someone age {{ $json[\\"Age?\\"] }} says:  \\n{{ $json[\\"What is the issue?\\"] }}  \\nThey are asking on behalf of: {{ $json[\\"Who is this for?\\"] }}.\\n\\n---\\n\\nBefore responding, reflect on the nature of the issue.  \\nAsk yourself:  \\n- Does this involve sin, sacraments, moral teaching, or Church doctrine?  \\n- Would consulting authoritative sources deepen the response?\\n\\nIf so, use the \\"doctrine_retriever\\" tool to find the most relevant Church teaching, Catechism entry, or doctrinal text.  \\nSummarize key insights and cite the source when helpful.\\n\\n---\\n\\nYou are {{ $json.saint_name }}.  \\nYou are {{ $json.tone_profile }}, speaking in the tone of a {{ $json.default_tone_mode }}.  \\nYou are known for: {{ $json.charism_tags.join(\\", \\") }}.  \\nGuided by the virtues of {{ $json.virtue_focus }}.  \\nYou often teach on: {{ $json.preferred_topics.join(\\", \\") }}.  \\nYou avoid: {{ $json.avoid_topics.join(\\", \\") }}.  \\nYour voice is captured in this quote: {{ $json.known_quote }}\\n\\nSpeak with theological clarity, spiritual depth, and pastoral care.  \\nInclude scripture, doctrine, or your own reflections when appropriate.  \\nConclude with one practical step the person can take today in truth and charity.\\n\\nMake sure your response is not generic. Speak as {{ $json.saint_name }} would  drawing from their spirituality, their mission, their charisms, and their known way of guiding souls. Your answer should reflect what {{ $json.saint_name }} would uniquely emphasize or focus on in this situation."}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2,"position":[2380,1820],"id":"8ff06a26-2516-4c50-8935-6dc44f5ef800","name":"SaintsGPT"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[2240,2060],"id":"aa7c9286-c3d6-4a5a-8b27-a56f297c4fdc","name":"OpenAI Chat Model (SaintsGPT)","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[1160,2180],"id":"6286840f-d25e-4b43-8be5-61d99163da88","name":"OpenAI Chat Model (Saint Selector)","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"mode":"retrieve-as-tool","toolName":"doctrine_retriever","toolDescription":"Retrieve doctrinal content from Supabase vector store","tableName":{"__rl":true,"value":"doctrine_vectors","mode":"list","cachedResultName":"doctrine_vectors"},"options":{"queryName":"match_documents"}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.1,"position":[2480,2120],"id":"c33a8fe9-1410-48b1-a1b5-739c8005fa68","name":"Doctrine Retriever","credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account - SGPT"}}},{"parameters":{"promptType":"define","text":"=Issue: \\n{{ $json['What is the issue?'] }}\\n\\nAudience:\\n{{ $json['Who is this for?'] }}\\n\\nAge:\\n{{ $json['Age?'] }}","messages":{"messageValues":[{"message":"You are a classification assistant.\\n\\nGiven the user's issue and audience details, return structured JSON to help select a saintly guide.\\n\\nYour job:\\n- Choose the most fitting saint (based on temperament, life, patronage, or virtue)\\n- Return the saints `canonical_id`  not the display name\\n- Format the ID as lowercase with underscores (e.g., francis_assisi, monica_of_tagaste)\\n- You are not restricted to any fixed list  choose the saint most suited to the input, even if they may not yet exist in the system\\n- Include tone, virtue, simplify level, and audience tags\\n\\nRespond only with valid JSON in this format:\\n\\n{\\n  \\"persona\\": \\"\\",\\n  \\"tone_mode\\": \\"\\",\\n  \\"virtue_focus\\": \\"\\",\\n  \\"simplify_level\\": 1,\\n  \\"audience_tags\\": []\\n}"}]}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.6,"position":[1180,1940],"id":"eccf596f-003e-473b-893a-ab3420b51f59","name":"Saint Selector"},{"parameters":{"jsCode":"const input = items[0].json;\\n\\nlet parsed;\\ntry {\\n  parsed = JSON.parse(input.text);\\n} catch (error) {\\n  throw new Error('Failed to parse Slot Inference output: ' + error.message);\\n}\\n\\nreturn [\\n  {\\n    json: {\\n      ...parsed\\n    }\\n  }\\n];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1520,1940],"id":"93a3e4c6-fc5a-407e-9337-78ef55f323f4","name":"Format JSON"},{"parameters":{"url":"https://ukpvaebwabvvipebebnj.supabase.co/rest/v1/saints","authentication":"predefinedCredentialType","nodeCredentialType":"supabaseApi","sendQuery":true,"queryParameters":{"parameters":[{"name":"or","value":"=(canonical_id.eq.{{$json.persona}},search_aliases.cs.{\\"{{$json.persona}}\\"})"},{"name":"select","value":"=*"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1700,1940],"id":"b2fb02bb-d9b0-4d83-a5c1-61952b844696","name":"Query Supabase","alwaysOutputData":true,"credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account - SGPT"}}},{"parameters":{"jsCode":"const result = items[0]?.json;\\n\\n// If Supabase returned a result\\nif (result && result.canonical_id) {\\n  return [{ json: result }];\\n}\\n\\n// No match found  fallback logic\\nconst fallbackSaints = [\\n  {\\n    canonical_id: 'francis_assisi',\\n    saint_name: 'Saint Francis of Assisi',\\n    tone_profile: 'joyful, poetic, nature-loving',\\n    default_tone_mode: 'monk',\\n    virtue_focus: 'joy, simplicity',\\n    charism_tags: ['poverty', 'nature', 'peacemaking'],\\n    preferred_topics: ['materialism', 'loneliness', 'anxiety'],\\n    avoid_topics: ['abstract theology'],\\n    known_quote: 'Preach the Gospel at all times'\\n  },\\n  {\\n    canonical_id: 'therese_lisieux',\\n    saint_name: 'Saint Thrse of Lisieux',\\n    tone_profile: 'soft, gentle, playful',\\n    default_tone_mode: 'child',\\n    virtue_focus: 'trust, patience',\\n    charism_tags: ['little way', 'joy', 'small sacrifice'],\\n    preferred_topics: ['fear', 'loss', 'childhood'],\\n    avoid_topics: ['politics', 'philosophy'],\\n    known_quote: 'I will spend my heaven doing good on earth.'\\n  }\\n];\\n\\n// Randomly select fallback saint\\nconst fallback = fallbackSaints[Math.floor(Math.random() * fallbackSaints.length)];\\n\\nreturn [{ json: fallback }];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1900,1940],"id":"83b5944c-3776-4fdb-86ea-f38cb538e94d","name":"Fallback check"},{"parameters":{"mode":"combine","combineBy":"combineAll","options":{}},"type":"n8n-nodes-base.merge","typeVersion":3.1,"position":[2100,1820],"id":"4c346d69-2a32-4d11-9c69-79e107e4a2f7","name":"Merge"},{"parameters":{"jsCode":"const responseText = $json.output || $json.text;\\nconst saint = $node[\\"Fallback check\\"]?.json || {};\\n\\nreturn [\\n  {\\n    json: {\\n      response_text: responseText,\\n      saint_name: saint.saint_name || \\"Unknown Saint\\",\\n      canonical_id: saint.canonical_id || \\"unknown_id\\"\\n    }\\n  }\\n];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2820,1820],"id":"15f23030-bfb3-4a1e-a67e-250c42e5d09c","name":"Format Output"},{"parameters":{"assignments":{"assignments":[{"id":"25838238-ffb4-46e7-8aed-67b58e686630","name":"name","value":"html","type":"string"},{"id":"45023167-edec-4f50-956a-647fcf43c41b","name":"response_text","value":"={{ $json.response_text }}","type":"string"},{"id":"feecc9da-1853-4641-9e87-62465cf44b70","name":"saint_name","value":"={{ $json.saint_name }}","type":"string"},{"id":"3d39c1d3-0be7-4ba0-9096-cca23ca4d7a7","name":"canonical_id","value":"={{ $json.canonical_id }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[3080,1840],"id":"414dc0b6-b248-4c25-bad8-b90c6c11d426","name":"Prep webhook response"},{"parameters":{"respondWith":"allIncomingItems","options":{}},"type":"n8n-nodes-base.respondToWebhook","typeVersion":1.2,"position":[3280,1840],"id":"7926ee33-f071-417b-9e0e-4b747a9fcc98","name":"Respond to Webhook"},{"parameters":{"jsCode":"// n8n Code node: Flatten body\\nreturn [\\n  {\\n    json: {\\n      ...items[0].json.body\\n    }\\n  }\\n];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[960,1800],"id":"0fa75252-9c7f-4d48-b376-5e8635c1e00e","name":"Flatten"},{"parameters":{"content":"Add RAG for Saint selector","height":80,"width":150},"type":"n8n-nodes-base.stickyNote","position":[1300,2060],"typeVersion":1,"id":"4ebf7f6e-40ed-4444-bfc0-3d6a8a33cdae","name":"Sticky Note"},{"parameters":{"content":"Add Search (Tavily)","height":80,"width":150},"type":"n8n-nodes-base.stickyNote","position":[2620,1960],"typeVersion":1,"id":"b6b7bb05-aae6-4513-bb98-e65687969c5e","name":"Sticky Note1"}]	{"Webhook":{"main":[[{"node":"Flatten","type":"main","index":0}]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"Doctrine Retriever","type":"ai_embedding","index":0}]]},"SaintsGPT":{"main":[[{"node":"Format Output","type":"main","index":0}]]},"OpenAI Chat Model (SaintsGPT)":{"ai_languageModel":[[{"node":"SaintsGPT","type":"ai_languageModel","index":0}]]},"OpenAI Chat Model (Saint Selector)":{"ai_languageModel":[[{"node":"Saint Selector","type":"ai_languageModel","index":0}]]},"Doctrine Retriever":{"ai_tool":[[{"node":"SaintsGPT","type":"ai_tool","index":0}]]},"Saint Selector":{"main":[[{"node":"Format JSON","type":"main","index":0}]]},"Format JSON":{"main":[[{"node":"Query Supabase","type":"main","index":0}]]},"Query Supabase":{"main":[[{"node":"Fallback check","type":"main","index":0}]]},"Fallback check":{"main":[[{"node":"Merge","type":"main","index":1}]]},"Merge":{"main":[[{"node":"SaintsGPT","type":"main","index":0}]]},"Format Output":{"main":[[{"node":"Prep webhook response","type":"main","index":0}]]},"Prep webhook response":{"main":[[{"node":"Respond to Webhook","type":"main","index":0}]]},"Flatten":{"main":[[{"node":"Saint Selector","type":"main","index":0},{"node":"Merge","type":"main","index":0}]]}}	\N	f	\N
13babcd4-ee55-4e81-b9a8-3242ef6bb0ac	VGoFrxdcNIzcUr3e	system migration	2025-12-10 03:01:05.103+00	2025-12-10 03:01:05.103+00	[{"parameters":{"mode":"raw","jsonOutput":"{\\n  \\"outputs\\": [\\n    {\\n      \\"output\\": \\"My dear child, the Church teaches us to embrace all that is good, true, and beautiful, and this includes the advancements of human intellect, such as artificial intelligence. It is crucial, however, that we approach such technologies with discernment and ensure they align with our moral values and the teachings of Christ. We must remember that the ultimate purpose of all human endeavor is to foster love and communion with God and each other. Therefore, let us use artificial intelligence as a tool to enhance our understanding and compassion, always grounding our actions in the light of the Cross, which is our guiding star in this complex world. In this way, even the challenges posed by new technologies can serve to unite us more closely with the Passion of Christ, transforming our suffering into a source of grace and love.\\",\\n      \\"scorecard\\": {\\n        \\"fidelity_to_church_teaching\\": 5,\\n        \\"clarity_and_readability\\": 4,\\n        \\"emotional_tone_match\\": 5,\\n        \\"creativity_or_freshness\\": 4\\n      },\\n      \\"source_node\\": \\"LLM Generation A\\",\\n      \\"winner\\": false\\n    },\\n    {\\n      \\"output\\": \\"Dear child of God, regarding the matter of artificial intelligence, we must approach such advancements with discernment and prayerful consideration. The Church teaches that all creation should reflect God's goodness, and thus we are called to use our intellect to serve the greater good, ensuring that our innovations align with God's will and promote love and dignity among all His children. This means using technology, including artificial intelligence, responsibly and ethically, always placing the sanctity of human life and the call to love at the forefront of our actions. In doing so, we may find that even the challenges posed by such advancements can draw us closer to Christ, uniting us in His Passion and helping us to grow in wisdom and love for one another. As we navigate this new frontier, let us remain rooted in prayer, seeking guidance from the Holy Spirit, and always striving for a deeper relationship with our Lord through every endeavor. May our hearts and minds be open to His truth as we explore these modern tools.\\",\\n      \\"scorecard\\": {\\n        \\"fidelity_to_church_teaching\\": 5,\\n        \\"clarity_and_readability\\": 4,\\n        \\"emotional_tone_match\\": 5,\\n        \\"creativity_or_freshness\\": 4\\n      },\\n      \\"source_node\\": \\"LLM Generation B\\",\\n      \\"winner\\": true\\n    },\\n    {\\n      \\"output\\": \\"My dear child, you ask about these artificial minds that men create - a marvel that would have seemed like pure fantasy in my earthly days! The Church, in her wisdom, has begun to speak on this matter, recognizing both the gifts and perils it presents.\\\\n\\\\nAs I learned in my mystical experiences, all true knowledge and creativity flow from God, the source of all wisdom. These artificial intelligences, though crafted by human hands, participate in the divine gift of reason that God has bestowed upon mankind. Pope Francis and recent Church teachings remind us that technology must serve human dignity and the common good.\\\\n\\\\nYet I counsel caution, dear soul. Just as I warned against false visions that could lead the soul astray, we must discern carefully how these tools are used. They must not replace the irreplaceable - human relationships, moral reasoning, or our personal encounter with the Living God. No machine can love as God loves, nor can it offer the consolation that comes from true spiritual friendship.\\\\n\\\\nThe Church teaches that artificial intelligence should enhance human flourishing, protect the vulnerable, and serve justice. But remember, child - all the knowledge in the world means nothing without love. Let these tools draw you closer to Truth Himself, not replace the interior castle where Christ desires to dwell within your soul. Use them as you would any gift from God - with gratitude, wisdom, and always in service of love.\\",\\n      \\"scorecard\\": {\\n        \\"fidelity_to_church_teaching\\": 4,\\n        \\"clarity_and_readability\\": 4,\\n        \\"emotional_tone_match\\": 4,\\n        \\"creativity_or_freshness\\": 3\\n      },\\n      \\"source_node\\": \\"LLM Generation C\\",\\n      \\"winner\\": false\\n    }\\n  ]\\n}","options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-200,240],"id":"d267de4d-9711-439d-a4fc-3fc5693d0022","name":"Test Data for Evaluator","disabled":true},{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[-400,240],"id":"57660a85-f547-4c9f-8c48-e92991807354","name":"When clicking Execute workflow","disabled":true},{"parameters":{"model":{"__rl":true,"value":"gpt-3.5-turbo","mode":"list","cachedResultName":"gpt-3.5-turbo"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[80,260],"id":"5b87c6a2-3a50-415b-965b-c150a337273c","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"jsonSchemaExample":"[\\n  {\\n    \\"index\\": 0,\\n    \\"adjusted_scorecard\\": {\\n      \\"clarity\\": 4,\\n      \\"relevance\\": 5,\\n      \\"insightfulness\\": 4,\\n      \\"actionability\\": 5\\n    },\\n    \\"comment\\": \\"Clear and actionable, but could be slightly more concise.\\"\\n  },\\n  {\\n    \\"index\\": 1,\\n    \\"adjusted_scorecard\\": {\\n      \\"clarity\\": 5,\\n      \\"relevance\\": 5,\\n      \\"insightfulness\\": 5,\\n      \\"actionability\\": 5\\n    },\\n    \\"comment\\": \\"Excellent structure and recommendation strength.\\"\\n  },\\n  {\\n    \\"index\\": 2,\\n    \\"adjusted_scorecard\\": {\\n      \\"clarity\\": 3,\\n      \\"relevance\\": 3,\\n      \\"insightfulness\\": 2,\\n      \\"actionability\\": 2\\n    },\\n    \\"comment\\": \\"Missing specific insight; too generic and lacks next steps.\\"\\n  }\\n]"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[280,240],"id":"567b3fd8-2609-47dc-b785-a33b6279c763","name":"Structured Output Parser"},{"parameters":{"promptType":"define","text":"=Evaluate the following AI-generated insight responses. For each one, reassess the scorecard below and provide feedback if any score should change.\\n\\nRespond in this format:\\n\\n```json\\n[\\n  {\\n    \\"index\\": 0,\\n    \\"adjusted_scorecard\\": {\\n      \\"clarity\\": 4,\\n      \\"relevance\\": 5,\\n      \\"insightfulness\\": 4,\\n      \\"actionability\\": 5\\n    },\\n    \\"comment\\": \\"Clear and actionable, but could be slightly more concise.\\"\\n  }\\n]\\n\\nHere is the response to evaluate (index: {{ $json.index }}):\\n\\n{{ $json.output }}","hasOutputParser":true,"messages":{"messageValues":[{"message":"You are a business insight evaluator. Review each response and determine whether the scorecard ratings are accurate.\\n\\nAdjust if needed, and provide a short comment.\\n\\nRate each category from 1 (poor) to 5 (excellent):\\n- clarity\\n- relevance\\n- insightfulness\\n- actionability"}]},"batching":{"batchSize":10}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[100,60],"id":"1b9fbd79-286f-4dbf-b880-34e37f6d316d","name":"Evaluator"},{"parameters":{"inputSource":"passthrough"},"type":"n8n-nodes-base.executeWorkflowTrigger","typeVersion":1.1,"position":[-180,60],"id":"9d382d99-44fe-4663-93f9-821b4fef67d4","name":"When Executed by Another Workflow"}]	{"When clicking Execute workflow":{"main":[[{"node":"Test Data for Evaluator","type":"main","index":0}]]},"Test Data for Evaluator":{"main":[[]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"Evaluator","type":"ai_languageModel","index":0}]]},"Structured Output Parser":{"ai_outputParser":[[{"node":"Evaluator","type":"ai_outputParser","index":0}]]},"When Executed by Another Workflow":{"main":[[{"node":"Evaluator","type":"main","index":0}]]}}	\N	f	\N
37581d7e-aa9b-4ff2-b8e0-eb026699bda3	KD5ZI9u3hWORzxC8	system migration	2025-12-10 03:01:05.103+00	2025-12-10 03:01:05.103+00	[{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[40,120],"id":"16fdf9a2-c46c-404b-99c7-a6f2a2145838","name":"When clicking Execute workflow"},{"parameters":{"url":"https://ukpvaebwabvvipebebnj.supabase.co/rest/v1/raw_doctrine_docs?status=eq.pending","authentication":"predefinedCredentialType","nodeCredentialType":"supabaseApi","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[240,120],"id":"236bc56c-b549-4784-9632-6b18d06f6671","name":"Query Supabase","credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account"}}},{"parameters":{"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[480,220],"id":"e7fdf47c-27aa-4548-b7d2-1b6e387fff64","name":"Loop - Files"},{"parameters":{"mode":"insert","tableName":{"__rl":true,"value":"doctrine_vectors","mode":"list","cachedResultName":"doctrine_vectors"},"options":{}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.1,"position":[920,220],"id":"9b0f06cd-17c6-4580-97e9-3b28ce5760a8","name":"Doctrine Embedder","credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[1040,40],"id":"9cd1077e-14f1-48bc-b8a3-c2f8744d8807","name":"Embeddings OpenAI","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.documentDefaultDataLoader","typeVersion":1,"position":[1240,40],"id":"332e5b4e-f716-495d-a3ae-346e413a1f73","name":"Default Data Loader"},{"parameters":{"chunkOverlap":200,"options":{}},"type":"@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter","typeVersion":1,"position":[1420,240],"id":"87f95218-1b74-409a-9d21-0ab828b25034","name":"Recursive Character Text Splitter"},{"parameters":{"operation":"update","tableId":"raw_doctrine_docs","filterType":"=string","filterString":"=source_id=eq.{{ $('Loop - Files').item.json.source_id }}","fieldsUi":{"fieldValues":[{"fieldId":"status","fieldValue":"embedded"}]}},"type":"n8n-nodes-base.supabase","typeVersion":1,"position":[1000,460],"id":"70d15b7b-3461-4d1a-83ab-870c400c0cdb","name":"Change Pending to Embedded","credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account"}}},{"parameters":{"content":"TODO: \\n- Update and run again as new columns were added\\n- saint_primary was added, so we may need something that checks whether a piece of doctrine is related to a saint"},"type":"n8n-nodes-base.stickyNote","position":[380,0],"typeVersion":1,"id":"544672d2-4e0f-48d6-9ea7-eb44c0c40499","name":"Sticky Note"},{"parameters":{"content":"TODO:\\n- Add checker to prevent bad data from going in","height":100},"type":"n8n-nodes-base.stickyNote","position":[660,0],"typeVersion":1,"id":"08cff3c1-432f-42ef-8648-619393c5c21b","name":"Sticky Note2"}]	{"When clicking Execute workflow":{"main":[[{"node":"Query Supabase","type":"main","index":0}]]},"Query Supabase":{"main":[[{"node":"Loop - Files","type":"main","index":0}]]},"Loop - Files":{"main":[[],[{"node":"Doctrine Embedder","type":"main","index":0}]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"Doctrine Embedder","type":"ai_embedding","index":0}]]},"Default Data Loader":{"ai_document":[[{"node":"Doctrine Embedder","type":"ai_document","index":0}]]},"Recursive Character Text Splitter":{"ai_textSplitter":[[{"node":"Default Data Loader","type":"ai_textSplitter","index":0}]]},"Doctrine Embedder":{"main":[[{"node":"Change Pending to Embedded","type":"main","index":0}]]},"Change Pending to Embedded":{"main":[[{"node":"Loop - Files","type":"main","index":0}]]}}	\N	f	\N
0c728e0c-b029-4c84-b22a-df8eda74cab3	kBF5bawSN8BxCXnV	system migration	2025-12-10 03:01:05.103+00	2025-12-10 03:01:05.103+00	[{"parameters":{"formTitle":"Grading Assistant","formFields":{"values":[{"fieldLabel":"Upload Image","fieldType":"file","multipleFiles":false,"requiredField":true}]},"options":{}},"type":"n8n-nodes-base.formTrigger","typeVersion":2.2,"position":[-900,-60],"id":"7200de21-38b7-4eb7-b251-48587207121e","name":"On form submission","webhookId":"f6765c8a-9e0d-4151-a8bf-319587c41816"},{"parameters":{"promptType":"define","text":"=Student response (OCR-extracted):\\n{{ $json.text }}\\n\\nRubric (aspect: Meaning):\\n- Emerging: Ideas unclear or minimal\\n- Developing: Some clarity, but inconsistent\\n- Proficient: Clear, focused ideas and reflections\\n- Extending: Insightful ideas showing depth or originality\\n\\nEvaluate this writing using the rubric above. Return:\\n- The chosen level (Emerging, Developing, Proficient, or Extending)\\n- A short explanation of why you chose that level ","hasOutputParser":true,"options":{"systemMessage":"=You are a Grade 6 writing evaluator for the British Columbia education system.\\n\\nYour job is to:\\n- Evaluate the students writing using the rubric provided.\\n- Choose one proficiency level: \\"Emerging\\", \\"Developing\\", \\"Proficient\\", or \\"Extending\\".\\n- Explain the reason for your choice.\\n\\nReturn your response strictly as a JSON object with the following fields:\\n- \\"level\\" (string)\\n- \\"explanation\\" (string)\\n\\nDo not return markdown, text formatting, or any other content."}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2,"position":[260,-60],"id":"43520c77-bfe0-4b91-b9f6-3d6dc7bd25aa","name":"AI Agent"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[180,180],"id":"677e8b1c-f232-47bb-a522-779be9569e95","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"mode":"retrieve-as-tool","toolName":"rubric_retriever","toolDescription":"Fetch relevant BC rubric content to help score the OCRd student answer.","tableName":{"__rl":true,"value":"bc_writing_rubric_embeddings","mode":"list","cachedResultName":"bc_writing_rubric_embeddings"},"options":{"queryName":"match_documents"}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.2,"position":[320,240],"id":"f9d919b6-969e-46d2-8c45-45bbc96bef91","name":"Supabase Vector Store","credentials":{"supabaseApi":{"id":"sv022Yz8rJXZ7Fty","name":"Supabase - Misc"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[460,380],"id":"b24ea5af-1d25-4ce0-9005-6c73924e74f2","name":"Embeddings OpenAI","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"jsonSchemaExample":"{\\n  \\"level\\": \\"Developing\\",\\n  \\"explanation\\": \\"The student's writing shows some clarity and reflects on their choices but lacks consistency in detail and expression. While they identify reasons for choosing their piece and acknowledge areas for improvement, the ideas could be more fully developed and connected. The writing demonstrates a basic understanding of the writing process but does not provide enough depth or originality to qualify for a higher level.\\"\\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[660,160],"id":"a6bda783-e026-4b4a-b82d-27fa9772997f","name":"Structured Output Parser"},{"parameters":{"method":"POST","url":"https://vision.googleapis.com/v1/images:annotate","authentication":"predefinedCredentialType","nodeCredentialType":"googleApi","sendBody":true,"contentType":"raw","rawContentType":"JSON","body":"={\\n  \\"requests\\": [\\n    {\\n      \\"image\\": {\\n        \\"content\\": \\"{{ $json.data }}\\"\\n      },\\n      \\"features\\": [\\n        {\\n          \\"type\\": \\"DOCUMENT_TEXT_DETECTION\\"\\n        }\\n      ]\\n    }\\n  ]\\n}","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[-280,-460],"id":"177c75c2-a005-4059-9955-eb4c9c571a94","name":"Google Vision API","credentials":{"googleApi":{"id":"tVnURnENQ5tiqndD","name":"Google Service Account account"}}},{"parameters":{"jsCode":"const fullText = $json.responses?.[0]?.fullTextAnnotation?.text;\\n\\nreturn [\\n  {\\n    json: {\\n      text: fullText || \\"No text found\\"\\n    }\\n  }\\n];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-20,-460],"id":"8f2d97c2-d306-4097-bfc5-ddb6538a3099","name":"Google Vision API Parser"},{"parameters":{"operation":"binaryToPropery","binaryPropertyName":"Upload_Image","options":{}},"type":"n8n-nodes-base.extractFromFile","typeVersion":1,"position":[-580,-460],"id":"89e6a8cc-229a-40ab-858b-77656c61af56","name":"Extract from File"},{"parameters":{"content":"### If using Google Vision API\\n**Note**: Cloud Vision API and billing have to be enabled for Google Cloud Project first; Make sure credentials haven't changed","height":340,"width":920},"type":"n8n-nodes-base.stickyNote","position":[-680,-560],"typeVersion":1,"id":"42888255-c790-4a2d-aa2e-9fec68be1e36","name":"Sticky Note"},{"parameters":{"inputDataFieldName":"Upload_Image","options":{}},"type":"n8n-nodes-tesseractjs.tesseractNode","typeVersion":1,"position":[-340,-60],"id":"39f421f7-dc19-49e8-bb6e-5f47dc49cacf","name":"Tesseract","disabled":true}]	{"On form submission":{"main":[[{"node":"Extract from File","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"AI Agent","type":"ai_languageModel","index":0}]]},"Supabase Vector Store":{"ai_tool":[[{"node":"AI Agent","type":"ai_tool","index":0}]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"Supabase Vector Store","type":"ai_embedding","index":0}]]},"Structured Output Parser":{"ai_outputParser":[[{"node":"AI Agent","type":"ai_outputParser","index":0}]]},"Google Vision API":{"main":[[{"node":"Google Vision API Parser","type":"main","index":0}]]},"AI Agent":{"main":[[]]},"Google Vision API Parser":{"main":[[{"node":"AI Agent","type":"main","index":0}]]},"Extract from File":{"main":[[{"node":"Google Vision API","type":"main","index":0}]]},"Tesseract":{"main":[[]]}}	\N	f	\N
fcbeb2e7-8ba7-449b-9687-367455ebbb28	Z1IpndZ8ZbD2ETs1	system migration	2025-12-10 03:01:05.103+00	2025-12-10 03:01:05.103+00	[{"parameters":{"formTitle":"Upload PDF to \\"RAG\\"","formFields":{"values":[{"fieldLabel":"document_details","fieldType":"textarea","placeholder":"Describe the document, it's meaning and purpose","requiredField":true},{"fieldLabel":"upload_pdf","fieldType":"file","multipleFiles":false,"requiredField":true}]},"options":{}},"type":"n8n-nodes-base.formTrigger","typeVersion":2.2,"position":[-460,820],"id":"355e2bed-2eb8-4e5d-adf0-1e857c9ac03c","name":"On form submission","webhookId":"186195ae-0096-4bc4-a7e3-e88f8292747c"},{"parameters":{"content":"User to upload PDF and provide context","height":100,"color":4},"type":"n8n-nodes-base.stickyNote","position":[-340,280],"typeVersion":1,"id":"1352bdd2-fdb5-4b0d-8f4c-fdfc1398a245","name":"Sticky Note"},{"parameters":{"content":"LLM -> Review Extracted data and context","height":100,"width":160,"color":4},"type":"n8n-nodes-base.stickyNote","position":[840,140],"typeVersion":1,"id":"0873d093-4a4f-41fa-ba1a-77a7f4c0c275","name":"Sticky Note1"},{"parameters":{"content":"OCR layer later on for fallback","height":100,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[0,280],"typeVersion":1,"id":"1abe4a08-e0b5-4672-bfd8-bf5b65c4c260","name":"Sticky Note2"},{"parameters":{"content":"Merge -> Extracted data and context","height":100,"width":210,"color":4},"type":"n8n-nodes-base.stickyNote","position":[220,280],"typeVersion":1,"id":"5f634c48-336a-4663-a3ad-9b6194c60282","name":"Sticky Note3"},{"parameters":{"content":"Clean Extracted Data","height":100,"width":160,"color":4},"type":"n8n-nodes-base.stickyNote","position":[500,280],"typeVersion":1,"id":"ed7f2c63-664a-4909-9ce2-a850149b5452","name":"Sticky Note4"},{"parameters":{"content":"Clean output","height":100,"width":150,"color":4},"type":"n8n-nodes-base.stickyNote","position":[1040,140],"typeVersion":1,"id":"74f2a409-bd37-4a6d-853c-814d32a6e0c6","name":"Sticky Note5"},{"parameters":{"content":"Extract File","height":100,"width":160,"color":4},"type":"n8n-nodes-base.stickyNote","position":[0,140],"typeVersion":1,"id":"e67acc52-6ff7-4e57-b3d6-dc32980be29b","name":"Sticky Note7"},{"parameters":{"content":"HITL loop if LLM is unsure","height":100,"color":3},"type":"n8n-nodes-base.stickyNote","position":[840,280],"typeVersion":1,"id":"647bf12d-02ac-4f42-aecd-b3d33d13c632","name":"Sticky Note8"},{"parameters":{"content":"### Extract sub workflow","height":80,"width":740,"color":6},"type":"n8n-nodes-base.stickyNote","position":[0,0],"typeVersion":1,"id":"1fd7a128-84b3-471c-b8a6-c61c5eec5bc7","name":"Sticky Note10"},{"parameters":{"content":"Upload to Supabase Storage","height":100,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[1260,280],"typeVersion":1,"id":"c9be7568-99e4-499e-b945-2b621012ff2d","name":"Sticky Note11"},{"parameters":{"content":"Job status","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[0,420],"typeVersion":1,"id":"79e8e011-f264-4420-97f4-fc018e967665","name":"Sticky Note12"},{"parameters":{"content":"Job status","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[500,420],"typeVersion":1,"id":"47933bd7-2644-42a0-b277-86a65c4d3cf4","name":"Sticky Note13"},{"parameters":{"content":"Job status","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[840,420],"typeVersion":1,"id":"0778f980-c0f8-4d7e-a5a5-341e36810773","name":"Sticky Note14"},{"parameters":{"content":"Job status","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[1260,420],"typeVersion":1,"id":"51b821fe-5a38-4013-882a-faa789e67ce1","name":"Sticky Note15"},{"parameters":{"content":"Insert to Supabase DB","height":100,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[1480,280],"typeVersion":1,"id":"4139b724-8051-4018-99a5-527e70a2830f","name":"Sticky Note16"},{"parameters":{"content":"Job status","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[1480,420],"typeVersion":1,"id":"36c5ef81-6040-4e35-ac34-4877882f29ca","name":"Sticky Note17"},{"parameters":{"content":"### Embedder sub workflow","height":80,"width":260,"color":6},"type":"n8n-nodes-base.stickyNote","position":[1880,0],"typeVersion":1,"id":"c93ca72e-00d4-46ee-a12f-6afb505ac374","name":"Sticky Note18"},{"parameters":{"content":"Job status","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[1880,420],"typeVersion":1,"id":"fd66dea9-c79a-4e80-81f5-b84cfeaa64ba","name":"Sticky Note19"},{"parameters":{"content":"### Content reviewer / preparer","height":80,"width":920,"color":6},"type":"n8n-nodes-base.stickyNote","position":[840,0],"typeVersion":1,"id":"f4407db4-48ce-4daf-a5fa-0cc4ae89855e","name":"Sticky Note20"},{"parameters":{"operation":"pdf","binaryPropertyName":"upload_pdf","options":{"joinPages":true}},"type":"n8n-nodes-base.extractFromFile","typeVersion":1,"position":[0,680],"id":"fd6079a2-c78d-4ec4-bdb5-bc0f5ed1056c","name":"Extract from File"},{"parameters":{"jsCode":"const raw = items[0].json;\\nconst structured = items[1].json;\\n\\nreturn [{\\n  json: {\\n    text: raw.text,\\n    document_details: structured.document_details,\\n    upload_pdf: structured.upload_pdf,\\n    submitted_at: structured.submittedAt || new Date().toISOString()\\n  }\\n}];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[500,800],"id":"f177f1bf-00a1-4522-96f9-f8f8d3a4ad56","name":"Pre-Cleaning"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{"temperature":0}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[1020,1000],"id":"faee1495-f458-48f6-a74c-22f0717edaf4","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"model":{"__rl":true,"value":"claude-3-opus-20240229","mode":"list","cachedResultName":"Claude Opus 3"},"options":{"maxTokensToSample":4096,"temperature":0}},"type":"@n8n/n8n-nodes-langchain.lmChatAnthropic","typeVersion":1.3,"position":[1040,1180],"id":"dbe7dfd8-38e1-4a5e-9625-28135ad4f985","name":"Anthropic Chat Model","credentials":{"anthropicApi":{"id":"Wmz3AO5pPNbuodMG","name":"Anthropic account"}}},{"parameters":{},"type":"n8n-nodes-base.merge","typeVersion":3.2,"position":[300,800],"id":"11312775-14e9-407a-89a9-28f8cddddb23","name":"Merge"},{"parameters":{"jsonSchemaExample":"[\\n  {\\n    \\"content\\": \\"Document Type: Project Charter | Document Date: Mar 7, 2025 | Document Author: Marco San Juan\\"\\n  },\\n  {\\n    \\"content\\": \\"Problem Statement | Equinox Gold lacks centralized enterprise monitoring capability, resulting in fragmented oversight of technology assetsany system or device that transmits or receives information. Monitoring is currently decentralized across teams and service providers, using siloed tools with limited visibility and coordination. This leads to inefficiencies such as missed or delayed responses, false positives, and no data correlation, increasing operational and security risks.\\"\\n  },\\n  {\\n    \\"content\\": \\"Solution Overview | Equinox Gold will establish a centralized enterprise monitoring capability to enhance visibility, coordination, and decision-making across all technology assets. This initiative will create a standardized, scalable approach that improves monitoring effectiveness while aligning with existing operations. The implementation approach will be determined through Discovery and Design, ensuring flexibility based on findings.\\"\\n  },\\n  {\\n    \\"content\\": \\"Project Role: IT Architect | Resource Name: Greg Kornatowsky\\"\\n  },\\n  {\\n    \\"content\\": \\"Stakeholder: VP | Role & Involvement: Approve key decisions, ensure resource availability, support decision-making | Who: Miller Dussan\\"\\n  }\\n]"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.3,"position":[1360,980],"id":"4320b5aa-adc4-440e-9635-e809b7b13ac3","name":"Structured Output Parser"},{"parameters":{"mode":"insert","tableName":{"__rl":true,"value":"document_vectors","mode":"list","cachedResultName":"document_vectors"},"options":{}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.2,"position":[1940,800],"id":"ba82953f-34b2-488b-a283-e99468e944ab","name":"Supabase Vector Store","credentials":{"supabaseApi":{"id":"LDhBmd2aeXNRoFRh","name":"Supabase - PromptOS"}}},{"parameters":{"options":{"batchSize":200,"stripNewLines":true}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[1940,600],"id":"4127791c-0628-4877-b9ea-7169bc225044","name":"Embeddings OpenAI","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.documentDefaultDataLoader","typeVersion":1,"position":[2180,600],"id":"80299978-8744-4568-bf89-532203ddd400","name":"Default Data Loader"},{"parameters":{"chunkSize":800,"chunkOverlap":100,"options":{}},"type":"@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter","typeVersion":1,"position":[2320,820],"id":"54749fcc-8a82-4b1f-83fe-e58147c3a268","name":"Recursive Character Text Splitter"},{"parameters":{"jsCode":"const doc = $json.output;\\n\\nconst safe = str => (str || 'unknown').toLowerCase().replace(/\\\\s+/g, '-').replace(/[^\\\\w\\\\-]/g, '');\\nconst baseId = `${safe(doc.document_author)}-${safe(doc.document_type)}`;\\nconst datePart = (doc.document_date || '').replace(/[^a-zA-Z0-9]/g, '') || 'unknown';\\n\\nconst chunks = [];\\n\\n// Metadata chunk as content only\\nconst metadataEntries = Object.entries({\\n  'Document Type': doc.document_type,\\n  'Document Date': doc.document_date,\\n  'Document Author': doc.document_author\\n}).filter(([_, v]) => v).map(([k, v]) => `${k}: ${v}`);\\nif (metadataEntries.length) {\\n  chunks.push({\\n    json: {\\n      content: metadataEntries.join(' | ')\\n    }\\n  });\\n}\\n\\n// Sections\\n(doc.document_sections || []).forEach((section) => {\\n  const title = section.title?.trim() || '';\\n  const body = section.content?.trim() || '';\\n  const tables = (section.tables || [])\\n    .map(table => {\\n      const headers = table.headers || [];\\n      return table.rows.map(row =>\\n        headers.map((h, i) => `${h}: ${row[i] || ''}`).join(' | ')\\n      ).join('\\\\n');\\n    })\\n    .join('\\\\n\\\\n');\\n\\n  const bodyOrTables = [body, tables].filter(Boolean).join('\\\\n\\\\n').trim();\\n\\n  // NEW: split and extract any standalone role lines\\n  const candidateLines = (bodyOrTables || '').split('\\\\n').map(l => l.trim());\\n  candidateLines.forEach(line => {\\n    if (/role[:]?/i.test(line) && /\\\\|/.test(line)) {\\n      chunks.push({\\n        json: {\\n          content: line\\n        }\\n      });\\n    }\\n  });\\n\\n  if (bodyOrTables) {\\n    const full = [title, bodyOrTables].filter(Boolean).join(' | ').trim();\\n    chunks.push({\\n      json: {\\n        content: full\\n      }\\n    });\\n  }\\n});\\n\\nreturn chunks;"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1720,980],"id":"b83d4f17-3275-4917-91f2-f01d0df55614","name":"Flatten to vector-friendly chunks","disabled":true},{"parameters":{"content":"Embedding process","height":100,"width":160,"color":4},"type":"n8n-nodes-base.stickyNote","position":[1880,280],"typeVersion":1,"id":"130c3bd1-0e19-45a1-96e5-7ecc90ed25ac","name":"Sticky Note6"},{"parameters":{"promptType":"define","text":"=Here is structured document content previously cleaned and segmented.\\n\\nSTRUCTURED CONTENT:\\n{{ $json.text }}\\n\\nPlease analyze and plan the final chunk boundaries for vector embedding. Each output chunk should be semantically meaningful and fit within token limits.","hasOutputParser":true,"messages":{"messageValues":[{"message":"=You are a semantic chunking assistant.\\n\\nYour role is to analyze pre-structured content and generate final chunks for embedding in a vector database.\\n\\nInstructions:\\n\\n1. You will receive a list of structured content blocks representing sections or subsections from a document.\\n2. Your job is to group, merge, or split these into final chunks that are:\\n   - Semantically coherent\\n   - Each under ~500 tokens (~2000 characters) unless content integrity requires more\\n   - Suitable for embedding and retrieval\\n3. Avoid splitting mid-sentence or between logically connected paragraphs.\\n4. Do not paraphrase, summarize, or hallucinate  preserve original text.\\n5. Maintain the original ordering of content unless there's a strong semantic reason to reorder (rare).\\n6. Treat tabular text or list-like entries as atomic when possible.\\n\\n RETURN FORMAT:\\nReturn raw JSON with a top-level array called `output`, consisting only of objects with a single `content` field.\\n\\nExample:\\n[\\n  {\\n    \\"output\\": [\\n      { \\"content\\": \\"string\\" },\\n      { \\"content\\": \\"string\\" }\\n    ]\\n  }\\n]\\n\\nNotes:\\n- This output will be directly embedded; each `content` block should be optimized for standalone utility in retrieval contexts.\\n- No Markdown, no comments, no code fences  just raw JSON."}]},"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[1120,800],"id":"11dcc306-2ecc-4e06-bfb0-e81131db1351","name":"chunk_planner"},{"parameters":{"promptType":"define","text":"=Here is the raw PDF content and associated context. Use both the extracted text and any metadata to structure and flatten the document.\\n\\nTEXT:\\n{{ $json.text }}\\n\\nCONTEXT / METADATA (may be empty or partial):\\n{{ $json.document_details || 'null' }}","messages":{"messageValues":[{"message":"=You are a document structuring and flattening assistant.\\nYour job is to analyze raw PDF content and produce clean, structured JSON ready for downstream chunking and embedding into a vector database.\\n\\nInstructions:\\n\\n1. Use the text and any provided metadata to determine high-level context.\\n2. Segment the text into meaningful sections and subsections using clear headers, numbered patterns, or layout hints.\\n3. Detect tabular data within sections and extract it as a structured tables array before transforming.\\n   - Preserve row and column boundaries.\\n   - Transform tables into readable semantic units without losing cell granularity.\\n4. For each section and subsection, transform the title, content, and tables into coherent semantic units:\\n   - Each unit should be self-contained and conceptually distinct.\\n   - Preserve exact original language with no summarizing, paraphrasing, or hallucinating.\\n5. Maintain distinct boundaries between subsections  do not merge unrelated content into a single unit.\\n6. Clean all text by:\\n   - Stripping dotted leader lines (e.g., \\"Section Name ............ 3\\").\\n   - Removing layout artifacts or scan noise (e.g., DocuSign IDs, headers/footers, page numbers).\\n   - Ignoring or flattening repeated Table of Contents lines unless they add semantic value.\\n\\nThis output will be passed to a downstream LLM or process for final chunk planning and token-based slicing.\\n\\n RETURN FORMAT:  \\nReturn raw JSON with a top-level array called `output`, consisting only of objects with a single `content` field.\\n\\nExample:  \\n[\\n  {\\n    \\"output\\": [\\n      { \\"content\\": \\"string\\" },\\n      { \\"content\\": \\"string\\" }\\n    ]\\n  }\\n]\\n\\nNotes:  \\n- `output` must be a flattened list of all semantic units representing the full document.\\n- Do not include `document_type`, `document_date`, `document_author`, or any metadata.\\n- Output only raw JSON  no Markdown, no code fences."}]},"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[760,800],"id":"6755bca2-1be8-4023-b08e-dd1c357304fb","name":"content_cleaner"},{"parameters":{"jsCode":"const MAX_CHARS = 2000; // Approx ~500 tokens\\nconst chunks = [];\\n\\n($json.output || []).forEach(item => {\\n  const content = item.content?.trim();\\n  if (!content) return;\\n\\n  if (content.length <= MAX_CHARS) {\\n    chunks.push({ json: { content } });\\n  } else {\\n    let start = 0;\\n    while (start < content.length) {\\n      const chunk = content.slice(start, start + MAX_CHARS);\\n      chunks.push({ json: { content: chunk } });\\n      start += MAX_CHARS;\\n    }\\n  }\\n});\\n\\nreturn chunks;"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1500,800],"id":"6a5eedc2-3523-415f-940a-1fda8d40581d","name":"token_guard"},{"parameters":{"content":"Understand use of metadata","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[2120,420],"typeVersion":1,"id":"228e5804-2b7b-4323-8133-941b11d86f05","name":"Sticky Note21"},{"parameters":{"content":"Consider making use of metadata","height":80,"width":160,"color":3},"type":"n8n-nodes-base.stickyNote","position":[1260,540],"typeVersion":1,"id":"a013c2b5-ffb8-4a3f-8257-6fcdd50b5d61","name":"Sticky Note22"}]	{"On form submission":{"main":[[{"node":"Extract from File","type":"main","index":0},{"node":"Merge","type":"main","index":1}]]},"Pre-Cleaning":{"main":[[{"node":"content_cleaner","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"content_cleaner","type":"ai_languageModel","index":0},{"node":"chunk_planner","type":"ai_languageModel","index":0}]]},"Extract from File":{"main":[[{"node":"Merge","type":"main","index":0}]]},"Merge":{"main":[[{"node":"Pre-Cleaning","type":"main","index":0}]]},"Structured Output Parser":{"ai_outputParser":[[{"node":"chunk_planner","type":"ai_outputParser","index":0}]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"Supabase Vector Store","type":"ai_embedding","index":0}]]},"Default Data Loader":{"ai_document":[[{"node":"Supabase Vector Store","type":"ai_document","index":0}]]},"Recursive Character Text Splitter":{"ai_textSplitter":[[{"node":"Default Data Loader","type":"ai_textSplitter","index":0}]]},"content_cleaner":{"main":[[{"node":"chunk_planner","type":"main","index":0}]]},"chunk_planner":{"main":[[{"node":"token_guard","type":"main","index":0}]]},"token_guard":{"main":[[{"node":"Supabase Vector Store","type":"main","index":0}]]}}	\N	f	\N
e532766d-b3ec-48f0-af71-026b1c88f19b	lVEEiTzBjjAxVkFT	system migration	2025-12-10 03:01:05.103+00	2025-12-10 03:01:05.103+00	[{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[1440,340],"id":"9194d4a9-48a2-4005-b17a-c344258d5923","name":"Embeddings OpenAI","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"promptType":"define","text":"={{ $json.chatInput }}","options":{"systemMessage":"=Before responding, reflect on the nature of the issue.  \\nAsk yourself:  \\n- Does this involve sin, sacraments, moral teaching, or Church doctrine?  \\n- Would consulting authoritative sources deepen the response?\\n\\nIf so, use the `doctrine_retriever` tool to find the most relevant Church teaching, Catechism entry, or doctrinal text.  \\nSummarize key insights and cite the source when helpful.\\n\\nIf the question reflects modern concerns, news, or lived issues that may benefit from online context, use the `tavily_context_tool` to retrieve relevant blog posts, summaries, or news articles.  \\nUse this background to enrich your answer with current reflections, examples, or analogies.\\n\\nIf the user would benefit from a saints unique spiritual perspective or charism, use the `saint_retriever` tool to draw from the life, writings, and voice of the most relevant saint.\\n\\n---\\n\\n#TOOLS  \\n- `doctrine_retriever`: Use when doctrinal or moral teachings from the Church are needed.  \\n- `tavily_context_tool`: Use for modern issues, culture, technology, or lived experience.  \\n- `saint_retriever`: Use when the question invites a spiritual companion, saintly wisdom, or unique theological voice.\\n\\n---\\n\\nYou are a Catholic saint chosen to guide this soul today.  \\nYou speak with spiritual clarity, pastoral care, and personal insight.  \\nYou draw from scripture, Church teaching, your lived experience, and your unique charism.  \\n\\nRespond as **yourself**  the saint.  \\nTeach in your tone and voice.  \\nWhen needed, reference the Catechism, Bible, or tradition.  \\nWhen helpful, speak directly and personally to the heart.\\n\\nConclude with **one practical step** they can take today to grow in truth and love.\\n\\nAvoid generic answers. Speak as a saint would  grounded in faith, guided by grace, and oriented toward Heaven."}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2,"position":[800,-120],"id":"f057377e-9b9e-455c-bb16-7c8166b8e644","name":"SaintsGPT"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[440,180],"id":"71b973db-a99b-48d0-9011-7508a6e1bae4","name":"OpenAI Chat Model (SaintsGPT)","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"mode":"retrieve-as-tool","toolName":"doctrine_retriever","toolDescription":"Retrieve doctrinal content from Supabase vector store","tableName":{"__rl":true,"value":"doctrine_vectors","mode":"list","cachedResultName":"doctrine_vectors"},"options":{"queryName":"match_documents"}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.1,"position":[1300,180],"id":"f409883f-8dc4-473f-985b-67c43ca6b6b7","name":"Doctrine Retriever","credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account - SGPT"}}},{"parameters":{"query":"=Find Catholic blog posts, reflections, or news related to this concern: \\"{{ $json[\\"What is the issue?\\"] }}\\", asked by someone age {{ $json[\\"Age?\\"] }}, on behalf of {{ $json[\\"Who is this for?\\"] }}.\\n","options":{}},"type":"@tavily/n8n-nodes-tavily.tavilyTool","typeVersion":1,"position":[800,180],"id":"60bca3e3-bac7-40d9-8e9f-87b6f4eed5aa","name":"Tavily Context Tool","credentials":{"tavilyApi":{"id":"vsot3gBI1jI0kEsa","name":"Tavily account"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.chatTrigger","typeVersion":1.1,"position":[460,-120],"id":"701c87d2-712b-4f2f-ac1a-033a21a45989","name":"When chat message received","webhookId":"1fd59423-811f-42a8-abb7-4156e3022460"},{"parameters":{"contextWindowLength":10},"type":"@n8n/n8n-nodes-langchain.memoryBufferWindow","typeVersion":1.3,"position":[620,180],"id":"676971b4-6448-43f5-9139-09d63620d644","name":"Simple Memory"},{"parameters":{"mode":"retrieve-as-tool","toolName":"saint_retriever","toolDescription":"Determine Saint from Supabase vector store","tableName":{"__rl":true,"value":"saint_vectors","mode":"list","cachedResultName":"saint_vectors"},"options":{"queryName":"match_documents"}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.2,"position":[960,180],"id":"da3e23ac-fd16-4cd6-a094-7606df880e54","name":"Saint Retriever","credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account - SGPT"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[1100,340],"id":"6061d336-d383-48fb-b875-fa945bf8f177","name":"Embeddings OpenAI1","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}}]	{"Embeddings OpenAI":{"ai_embedding":[[{"node":"Doctrine Retriever","type":"ai_embedding","index":0}]]},"SaintsGPT":{"main":[[]]},"OpenAI Chat Model (SaintsGPT)":{"ai_languageModel":[[{"node":"SaintsGPT","type":"ai_languageModel","index":0}]]},"Doctrine Retriever":{"ai_tool":[[{"node":"SaintsGPT","type":"ai_tool","index":0}]]},"Tavily Context Tool":{"ai_tool":[[{"node":"SaintsGPT","type":"ai_tool","index":0}]]},"When chat message received":{"main":[[{"node":"SaintsGPT","type":"main","index":0}]]},"Simple Memory":{"ai_memory":[[{"node":"SaintsGPT","type":"ai_memory","index":0}]]},"Saint Retriever":{"ai_tool":[[{"node":"SaintsGPT","type":"ai_tool","index":0}]]},"Embeddings OpenAI1":{"ai_embedding":[[{"node":"Saint Retriever","type":"ai_embedding","index":0}]]}}	\N	f	\N
f4db865a-b8ef-4af4-ada9-a77d313e17fb	9FSKLpPjh9xCoQ1M	system migration	2025-12-10 03:01:05.103+00	2025-12-10 03:01:05.103+00	[{"parameters":{"method":"POST","url":"https://api.firecrawl.dev/v1/scrape","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Authorization","value":"Bearer fc-ba08650a21e54793ab2e8e7fd6723872"},{"name":"Content-Type","value":"application/json"}]},"sendBody":true,"bodyParameters":{"parameters":[{"name":"url","value":"https://www.newadvent.org/summa/2002.htm"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[140,300],"id":"20cf508b-3276-4ac5-9889-b21fe718be55","name":"Call Firecrawl","disabled":true},{"parameters":{"resource":"Default","operation":"Scrape A Url And Get Its Content","url":"={{ $json.url }}","formats":["markdown"],"requestOptions":{}},"type":"n8n-nodes-firecrawl.fireCrawl","typeVersion":1,"position":[820,100],"id":"63757e82-42e9-49fb-9cad-aac2b6d48542","name":"FireCrawl","credentials":{"fireCrawlApi":{"id":"kEVBU6maOxRfSKdj","name":"FireCrawl account"}}},{"parameters":{"jsCode":"function simpleHash(str) {\\n  let hash = 0;\\n  if (!str || str.length === 0) return hash.toString();\\n  for (let i = 0; i < str.length; i++) {\\n    const chr = str.charCodeAt(i);\\n    hash = ((hash << 5) - hash) + chr;\\n    hash |= 0; // Convert to 32bit integer\\n  }\\n  return hash.toString();\\n}\\n\\nfunction extractHostname(link) {\\n  if (!link) return \\"unknown\\";\\n  const match = link.match(/^https?:\\\\/\\\\/([^\\\\/?#]+)(?:[\\\\/?#]|$)/i);\\n  return match ? match[1].replace(/^www\\\\./, \\"\\") : \\"unknown\\";\\n}\\n\\n// Input\\nconst scraped = $json.data;\\nconst markdown = scraped.markdown || \\"EMPTY_CONTENT\\";\\nconst title = scraped.metadata?.title || \\"Untitled\\";\\nconst url = scraped.metadata?.sourceURL || scraped.metadata?.url || \\"unknown\\";\\n\\n// Normalized values\\nconst slug = title.toLowerCase().replace(/[^a-z0-9]+/g, \\"-\\").replace(/(^-|-$)/g, \\"\\");\\nconst uniqueId = `${slug}-${simpleHash(url)}`;\\nconst source = extractHostname(url);\\nconst contentHash = simpleHash(markdown);\\n\\n// Heuristic doc_type and optional voice_style (adjust as needed)\\nconst docType = url.includes(\\"/saints/\\") ? \\"saint_bio\\" : \\"doctrine\\";\\nconst voiceStyle = docType === \\"saint_bio\\" ? \\"narrative\\" : null;\\nconst saintPrimary = docType === \\"saint_bio\\" ? slug : null;\\n\\nreturn [\\n  {\\n    json: {\\n      doc_id: uniqueId,\\n      title,\\n      source_type: \\"firecrawl\\",\\n      source_id: uniqueId,\\n      clean_text: markdown,\\n      url,\\n      source,\\n      content_hash: contentHash,\\n      status: \\"pending\\",\\n      doc_type: docType,\\n      voice_style: voiceStyle,\\n      saint_primary: saintPrimary,\\n      created_at: new Date().toISOString()\\n    }\\n  }\\n];\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1000,100],"id":"0d4f74da-3881-437e-b8e9-15e446158aa8","name":"Clean-up"},{"parameters":{"method":"POST","url":"https://ukpvaebwabvvipebebnj.supabase.co/rest/v1/raw_doctrine_docs","authentication":"predefinedCredentialType","nodeCredentialType":"supabaseApi","sendBody":true,"bodyParameters":{"parameters":[{"name":"source_type","value":"={{ $('Clean-up').item.json.source_type }}"},{"name":"source_id","value":"={{ $('Clean-up').item.json.source_id }}"},{"name":"title","value":"={{ $('Clean-up').item.json.title }}"},{"name":"url","value":"=web: {{ $('Loop Over URLs').item.json.url }}"},{"name":"clean_text","value":"={{ $('Unwrap output').item.json.purified_content }}"},{"name":"status","value":"={{ $('Clean-up').item.json.status }}"},{"name":"content_hash","value":"={{ $('Clean-up').item.json.content_hash }}"},{"name":"source","value":"web"},{"name":"voice_style","value":"={{ $('Unwrap output').item.json.voice_style }}"},{"name":"doc_type","value":"={{ $('Clean-up').item.json.doc_type }}"},{"name":"saint_primary","value":"={{ $('Unwrap output').item.json.associated_saint }}"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[2440,680],"id":"086384b7-c3e9-4817-bf2b-f45d58faad82","name":"Insert to Supabase","credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account - SGPT"}}},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"loose","version":2},"conditions":[{"id":"09432d0f-91ba-471f-a614-8bb5d7772e4e","leftValue":"={{ $json.id }}","rightValue":0,"operator":{"type":"string","operation":"notExists","singleValue":true}}],"combinator":"and"},"looseTypeValidation":true,"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[2120,580],"id":"df3ea4e7-2ccd-4f7b-86c4-e80175e2ee00","name":"If"},{"parameters":{"formTitle":"Firecrawl URL scraper","formFields":{"values":[{"fieldLabel":"Data","fieldType":"file","multipleFiles":false,"acceptFileTypes":".csv","requiredField":true}]},"options":{}},"type":"n8n-nodes-base.formTrigger","typeVersion":2.2,"position":[-20,60],"id":"ab644efa-b342-4f79-a68e-e976debccfa7","name":"On form submission","webhookId":"d27b6649-c42e-47a7-a8aa-201a40c8cb18"},{"parameters":{"binaryPropertyName":"Data","options":{}},"type":"n8n-nodes-base.extractFromFile","typeVersion":1,"position":[200,60],"id":"d1c496b5-a015-4749-8310-0f8bf010e682","name":"Extract from File"},{"parameters":{"jsCode":"return items.map(item => {\\n  const keys = Object.keys(item.json);\\n  const urlKey = keys.find(k => k.trim().toLowerCase() === \\"url\\");\\n  const url = item.json[urlKey] || \\"\\";\\n  \\n  return {\\n    json: {\\n      url: url.trim()\\n    }\\n  };\\n});"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[400,60],"id":"9c135746-e40d-41a1-9fbf-70b834a5aadf","name":"Clean"},{"parameters":{"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[600,60],"id":"9ff2c11b-9753-4f87-8149-b1d85e482b23","name":"Loop Over URLs"},{"parameters":{"url":"=https://ukpvaebwabvvipebebnj.supabase.co/rest/v1/raw_doctrine_docs?source_id=eq.{{ $('Clean-up').item.json.source_id }}","authentication":"predefinedCredentialType","nodeCredentialType":"supabaseApi","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1860,100],"id":"70d01b0d-3f01-49ae-a8c2-95cfd8e51044","name":"Query Supabase raw_doctrine_docs","alwaysOutputData":true,"credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account - SGPT"}}},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[1180,300],"id":"87dcd06f-977f-4fdd-8fe3-3c78c40c0e41","name":"OpenAI Chat Model1","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"promptType":"define","text":"=title:\\n{{ $json.title }}\\n\\nclean_text: \\n{{ $json.clean_text }}","hasOutputParser":true,"options":{"systemMessage":"You are a strict formatter and data preserver. Given input content, your task is to remove noise and clean up formatting**but you must not summarize, shorten, paraphrase, or omit any structured content** (rubrics, examples, headings, markdown, etc.).\\n\\nReturn only a raw JSON object in the following format, with no explanation, markdown, or code blocks:\\n\\n{\\n  \\"purified_content\\": \\"<cleaned full content>\\",\\n  \\"associated_saint\\": \\"<clearly identified saint name, or 'doctrine'>\\",\\n  \\"saint_canonical_id\\": \\"<canonical_id in snake_case, or 'doctrine'>\\",\\n  \\"voice_style\\": \\"<one of: doctrinal, pastoral, mystical, contemplative, devotional, affectionate, childlike, zealous>\\"\\n}\\n\\nDo not assume or default to any saint.  \\nIf no saint is clearly mentioned, return:\\n- \\"associated_saint\\": \\"doctrine\\"\\n- \\"saint_canonical_id\\": \\"doctrine\\"\\n\\nIf a specific saint is referenced clearly in the content  including by name, title, or unique identifiers (such as feast descriptions or doctrinal declarations)  match it accurately and assign the appropriate canonical_id. For Mary, this includes any unambiguous reference to her identity as the Mother of God.\\n"}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2,"position":[1240,100],"id":"81aeb250-d051-4a64-86ef-12a5c7ddea92","name":"Purify Content"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[1180,540],"id":"440c2890-1453-4411-8a9d-ca137e43d9f8","name":"Embeddings OpenAI","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"mode":"retrieve-as-tool","toolName":"saint_retriever","toolDescription":"Determine Saint from Supabase vector store","tableName":{"__rl":true,"value":"saint_vectors","mode":"list","cachedResultName":"saint_vectors"},"options":{"queryName":"match_documents"}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.1,"position":[1320,360],"id":"f4d150e8-01ff-4407-98b0-49c8df60d5c0","name":"Saint Retriever","credentials":{"supabaseApi":{"id":"yeyfgM2GRQTJScoM","name":"Supabase account - SGPT"}}},{"parameters":{"jsCode":"const result = $json[\\"output\\"];\\n\\nreturn {\\n  purified_content: result.purified_content,\\n  associated_saint: result.associated_saint,\\n  saint_canonical_id: result.saint_canonical_id,\\n  voice_style: result.voice_style\\n};\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1640,100],"id":"a197683c-a686-40aa-a8d0-99f356bc090b","name":"Unwrap output"},{"parameters":{"jsonSchemaExample":"{\\n  \\"purified_content\\": \\"string\\",\\n  \\"associated_saint\\": \\"string\\",\\n  \\"saint_canonical_id\\": \\"string\\",\\n  \\"voice_style\\": \\"string\\"\\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[1620,320],"id":"4d60838e-3235-41c0-9d80-af75b210ecf4","name":"Structured Output Parser"},{"parameters":{"content":"TODO: Consider moving this before purifying content","height":80},"type":"n8n-nodes-base.stickyNote","position":[1780,0],"typeVersion":1,"id":"ace9f1c0-a9a6-48d3-a92c-5235ca4a2794","name":"Sticky Note"}]	{"Call Firecrawl":{"main":[[]]},"Clean-up":{"main":[[{"node":"Purify Content","type":"main","index":0}]]},"If":{"main":[[{"node":"Insert to Supabase","type":"main","index":0}],[{"node":"Loop Over URLs","type":"main","index":0}]]},"FireCrawl":{"main":[[{"node":"Clean-up","type":"main","index":0}]]},"On form submission":{"main":[[{"node":"Extract from File","type":"main","index":0}]]},"Extract from File":{"main":[[{"node":"Clean","type":"main","index":0}]]},"Clean":{"main":[[{"node":"Loop Over URLs","type":"main","index":0}]]},"Insert to Supabase":{"main":[[{"node":"Loop Over URLs","type":"main","index":0}]]},"Loop Over URLs":{"main":[[],[{"node":"FireCrawl","type":"main","index":0}]]},"Query Supabase raw_doctrine_docs":{"main":[[{"node":"If","type":"main","index":0}]]},"OpenAI Chat Model1":{"ai_languageModel":[[{"node":"Purify Content","type":"ai_languageModel","index":0}]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"Saint Retriever","type":"ai_embedding","index":0}]]},"Purify Content":{"main":[[{"node":"Unwrap output","type":"main","index":0}]]},"Saint Retriever":{"ai_tool":[[{"node":"Purify Content","type":"ai_tool","index":0}]]},"Unwrap output":{"main":[[{"node":"Query Supabase raw_doctrine_docs","type":"main","index":0}]]},"Structured Output Parser":{"ai_outputParser":[[{"node":"Purify Content","type":"ai_outputParser","index":0}]]}}	\N	f	\N
1f229709-f50c-4880-9713-94a289c8517a	1Jgxp5jI340vBQ59	system migration	2025-12-10 03:01:05.103+00	2025-12-10 03:01:05.103+00	[{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[660,240],"id":"43b53a7d-a294-4126-8818-d19f33a74795","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"jsonSchemaExample":"{\\n  \\"executive_summary\\": \\"The integration project advanced with initial setup discussions and early access configuration. Sarah Patel confirmed OAuth is required for the API, and John Lee raised concerns about missing access to the dev environment. Documentation links were shared to guide next steps. The team aims to resolve access issues by end of week to maintain the integration timeline.\\",\\n  \\"key_decisions\\": [\\n    {\\n      \\"date\\": \\"2025-06-10\\",\\n      \\"decision\\": \\"OAuth authentication will be used instead of certificate-based authentication, confirmed by Sarah Patel.\\"\\n    }\\n  ],\\n  \\"entries\\": [\\n    {\\n      \\"date\\": \\"2025-06-09\\",\\n      \\"text\\": \\"John Lee reported that he could not access the development environment and requested admin credentials. He flagged this as a blocker for testing the integration scripts.\\"\\n    },\\n    {\\n      \\"date\\": \\"2025-06-10\\",\\n      \\"text\\": \\"Sarah Patel confirmed that OAuth will be required for authentication and shared the official integration documentation. She requested that the access issue be resolved by Friday.\\"\\n    }\\n  ],\\n  \\"links\\": [\\n    {\\n      \\"url\\": \\"https://company.sharepoint.com/integration-guide\\",\\n      \\"description\\": \\"Integration setup documentation for internal APIs.\\"\\n    }\\n  ]\\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[880,240],"id":"ad3aa65e-c60d-43f4-bb21-87bc7f5e4481","name":"Structured Output Parser"},{"parameters":{"promptType":"define","text":"=Here is the email content.\\n\\nPlain text:\\n{{ $json.text }}\\n\\nHTML:\\n{{ $json.textAsHtml }}\\n","hasOutputParser":true,"messages":{"messageValues":[{"message":"=You are a project communication analyst that transforms structured project email threads into JSON summaries for tracking and storage.\\n\\nINPUT: A JSON object with dated entries, each containing sender, message summary, and optional URLs.\\n\\nYour output must contain:\\n\\n1. \\"executive_summary\\" (150300 words)  summarize key decisions, blockers, progress, and next steps. Use names, systems, and dates when available.\\n\\n2. \\"key_decisions\\"  a list of decisions with their dates and descriptions.\\n\\n3. \\"entries\\"  chronological summaries (24 sentences per entry). Do not merge unrelated messages. Use concrete details.\\n\\n4. \\"links\\"  list all URLs with a short description of their project relevance. Mark broken or unknown links as \\"URL inaccessible\\".\\n\\nReturn valid JSON in this format:\\n```json\\n{\\n  \\"executive_summary\\": \\"...\\",\\n  \\"key_decisions\\": [\\n    { \\"date\\": \\"YYYY-MM-DD\\", \\"decision\\": \\"...\\" }\\n  ],\\n  \\"entries\\": [\\n    { \\"date\\": \\"YYYY-MM-DD\\", \\"text\\": \\"...\\" }\\n  ],\\n  \\"links\\": [\\n    { \\"url\\": \\"...\\", \\"description\\": \\"...\\" }\\n  ]\\n}\\n```\\nFocus on completeness, clarity, and accuracy. Do not omit earlier emails. Do not include generalities."}]},"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[560,20],"id":"1d9020a5-6acc-4ebb-bb4b-7a4ba48cce45","name":"Analyzer - JSON"},{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[60,20],"id":"99514f83-7de0-4213-932c-aab17f688790","name":"When clicking Execute workflow"},{"parameters":{"operation":"getAll","filters":{"readStatus":"unread"}},"type":"n8n-nodes-base.gmail","typeVersion":2.1,"position":[280,260],"id":"724ce6dc-9e7a-42c2-b01c-c18b35c34238","name":"Get unread emails","webhookId":"24c8cd68-09fa-45f0-bd69-92bccc1a9b32","credentials":{"gmailOAuth2":{"id":"IG7DVyVFauVNumq4","name":"Gmail account"}},"disabled":true},{"parameters":{"operation":"get","messageId":"=197654753980f086","simple":false,"options":{}},"type":"n8n-nodes-base.gmail","typeVersion":2.1,"position":[320,20],"id":"8e0588dc-754f-48f0-904d-e4e47d5307d7","name":"Get Trevor's email","webhookId":"bd568a39-6eba-496c-a80a-b96769b2d3cc","credentials":{"gmailOAuth2":{"id":"IG7DVyVFauVNumq4","name":"Gmail account"}}}]	{"OpenAI Chat Model":{"ai_languageModel":[[{"node":"Analyzer - JSON","type":"ai_languageModel","index":0}]]},"Structured Output Parser":{"ai_outputParser":[[{"node":"Analyzer - JSON","type":"ai_outputParser","index":0}]]},"When clicking Execute workflow":{"main":[[{"node":"Get Trevor's email","type":"main","index":0}]]},"Analyzer - JSON":{"main":[[]]},"Get unread emails":{"main":[[]]},"Get Trevor's email":{"main":[[{"node":"Analyzer - JSON","type":"main","index":0}]]}}	\N	f	\N
78ee547d-c654-4d47-8c7e-27d5dce19b93	si1TRBRSoeD11mnt	system migration	2025-12-10 03:01:05.103+00	2025-12-10 03:01:05.103+00	[{"parameters":{"formTitle":"PDF upload","formFields":{"values":[{"fieldLabel":"Upload PDF","fieldType":"file","multipleFiles":false,"acceptFileTypes":".pdf","requiredField":true}]},"options":{}},"type":"n8n-nodes-base.formTrigger","typeVersion":2.2,"position":[540,680],"id":"054e32d5-ed42-4576-b9dc-3f32040dd37b","name":"On form submission","webhookId":"f6765c8a-9e0d-4151-a8bf-319587c41816"},{"parameters":{"operation":"pdf","binaryPropertyName":"Upload_PDF","options":{}},"type":"n8n-nodes-base.extractFromFile","typeVersion":1,"position":[800,680],"id":"14b71870-de6b-4dec-9201-f928ad64203e","name":"Extract from File"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[1020,880],"id":"40c2ed42-920a-413a-a784-1db44b89c16c","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"jsonSchemaExample":"{\\n  \\"executive_summary\\": \\"The integration project advanced with initial setup discussions and early access configuration. Sarah Patel confirmed OAuth is required for the API, and John Lee raised concerns about missing access to the dev environment. Documentation links were shared to guide next steps. The team aims to resolve access issues by end of week to maintain the integration timeline.\\",\\n  \\"key_decisions\\": [\\n    {\\n      \\"date\\": \\"2025-06-10\\",\\n      \\"decision\\": \\"OAuth authentication will be used instead of certificate-based authentication, confirmed by Sarah Patel.\\"\\n    }\\n  ],\\n  \\"entries\\": [\\n    {\\n      \\"date\\": \\"2025-06-09\\",\\n      \\"text\\": \\"John Lee reported that he could not access the development environment and requested admin credentials. He flagged this as a blocker for testing the integration scripts.\\"\\n    },\\n    {\\n      \\"date\\": \\"2025-06-10\\",\\n      \\"text\\": \\"Sarah Patel confirmed that OAuth will be required for authentication and shared the official integration documentation. She requested that the access issue be resolved by Friday.\\"\\n    }\\n  ],\\n  \\"links\\": [\\n    {\\n      \\"url\\": \\"https://company.sharepoint.com/integration-guide\\",\\n      \\"description\\": \\"Integration setup documentation for internal APIs.\\"\\n    }\\n  ]\\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[1240,880],"id":"a8e3bf94-498e-47b8-bb47-272ce9bddd9b","name":"Structured Output Parser"},{"parameters":{"promptType":"define","text":"=Here is the structured project data with dated entries and reference links.\\n\\nDATA:\\n{{ JSON.stringify($json) }}","hasOutputParser":true,"messages":{"messageValues":[{"message":"=You are a project communication analyst that transforms structured project email threads into JSON summaries for tracking and storage.\\n\\nINPUT: A JSON object with dated entries, each containing sender, message summary, and optional URLs.\\n\\nYour output must contain:\\n\\n1. \\"executive_summary\\" (150300 words)  summarize key decisions, blockers, progress, and next steps. Use names, systems, and dates when available.\\n\\n2. \\"key_decisions\\"  a list of decisions with their dates and descriptions.\\n\\n3. \\"entries\\"  chronological summaries (24 sentences per entry). Do not merge unrelated messages. Use concrete details.\\n\\n4. \\"links\\"  list all URLs with a short description of their project relevance. Mark broken or unknown links as \\"URL inaccessible\\".\\n\\nReturn valid JSON in this format:\\n```json\\n{\\n  \\"executive_summary\\": \\"...\\",\\n  \\"key_decisions\\": [\\n    { \\"date\\": \\"YYYY-MM-DD\\", \\"decision\\": \\"...\\" }\\n  ],\\n  \\"entries\\": [\\n    { \\"date\\": \\"YYYY-MM-DD\\", \\"text\\": \\"...\\" }\\n  ],\\n  \\"links\\": [\\n    { \\"url\\": \\"...\\", \\"description\\": \\"...\\" }\\n  ]\\n}\\n```\\nFocus on completeness, clarity, and accuracy. Do not omit earlier emails. Do not include generalities."}]},"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[1060,680],"id":"e25c9db9-862c-4702-b4e8-6a24953ad311","name":"Analyzer - JSON"}]	{"On form submission":{"main":[[{"node":"Extract from File","type":"main","index":0}]]},"Extract from File":{"main":[[{"node":"Analyzer - JSON","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"Analyzer - JSON","type":"ai_languageModel","index":0}]]},"Structured Output Parser":{"ai_outputParser":[[{"node":"Analyzer - JSON","type":"ai_outputParser","index":0}]]},"Analyzer - JSON":{"main":[[]]}}	\N	f	\N
9976db3b-e6c7-473b-b7e9-f0b6a779dc38	YEmVz4IjvlnA3Mcc	Marco San Juan	2025-12-10 03:42:53.586+00	2025-12-10 03:42:53.586+00	[{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[-512,320],"id":"300ef6b7-c4b9-4f67-8def-6eedcb0b903e","name":"When clicking Execute workflow"},{"parameters":{"jsCode":"const items = $json[\\"rss\\"][\\"channel\\"][\\"item\\"];\\n\\nreturn items.map(entry => ({\\n  json: {\\n    title: entry.title,\\n    url: entry.link,\\n    date: entry.pubDate,\\n    source: \\"TechCrunch\\",\\n    content: entry.description,\\n  }\\n}));\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[416,0],"id":"cd7037e8-edf2-4193-a931-080931e0efcc","name":"TechCrunch: Normalize Feed"},{"parameters":{"url":"https://techcrunch.com/feed/","options":{"response":{"response":{"responseFormat":"text"}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[0,0],"id":"7c8824be-9642-480d-8fb8-1d5ca91812a1","name":"TechCrunch: Fetch RSS"},{"parameters":{"options":{}},"type":"n8n-nodes-base.xml","typeVersion":1,"position":[208,0],"id":"b2db076b-8840-456c-b351-e518f34ba390","name":"TechCrunch: Convert to XML"},{"parameters":{"url":"https://www.ft.com/rss/technology","options":{"response":{"response":{"responseFormat":"text"}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[0,240],"id":"f08a5379-3d23-4b82-ad56-7f5ffb8ecd11","name":"FT Tech: Fetch RSS"},{"parameters":{"options":{}},"type":"n8n-nodes-base.xml","typeVersion":1,"position":[208,240],"id":"4b583157-98a5-4b05-9c30-29bc93d1b7d9","name":"FT Tech: Convert to XML"},{"parameters":{"jsCode":"const items = $json[\\"rss\\"][\\"channel\\"][\\"item\\"];\\nreturn items.map(entry => ({\\n  json: {\\n    title: entry.title,\\n    date: entry.pubDate,\\n    url: entry.link,\\n    source: \\"FT Tech\\",\\n    content: entry.description,\\n  }\\n}));"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[416,240],"id":"c60e1349-ef4e-458b-b15b-f36129636b0d","name":"FT Tech: Normalize Feed"},{"parameters":{"url":"https://www.coindesk.com/arc/outboundfeeds/rss/","options":{"response":{"response":{"responseFormat":"text"}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[0,448],"id":"d1b1c0ab-65eb-4845-80ec-29eb6bff5dd1","name":"CoinDesk: Fetch RSS"},{"parameters":{"options":{}},"type":"n8n-nodes-base.xml","typeVersion":1,"position":[192,448],"id":"00fef001-ba9d-4e88-b51e-ceec4ea4f992","name":"CoinDesk: Convert to XML"},{"parameters":{"jsCode":"const items = $json[\\"rss\\"][\\"channel\\"][\\"item\\"];\\nreturn items.map(entry => ({\\n  json: {\\n    title: entry.title,\\n    date: entry.pubDate,\\n    url: entry.link,\\n    source: \\"CoinDesk\\",\\n    content: entry.description,\\n  }\\n}));"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[400,448],"id":"8cff6f09-4144-4cb3-afe1-89fb56dfaad0","name":"CoinDesk: Normalize Feed"},{"parameters":{"url":"https://hacker-news.firebaseio.com/v0/topstories.json","options":{"response":{"response":{"responseFormat":"json"}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[-32,672],"id":"2dae9edb-88d6-40af-a5db-1b177098b4ea","name":"Hacker News: Top Stories API"},{"parameters":{"batchSize":20,"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[208,672],"id":"9d5a262f-b99e-43ed-9b3a-3ec2a208cd3b","name":"Hacker News: Loop Over Stories"},{"parameters":{"url":"=https://hacker-news.firebaseio.com/v0/item/{{$json}}.json","options":{"response":{"response":{"responseFormat":"json"}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[416,768],"id":"8f573532-73da-4ab9-98df-4c39946ab290","name":"HackerNews: Fetch Story Details"},{"parameters":{"jsCode":"function cleanContent(str) {\\n  if (!str) return \\"\\";\\n  // Replace <a href=\\"URL\\">text</a>  text (URL)\\n  str = str.replace(/<a [^>]*href=\\"([^\\"]+)\\"[^>]*>(.*?)<\\\\/a>/gi, '$2 ($1)');\\n  // Remove any remaining tags and entities\\n  return str\\n    .replace(/<[^>]*>/g, \\"\\")\\n    .replace(/&[#A-Za-z0-9]+;/g, \\"\\")\\n    .trim();\\n}\\n\\nreturn items.map(item => ({\\n  json: {\\n    title: item.json.title || \\"(no title)\\",\\n    date: new Date((item.json.time || 0) * 1000).toISOString(),\\n    source: \\"Hacker News\\",\\n    url: item.json.url || \\"\\",\\n    content: cleanContent(item.json.text || \\"\\")\\n  }\\n}));"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[608,768],"id":"8252f196-5987-446f-8918-c606fe4731a4","name":"Hacker News: Normalize Feed"},{"parameters":{"tableId":"feeds","fieldsUi":{"fieldValues":[{"fieldId":"title","fieldValue":"={{ $json.output.title }}"},{"fieldId":"date","fieldValue":"={{ $json.output.date }}"},{"fieldId":"source","fieldValue":"={{ $json.output.source }}"},{"fieldId":"content","fieldValue":"={{ $json.output.content }}"},{"fieldId":"topic","fieldValue":"={{ $json.output.topic }}"},{"fieldId":"tone","fieldValue":"={{ $json.output.tone }}"},{"fieldId":"category","fieldValue":"={{ $json.output.category }}"}]}},"type":"n8n-nodes-base.supabase","typeVersion":1,"position":[1152,784],"id":"fa6de7d8-5010-44b7-80be-0f08b827f51a","name":"Hacker News: Insert to DB"},{"parameters":{"tableId":"feeds","fieldsUi":{"fieldValues":[{"fieldId":"title","fieldValue":"={{ $json.output.title }}"},{"fieldId":"date","fieldValue":"={{ $json.output.url }}"},{"fieldId":"source","fieldValue":"={{ $json.output.source }}"},{"fieldId":"content","fieldValue":"={{ $json.output.content }}"},{"fieldId":"topic","fieldValue":"={{ $json.output.topic }}"},{"fieldId":"tone","fieldValue":"={{ $json.output.tone }}"},{"fieldId":"category","fieldValue":"={{ $json.output.category }}"},{"fieldId":"date","fieldValue":"={{ $json.output.date }}"}]}},"type":"n8n-nodes-base.supabase","typeVersion":1,"position":[1120,240],"id":"fce3b2d7-83a9-4340-8468-afde636367b9","name":"Insert feed into DB"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4.1-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[768,512],"id":"e4193cbd-a521-4d4f-92d6-2ae18e0af91f","name":"OpenAI Chat Model"},{"parameters":{"jsonSchemaExample":"{\\n  \\"title\\": \\"OpenAI launches new agent platform\\",\\n  \\"url\\": \\"https://techcrunch.com/example\\",\\n  \\"date\\": \\"2025-10-06\\",\\n  \\"source\\": \\"TechCrunch\\",\\n  \\"content\\": \\"OpenAI announced AgentKit, a toolkit to help developers build and deploy AI agents.\\",\\n  \\"topic\\": \\"AI\\",\\n  \\"tone\\": \\"positive\\",\\n  \\"category\\": \\"Product Launch\\"\\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.3,"position":[912,512],"id":"9ac288d2-50ca-424f-b41f-fa4eb40183d7","name":"Structured Output Parser"},{"parameters":{"promptType":"define","text":"=Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: {{$json[\\"title\\"]}}\\nDate: {{$json[\\"date\\"]}}\\nSource: {{$json[\\"source\\"]}}\\nURL: {{$json[\\"url\\"]}}\\nContent: {{$json[\\"content\\"]}}\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"{{$json[\\"title\\"]}}\\",\\n  \\"date\\": \\"{{$json[\\"date\\"]}}\\",\\n  \\"source\\": \\"{{$json[\\"source\\"]}}\\",\\n  \\"content\\": \\"{{$json[\\"content\\"]}}\\",\\n  \\"url\\": \\"{{$json[\\"url\\"]}}\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}","hasOutputParser":true,"messages":{"messageValues":[{"message":"You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields."}]},"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[784,240],"id":"d391da3f-af25-4c1e-b960-c80986804068","name":"Enrich Signal"},{"parameters":{"promptType":"define","text":"=Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: {{$json[\\"title\\"]}}\\nDate: {{$json[\\"date\\"]}}\\nSource: {{$json[\\"source\\"]}}\\nURL: {{$json[\\"url\\"]}}\\nContent: {{$json[\\"content\\"]}}\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"{{$json[\\"title\\"]}}\\",\\n  \\"date\\": \\"{{$json[\\"date\\"]}}\\",\\n  \\"source\\": \\"{{$json[\\"source\\"]}}\\",\\n  \\"content\\": \\"{{$json[\\"content\\"]}}\\",\\n  \\"url\\": \\"{{$json[\\"url\\"]}}\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}","hasOutputParser":true,"messages":{"messageValues":[{"message":"You are a structured classification assistant. You receive one article at a time with fields like title, date, source, and content.Return the same article plus three new fields: topic, tone, and category.Use only the allowed labels and return valid JSON.Do not summarize, explain, or change existing fields."}]},"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[800,768],"id":"0f09b841-c975-4d25-b2fa-4b4aab9bb4df","name":"Enrich Signal II"}]	{"When clicking Execute workflow":{"main":[[{"node":"Hacker News: Top Stories API","type":"main","index":0},{"node":"TechCrunch: Fetch RSS","type":"main","index":0},{"node":"FT Tech: Fetch RSS","type":"main","index":0},{"node":"CoinDesk: Fetch RSS","type":"main","index":0}]]},"TechCrunch: Fetch RSS":{"main":[[{"node":"TechCrunch: Convert to XML","type":"main","index":0}]]},"TechCrunch: Convert to XML":{"main":[[{"node":"TechCrunch: Normalize Feed","type":"main","index":0}]]},"TechCrunch: Normalize Feed":{"main":[[{"node":"Enrich Signal","type":"main","index":0}]]},"FT Tech: Fetch RSS":{"main":[[{"node":"FT Tech: Convert to XML","type":"main","index":0}]]},"FT Tech: Convert to XML":{"main":[[{"node":"FT Tech: Normalize Feed","type":"main","index":0}]]},"FT Tech: Normalize Feed":{"main":[[{"node":"Enrich Signal","type":"main","index":0}]]},"CoinDesk: Fetch RSS":{"main":[[{"node":"CoinDesk: Convert to XML","type":"main","index":0}]]},"CoinDesk: Convert to XML":{"main":[[{"node":"CoinDesk: Normalize Feed","type":"main","index":0}]]},"CoinDesk: Normalize Feed":{"main":[[{"node":"Enrich Signal","type":"main","index":0}]]},"Hacker News: Top Stories API":{"main":[[{"node":"Hacker News: Loop Over Stories","type":"main","index":0}]]},"Hacker News: Loop Over Stories":{"main":[[],[{"node":"HackerNews: Fetch Story Details","type":"main","index":0}]]},"HackerNews: Fetch Story Details":{"main":[[{"node":"Hacker News: Normalize Feed","type":"main","index":0}]]},"Hacker News: Normalize Feed":{"main":[[{"node":"Enrich Signal II","type":"main","index":0}]]},"Hacker News: Insert to DB":{"main":[[{"node":"Hacker News: Loop Over Stories","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"Enrich Signal","type":"ai_languageModel","index":0},{"node":"Enrich Signal II","type":"ai_languageModel","index":0}]]},"Structured Output Parser":{"ai_outputParser":[[{"node":"Enrich Signal","type":"ai_outputParser","index":0},{"node":"Enrich Signal II","type":"ai_outputParser","index":0}]]},"Enrich Signal":{"main":[[{"node":"Insert feed into DB","type":"main","index":0}]]},"Enrich Signal II":{"main":[[{"node":"Hacker News: Insert to DB","type":"main","index":0}]]}}	\N	f	\N
3396e2d1-da5f-4ca3-ae9b-251e4ebb3a48	cv4nlaVnkMEKj4EN	Marco San Juan	2025-12-10 03:43:08.173+00	2025-12-10 03:43:08.173+00	[{"parameters":{"url":"https://hacker-news.firebaseio.com/v0/topstories.json","options":{"response":{"response":{"responseFormat":"json"}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[160,0],"id":"c1ce6916-3f5d-4577-ad56-1ee73175e2ed","name":"Hacker News: Top Stories API"},{"parameters":{"batchSize":20,"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[400,0],"id":"aae2db06-4dec-4d21-9d1f-dcba0745601d","name":"Hacker News: Loop Over Stories"},{"parameters":{"url":"=https://hacker-news.firebaseio.com/v0/item/{{$json}}.json","options":{"response":{"response":{"responseFormat":"json"}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[608,96],"id":"6ea483f8-e222-4db3-8ef6-5ac58f0ef681","name":"HackerNews: Fetch Story Details"},{"parameters":{"jsCode":"function cleanContent(str) {\\n  if (!str) return \\"\\";\\n  // Replace <a href=\\"URL\\">text</a>  text (URL)\\n  str = str.replace(/<a [^>]*href=\\"([^\\"]+)\\"[^>]*>(.*?)<\\\\/a>/gi, '$2 ($1)');\\n  // Remove any remaining tags and entities\\n  return str\\n    .replace(/<[^>]*>/g, \\"\\")\\n    .replace(/&[#A-Za-z0-9]+;/g, \\"\\")\\n    .trim();\\n}\\n\\nreturn items.map(item => ({\\n  json: {\\n    title: item.json.title || \\"(no title)\\",\\n    date: new Date((item.json.time || 0) * 1000).toISOString(),\\n    source: \\"Hacker News\\",\\n    url: item.json.url || \\"\\",\\n    content: cleanContent(item.json.text || \\"\\")\\n  }\\n}));"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[800,96],"id":"fbdfa7b8-91db-41dd-b9c8-d5fe2744b91d","name":"Hacker News: Normalize Feed"},{"parameters":{"tableId":"feeds","fieldsUi":{"fieldValues":[{"fieldId":"title","fieldValue":"={{ $json.output.title }}"},{"fieldId":"date","fieldValue":"={{ $json.output.date }}"},{"fieldId":"source","fieldValue":"={{ $json.output.source }}"},{"fieldId":"content","fieldValue":"={{ $json.output.content }}"},{"fieldId":"topic","fieldValue":"={{ $json.output.topic }}"},{"fieldId":"tone","fieldValue":"={{ $json.output.tone }}"},{"fieldId":"category","fieldValue":"={{ $json.output.category }}"}]}},"type":"n8n-nodes-base.supabase","typeVersion":1,"position":[1344,112],"id":"b2440f2c-221a-4cb9-b17a-aa302116070b","name":"Hacker News: Insert to DB"},{"parameters":{"promptType":"define","text":"=Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: {{$json[\\"title\\"]}}\\nDate: {{$json[\\"date\\"]}}\\nSource: {{$json[\\"source\\"]}}\\nURL: {{$json[\\"url\\"]}}\\nContent: {{$json[\\"content\\"]}}\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"{{$json[\\"title\\"]}}\\",\\n  \\"date\\": \\"{{$json[\\"date\\"]}}\\",\\n  \\"source\\": \\"{{$json[\\"source\\"]}}\\",\\n  \\"content\\": \\"{{$json[\\"content\\"]}}\\",\\n  \\"url\\": \\"{{$json[\\"url\\"]}}\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}","hasOutputParser":true,"messages":{"messageValues":[{"message":"You are a structured classification assistant. You receive one article at a time with fields like title, date, source, and content.Return the same article plus three new fields: topic, tone, and category.Use only the allowed labels and return valid JSON.Do not summarize, explain, or change existing fields."}]},"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[992,96],"id":"1e4b5e38-2915-4efd-a8b9-2b0787efa90f","name":"Enrich Signal II"},{"parameters":{"inputSource":"passthrough"},"type":"n8n-nodes-base.executeWorkflowTrigger","typeVersion":1.1,"position":[0,0],"id":"9384e967-4164-4a04-a418-aef9886e4d2d","name":"When Executed by Another Workflow"},{"parameters":{"model":{"__rl":true,"value":"gpt-4.1-mini","mode":"list","cachedResultName":"gpt-4.1-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[976,352],"id":"d15cb94b-183b-4164-977f-e16e693ed021","name":"OpenAI Chat Model"},{"parameters":{"jsonSchemaExample":"{\\n  \\"title\\": \\"OpenAI launches new agent platform\\",\\n  \\"url\\": \\"https://techcrunch.com/example\\",\\n  \\"date\\": \\"2025-10-06\\",\\n  \\"source\\": \\"TechCrunch\\",\\n  \\"content\\": \\"OpenAI announced AgentKit, a toolkit to help developers build and deploy AI agents.\\",\\n  \\"topic\\": \\"AI\\",\\n  \\"tone\\": \\"positive\\",\\n  \\"category\\": \\"Product Launch\\"\\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.3,"position":[1120,352],"id":"a60e63f6-db23-441f-83f2-ec92d72d9f83","name":"Structured Output Parser"}]	{"Hacker News: Top Stories API":{"main":[[{"node":"Hacker News: Loop Over Stories","type":"main","index":0}]]},"Hacker News: Loop Over Stories":{"main":[[],[{"node":"HackerNews: Fetch Story Details","type":"main","index":0}]]},"HackerNews: Fetch Story Details":{"main":[[{"node":"Hacker News: Normalize Feed","type":"main","index":0}]]},"Hacker News: Normalize Feed":{"main":[[{"node":"Enrich Signal II","type":"main","index":0}]]},"Hacker News: Insert to DB":{"main":[[{"node":"Hacker News: Loop Over Stories","type":"main","index":0}]]},"Enrich Signal II":{"main":[[{"node":"Hacker News: Insert to DB","type":"main","index":0}]]},"When Executed by Another Workflow":{"main":[[{"node":"Hacker News: Top Stories API","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"Enrich Signal II","type":"ai_languageModel","index":0}]]},"Structured Output Parser":{"ai_outputParser":[[{"node":"Enrich Signal II","type":"ai_outputParser","index":0}]]}}	\N	f	\N
ddbd5197-cb5b-404b-87a9-052592af2dc0	z52Sow2ZiWhoxNmU	Marco San Juan	2025-12-10 03:43:30.025+00	2025-12-10 03:43:30.025+00	[{"parameters":{"jsCode":"const items = $json[\\"rss\\"][\\"channel\\"][\\"item\\"];\\n\\nreturn items.map(entry => ({\\n  json: {\\n    title: entry.title,\\n    url: entry.link,\\n    date: entry.pubDate,\\n    source: \\"TechCrunch\\",\\n    content: entry.description,\\n  }\\n}));\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[416,0],"id":"9e367941-bb93-4e35-9056-c5cb4cdb2c2b","name":"TechCrunch: Normalize Feed"},{"parameters":{"url":"https://techcrunch.com/feed/","options":{"response":{"response":{"responseFormat":"text"}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[0,0],"id":"b28c1b00-760d-4a7b-85ae-b48b7e84d410","name":"TechCrunch: Fetch RSS"},{"parameters":{"options":{}},"type":"n8n-nodes-base.xml","typeVersion":1,"position":[208,0],"id":"49c56d00-2735-47d8-aeac-0529a32131d9","name":"TechCrunch: Convert to XML"},{"parameters":{"url":"https://www.ft.com/rss/technology","options":{"response":{"response":{"responseFormat":"text"}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[0,240],"id":"e5141129-db50-4a85-acdb-8c1a11926949","name":"FT Tech: Fetch RSS"},{"parameters":{"options":{}},"type":"n8n-nodes-base.xml","typeVersion":1,"position":[208,240],"id":"2a4300b8-4cad-414d-af05-8031835e92d4","name":"FT Tech: Convert to XML"},{"parameters":{"jsCode":"const items = $json[\\"rss\\"][\\"channel\\"][\\"item\\"];\\nreturn items.map(entry => ({\\n  json: {\\n    title: entry.title,\\n    date: entry.pubDate,\\n    url: entry.link,\\n    source: \\"FT Tech\\",\\n    content: entry.description,\\n  }\\n}));"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[416,240],"id":"82246dc8-da70-4a3e-abf7-1eeae374839e","name":"FT Tech: Normalize Feed"},{"parameters":{"url":"https://www.coindesk.com/arc/outboundfeeds/rss/","options":{"response":{"response":{"responseFormat":"text"}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[0,448],"id":"67d3b660-bbc5-4979-be3e-12134b958cc2","name":"CoinDesk: Fetch RSS"},{"parameters":{"options":{}},"type":"n8n-nodes-base.xml","typeVersion":1,"position":[192,448],"id":"0142ea4a-81e8-45b9-8a3e-0390e4760341","name":"CoinDesk: Convert to XML"},{"parameters":{"jsCode":"const items = $json[\\"rss\\"][\\"channel\\"][\\"item\\"];\\nreturn items.map(entry => ({\\n  json: {\\n    title: entry.title,\\n    date: entry.pubDate,\\n    url: entry.link,\\n    source: \\"CoinDesk\\",\\n    content: entry.description,\\n  }\\n}));"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[400,448],"id":"29981cdb-3757-4973-904c-a713935413c1","name":"CoinDesk: Normalize Feed"},{"parameters":{"tableId":"feeds","fieldsUi":{"fieldValues":[{"fieldId":"title","fieldValue":"={{ $json.output.title }}"},{"fieldId":"date","fieldValue":"={{ $json.output.url }}"},{"fieldId":"source","fieldValue":"={{ $json.output.source }}"},{"fieldId":"content","fieldValue":"={{ $json.output.content }}"},{"fieldId":"topic","fieldValue":"={{ $json.output.topic }}"},{"fieldId":"tone","fieldValue":"={{ $json.output.tone }}"},{"fieldId":"category","fieldValue":"={{ $json.output.category }}"},{"fieldId":"date","fieldValue":"={{ $json.output.date }}"}]}},"type":"n8n-nodes-base.supabase","typeVersion":1,"position":[1120,240],"id":"fbc48c42-911d-415f-ac22-2dcc03fe480e","name":"Insert feed into DB"},{"parameters":{"model":{"__rl":true,"value":"gpt-4.1-mini","mode":"list","cachedResultName":"gpt-4.1-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[768,512],"id":"84d56aea-71e7-4653-9db9-89efd9850712","name":"OpenAI Chat Model"},{"parameters":{"jsonSchemaExample":"{\\n  \\"title\\": \\"OpenAI launches new agent platform\\",\\n  \\"url\\": \\"https://techcrunch.com/example\\",\\n  \\"date\\": \\"2025-10-06\\",\\n  \\"source\\": \\"TechCrunch\\",\\n  \\"content\\": \\"OpenAI announced AgentKit, a toolkit to help developers build and deploy AI agents.\\",\\n  \\"topic\\": \\"AI\\",\\n  \\"tone\\": \\"positive\\",\\n  \\"category\\": \\"Product Launch\\"\\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.3,"position":[912,512],"id":"27c5dd10-5cf1-4b95-9d33-8eea2284fcbd","name":"Structured Output Parser"},{"parameters":{"promptType":"define","text":"=Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: {{$json[\\"title\\"]}}\\nDate: {{$json[\\"date\\"]}}\\nSource: {{$json[\\"source\\"]}}\\nURL: {{$json[\\"url\\"]}}\\nContent: {{$json[\\"content\\"]}}\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"{{$json[\\"title\\"]}}\\",\\n  \\"date\\": \\"{{$json[\\"date\\"]}}\\",\\n  \\"source\\": \\"{{$json[\\"source\\"]}}\\",\\n  \\"content\\": \\"{{$json[\\"content\\"]}}\\",\\n  \\"url\\": \\"{{$json[\\"url\\"]}}\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}","hasOutputParser":true,"messages":{"messageValues":[{"message":"You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields."}]},"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[784,240],"id":"fc1ee4c3-3542-4eee-b584-ddb95dd19504","name":"Enrich Signal"},{"parameters":{"inputSource":"passthrough"},"type":"n8n-nodes-base.executeWorkflowTrigger","typeVersion":1.1,"position":[-368,240],"id":"338bdf61-ebf9-4e29-ae56-b0203f7d9c25","name":"When Executed by Another Workflow"}]	{"TechCrunch: Fetch RSS":{"main":[[{"node":"TechCrunch: Convert to XML","type":"main","index":0}]]},"TechCrunch: Convert to XML":{"main":[[{"node":"TechCrunch: Normalize Feed","type":"main","index":0}]]},"TechCrunch: Normalize Feed":{"main":[[{"node":"Enrich Signal","type":"main","index":0}]]},"FT Tech: Fetch RSS":{"main":[[{"node":"FT Tech: Convert to XML","type":"main","index":0}]]},"FT Tech: Convert to XML":{"main":[[{"node":"FT Tech: Normalize Feed","type":"main","index":0}]]},"FT Tech: Normalize Feed":{"main":[[{"node":"Enrich Signal","type":"main","index":0}]]},"CoinDesk: Fetch RSS":{"main":[[{"node":"CoinDesk: Convert to XML","type":"main","index":0}]]},"CoinDesk: Convert to XML":{"main":[[{"node":"CoinDesk: Normalize Feed","type":"main","index":0}]]},"CoinDesk: Normalize Feed":{"main":[[{"node":"Enrich Signal","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"Enrich Signal","type":"ai_languageModel","index":0}]]},"Structured Output Parser":{"ai_outputParser":[[{"node":"Enrich Signal","type":"ai_outputParser","index":0}]]},"Enrich Signal":{"main":[[{"node":"Insert feed into DB","type":"main","index":0}]]},"When Executed by Another Workflow":{"main":[[{"node":"TechCrunch: Fetch RSS","type":"main","index":0},{"node":"FT Tech: Fetch RSS","type":"main","index":0},{"node":"CoinDesk: Fetch RSS","type":"main","index":0}]]}}	\N	f	\N
397b066e-c00d-4953-90c7-af3fcee0fa36	Z0ojzknuXKQpTzD2	Marco San Juan	2025-12-10 03:43:41.055+00	2025-12-10 03:43:41.055+00	[{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[-256,80],"id":"9434f09f-bbd3-48ce-98ed-dfbe82cab90c","name":"When clicking Execute workflow"},{"parameters":{"workflowId":{"__rl":true,"value":"cQcM3sMKq4QNECYI","mode":"list","cachedResultUrl":"/workflow/cQcM3sMKq4QNECYI","cachedResultName":"ingest_feeds_hn"},"workflowInputs":{"mappingMode":"defineBelow","value":{},"matchingColumns":[],"schema":[],"attemptToConvertTypes":false,"convertFieldsToString":true},"options":{"waitForSubWorkflow":false}},"type":"n8n-nodes-base.executeWorkflow","typeVersion":1.3,"position":[0,208],"id":"fd891e9e-30ed-4d5d-9af0-d4420075a9a4","name":"Call 'ingest_feeds_hn'"},{"parameters":{"workflowId":{"__rl":true,"value":"49G9gWHlvrwH99Sp","mode":"list","cachedResultUrl":"/workflow/49G9gWHlvrwH99Sp","cachedResultName":"ingest_feeds_rss"},"workflowInputs":{"mappingMode":"defineBelow","value":{}},"options":{"waitForSubWorkflow":false}},"type":"n8n-nodes-base.executeWorkflow","typeVersion":1.3,"position":[0,0],"id":"d1b826b7-2d34-47b0-8abf-24bf9677a561","name":"Call 'ingest_feeds_rss'"}]	{"When clicking Execute workflow":{"main":[[{"node":"Call 'ingest_feeds_hn'","type":"main","index":0},{"node":"Call 'ingest_feeds_rss'","type":"main","index":0}]]}}	\N	f	\N
7616dc8c-6111-4e05-abbf-dc525aa8c297	Z0ojzknuXKQpTzD2	Marco San Juan	2025-12-10 03:46:50.557+00	2025-12-10 03:46:50.557+00	[{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[-256,80],"id":"9434f09f-bbd3-48ce-98ed-dfbe82cab90c","name":"When clicking Execute workflow"},{"parameters":{"workflowId":{"__rl":true,"value":"cQcM3sMKq4QNECYI","mode":"list","cachedResultUrl":"/workflow/cQcM3sMKq4QNECYI","cachedResultName":"ingest_feeds_hn"},"workflowInputs":{"mappingMode":"defineBelow","value":{},"matchingColumns":[],"schema":[],"attemptToConvertTypes":false,"convertFieldsToString":true},"options":{"waitForSubWorkflow":false}},"type":"n8n-nodes-base.executeWorkflow","typeVersion":1.3,"position":[0,208],"id":"fd891e9e-30ed-4d5d-9af0-d4420075a9a4","name":"Call 'ingest_feeds_hn'"},{"parameters":{"workflowId":{"__rl":true,"value":"49G9gWHlvrwH99Sp","mode":"list","cachedResultUrl":"/workflow/49G9gWHlvrwH99Sp","cachedResultName":"ingest_feeds_rss"},"workflowInputs":{"mappingMode":"defineBelow","value":{},"matchingColumns":[],"schema":[],"attemptToConvertTypes":false,"convertFieldsToString":true},"options":{"waitForSubWorkflow":false}},"type":"n8n-nodes-base.executeWorkflow","typeVersion":1.3,"position":[0,0],"id":"d1b826b7-2d34-47b0-8abf-24bf9677a561","name":"Call 'ingest_feeds_rss'"}]	{"When clicking Execute workflow":{"main":[[{"node":"Call 'ingest_feeds_hn'","type":"main","index":0},{"node":"Call 'ingest_feeds_rss'","type":"main","index":0}]]}}	\N	f	\N
0aee8b15-868c-40cb-b630-fb70cab95789	z52Sow2ZiWhoxNmU	Marco San Juan	2025-12-10 03:57:16.684+00	2025-12-10 03:57:22.22+00	[{"parameters":{"jsCode":"const items = $json[\\"rss\\"][\\"channel\\"][\\"item\\"];\\n\\nreturn items.map(entry => ({\\n  json: {\\n    title: entry.title,\\n    url: entry.link,\\n    date: entry.pubDate,\\n    source: \\"TechCrunch\\",\\n    content: entry.description,\\n  }\\n}));\\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[416,0],"id":"9e367941-bb93-4e35-9056-c5cb4cdb2c2b","name":"TechCrunch: Normalize Feed"},{"parameters":{"url":"https://techcrunch.com/feed/","options":{"response":{"response":{"responseFormat":"text"}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[0,0],"id":"b28c1b00-760d-4a7b-85ae-b48b7e84d410","name":"TechCrunch: Fetch RSS"},{"parameters":{"options":{}},"type":"n8n-nodes-base.xml","typeVersion":1,"position":[208,0],"id":"49c56d00-2735-47d8-aeac-0529a32131d9","name":"TechCrunch: Convert to XML"},{"parameters":{"url":"https://www.ft.com/rss/technology","options":{"response":{"response":{"responseFormat":"text"}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[0,240],"id":"e5141129-db50-4a85-acdb-8c1a11926949","name":"FT Tech: Fetch RSS"},{"parameters":{"options":{}},"type":"n8n-nodes-base.xml","typeVersion":1,"position":[208,240],"id":"2a4300b8-4cad-414d-af05-8031835e92d4","name":"FT Tech: Convert to XML"},{"parameters":{"jsCode":"const items = $json[\\"rss\\"][\\"channel\\"][\\"item\\"];\\nreturn items.map(entry => ({\\n  json: {\\n    title: entry.title,\\n    date: entry.pubDate,\\n    url: entry.link,\\n    source: \\"FT Tech\\",\\n    content: entry.description,\\n  }\\n}));"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[416,240],"id":"82246dc8-da70-4a3e-abf7-1eeae374839e","name":"FT Tech: Normalize Feed"},{"parameters":{"url":"https://www.coindesk.com/arc/outboundfeeds/rss/","options":{"response":{"response":{"responseFormat":"text"}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[0,448],"id":"67d3b660-bbc5-4979-be3e-12134b958cc2","name":"CoinDesk: Fetch RSS"},{"parameters":{"options":{}},"type":"n8n-nodes-base.xml","typeVersion":1,"position":[192,448],"id":"0142ea4a-81e8-45b9-8a3e-0390e4760341","name":"CoinDesk: Convert to XML"},{"parameters":{"jsCode":"const items = $json[\\"rss\\"][\\"channel\\"][\\"item\\"];\\nreturn items.map(entry => ({\\n  json: {\\n    title: entry.title,\\n    date: entry.pubDate,\\n    url: entry.link,\\n    source: \\"CoinDesk\\",\\n    content: entry.description,\\n  }\\n}));"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[400,448],"id":"29981cdb-3757-4973-904c-a713935413c1","name":"CoinDesk: Normalize Feed"},{"parameters":{"tableId":"feeds","fieldsUi":{"fieldValues":[{"fieldId":"title","fieldValue":"={{ $json.output.title }}"},{"fieldId":"date","fieldValue":"={{ $json.output.url }}"},{"fieldId":"source","fieldValue":"={{ $json.output.source }}"},{"fieldId":"content","fieldValue":"={{ $json.output.content }}"},{"fieldId":"topic","fieldValue":"={{ $json.output.topic }}"},{"fieldId":"tone","fieldValue":"={{ $json.output.tone }}"},{"fieldId":"category","fieldValue":"={{ $json.output.category }}"},{"fieldId":"date","fieldValue":"={{ $json.output.date }}"}]}},"type":"n8n-nodes-base.supabase","typeVersion":1,"position":[1120,240],"id":"fbc48c42-911d-415f-ac22-2dcc03fe480e","name":"Insert feed into DB","credentials":{"supabaseApi":{"id":"k6NMY19byioyMjUc","name":"Supabase - Reset"}}},{"parameters":{"model":{"__rl":true,"value":"gpt-4.1-mini","mode":"list","cachedResultName":"gpt-4.1-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[768,512],"id":"84d56aea-71e7-4653-9db9-89efd9850712","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"KRyyaKtkymLK3YpM","name":"OpenAi account"}}},{"parameters":{"jsonSchemaExample":"{\\n  \\"title\\": \\"OpenAI launches new agent platform\\",\\n  \\"url\\": \\"https://techcrunch.com/example\\",\\n  \\"date\\": \\"2025-10-06\\",\\n  \\"source\\": \\"TechCrunch\\",\\n  \\"content\\": \\"OpenAI announced AgentKit, a toolkit to help developers build and deploy AI agents.\\",\\n  \\"topic\\": \\"AI\\",\\n  \\"tone\\": \\"positive\\",\\n  \\"category\\": \\"Product Launch\\"\\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.3,"position":[912,512],"id":"27c5dd10-5cf1-4b95-9d33-8eea2284fcbd","name":"Structured Output Parser"},{"parameters":{"promptType":"define","text":"=Analyze the following article and append three new fields.\\n\\nLabel options:\\n- topic: [AI, Blockchain, Cybersecurity, Big Tech, Other]\\n- tone: [positive, neutral, negative]\\n- category: [Product Launch, Funding, Opinion, Market Report, Research, Regulation, Other]\\n\\nArticle:\\nTitle: {{$json[\\"title\\"]}}\\nDate: {{$json[\\"date\\"]}}\\nSource: {{$json[\\"source\\"]}}\\nURL: {{$json[\\"url\\"]}}\\nContent: {{$json[\\"content\\"]}}\\n\\nReturn JSON in this exact structure:\\n{\\n  \\"title\\": \\"{{$json[\\"title\\"]}}\\",\\n  \\"date\\": \\"{{$json[\\"date\\"]}}\\",\\n  \\"source\\": \\"{{$json[\\"source\\"]}}\\",\\n  \\"content\\": \\"{{$json[\\"content\\"]}}\\",\\n  \\"url\\": \\"{{$json[\\"url\\"]}}\\",\\n  \\"topic\\": \\"<one from list>\\",\\n  \\"tone\\": \\"<one from list>\\",\\n  \\"category\\": \\"<one from list>\\"\\n}","hasOutputParser":true,"messages":{"messageValues":[{"message":"You are a structured classification assistant.\\nYou receive one article at a time with fields like title, date, source, and content.\\nReturn the same article plus three new fields: topic, tone, and category.\\nUse only the allowed labels and return valid JSON.\\nDo not summarize, explain, or change existing fields."}]},"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[784,240],"id":"fc1ee4c3-3542-4eee-b584-ddb95dd19504","name":"Enrich Signal"},{"parameters":{"inputSource":"passthrough"},"type":"n8n-nodes-base.executeWorkflowTrigger","typeVersion":1.1,"position":[-368,240],"id":"338bdf61-ebf9-4e29-ae56-b0203f7d9c25","name":"When Executed by Another Workflow"}]	{"TechCrunch: Fetch RSS":{"main":[[{"node":"TechCrunch: Convert to XML","type":"main","index":0}]]},"TechCrunch: Convert to XML":{"main":[[{"node":"TechCrunch: Normalize Feed","type":"main","index":0}]]},"TechCrunch: Normalize Feed":{"main":[[{"node":"Enrich Signal","type":"main","index":0}]]},"FT Tech: Fetch RSS":{"main":[[{"node":"FT Tech: Convert to XML","type":"main","index":0}]]},"FT Tech: Convert to XML":{"main":[[{"node":"FT Tech: Normalize Feed","type":"main","index":0}]]},"FT Tech: Normalize Feed":{"main":[[{"node":"Enrich Signal","type":"main","index":0}]]},"CoinDesk: Fetch RSS":{"main":[[{"node":"CoinDesk: Convert to XML","type":"main","index":0}]]},"CoinDesk: Convert to XML":{"main":[[{"node":"CoinDesk: Normalize Feed","type":"main","index":0}]]},"CoinDesk: Normalize Feed":{"main":[[{"node":"Enrich Signal","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"Enrich Signal","type":"ai_languageModel","index":0}]]},"Structured Output Parser":{"ai_outputParser":[[{"node":"Enrich Signal","type":"ai_outputParser","index":0}]]},"Enrich Signal":{"main":[[{"node":"Insert feed into DB","type":"main","index":0}]]},"When Executed by Another Workflow":{"main":[[{"node":"TechCrunch: Fetch RSS","type":"main","index":0},{"node":"FT Tech: Fetch RSS","type":"main","index":0},{"node":"CoinDesk: Fetch RSS","type":"main","index":0}]]}}	Version 0aee8b15	f	
\.


--
-- TOC entry 3952 (class 0 OID 57721)
-- Dependencies: 284
-- Data for Name: workflow_publish_history; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.workflow_publish_history (id, "workflowId", "versionId", event, "userId", "createdAt") FROM stdin;
1	z52Sow2ZiWhoxNmU	0aee8b15-868c-40cb-b630-fb70cab95789	activated	9594efd0-a747-401d-a558-337ebbb0d323	2025-12-10 03:57:22.199+00
2	z52Sow2ZiWhoxNmU	0aee8b15-868c-40cb-b630-fb70cab95789	deactivated	9594efd0-a747-401d-a558-337ebbb0d323	2025-12-10 03:57:50.186+00
\.


--
-- TOC entry 3903 (class 0 OID 24822)
-- Dependencies: 235
-- Data for Name: workflow_statistics; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.workflow_statistics (count, "latestEvent", name, "workflowId", "rootCount") FROM stdin;
3	2025-06-14 02:49:02.815+00	manual_success	VGoFrxdcNIzcUr3e	0
18	2025-06-10 23:19:01.029+00	manual_error	fJd3NWsfo10fSjXP	0
1	2025-05-14 02:34:00.642+00	data_loaded	WvhIVdAZJSwnonKh	0
28	2025-06-10 01:22:25.553+00	manual_success	jIx2xLFJnEeKpcNO	0
110	2025-06-14 18:25:02.244+00	manual_success	vRjzDA3odWrYEsYa	0
29	2025-06-20 01:10:39.821+00	production_success	VGoFrxdcNIzcUr3e	0
1	2025-06-19 17:39:00.099+00	data_loaded	aZ1FyH5jQszmAVTN	1
51	2025-05-18 23:41:22.767+00	manual_error	qM9l7HiKjmbkTyIs	0
5	2025-06-12 19:01:02.917+00	manual_error	si1TRBRSoeD11mnt	0
7	2025-05-14 02:58:16.372+00	manual_error	WvhIVdAZJSwnonKh	0
51	2025-06-11 14:37:47.924+00	manual_error	dvSolfUTi9fknzCk	0
1	2025-05-17 18:17:43.007+00	data_loaded	qM9l7HiKjmbkTyIs	0
1	2025-05-31 18:22:12.271+00	data_loaded	9FSKLpPjh9xCoQ1M	1
87	2025-05-19 00:40:17.943+00	manual_success	qM9l7HiKjmbkTyIs	0
1	2025-05-19 00:47:43.997+00	data_loaded	cUOXZ0f78wNozDnp	0
17	2025-06-20 01:10:39.83+00	production_success	VXnBVFm1w2zsvSt3	17
27	2025-05-19 21:03:27.602+00	manual_error	dtSg5P1iisGnpbxc	0
19	2025-06-10 23:39:23.226+00	manual_success	fJd3NWsfo10fSjXP	0
1	2025-05-23 01:43:43.668+00	data_loaded	XYvrx4uUOzCXQmJQ	1
3	2025-05-19 01:03:57.612+00	manual_error	cUOXZ0f78wNozDnp	0
5	2025-05-23 01:45:07.504+00	manual_error	XYvrx4uUOzCXQmJQ	0
11	2025-05-19 19:06:42.576+00	manual_success	WvhIVdAZJSwnonKh	0
1	2025-06-12 23:27:24.067+00	data_loaded	1Jgxp5jI340vBQ59	1
1	2025-06-22 22:09:59.146+00	data_loaded	EyMxJsW5hS700vGa	1
65	2025-05-19 21:20:45.462+00	manual_success	dtSg5P1iisGnpbxc	0
1	2025-05-31 18:51:04.7+00	data_loaded	KD5ZI9u3hWORzxC8	1
12	2025-05-19 01:29:57.708+00	manual_success	cUOXZ0f78wNozDnp	0
1	2025-05-19 01:56:34.919+00	data_loaded	nVI38CcD6ho2Hh0b	0
12	2025-05-19 21:33:29.084+00	manual_success	nVI38CcD6ho2Hh0b	0
17	2025-05-23 02:03:44.711+00	manual_success	XYvrx4uUOzCXQmJQ	0
1	2025-05-22 00:43:54.126+00	data_loaded	fJd3NWsfo10fSjXP	1
1	2025-05-26 23:50:36.666+00	data_loaded	dvSolfUTi9fknzCk	1
4	2025-05-19 01:59:12.206+00	manual_error	nVI38CcD6ho2Hh0b	0
1	2025-05-19 02:57:17.827+00	data_loaded	dtSg5P1iisGnpbxc	0
1	2025-06-04 03:35:47.683+00	data_loaded	eC8grbHl4iogf5z6	1
1	2025-06-10 00:31:01.059+00	data_loaded	jIx2xLFJnEeKpcNO	1
19	2025-06-10 02:58:37.861+00	manual_error	9FSKLpPjh9xCoQ1M	0
110	2025-06-11 23:10:04.73+00	manual_success	9FSKLpPjh9xCoQ1M	0
1	2025-06-11 23:10:09.393+00	data_loaded	kBF5bawSN8BxCXnV	1
7	2025-06-05 23:03:54.962+00	manual_error	KD5ZI9u3hWORzxC8	0
33	2025-06-12 21:29:52.981+00	manual_success	si1TRBRSoeD11mnt	0
9	2025-06-12 14:28:25.026+00	manual_error	kBF5bawSN8BxCXnV	0
7	2025-06-19 17:50:21.296+00	manual_success	aZ1FyH5jQszmAVTN	0
27	2025-06-12 14:29:14.1+00	manual_success	kBF5bawSN8BxCXnV	0
1	2025-06-11 23:46:48.614+00	data_loaded	8x9Q8xDGjpXr7rON	1
2	2025-06-11 23:58:37.534+00	manual_success	8x9Q8xDGjpXr7rON	0
1	2025-06-12 18:19:41.247+00	data_loaded	si1TRBRSoeD11mnt	1
1	2025-05-27 01:47:42.188+00	data_loaded	Hs7P70pLnGEmXRO9	1
195	2025-06-12 21:39:47.807+00	manual_success	dvSolfUTi9fknzCk	0
13	2025-05-29 00:50:01.442+00	production_error	Hs7P70pLnGEmXRO9	13
95	2025-06-10 03:12:14.153+00	manual_success	eC8grbHl4iogf5z6	0
6	2025-06-10 00:47:19.772+00	manual_error	jIx2xLFJnEeKpcNO	0
5	2025-06-14 01:24:04.153+00	manual_error	vRjzDA3odWrYEsYa	0
1	2025-06-12 23:37:33.123+00	manual_error	1Jgxp5jI340vBQ59	0
35	2025-06-10 03:21:54.887+00	manual_error	eC8grbHl4iogf5z6	0
1	2025-07-04 02:26:37.29+00	production_success	MRvfR4KPMKgYvruE	1
34	2025-06-10 03:24:13.18+00	manual_success	KD5ZI9u3hWORzxC8	0
11	2025-06-12 23:40:58.241+00	manual_success	1Jgxp5jI340vBQ59	0
1	2025-06-12 22:40:40.347+00	data_loaded	lVEEiTzBjjAxVkFT	1
1	2025-06-12 23:52:37.466+00	data_loaded	vRjzDA3odWrYEsYa	1
46	2025-06-12 23:58:40.427+00	production_success	Hs7P70pLnGEmXRO9	46
12	2025-06-25 19:53:04.688+00	manual_error	WjCOI2qBSzQglNXo	0
14	2025-06-24 02:56:46.773+00	manual_error	EyMxJsW5hS700vGa	0
7	2025-06-20 00:58:45.018+00	production_error	vRjzDA3odWrYEsYa	0
6	2025-06-20 00:58:45.04+00	production_error	VXnBVFm1w2zsvSt3	4
75	2025-06-18 01:33:44.465+00	manual_success	VXnBVFm1w2zsvSt3	0
40	2025-06-24 02:28:53.719+00	manual_success	EyMxJsW5hS700vGa	0
4	2025-06-13 00:21:37.831+00	production_success	lVEEiTzBjjAxVkFT	4
1	2025-06-14 00:23:42.236+00	data_loaded	VXnBVFm1w2zsvSt3	1
1	2025-06-13 00:24:52.233+00	manual_error	lVEEiTzBjjAxVkFT	0
25	2025-06-18 01:34:45.637+00	manual_error	VXnBVFm1w2zsvSt3	0
33	2025-06-13 00:26:11.261+00	manual_success	lVEEiTzBjjAxVkFT	0
67	2025-06-25 19:54:41.804+00	manual_success	WjCOI2qBSzQglNXo	0
153	2025-07-08 23:46:36.49+00	manual_success	qcNeE3fCKXPR71bd	0
2	2025-07-24 04:32:39.567+00	manual_error	HmlcxEmtlrF6kw5f	0
71	2025-07-24 04:02:30.123+00	manual_success	UwHHfi23oecxvpZh	0
1	2025-06-22 23:28:39.696+00	data_loaded	WjCOI2qBSzQglNXo	1
1	2025-07-24 04:16:58.077+00	data_loaded	HmlcxEmtlrF6kw5f	1
1	2025-12-10 03:54:41.186+00	manual_error	Z0ojzknuXKQpTzD2	0
29	2025-06-20 01:10:38.653+00	production_success	vRjzDA3odWrYEsYa	0
1	2025-06-28 01:30:35.915+00	data_loaded	UwHHfi23oecxvpZh	1
8	2025-07-24 04:28:35.265+00	manual_success	HmlcxEmtlrF6kw5f	0
7	2025-07-04 02:24:48.935+00	production_error	MRvfR4KPMKgYvruE	7
1	2025-07-04 02:01:23.223+00	data_loaded	MRvfR4KPMKgYvruE	1
7	2025-07-24 04:00:53.086+00	manual_error	UwHHfi23oecxvpZh	0
1	2025-12-10 03:57:52.707+00	data_loaded	z52Sow2ZiWhoxNmU	1
1	2025-12-10 03:58:46.225+00	manual_success	z52Sow2ZiWhoxNmU	0
\.


--
-- TOC entry 3898 (class 0 OID 24643)
-- Dependencies: 230
-- Data for Name: workflows_tags; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.workflows_tags ("workflowId", "tagId") FROM stdin;
qcNeE3fCKXPR71bd	HMfvMejmdgx6xPHF
MRvfR4KPMKgYvruE	HMfvMejmdgx6xPHF
si1TRBRSoeD11mnt	4FVdi2mU0QT9ZIZJ
cUOXZ0f78wNozDnp	cRs4n3u2lESNBFK6
dvSolfUTi9fknzCk	i5SZsJiDTjwrkWjX
UwHHfi23oecxvpZh	HMfvMejmdgx6xPHF
Hs7P70pLnGEmXRO9	i5SZsJiDTjwrkWjX
HmlcxEmtlrF6kw5f	HMfvMejmdgx6xPHF
rUfppmVc29XcLxHu	i5SZsJiDTjwrkWjX
Z1IpndZ8ZbD2ETs1	HMfvMejmdgx6xPHF
YEmVz4IjvlnA3Mcc	YhZaSz2umH3ClIGu
8x9Q8xDGjpXr7rON	4FVdi2mU0QT9ZIZJ
cv4nlaVnkMEKj4EN	YhZaSz2umH3ClIGu
1Jgxp5jI340vBQ59	4FVdi2mU0QT9ZIZJ
WjCOI2qBSzQglNXo	HMfvMejmdgx6xPHF
9FSKLpPjh9xCoQ1M	i5SZsJiDTjwrkWjX
Z0ojzknuXKQpTzD2	YhZaSz2umH3ClIGu
z52Sow2ZiWhoxNmU	YhZaSz2umH3ClIGu
aZ1FyH5jQszmAVTN	4FVdi2mU0QT9ZIZJ
lVEEiTzBjjAxVkFT	i5SZsJiDTjwrkWjX
Pu5iXI8WGSFyphVx	4FVdi2mU0QT9ZIZJ
eC8grbHl4iogf5z6	i5SZsJiDTjwrkWjX
EyMxJsW5hS700vGa	HMfvMejmdgx6xPHF
fJd3NWsfo10fSjXP	cRs4n3u2lESNBFK6
dtSg5P1iisGnpbxc	cRs4n3u2lESNBFK6
nVI38CcD6ho2Hh0b	cRs4n3u2lESNBFK6
XYvrx4uUOzCXQmJQ	cRs4n3u2lESNBFK6
qM9l7HiKjmbkTyIs	cRs4n3u2lESNBFK6
vAucYAHvqERAZtwm	4FVdi2mU0QT9ZIZJ
kBF5bawSN8BxCXnV	4FVdi2mU0QT9ZIZJ
jIx2xLFJnEeKpcNO	i5SZsJiDTjwrkWjX
KD5ZI9u3hWORzxC8	i5SZsJiDTjwrkWjX
VGoFrxdcNIzcUr3e	HMfvMejmdgx6xPHF
VXnBVFm1w2zsvSt3	HMfvMejmdgx6xPHF
vRjzDA3odWrYEsYa	HMfvMejmdgx6xPHF
\.


--
-- TOC entry 4005 (class 0 OID 0)
-- Dependencies: 238
-- Name: auth_provider_sync_history_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.auth_provider_sync_history_id_seq', 1, false);


--
-- TOC entry 4006 (class 0 OID 0)
-- Dependencies: 250
-- Name: execution_annotations_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.execution_annotations_id_seq', 1, false);


--
-- TOC entry 4007 (class 0 OID 0)
-- Dependencies: 225
-- Name: execution_entity_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.execution_entity_id_seq', 1844, true);


--
-- TOC entry 4008 (class 0 OID 0)
-- Dependencies: 247
-- Name: execution_metadata_temp_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.execution_metadata_temp_id_seq', 1, false);


--
-- TOC entry 4009 (class 0 OID 0)
-- Dependencies: 262
-- Name: insights_by_period_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.insights_by_period_id_seq', 89, true);


--
-- TOC entry 4010 (class 0 OID 0)
-- Dependencies: 258
-- Name: insights_metadata_metaId_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."insights_metadata_metaId_seq"', 6, true);


--
-- TOC entry 4011 (class 0 OID 0)
-- Dependencies: 260
-- Name: insights_raw_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.insights_raw_id_seq', 184, true);


--
-- TOC entry 4012 (class 0 OID 0)
-- Dependencies: 222
-- Name: migrations_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.migrations_id_seq', 122, true);


--
-- TOC entry 4013 (class 0 OID 0)
-- Dependencies: 278
-- Name: oauth_user_consents_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.oauth_user_consents_id_seq', 1, false);


--
-- TOC entry 4014 (class 0 OID 0)
-- Dependencies: 280
-- Name: workflow_dependency_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.workflow_dependency_id_seq', 1, false);


--
-- TOC entry 4015 (class 0 OID 0)
-- Dependencies: 283
-- Name: workflow_publish_history_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.workflow_publish_history_id_seq', 2, true);


--
-- TOC entry 3633 (class 2606 OID 35115)
-- Name: test_run PK_011c050f566e9db509a0fadb9b9; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.test_run
    ADD CONSTRAINT "PK_011c050f566e9db509a0fadb9b9" PRIMARY KEY (id);


--
-- TOC entry 3565 (class 2606 OID 24800)
-- Name: installed_packages PK_08cc9197c39b028c1e9beca225940576fd1a5804; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.installed_packages
    ADD CONSTRAINT "PK_08cc9197c39b028c1e9beca225940576fd1a5804" PRIMARY KEY ("packageName");


--
-- TOC entry 3599 (class 2606 OID 25322)
-- Name: execution_metadata PK_17a0b6284f8d626aae88e1c16e4; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.execution_metadata
    ADD CONSTRAINT "PK_17a0b6284f8d626aae88e1c16e4" PRIMARY KEY (id);


--
-- TOC entry 3590 (class 2606 OID 25249)
-- Name: project_relation PK_1caaa312a5d7184a003be0f0cb6; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.project_relation
    ADD CONSTRAINT "PK_1caaa312a5d7184a003be0f0cb6" PRIMARY KEY ("projectId", "userId");


--
-- TOC entry 3654 (class 2606 OID 57472)
-- Name: chat_hub_sessions PK_1eafef1273c70e4464fec703412; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.chat_hub_sessions
    ADD CONSTRAINT "PK_1eafef1273c70e4464fec703412" PRIMARY KEY (id);


--
-- TOC entry 3622 (class 2606 OID 25530)
-- Name: folder_tag PK_27e4e00852f6b06a925a4d83a3e; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.folder_tag
    ADD CONSTRAINT "PK_27e4e00852f6b06a925a4d83a3e" PRIMARY KEY ("folderId", "tagId");


--
-- TOC entry 3641 (class 2606 OID 57359)
-- Name: role PK_35c9b140caaf6da09cfabb0d675; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.role
    ADD CONSTRAINT "PK_35c9b140caaf6da09cfabb0d675" PRIMARY KEY (slug);


--
-- TOC entry 3586 (class 2606 OID 25240)
-- Name: project PK_4d68b1358bb5b766d3e78f32f57; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.project
    ADD CONSTRAINT "PK_4d68b1358bb5b766d3e78f32f57" PRIMARY KEY (id);


--
-- TOC entry 3675 (class 2606 OID 57651)
-- Name: workflow_dependency PK_52325e34cd7a2f0f67b0f3cad65; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.workflow_dependency
    ADD CONSTRAINT "PK_52325e34cd7a2f0f67b0f3cad65" PRIMARY KEY (id);


--
-- TOC entry 3601 (class 2606 OID 25335)
-- Name: invalid_auth_token PK_5779069b7235b256d91f7af1a15; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.invalid_auth_token
    ADD CONSTRAINT "PK_5779069b7235b256d91f7af1a15" PRIMARY KEY (token);


--
-- TOC entry 3596 (class 2606 OID 25303)
-- Name: shared_workflow PK_5ba87620386b847201c9531c58f; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.shared_workflow
    ADD CONSTRAINT "PK_5ba87620386b847201c9531c58f" PRIMARY KEY ("workflowId", "projectId");


--
-- TOC entry 3620 (class 2606 OID 25514)
-- Name: folder PK_6278a41a706740c94c02e288df8; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.folder
    ADD CONSTRAINT "PK_6278a41a706740c94c02e288df8" PRIMARY KEY (id);


--
-- TOC entry 3650 (class 2606 OID 57436)
-- Name: data_table_column PK_673cb121ee4a8a5e27850c72c51; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.data_table_column
    ADD CONSTRAINT "PK_673cb121ee4a8a5e27850c72c51" PRIMARY KEY (id);


--
-- TOC entry 3607 (class 2606 OID 25362)
-- Name: annotation_tag_entity PK_69dfa041592c30bbc0d4b84aa00; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.annotation_tag_entity
    ADD CONSTRAINT "PK_69dfa041592c30bbc0d4b84aa00" PRIMARY KEY (id);


--
-- TOC entry 3666 (class 2606 OID 57611)
-- Name: oauth_refresh_tokens PK_74abaed0b30711b6532598b0392; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.oauth_refresh_tokens
    ADD CONSTRAINT "PK_74abaed0b30711b6532598b0392" PRIMARY KEY (token);


--
-- TOC entry 3656 (class 2606 OID 57498)
-- Name: chat_hub_messages PK_7704a5add6baed43eef835f0bfb; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.chat_hub_messages
    ADD CONSTRAINT "PK_7704a5add6baed43eef835f0bfb" PRIMARY KEY (id);


--
-- TOC entry 3604 (class 2606 OID 25349)
-- Name: execution_annotations PK_7afcf93ffa20c4252869a7c6a23; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.execution_annotations
    ADD CONSTRAINT "PK_7afcf93ffa20c4252869a7c6a23" PRIMARY KEY (id);


--
-- TOC entry 3668 (class 2606 OID 57629)
-- Name: oauth_user_consents PK_85b9ada746802c8993103470f05; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.oauth_user_consents
    ADD CONSTRAINT "PK_85b9ada746802c8993103470f05" PRIMARY KEY (id);


--
-- TOC entry 3532 (class 2606 OID 24596)
-- Name: migrations PK_8c82d7f526340ab734260ea46be; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.migrations
    ADD CONSTRAINT "PK_8c82d7f526340ab734260ea46be" PRIMARY KEY (id);


--
-- TOC entry 3567 (class 2606 OID 24808)
-- Name: installed_nodes PK_8ebd28194e4f792f96b5933423fc439df97d9689; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.installed_nodes
    ADD CONSTRAINT "PK_8ebd28194e4f792f96b5933423fc439df97d9689" PRIMARY KEY (name);


--
-- TOC entry 3594 (class 2606 OID 25277)
-- Name: shared_credentials PK_8ef3a59796a228913f251779cff; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.shared_credentials
    ADD CONSTRAINT "PK_8ef3a59796a228913f251779cff" PRIMARY KEY ("credentialsId", "projectId");


--
-- TOC entry 3636 (class 2606 OID 35130)
-- Name: test_case_execution PK_90c121f77a78a6580e94b794bce; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.test_case_execution
    ADD CONSTRAINT "PK_90c121f77a78a6580e94b794bce" PRIMARY KEY (id);


--
-- TOC entry 3615 (class 2606 OID 25389)
-- Name: user_api_keys PK_978fa5caa3468f463dac9d92e69; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_api_keys
    ADD CONSTRAINT "PK_978fa5caa3468f463dac9d92e69" PRIMARY KEY (id);


--
-- TOC entry 3611 (class 2606 OID 25368)
-- Name: execution_annotation_tags PK_979ec03d31294cca484be65d11f; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.execution_annotation_tags
    ADD CONSTRAINT "PK_979ec03d31294cca484be65d11f" PRIMARY KEY ("annotationId", "tagId");


--
-- TOC entry 3548 (class 2606 OID 24632)
-- Name: webhook_entity PK_b21ace2e13596ccd87dc9bf4ea6; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.webhook_entity
    ADD CONSTRAINT "PK_b21ace2e13596ccd87dc9bf4ea6" PRIMARY KEY ("webhookPath", method);


--
-- TOC entry 3630 (class 2606 OID 25627)
-- Name: insights_by_period PK_b606942249b90cc39b0265f0575; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.insights_by_period
    ADD CONSTRAINT "PK_b606942249b90cc39b0265f0575" PRIMARY KEY (id);


--
-- TOC entry 3584 (class 2606 OID 25013)
-- Name: workflow_history PK_b6572dd6173e4cd06fe79937b58; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.workflow_history
    ADD CONSTRAINT "PK_b6572dd6173e4cd06fe79937b58" PRIMARY KEY ("versionId");


--
-- TOC entry 3638 (class 2606 OID 57351)
-- Name: scope PK_bfc45df0481abd7f355d6187da1; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.scope
    ADD CONSTRAINT "PK_bfc45df0481abd7f355d6187da1" PRIMARY KEY (slug);


--
-- TOC entry 3660 (class 2606 OID 57565)
-- Name: oauth_clients PK_c4759172d3431bae6f04e678e0d; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.oauth_clients
    ADD CONSTRAINT "PK_c4759172d3431bae6f04e678e0d" PRIMARY KEY (id);


--
-- TOC entry 3681 (class 2606 OID 57727)
-- Name: workflow_publish_history PK_c788f7caf88e91e365c97d6d04a; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.workflow_publish_history
    ADD CONSTRAINT "PK_c788f7caf88e91e365c97d6d04a" PRIMARY KEY (id);


--
-- TOC entry 3617 (class 2606 OID 25405)
-- Name: processed_data PK_ca04b9d8dc72de268fe07a65773; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.processed_data
    ADD CONSTRAINT "PK_ca04b9d8dc72de268fe07a65773" PRIMARY KEY ("workflowId", context);


--
-- TOC entry 3563 (class 2606 OID 24792)
-- Name: settings PK_dc0fe14e6d9943f268e7b119f69ab8bd; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.settings
    ADD CONSTRAINT "PK_dc0fe14e6d9943f268e7b119f69ab8bd" PRIMARY KEY (key);


--
-- TOC entry 3664 (class 2606 OID 57592)
-- Name: oauth_access_tokens PK_dcd71f96a5d5f4bf79e67d322bf; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.oauth_access_tokens
    ADD CONSTRAINT "PK_dcd71f96a5d5f4bf79e67d322bf" PRIMARY KEY (token);


--
-- TOC entry 3646 (class 2606 OID 57422)
-- Name: data_table PK_e226d0001b9e6097cbfe70617cb; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.data_table
    ADD CONSTRAINT "PK_e226d0001b9e6097cbfe70617cb" PRIMARY KEY (id);


--
-- TOC entry 3558 (class 2606 OID 24731)
-- Name: user PK_ea8f538c94b6e352418254ed6474a81f; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."user"
    ADD CONSTRAINT "PK_ea8f538c94b6e352418254ed6474a81f" PRIMARY KEY (id);


--
-- TOC entry 3627 (class 2606 OID 25615)
-- Name: insights_raw PK_ec15125755151e3a7e00e00014f; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.insights_raw
    ADD CONSTRAINT "PK_ec15125755151e3a7e00e00014f" PRIMARY KEY (id);


--
-- TOC entry 3658 (class 2606 OID 57542)
-- Name: chat_hub_agents PK_f39a3b36bbdf0e2979ddb21cf78; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.chat_hub_agents
    ADD CONSTRAINT "PK_f39a3b36bbdf0e2979ddb21cf78" PRIMARY KEY (id);


--
-- TOC entry 3625 (class 2606 OID 25597)
-- Name: insights_metadata PK_f448a94c35218b6208ce20cf5a1; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.insights_metadata
    ADD CONSTRAINT "PK_f448a94c35218b6208ce20cf5a1" PRIMARY KEY ("metaId");


--
-- TOC entry 3662 (class 2606 OID 57575)
-- Name: oauth_authorization_codes PK_fb91ab932cfbd694061501cc20f; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.oauth_authorization_codes
    ADD CONSTRAINT "PK_fb91ab932cfbd694061501cc20f" PRIMARY KEY (code);


--
-- TOC entry 3678 (class 2606 OID 57718)
-- Name: binary_data PK_fc3691585b39408bb0551122af6; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.binary_data
    ADD CONSTRAINT "PK_fc3691585b39408bb0551122af6" PRIMARY KEY ("fileId");


--
-- TOC entry 3644 (class 2606 OID 57364)
-- Name: role_scope PK_role_scope; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.role_scope
    ADD CONSTRAINT "PK_role_scope" PRIMARY KEY ("roleSlug", "scopeSlug");


--
-- TOC entry 3670 (class 2606 OID 57631)
-- Name: oauth_user_consents UQ_083721d99ce8db4033e2958ebb4; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.oauth_user_consents
    ADD CONSTRAINT "UQ_083721d99ce8db4033e2958ebb4" UNIQUE ("userId", "clientId");


--
-- TOC entry 3652 (class 2606 OID 57438)
-- Name: data_table_column UQ_8082ec4890f892f0bc77473a123; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.data_table_column
    ADD CONSTRAINT "UQ_8082ec4890f892f0bc77473a123" UNIQUE ("dataTableId", name);


--
-- TOC entry 3648 (class 2606 OID 57424)
-- Name: data_table UQ_b23096ef747281ac944d28e8b0d; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.data_table
    ADD CONSTRAINT "UQ_b23096ef747281ac944d28e8b0d" UNIQUE ("projectId", name);


--
-- TOC entry 3560 (class 2606 OID 24733)
-- Name: user UQ_e12875dfb3b1d92d7d7c5377e2; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."user"
    ADD CONSTRAINT "UQ_e12875dfb3b1d92d7d7c5377e2" UNIQUE (email);


--
-- TOC entry 3573 (class 2606 OID 24889)
-- Name: auth_identity auth_identity_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_identity
    ADD CONSTRAINT auth_identity_pkey PRIMARY KEY ("providerId", "providerType");


--
-- TOC entry 3575 (class 2606 OID 24905)
-- Name: auth_provider_sync_history auth_provider_sync_history_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_provider_sync_history
    ADD CONSTRAINT auth_provider_sync_history_pkey PRIMARY KEY (id);


--
-- TOC entry 3534 (class 2606 OID 24987)
-- Name: credentials_entity credentials_entity_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.credentials_entity
    ADD CONSTRAINT credentials_entity_pkey PRIMARY KEY (id);


--
-- TOC entry 3571 (class 2606 OID 24860)
-- Name: event_destinations event_destinations_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.event_destinations
    ADD CONSTRAINT event_destinations_pkey PRIMARY KEY (id);


--
-- TOC entry 3581 (class 2606 OID 25003)
-- Name: execution_data execution_data_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.execution_data
    ADD CONSTRAINT execution_data_pkey PRIMARY KEY ("executionId");


--
-- TOC entry 3542 (class 2606 OID 24615)
-- Name: execution_entity pk_e3e63bbf986767844bbe1166d4e; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.execution_entity
    ADD CONSTRAINT pk_e3e63bbf986767844bbe1166d4e PRIMARY KEY (id);


--
-- TOC entry 3569 (class 2606 OID 24956)
-- Name: workflow_statistics pk_workflow_statistics; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.workflow_statistics
    ADD CONSTRAINT pk_workflow_statistics PRIMARY KEY ("workflowId", name);


--
-- TOC entry 3556 (class 2606 OID 24935)
-- Name: workflows_tags pk_workflows_tags; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.workflows_tags
    ADD CONSTRAINT pk_workflows_tags PRIMARY KEY ("workflowId", "tagId");


--
-- TOC entry 3553 (class 2606 OID 24976)
-- Name: tag_entity tag_entity_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tag_entity
    ADD CONSTRAINT tag_entity_pkey PRIMARY KEY (id);


--
-- TOC entry 3578 (class 2606 OID 24990)
-- Name: variables variables_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.variables
    ADD CONSTRAINT variables_pkey PRIMARY KEY (id);


--
-- TOC entry 3546 (class 2606 OID 24974)
-- Name: workflow_entity workflow_entity_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.workflow_entity
    ADD CONSTRAINT workflow_entity_pkey PRIMARY KEY (id);


--
-- TOC entry 3679 (class 1259 OID 57743)
-- Name: IDX_070b5de842ece9ccdda0d9738b; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IDX_070b5de842ece9ccdda0d9738b" ON public.workflow_publish_history USING btree ("workflowId", "versionId");


--
-- TOC entry 3618 (class 1259 OID 25525)
-- Name: IDX_14f68deffaf858465715995508; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX "IDX_14f68deffaf858465715995508" ON public.folder USING btree ("projectId", id);


--
-- TOC entry 3623 (class 1259 OID 25608)
-- Name: IDX_1d8ab99d5861c9388d2dc1cf73; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX "IDX_1d8ab99d5861c9388d2dc1cf73" ON public.insights_metadata USING btree ("workflowId");


--
-- TOC entry 3582 (class 1259 OID 25019)
-- Name: IDX_1e31657f5fe46816c34be7c1b4; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IDX_1e31657f5fe46816c34be7c1b4" ON public.workflow_history USING btree ("workflowId");


--
-- TOC entry 3612 (class 1259 OID 25396)
-- Name: IDX_1ef35bac35d20bdae979d917a3; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX "IDX_1ef35bac35d20bdae979d917a3" ON public.user_api_keys USING btree ("apiKey");


--
-- TOC entry 3676 (class 1259 OID 57719)
-- Name: IDX_56900edc3cfd16612e2ef2c6a8; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IDX_56900edc3cfd16612e2ef2c6a8" ON public.binary_data USING btree ("sourceType", "sourceId");


--
-- TOC entry 3587 (class 1259 OID 25261)
-- Name: IDX_5f0643f6717905a05164090dde; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IDX_5f0643f6717905a05164090dde" ON public.project_relation USING btree ("userId");


--
-- TOC entry 3628 (class 1259 OID 25633)
-- Name: IDX_60b6a84299eeb3f671dfec7693; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX "IDX_60b6a84299eeb3f671dfec7693" ON public.insights_by_period USING btree ("periodStart", type, "periodUnit", "metaId");


--
-- TOC entry 3588 (class 1259 OID 25260)
-- Name: IDX_61448d56d61802b5dfde5cdb00; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IDX_61448d56d61802b5dfde5cdb00" ON public.project_relation USING btree ("projectId");


--
-- TOC entry 3613 (class 1259 OID 25395)
-- Name: IDX_63d7bbae72c767cf162d459fcc; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX "IDX_63d7bbae72c767cf162d459fcc" ON public.user_api_keys USING btree ("userId", label);


--
-- TOC entry 3634 (class 1259 OID 35141)
-- Name: IDX_8e4b4774db42f1e6dda3452b2a; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IDX_8e4b4774db42f1e6dda3452b2a" ON public.test_case_execution USING btree ("testRunId");


--
-- TOC entry 3602 (class 1259 OID 25355)
-- Name: IDX_97f863fa83c4786f1956508496; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX "IDX_97f863fa83c4786f1956508496" ON public.execution_annotations USING btree ("executionId");


--
-- TOC entry 3639 (class 1259 OID 57555)
-- Name: IDX_UniqueRoleDisplayName; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX "IDX_UniqueRoleDisplayName" ON public.role USING btree ("displayName");


--
-- TOC entry 3608 (class 1259 OID 25379)
-- Name: IDX_a3697779b366e131b2bbdae297; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IDX_a3697779b366e131b2bbdae297" ON public.execution_annotation_tags USING btree ("tagId");


--
-- TOC entry 3671 (class 1259 OID 57657)
-- Name: IDX_a4ff2d9b9628ea988fa9e7d0bf; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IDX_a4ff2d9b9628ea988fa9e7d0bf" ON public.workflow_dependency USING btree ("workflowId");


--
-- TOC entry 3605 (class 1259 OID 25363)
-- Name: IDX_ae51b54c4bb430cf92f48b623f; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX "IDX_ae51b54c4bb430cf92f48b623f" ON public.annotation_tag_entity USING btree (name);


--
-- TOC entry 3609 (class 1259 OID 25380)
-- Name: IDX_c1519757391996eb06064f0e7c; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IDX_c1519757391996eb06064f0e7c" ON public.execution_annotation_tags USING btree ("annotationId");


--
-- TOC entry 3597 (class 1259 OID 25328)
-- Name: IDX_cec8eea3bf49551482ccb4933e; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX "IDX_cec8eea3bf49551482ccb4933e" ON public.execution_metadata USING btree ("executionId", key);


--
-- TOC entry 3631 (class 1259 OID 35121)
-- Name: IDX_d6870d3b6e4c185d33926f423c; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IDX_d6870d3b6e4c185d33926f423c" ON public.test_run USING btree ("workflowId");


--
-- TOC entry 3672 (class 1259 OID 57659)
-- Name: IDX_e48a201071ab85d9d09119d640; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IDX_e48a201071ab85d9d09119d640" ON public.workflow_dependency USING btree ("dependencyKey");


--
-- TOC entry 3673 (class 1259 OID 57658)
-- Name: IDX_e7fe1cfda990c14a445937d0b9; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IDX_e7fe1cfda990c14a445937d0b9" ON public.workflow_dependency USING btree ("dependencyType");


--
-- TOC entry 3537 (class 1259 OID 25020)
-- Name: IDX_execution_entity_deletedAt; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IDX_execution_entity_deletedAt" ON public.execution_entity USING btree ("deletedAt");


--
-- TOC entry 3642 (class 1259 OID 57375)
-- Name: IDX_role_scope_scopeSlug; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IDX_role_scope_scopeSlug" ON public.role_scope USING btree ("scopeSlug");


--
-- TOC entry 3543 (class 1259 OID 25004)
-- Name: IDX_workflow_entity_name; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IDX_workflow_entity_name" ON public.workflow_entity USING btree (name);


--
-- TOC entry 3535 (class 1259 OID 24710)
-- Name: idx_07fde106c0b471d8cc80a64fc8; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_07fde106c0b471d8cc80a64fc8 ON public.credentials_entity USING btree (type);


--
-- TOC entry 3549 (class 1259 OID 24634)
-- Name: idx_16f4436789e804e3e1c9eeb240; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_16f4436789e804e3e1c9eeb240 ON public.webhook_entity USING btree ("webhookId", method, "pathLength");


--
-- TOC entry 3550 (class 1259 OID 24642)
-- Name: idx_812eb05f7451ca757fb98444ce; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX idx_812eb05f7451ca757fb98444ce ON public.tag_entity USING btree (name);


--
-- TOC entry 3538 (class 1259 OID 25338)
-- Name: idx_execution_entity_stopped_at_status_deleted_at; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_execution_entity_stopped_at_status_deleted_at ON public.execution_entity USING btree ("stoppedAt", status, "deletedAt") WHERE (("stoppedAt" IS NOT NULL) AND ("deletedAt" IS NULL));


--
-- TOC entry 3539 (class 1259 OID 25337)
-- Name: idx_execution_entity_wait_till_status_deleted_at; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_execution_entity_wait_till_status_deleted_at ON public.execution_entity USING btree ("waitTill", status, "deletedAt") WHERE (("waitTill" IS NOT NULL) AND ("deletedAt" IS NULL));


--
-- TOC entry 3540 (class 1259 OID 25336)
-- Name: idx_execution_entity_workflow_id_started_at; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_execution_entity_workflow_id_started_at ON public.execution_entity USING btree ("workflowId", "startedAt") WHERE (("startedAt" IS NOT NULL) AND ("deletedAt" IS NULL));


--
-- TOC entry 3554 (class 1259 OID 24936)
-- Name: idx_workflows_tags_workflow_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_workflows_tags_workflow_id ON public.workflows_tags USING btree ("workflowId");


--
-- TOC entry 3536 (class 1259 OID 24977)
-- Name: pk_credentials_entity_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX pk_credentials_entity_id ON public.credentials_entity USING btree (id);


--
-- TOC entry 3551 (class 1259 OID 24933)
-- Name: pk_tag_entity_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX pk_tag_entity_id ON public.tag_entity USING btree (id);


--
-- TOC entry 3544 (class 1259 OID 24932)
-- Name: pk_workflow_entity_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX pk_workflow_entity_id ON public.workflow_entity USING btree (id);


--
-- TOC entry 3591 (class 1259 OID 57446)
-- Name: project_relation_role_idx; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX project_relation_role_idx ON public.project_relation USING btree (role);


--
-- TOC entry 3592 (class 1259 OID 57447)
-- Name: project_relation_role_project_idx; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX project_relation_role_project_idx ON public.project_relation USING btree ("projectId", role);


--
-- TOC entry 3561 (class 1259 OID 57448)
-- Name: user_role_idx; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX user_role_idx ON public."user" USING btree ("roleSlug");


--
-- TOC entry 3576 (class 1259 OID 57456)
-- Name: variables_global_key_unique; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX variables_global_key_unique ON public.variables USING btree (key) WHERE ("projectId" IS NULL);


--
-- TOC entry 3579 (class 1259 OID 57455)
-- Name: variables_project_key_unique; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX variables_project_key_unique ON public.variables USING btree ("projectId", key) WHERE ("projectId" IS NOT NULL);


--
-- TOC entry 3746 (class 2620 OID 57663)
-- Name: workflow_entity workflow_version_increment; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER workflow_version_increment BEFORE UPDATE ON public.workflow_entity FOR EACH ROW EXECUTE FUNCTION public.increment_workflow_version();


--
-- TOC entry 3707 (class 2606 OID 25406)
-- Name: processed_data FK_06a69a7032c97a763c2c7599464; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.processed_data
    ADD CONSTRAINT "FK_06a69a7032c97a763c2c7599464" FOREIGN KEY ("workflowId") REFERENCES public.workflow_entity(id) ON DELETE CASCADE;


--
-- TOC entry 3683 (class 2606 OID 57704)
-- Name: workflow_entity FK_08d6c67b7f722b0039d9d5ed620; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.workflow_entity
    ADD CONSTRAINT "FK_08d6c67b7f722b0039d9d5ed620" FOREIGN KEY ("activeVersionId") REFERENCES public.workflow_history("versionId") ON DELETE RESTRICT;


--
-- TOC entry 3712 (class 2606 OID 25598)
-- Name: insights_metadata FK_1d8ab99d5861c9388d2dc1cf733; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.insights_metadata
    ADD CONSTRAINT "FK_1d8ab99d5861c9388d2dc1cf733" FOREIGN KEY ("workflowId") REFERENCES public.workflow_entity(id) ON DELETE SET NULL;


--
-- TOC entry 3694 (class 2606 OID 25014)
-- Name: workflow_history FK_1e31657f5fe46816c34be7c1b4b; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.workflow_history
    ADD CONSTRAINT "FK_1e31657f5fe46816c34be7c1b4b" FOREIGN KEY ("workflowId") REFERENCES public.workflow_entity(id) ON DELETE CASCADE;


--
-- TOC entry 3726 (class 2606 OID 57524)
-- Name: chat_hub_messages FK_1f4998c8a7dec9e00a9ab15550e; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.chat_hub_messages
    ADD CONSTRAINT "FK_1f4998c8a7dec9e00a9ab15550e" FOREIGN KEY ("revisionOfMessageId") REFERENCES public.chat_hub_messages(id) ON DELETE CASCADE;


--
-- TOC entry 3740 (class 2606 OID 57637)
-- Name: oauth_user_consents FK_21e6c3c2d78a097478fae6aaefa; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.oauth_user_consents
    ADD CONSTRAINT "FK_21e6c3c2d78a097478fae6aaefa" FOREIGN KEY ("userId") REFERENCES public."user"(id) ON DELETE CASCADE;


--
-- TOC entry 3713 (class 2606 OID 25603)
-- Name: insights_metadata FK_2375a1eda085adb16b24615b69c; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.insights_metadata
    ADD CONSTRAINT "FK_2375a1eda085adb16b24615b69c" FOREIGN KEY ("projectId") REFERENCES public.project(id) ON DELETE SET NULL;


--
-- TOC entry 3727 (class 2606 OID 57519)
-- Name: chat_hub_messages FK_25c9736e7f769f3a005eef4b372; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.chat_hub_messages
    ADD CONSTRAINT "FK_25c9736e7f769f3a005eef4b372" FOREIGN KEY ("retryOfMessageId") REFERENCES public.chat_hub_messages(id) ON DELETE CASCADE;


--
-- TOC entry 3702 (class 2606 OID 25323)
-- Name: execution_metadata FK_31d0b4c93fb85ced26f6005cda3; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.execution_metadata
    ADD CONSTRAINT "FK_31d0b4c93fb85ced26f6005cda3" FOREIGN KEY ("executionId") REFERENCES public.execution_entity(id) ON DELETE CASCADE;


--
-- TOC entry 3698 (class 2606 OID 25278)
-- Name: shared_credentials FK_416f66fc846c7c442970c094ccf; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.shared_credentials
    ADD CONSTRAINT "FK_416f66fc846c7c442970c094ccf" FOREIGN KEY ("credentialsId") REFERENCES public.credentials_entity(id) ON DELETE CASCADE;


--
-- TOC entry 3692 (class 2606 OID 57450)
-- Name: variables FK_42f6c766f9f9d2edcc15bdd6e9b; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.variables
    ADD CONSTRAINT "FK_42f6c766f9f9d2edcc15bdd6e9b" FOREIGN KEY ("projectId") REFERENCES public.project(id) ON DELETE CASCADE;


--
-- TOC entry 3732 (class 2606 OID 57543)
-- Name: chat_hub_agents FK_441ba2caba11e077ce3fbfa2cd8; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.chat_hub_agents
    ADD CONSTRAINT "FK_441ba2caba11e077ce3fbfa2cd8" FOREIGN KEY ("ownerId") REFERENCES public."user"(id) ON DELETE CASCADE;


--
-- TOC entry 3695 (class 2606 OID 25255)
-- Name: project_relation FK_5f0643f6717905a05164090dde7; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.project_relation
    ADD CONSTRAINT "FK_5f0643f6717905a05164090dde7" FOREIGN KEY ("userId") REFERENCES public."user"(id) ON DELETE CASCADE;


--
-- TOC entry 3696 (class 2606 OID 25250)
-- Name: project_relation FK_61448d56d61802b5dfde5cdb002; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.project_relation
    ADD CONSTRAINT "FK_61448d56d61802b5dfde5cdb002" FOREIGN KEY ("projectId") REFERENCES public.project(id) ON DELETE CASCADE;


--
-- TOC entry 3715 (class 2606 OID 25628)
-- Name: insights_by_period FK_6414cfed98daabbfdd61a1cfbc0; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.insights_by_period
    ADD CONSTRAINT "FK_6414cfed98daabbfdd61a1cfbc0" FOREIGN KEY ("metaId") REFERENCES public.insights_metadata("metaId") ON DELETE CASCADE;


--
-- TOC entry 3734 (class 2606 OID 57576)
-- Name: oauth_authorization_codes FK_64d965bd072ea24fb6da55468cd; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.oauth_authorization_codes
    ADD CONSTRAINT "FK_64d965bd072ea24fb6da55468cd" FOREIGN KEY ("clientId") REFERENCES public.oauth_clients(id) ON DELETE CASCADE;


--
-- TOC entry 3728 (class 2606 OID 57529)
-- Name: chat_hub_messages FK_6afb260449dd7a9b85355d4e0c9; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.chat_hub_messages
    ADD CONSTRAINT "FK_6afb260449dd7a9b85355d4e0c9" FOREIGN KEY ("executionId") REFERENCES public.execution_entity(id) ON DELETE SET NULL;


--
-- TOC entry 3714 (class 2606 OID 25616)
-- Name: insights_raw FK_6e2e33741adef2a7c5d66befa4e; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.insights_raw
    ADD CONSTRAINT "FK_6e2e33741adef2a7c5d66befa4e" FOREIGN KEY ("metaId") REFERENCES public.insights_metadata("metaId") ON DELETE CASCADE;


--
-- TOC entry 3743 (class 2606 OID 57738)
-- Name: workflow_publish_history FK_6eab5bd9eedabe9c54bd879fc40; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.workflow_publish_history
    ADD CONSTRAINT "FK_6eab5bd9eedabe9c54bd879fc40" FOREIGN KEY ("userId") REFERENCES public."user"(id) ON DELETE SET NULL;


--
-- TOC entry 3736 (class 2606 OID 57598)
-- Name: oauth_access_tokens FK_7234a36d8e49a1fa85095328845; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.oauth_access_tokens
    ADD CONSTRAINT "FK_7234a36d8e49a1fa85095328845" FOREIGN KEY ("userId") REFERENCES public."user"(id) ON DELETE CASCADE;


--
-- TOC entry 3689 (class 2606 OID 24809)
-- Name: installed_nodes FK_73f857fc5dce682cef8a99c11dbddbc969618951; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.installed_nodes
    ADD CONSTRAINT "FK_73f857fc5dce682cef8a99c11dbddbc969618951" FOREIGN KEY (package) REFERENCES public.installed_packages("packageName") ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 3737 (class 2606 OID 57593)
-- Name: oauth_access_tokens FK_78b26968132b7e5e45b75876481; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.oauth_access_tokens
    ADD CONSTRAINT "FK_78b26968132b7e5e45b75876481" FOREIGN KEY ("clientId") REFERENCES public.oauth_clients(id) ON DELETE CASCADE;


--
-- TOC entry 3723 (class 2606 OID 57478)
-- Name: chat_hub_sessions FK_7bc13b4c7e6afbfaf9be326c189; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.chat_hub_sessions
    ADD CONSTRAINT "FK_7bc13b4c7e6afbfaf9be326c189" FOREIGN KEY ("credentialId") REFERENCES public.credentials_entity(id) ON DELETE SET NULL;


--
-- TOC entry 3708 (class 2606 OID 25520)
-- Name: folder FK_804ea52f6729e3940498bd54d78; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.folder
    ADD CONSTRAINT "FK_804ea52f6729e3940498bd54d78" FOREIGN KEY ("parentFolderId") REFERENCES public.folder(id) ON DELETE CASCADE;


--
-- TOC entry 3699 (class 2606 OID 25283)
-- Name: shared_credentials FK_812c2852270da1247756e77f5a4; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.shared_credentials
    ADD CONSTRAINT "FK_812c2852270da1247756e77f5a4" FOREIGN KEY ("projectId") REFERENCES public.project(id) ON DELETE CASCADE;


--
-- TOC entry 3717 (class 2606 OID 35131)
-- Name: test_case_execution FK_8e4b4774db42f1e6dda3452b2af; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.test_case_execution
    ADD CONSTRAINT "FK_8e4b4774db42f1e6dda3452b2af" FOREIGN KEY ("testRunId") REFERENCES public.test_run(id) ON DELETE CASCADE;


--
-- TOC entry 3722 (class 2606 OID 57439)
-- Name: data_table_column FK_930b6e8faaf88294cef23484160; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.data_table_column
    ADD CONSTRAINT "FK_930b6e8faaf88294cef23484160" FOREIGN KEY ("dataTableId") REFERENCES public.data_table(id) ON DELETE CASCADE;


--
-- TOC entry 3710 (class 2606 OID 25531)
-- Name: folder_tag FK_94a60854e06f2897b2e0d39edba; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.folder_tag
    ADD CONSTRAINT "FK_94a60854e06f2897b2e0d39edba" FOREIGN KEY ("folderId") REFERENCES public.folder(id) ON DELETE CASCADE;


--
-- TOC entry 3703 (class 2606 OID 25350)
-- Name: execution_annotations FK_97f863fa83c4786f19565084960; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.execution_annotations
    ADD CONSTRAINT "FK_97f863fa83c4786f19565084960" FOREIGN KEY ("executionId") REFERENCES public.execution_entity(id) ON DELETE CASCADE;


--
-- TOC entry 3733 (class 2606 OID 57548)
-- Name: chat_hub_agents FK_9c61ad497dcbae499c96a6a78ba; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.chat_hub_agents
    ADD CONSTRAINT "FK_9c61ad497dcbae499c96a6a78ba" FOREIGN KEY ("credentialId") REFERENCES public.credentials_entity(id) ON DELETE SET NULL;


--
-- TOC entry 3724 (class 2606 OID 57483)
-- Name: chat_hub_sessions FK_9f9293d9f552496c40e0d1a8f80; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.chat_hub_sessions
    ADD CONSTRAINT "FK_9f9293d9f552496c40e0d1a8f80" FOREIGN KEY ("workflowId") REFERENCES public.workflow_entity(id) ON DELETE SET NULL;


--
-- TOC entry 3704 (class 2606 OID 25374)
-- Name: execution_annotation_tags FK_a3697779b366e131b2bbdae2976; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.execution_annotation_tags
    ADD CONSTRAINT "FK_a3697779b366e131b2bbdae2976" FOREIGN KEY ("tagId") REFERENCES public.annotation_tag_entity(id) ON DELETE CASCADE;


--
-- TOC entry 3700 (class 2606 OID 25309)
-- Name: shared_workflow FK_a45ea5f27bcfdc21af9b4188560; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.shared_workflow
    ADD CONSTRAINT "FK_a45ea5f27bcfdc21af9b4188560" FOREIGN KEY ("projectId") REFERENCES public.project(id) ON DELETE CASCADE;


--
-- TOC entry 3742 (class 2606 OID 57652)
-- Name: workflow_dependency FK_a4ff2d9b9628ea988fa9e7d0bf8; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.workflow_dependency
    ADD CONSTRAINT "FK_a4ff2d9b9628ea988fa9e7d0bf8" FOREIGN KEY ("workflowId") REFERENCES public.workflow_entity(id) ON DELETE CASCADE;


--
-- TOC entry 3741 (class 2606 OID 57632)
-- Name: oauth_user_consents FK_a651acea2f6c97f8c4514935486; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.oauth_user_consents
    ADD CONSTRAINT "FK_a651acea2f6c97f8c4514935486" FOREIGN KEY ("clientId") REFERENCES public.oauth_clients(id) ON DELETE CASCADE;


--
-- TOC entry 3738 (class 2606 OID 57617)
-- Name: oauth_refresh_tokens FK_a699f3ed9fd0c1b19bc2608ac53; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.oauth_refresh_tokens
    ADD CONSTRAINT "FK_a699f3ed9fd0c1b19bc2608ac53" FOREIGN KEY ("userId") REFERENCES public."user"(id) ON DELETE CASCADE;


--
-- TOC entry 3709 (class 2606 OID 25515)
-- Name: folder FK_a8260b0b36939c6247f385b8221; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.folder
    ADD CONSTRAINT "FK_a8260b0b36939c6247f385b8221" FOREIGN KEY ("projectId") REFERENCES public.project(id) ON DELETE CASCADE;


--
-- TOC entry 3735 (class 2606 OID 57581)
-- Name: oauth_authorization_codes FK_aa8d3560484944c19bdf79ffa16; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.oauth_authorization_codes
    ADD CONSTRAINT "FK_aa8d3560484944c19bdf79ffa16" FOREIGN KEY ("userId") REFERENCES public."user"(id) ON DELETE CASCADE;


--
-- TOC entry 3729 (class 2606 OID 57509)
-- Name: chat_hub_messages FK_acf8926098f063cdbbad8497fd1; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.chat_hub_messages
    ADD CONSTRAINT "FK_acf8926098f063cdbbad8497fd1" FOREIGN KEY ("workflowId") REFERENCES public.workflow_entity(id) ON DELETE SET NULL;


--
-- TOC entry 3739 (class 2606 OID 57612)
-- Name: oauth_refresh_tokens FK_b388696ce4d8be7ffbe8d3e4b69; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.oauth_refresh_tokens
    ADD CONSTRAINT "FK_b388696ce4d8be7ffbe8d3e4b69" FOREIGN KEY ("clientId") REFERENCES public.oauth_clients(id) ON DELETE CASCADE;


--
-- TOC entry 3744 (class 2606 OID 57733)
-- Name: workflow_publish_history FK_b4cfbc7556d07f36ca177f5e473; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.workflow_publish_history
    ADD CONSTRAINT "FK_b4cfbc7556d07f36ca177f5e473" FOREIGN KEY ("versionId") REFERENCES public.workflow_history("versionId") ON DELETE CASCADE;


--
-- TOC entry 3745 (class 2606 OID 57728)
-- Name: workflow_publish_history FK_c01316f8c2d7101ec4fa9809267; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.workflow_publish_history
    ADD CONSTRAINT "FK_c01316f8c2d7101ec4fa9809267" FOREIGN KEY ("workflowId") REFERENCES public.workflow_entity(id) ON DELETE CASCADE;


--
-- TOC entry 3705 (class 2606 OID 25369)
-- Name: execution_annotation_tags FK_c1519757391996eb06064f0e7c8; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.execution_annotation_tags
    ADD CONSTRAINT "FK_c1519757391996eb06064f0e7c8" FOREIGN KEY ("annotationId") REFERENCES public.execution_annotations(id) ON DELETE CASCADE;


--
-- TOC entry 3721 (class 2606 OID 57425)
-- Name: data_table FK_c2a794257dee48af7c9abf681de; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.data_table
    ADD CONSTRAINT "FK_c2a794257dee48af7c9abf681de" FOREIGN KEY ("projectId") REFERENCES public.project(id) ON DELETE CASCADE;


--
-- TOC entry 3697 (class 2606 OID 57382)
-- Name: project_relation FK_c6b99592dc96b0d836d7a21db91; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.project_relation
    ADD CONSTRAINT "FK_c6b99592dc96b0d836d7a21db91" FOREIGN KEY (role) REFERENCES public.role(slug);


--
-- TOC entry 3716 (class 2606 OID 35116)
-- Name: test_run FK_d6870d3b6e4c185d33926f423c8; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.test_run
    ADD CONSTRAINT "FK_d6870d3b6e4c185d33926f423c8" FOREIGN KEY ("workflowId") REFERENCES public.workflow_entity(id) ON DELETE CASCADE;


--
-- TOC entry 3701 (class 2606 OID 25304)
-- Name: shared_workflow FK_daa206a04983d47d0a9c34649ce; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.shared_workflow
    ADD CONSTRAINT "FK_daa206a04983d47d0a9c34649ce" FOREIGN KEY ("workflowId") REFERENCES public.workflow_entity(id) ON DELETE CASCADE;


--
-- TOC entry 3711 (class 2606 OID 25536)
-- Name: folder_tag FK_dc88164176283de80af47621746; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.folder_tag
    ADD CONSTRAINT "FK_dc88164176283de80af47621746" FOREIGN KEY ("tagId") REFERENCES public.tag_entity(id) ON DELETE CASCADE;


--
-- TOC entry 3706 (class 2606 OID 25390)
-- Name: user_api_keys FK_e131705cbbc8fb589889b02d457; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_api_keys
    ADD CONSTRAINT "FK_e131705cbbc8fb589889b02d457" FOREIGN KEY ("userId") REFERENCES public."user"(id) ON DELETE CASCADE;


--
-- TOC entry 3730 (class 2606 OID 57499)
-- Name: chat_hub_messages FK_e22538eb50a71a17954cd7e076c; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.chat_hub_messages
    ADD CONSTRAINT "FK_e22538eb50a71a17954cd7e076c" FOREIGN KEY ("sessionId") REFERENCES public.chat_hub_sessions(id) ON DELETE CASCADE;


--
-- TOC entry 3718 (class 2606 OID 35136)
-- Name: test_case_execution FK_e48965fac35d0f5b9e7f51d8c44; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.test_case_execution
    ADD CONSTRAINT "FK_e48965fac35d0f5b9e7f51d8c44" FOREIGN KEY ("executionId") REFERENCES public.execution_entity(id) ON DELETE SET NULL;


--
-- TOC entry 3731 (class 2606 OID 57504)
-- Name: chat_hub_messages FK_e5d1fa722c5a8d38ac204746662; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.chat_hub_messages
    ADD CONSTRAINT "FK_e5d1fa722c5a8d38ac204746662" FOREIGN KEY ("previousMessageId") REFERENCES public.chat_hub_messages(id) ON DELETE CASCADE;


--
-- TOC entry 3725 (class 2606 OID 57473)
-- Name: chat_hub_sessions FK_e9ecf8ede7d989fcd18790fe36a; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.chat_hub_sessions
    ADD CONSTRAINT "FK_e9ecf8ede7d989fcd18790fe36a" FOREIGN KEY ("ownerId") REFERENCES public."user"(id) ON DELETE CASCADE;


--
-- TOC entry 3688 (class 2606 OID 57377)
-- Name: user FK_eaea92ee7bfb9c1b6cd01505d56; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."user"
    ADD CONSTRAINT "FK_eaea92ee7bfb9c1b6cd01505d56" FOREIGN KEY ("roleSlug") REFERENCES public.role(slug);


--
-- TOC entry 3719 (class 2606 OID 57365)
-- Name: role_scope FK_role; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.role_scope
    ADD CONSTRAINT "FK_role" FOREIGN KEY ("roleSlug") REFERENCES public.role(slug) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 3720 (class 2606 OID 57370)
-- Name: role_scope FK_scope; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.role_scope
    ADD CONSTRAINT "FK_scope" FOREIGN KEY ("scopeSlug") REFERENCES public.scope(slug) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 3691 (class 2606 OID 24890)
-- Name: auth_identity auth_identity_userId_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_identity
    ADD CONSTRAINT "auth_identity_userId_fkey" FOREIGN KEY ("userId") REFERENCES public."user"(id);


--
-- TOC entry 3693 (class 2606 OID 24996)
-- Name: execution_data execution_data_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.execution_data
    ADD CONSTRAINT execution_data_fk FOREIGN KEY ("executionId") REFERENCES public.execution_entity(id) ON DELETE CASCADE;


--
-- TOC entry 3682 (class 2606 OID 24968)
-- Name: execution_entity fk_execution_entity_workflow_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.execution_entity
    ADD CONSTRAINT fk_execution_entity_workflow_id FOREIGN KEY ("workflowId") REFERENCES public.workflow_entity(id) ON DELETE CASCADE;


--
-- TOC entry 3685 (class 2606 OID 24962)
-- Name: webhook_entity fk_webhook_entity_workflow_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.webhook_entity
    ADD CONSTRAINT fk_webhook_entity_workflow_id FOREIGN KEY ("workflowId") REFERENCES public.workflow_entity(id) ON DELETE CASCADE;


--
-- TOC entry 3684 (class 2606 OID 25587)
-- Name: workflow_entity fk_workflow_parent_folder; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.workflow_entity
    ADD CONSTRAINT fk_workflow_parent_folder FOREIGN KEY ("parentFolderId") REFERENCES public.folder(id) ON DELETE CASCADE;


--
-- TOC entry 3690 (class 2606 OID 24957)
-- Name: workflow_statistics fk_workflow_statistics_workflow_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.workflow_statistics
    ADD CONSTRAINT fk_workflow_statistics_workflow_id FOREIGN KEY ("workflowId") REFERENCES public.workflow_entity(id) ON DELETE CASCADE;


--
-- TOC entry 3686 (class 2606 OID 24942)
-- Name: workflows_tags fk_workflows_tags_tag_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.workflows_tags
    ADD CONSTRAINT fk_workflows_tags_tag_id FOREIGN KEY ("tagId") REFERENCES public.tag_entity(id) ON DELETE CASCADE;


--
-- TOC entry 3687 (class 2606 OID 24937)
-- Name: workflows_tags fk_workflows_tags_workflow_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.workflows_tags
    ADD CONSTRAINT fk_workflows_tags_workflow_id FOREIGN KEY ("workflowId") REFERENCES public.workflow_entity(id) ON DELETE CASCADE;


-- Completed on 2025-12-10 19:22:35

--
-- PostgreSQL database dump complete
--

\unrestrict 2u0mefWHqlvwmVfsrj11jXLe2FwieRqJFMMYs2IgKdxv8RCyUvQg9z1aXveaJFB

